(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43676,(e,t,i)=>{function r(){return t.exports=r=Object.assign.bind(),t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},419,(e,t,i)=>{t.exports=function(e,t){if(null==e)return{};var i={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;i[r]=e[r]}return i},t.exports.__esModule=!0,t.exports.default=t.exports},86706,e=>{"use strict";var t=e.i(81851),i=e.i(28419),r=e.i(84364);e.i(47167);var n=e.i(71645),o=e.i(98533),o=o,s=e.i(48203),a=e.i(43476);let l=new Map;function u(e){let{injectFirst:t,enableCssLayer:i,children:r}=e,u=n.useMemo(()=>{let e=`${t}-${i}`;if("object"==typeof document&&l.has(e))return l.get(e);let r=function(e,t){let i=(0,s.default)({key:"css",prepend:e});if(t){let e=i.insert;i.insert=(...t)=>(t[1].styles.match(/^@layer\s+[^{]*$/)||(t[1].styles=`@layer mui {${t[1].styles}}`),e(...t))}return i}(t,i);return l.set(e,r),r},[t,i]);return t||i?(0,a.jsx)(o.C,{value:u,children:r}):r}var d=e.i(64883);e.s(["GlobalStyles",()=>d.default,"StyledEngineProvider",()=>u,"ThemeContext",()=>i.ThemeContext,"css",()=>r.css,"default",()=>t.default,"internal_processStyles",()=>t.internal_processStyles,"internal_serializeStyles",()=>t.internal_serializeStyles,"keyframes",()=>r.keyframes],86706)},92317,e=>{"use strict";e.s([],38416),e.i(38416);var t=e.i(76423);e.s(["default",()=>t.default,"isPlainObject",()=>t.isPlainObject],92317)},53665,e=>{"use strict";e.s([],64476),e.i(64476);var t=e.i(85661);e.s(["default",()=>t.default],53665)},82981,(e,t,i)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case c:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case p:case l:return e;default:return t}}case n:return t}}}i.ContextConsumer=l,i.ContextProvider=u,i.Element=r,i.ForwardRef=d,i.Fragment=o,i.Lazy=g,i.Memo=p,i.Portal=n,i.Profiler=a,i.StrictMode=s,i.Suspense=h,i.SuspenseList=c,i.isContextConsumer=function(e){return v(e)===l},i.isContextProvider=function(e){return v(e)===u},i.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},i.isForwardRef=function(e){return v(e)===d},i.isFragment=function(e){return v(e)===o},i.isLazy=function(e){return v(e)===g},i.isMemo=function(e){return v(e)===p},i.isPortal=function(e){return v(e)===n},i.isProfiler=function(e){return v(e)===a},i.isStrictMode=function(e){return v(e)===s},i.isSuspense=function(e){return v(e)===h},i.isSuspenseList=function(e){return v(e)===c},i.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===a||e===s||e===h||e===c||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===p||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===m||void 0!==e.getModuleId)||!1},i.typeOf=v},56578,(e,t,i)=>{"use strict";t.exports=e.r(82981)},16372,e=>{"use strict";e.s([],59234),e.i(59234);var t=e.i(56578);let i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function r(e){let t=`${e}`.match(i);return t&&t[1]||""}function n(e,t=""){return e.displayName||e.name||r(e)||t}function o(e,t,i){let r=n(t);return e.displayName||(""!==r?`${i}(${r})`:i)}function s(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return n(e,"Component");if("object"==typeof e)switch(e.$$typeof){case t.ForwardRef:return o(e,e.render,"ForwardRef");case t.Memo:return o(e,e.type,"memo")}}}e.s(["default",()=>s,"getFunctionName",()=>r],9152),e.i(9152),e.s(["default",()=>s,"getFunctionName",()=>r],16372)},23963,e=>{"use strict";e.s([],59210),e.i(59210);var t=e.i(17494),i=e.i(66700),r=e.i(15958);e.s(["default",()=>t.default,"private_createBreakpoints",()=>i.default,"unstable_applyStyles",()=>r.default],23963)},33282,e=>{"use strict";var t=e.i(31067),i=e.i(15874),r=e.i(76423),n=e.i(79638);let o=["sx"];function s(e){var s,a,l;let u,d,h,{sx:c}=e,{systemProps:p,otherProps:g}=(d={systemProps:{},otherProps:{}},h=null!=(a=null==(s=(0,i.default)(e,o))||null==(l=s.theme)?void 0:l.unstable_sxConfig)?a:n.default,Object.keys(s).forEach(e=>{h[e]?d.systemProps[e]=s[e]:d.otherProps[e]=s[e]}),d);return u=Array.isArray(c)?[p,...c]:"function"==typeof c?(...e)=>{let i=c(...e);return(0,r.isPlainObject)(i)?(0,t.default)({},p,i):p}:(0,t.default)({},p,c),(0,t.default)({},g,{sx:u})}e.s(["default",()=>s])},23630,e=>{"use strict";e.s([],24112),e.i(24112);var t=e.i(17028),i=e.i(33282),r=e.i(79638);e.s(["default",()=>t.default,"extendSxProp",()=>i.default,"unstable_createStyleFunctionSx",()=>t.unstable_createStyleFunctionSx,"unstable_defaultSxConfig",()=>r.default],23630)},97658,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e={}){let{themeId:t,defaultTheme:i=m,rootShouldForwardProp:r=g,slotShouldForwardProp:l=g}=e,d=e=>(0,u.default)((0,n.default)({},e,{theme:v((0,n.default)({},e,{defaultTheme:i,themeId:t}))}));return d.__mui_systemSx=!0,(e,u={})=>{var h;let p;(0,s.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:f,slot:m,skipVariantsResolver:C,skipSx:w,overridesResolver:b=!(h=!m?m:m.charAt(0).toLowerCase()+m.slice(1))?null:(e,t)=>t[h]}=u,S=(0,o.default)(u,c),x=f&&f.startsWith("Mui")||m?"components":"custom",_=void 0!==C?C:m&&"Root"!==m&&"root"!==m||!1,E=w||!1,T=g;"Root"===m||"root"===m?T=r:m?T=l:"string"==typeof e&&e.charCodeAt(0)>96&&(T=void 0);let M=(0,s.default)(e,(0,n.default)({shouldForwardProp:T,label:p},S)),R=e=>"function"==typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>{let o=v({theme:r.theme,defaultTheme:i,themeId:t});return y(e,(0,n.default)({},r,{theme:o}),o.modularCssLayers?x:void 0)}:e,D=(r,...o)=>{let s=R(r),a=o?o.map(R):[];f&&b&&a.push(e=>{let r=v((0,n.default)({},e,{defaultTheme:i,themeId:t}));if(!r.components||!r.components[f]||!r.components[f].styleOverrides)return null;let o=r.components[f].styleOverrides,s={};return Object.entries(o).forEach(([t,i])=>{s[t]=y(i,(0,n.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),b(e,s)}),f&&!_&&a.push(e=>{var r;let o=v((0,n.default)({},e,{defaultTheme:i,themeId:t}));return y({variants:null==o||null==(r=o.components)||null==(r=r[f])?void 0:r.variants},(0,n.default)({},e,{theme:o}),o.modularCssLayers?"theme":void 0)}),E||a.push(d);let l=a.length-o.length;if(Array.isArray(r)&&l>0){let e=Array(l).fill("");(s=[...r,...e]).raw=[...r.raw,...e]}let u=M(s,...a);return e.muiName&&(u.muiName=e.muiName),u};return M.withConfig&&(D.withConfig=M.withConfig),D}},i.shouldForwardProp=g,i.systemDefaultTheme=void 0;var n=r(e.r(43676)),o=r(e.r(419)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=p(void 0);if(i&&i.has(e))return i.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,i&&i.set(e,r),r}(e.r(86706)),a=e.r(92317);r(e.r(53665)),r(e.r(16372));var l=r(e.r(23963)),u=r(e.r(23630));let d=["ownerState"],h=["variants"],c=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(p=function(e){return e?i:t})(e)}function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function f(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}let m=i.systemDefaultTheme=(0,l.default)();function v({defaultTheme:e,theme:t,themeId:i}){return 0===Object.keys(t).length?e:t[i]||t}function y(e,t,i){let{ownerState:r}=t,a=(0,o.default)(t,d),l="function"==typeof e?e((0,n.default)({ownerState:r},a)):e;if(Array.isArray(l))return l.flatMap(e=>y(e,(0,n.default)({ownerState:r},a),i));if(l&&"object"==typeof l&&Array.isArray(l.variants)){let{variants:e=[]}=l,t=(0,o.default)(l,h);return e.forEach(e=>{let o=!0;if("function"==typeof e.props?o=e.props((0,n.default)({ownerState:r},a,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&a[t]!==e.props[t]&&(o=!1)}),o){Array.isArray(t)||(t=[t]);let o="function"==typeof e.style?e.style((0,n.default)({ownerState:r},a,r)):e.style;t.push(i?f((0,s.internal_serializeStyles)(o),i):o)}}),t}return i?f((0,s.internal_serializeStyles)(l),i):l}},2215,19130,72682,6531,90059,52836,54499,81908,66352,19727,40672,16e3,10669,39282,58288,90290,66932,8262,13714,84263,21063,3923,10031,54281,71161,59173,36818,e=>{"use strict";let t,i=function(){for(var e,t,i=0,r="",n=arguments.length;i<n;i++)(e=arguments[i])&&(t=function e(t){var i,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(i=0;i<o;i++)t[i]&&(r=e(t[i]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}(e))&&(r&&(r+=" "),r+=t);return r};function r(e,t,i){let r={};return Object.keys(e).forEach(n=>{r[n]=e[n].reduce((e,r)=>{if(r){let n=t(r);""!==n&&e.push(n),i&&i[r]&&e.push(i[r])}return e},[]).join(" ")}),r}e.s(["default",0,i],2215),e.s(["default",()=>r],19130);var n=e.i(97658),o=e.i(40206),s=e.i(92420);let a=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e};e.s(["default",0,a],72682);let l=e=>a(e)&&"classes"!==e;e.s(["default",0,l],6531);let u=(0,n.default)({themeId:s.default,defaultTheme:o.default,rootShouldForwardProp:l});e.s(["default",0,u],90059);var d=e.i(71645);let h={},c=[];class p{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new p}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function g(){var e,t;let i,r=(e=p.create,(i=d.useRef(h)).current===h&&(i.current=e(void 0)),i).current;return t=r.disposeEffect,d.useEffect(t,c),r}function f(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function m(...e){return d.useMemo(()=>e.every(e=>null==e)?null:t=>{e.forEach(e=>{f(e,t)})},e)}e.s(["Timeout",()=>p,"default",()=>g],52836),e.s(["default",()=>f],54499),e.s(["default",()=>m],81908),e.s(["default",0,m],66352);let v=e=>e,y=(t=v,{configure(e){t=e},generate:e=>t(e),reset(){t=v}}),C={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function w(e,t,i="Mui"){let r=C[t];return r?`${i}-${r}`:`${y.generate(e)}-${t}`}function b(e,t,i="Mui"){let r={};return t.forEach(t=>{r[t]=w(e,t,i)}),r}e.s(["default",()=>w],19727),e.s(["default",()=>b],40672),e.i(47167),e.s(["default",0,function({controlled:e,default:t,name:i,state:r="value"}){let{current:n}=d.useRef(void 0!==e),[o,s]=d.useState(t),a=d.useCallback(e=>{n||s(e)},[]);return[n?e:o,a]}],16e3);var S=e.i(7558);let x=function(e){let t=d.useRef(e);return(0,S.default)(()=>{t.current=e}),d.useRef((...e)=>(0,t.current)(...e)).current};e.s(["default",0,x],10669),e.s(["default",0,x],39282);let _=!0,E=!1,T=new p,M={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function R(e){e.metaKey||e.altKey||e.ctrlKey||(_=!0)}function D(){_=!1}function A(){"hidden"===this.visibilityState&&E&&(_=!0)}e.s(["default",0,function(){let e=d.useCallback(e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",R,!0),t.addEventListener("mousedown",D,!0),t.addEventListener("pointerdown",D,!0),t.addEventListener("touchstart",D,!0),t.addEventListener("visibilitychange",A,!0))},[]),t=d.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!function(e){let{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return _||function(e){let{type:t,tagName:i}=e;return"INPUT"===i&&!!M[t]&&!e.readOnly||"TEXTAREA"===i&&!e.readOnly||!!e.isContentEditable}(t)}(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(E=!0,T.start(100,()=>{E=!1}),t.current=!1,!0)},ref:e}}],58288);let I=e.i(85661).default;e.s(["default",0,I],90290);let P=S.default;function L(e){return e&&e.ownerDocument||document}function k(e,t=166){let i;function r(...n){let o=()=>{e.apply(this,n)};clearTimeout(i),i=setTimeout(o,t)}return r.clear=()=>{clearTimeout(i)},r}function N(e){return L(e).defaultView||window}function F(...e){return e.reduce((e,t)=>null==t?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}e.s(["default",0,P],66932),e.s(["default",0,function(e,t){var i,r;return d.isValidElement(e)&&-1!==t.indexOf(null!=(i=e.type.muiName)?i:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)}],8262),e.s(["default",()=>L],13714),e.s(["default",0,L],84263),e.s(["default",()=>k],21063),e.s(["default",0,k],3923),e.s(["default",()=>N],10031),e.s(["default",0,N],54281),e.s(["default",()=>F],71161);var O=e.i(31067),G=e.i(15874),V=e.i(99844);function B(e){return w("MuiSvgIcon",e)}b("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var H=e.i(43476);let z=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],W=u("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,"inherit"!==i.color&&t[`color${I(i.color)}`],t[`fontSize${I(i.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var i,r,n,o,s,a,l,u,d,h,c,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(i=e.transitions)||null==(r=i.create)?void 0:r.call(i,"fill",{duration:null==(n=e.transitions)||null==(n=n.duration)?void 0:n.shorter}),fontSize:({inherit:"inherit",small:(null==(o=e.typography)||null==(s=o.pxToRem)?void 0:s.call(o,20))||"1.25rem",medium:(null==(a=e.typography)||null==(l=a.pxToRem)?void 0:l.call(a,24))||"1.5rem",large:(null==(u=e.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"})[t.fontSize],color:null!=(h=null==(c=(e.vars||e).palette)||null==(c=c[t.color])?void 0:c.main)?h:({action:null==(p=(e.vars||e).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(g=(e.vars||e).palette)||null==(g=g.action)?void 0:g.disabled,inherit:void 0})[t.color]}}),U=d.forwardRef(function(e,t){let n=(0,V.useDefaultProps)({props:e,name:"MuiSvgIcon"}),{children:o,className:s,color:a="inherit",component:l="svg",fontSize:u="medium",htmlColor:h,inheritViewBox:c=!1,titleAccess:p,viewBox:g="0 0 24 24"}=n,f=(0,G.default)(n,z),m=d.isValidElement(o)&&"svg"===o.type,v=(0,O.default)({},n,{color:a,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:g,hasSvgAsChild:m}),y={};c||(y.viewBox=g);let C=(e=>{let{color:t,fontSize:i,classes:n}=e;return r({root:["root","inherit"!==t&&`color${I(t)}`,`fontSize${I(i)}`]},B,n)})(v);return(0,H.jsxs)(W,(0,O.default)({as:l,className:i(C.root,s),focusable:"false",color:h,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},y,f,m&&o.props,{ownerState:v,children:[m?o.props.children:o,p?(0,H.jsx)("title",{children:p}):null]}))});function j(e,t){function i(i,r){return(0,H.jsx)(U,(0,O.default)({"data-testid":`${t}Icon`,ref:r},i,{children:e}))}return i.muiName=U.muiName,d.memo(d.forwardRef(i))}U.muiName="SvgIcon",e.s(["default",()=>j],59173),e.s(["unstable_ClassNameGenerator",0,y],36818)},98187,e=>{"use strict";e.i(47167);var t=e.i(36818);let i={configure:e=>{t.unstable_ClassNameGenerator.configure(e)}};e.s(["unstable_ClassNameGenerator",0,i],16469),e.i(16469);var r=e.i(90290);let n=e.i(71161).default;var o=e.i(59173),s=e.i(3923),a=e.i(8262),l=e.i(84263),u=e.i(54281);e.i(31067);let d=e.i(54499).default;var h=e.i(66932);let c=e.i(57242).default;var p=e.i(16e3),g=e.i(39282),f=e.i(66352),m=e.i(58288);e.s(["capitalize",()=>r.default,"createChainedFunction",0,n,"createSvgIcon",()=>o.default,"debounce",()=>s.default,"deprecatedPropType",0,function(e,t){return()=>null},"isMuiElement",()=>a.default,"ownerDocument",()=>l.default,"ownerWindow",()=>u.default,"requirePropFactory",0,function(e,t){return()=>null},"setRef",0,d,"unstable_ClassNameGenerator",0,i,"unstable_useEnhancedEffect",()=>h.default,"unstable_useId",0,c,"unsupportedProp",0,function(e,t,i,r,n){return null},"useControlled",()=>p.default,"useEventCallback",()=>g.default,"useForkRef",()=>f.default,"useIsFocusVisible",()=>m.default],98187)},13579,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=e.r(98187)},89501,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e.r(13579)),o=e.r(43476);i.default=(0,n.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},20415,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e.r(13579)),o=e.r(43476);i.default=(0,n.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},71481,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e.r(13579)),o=e.r(43476);i.default=(0,n.default)((0,o.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart")},63449,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e.r(13579)),o=e.r(43476);i.default=(0,n.default)((0,o.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")},72502,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e.r(13579)),o=e.r(43476);i.default=(0,n.default)((0,o.jsx)("path",{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"}),"TrendingDown")},51516,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e.r(13579)),o=e.r(43476);i.default=(0,n.default)((0,o.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz")},20590,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e.r(13579)),o=e.r(43476);i.default=(0,n.default)((0,o.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline")},95602,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e.r(13579)),o=e.r(43476);i.default=(0,n.default)((0,o.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")},93927,(e,t,i)=>{"use strict";var r=e.r(13451);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e.r(13579)),o=e.r(43476);i.default=(0,n.default)((0,o.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM20 4v13.17L18.83 16H4V4zM6 12h12v2H6zm0-3h12v2H6zm0-3h12v2H6z"}),"CommentOutlined")},67034,(e,t,i)=>{var r={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),i=t[0],r=t[1];return(i+r)*3/4-r},t.toByteArray=function(e){var t,i,o=l(e),s=o[0],a=o[1],u=new n((s+a)*3/4-a),d=0,h=a>0?s-4:s;for(i=0;i<h;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;return 2===a&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,u[d++]=255&t),1===a&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,n=r%3,o=[],s=0,a=r-n;s<a;s+=16383)o.push(function(e,t,r){for(var n,o=[],s=t;s<r;s+=3)n=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(i[n>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===n?o.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===n&&o.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),o.join("")};for(var i=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)i[s]=o[s],r[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var r=i===t?0:4-i%4;return[i,r]}r[45]=62,r[95]=63},72:function(e,t,i){"use strict";var r=i(675),n=i(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,i){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,i)}function l(e,t,i){if("string"==typeof e){var r=e,n=t;if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);var o=0|p(r,n),l=s(o),u=l.write(r,n);return u!==o&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(D(e,SharedArrayBuffer)||e&&D(e.buffer,SharedArrayBuffer)))return function(e,t,i){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),a.prototype),r}(e,t,i);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var d=e.valueOf&&e.valueOf();if(null!=d&&d!==e)return a.from(d,t,i);var g=function(e){if(a.isBuffer(e)){var t=0|c(e.length),i=s(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(g)return g;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|c(e))}function h(e){for(var t=e.length<0?0:0|c(e.length),i=s(t),r=0;r<t;r+=1)i[r]=255&e[r];return i}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,i){return l(e,t,i)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,i){return(u(e),e<=0)?s(e):void 0!==t?"string"==typeof i?s(e).fill(t,i):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return d(e)},a.allocUnsafeSlow=function(e){return d(e)};function c(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return M(e).length;default:if(n)return r?-1:E(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,i){var n,o,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",o=t;o<i;++o)n+=A[e[o]];return n}(this,t,i);case"utf8":case"utf-8":return y(this,t,i);case"ascii":return function(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}(this,t,i);case"latin1":case"binary":return function(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}(this,t,i);case"base64":return n=this,o=t,s=i,0===o&&s===n.length?r.fromByteArray(n):r.fromByteArray(n.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,i){for(var r=e.slice(t,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}(this,t,i);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function f(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function m(e,t,i,r,n){var o;if(0===e.length)return -1;if("string"==typeof i?(r=i,i=0):i>0x7fffffff?i=0x7fffffff:i<-0x80000000&&(i=-0x80000000),(o=i*=1)!=o&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length)if(n)return -1;else i=e.length-1;else if(i<0)if(!n)return -1;else i=0;if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:v(e,t,i,r,n);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(n)return Uint8Array.prototype.indexOf.call(e,t,i);else return Uint8Array.prototype.lastIndexOf.call(e,t,i);return v(e,[t],i,r,n)}throw TypeError("val must be string, number or Buffer")}function v(e,t,i,r,n){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,a/=2,l/=2,i/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n){var d=-1;for(o=i;o<a;o++)if(u(e,o)===u(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===l)return d*s}else -1!==d&&(o-=o-d),d=-1}else for(i+l>a&&(i=a-l),o=i;o>=0;o--){for(var h=!0,c=0;c<l;c++)if(u(e,o+c)!==u(t,c)){h=!1;break}if(h)return o}return -1}a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(D(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,r=t.length,n=0,o=Math.min(i,r);n<o;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:+(r<i)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(i=0,t=0;i<e.length;++i)t+=e[i].length;var i,r=a.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var o=e[i];if(D(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,i,r,n){if(D(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return -1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,n>>>=0,this===e)return 0;for(var o=n-r,s=i-t,l=Math.min(o,s),u=this.slice(r,n),d=e.slice(t,i),h=0;h<l;++h)if(u[h]!==d[h]){o=u[h],s=d[h];break}return o<s?-1:+(s<o)},a.prototype.includes=function(e,t,i){return -1!==this.indexOf(e,t,i)},a.prototype.indexOf=function(e,t,i){return m(this,e,t,i,!0)},a.prototype.lastIndexOf=function(e,t,i){return m(this,e,t,i,!1)};function y(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var o,s,a,l,u=e[n],d=null,h=u>239?4:u>223?3:u>191?2:1;if(n+h<=i)switch(h){case 1:u<128&&(d=u);break;case 2:(192&(o=e[n+1]))==128&&(l=(31&u)<<6|63&o)>127&&(d=l);break;case 3:o=e[n+1],s=e[n+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=e[n+1],s=e[n+2],a=e[n+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(d=l)}null===d?(d=65533,h=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),n+=h}var c=r,p=c.length;if(p<=4096)return String.fromCharCode.apply(String,c);for(var g="",f=0;f<p;)g+=String.fromCharCode.apply(String,c.slice(f,f+=4096));return g}function C(e,t,i){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>i)throw RangeError("Trying to access beyond buffer length")}function w(e,t,i,r,n,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw RangeError('"value" argument is out of bounds');if(i+r>e.length)throw RangeError("Index out of range")}function b(e,t,i,r,n,o){if(i+r>e.length||i<0)throw RangeError("Index out of range")}function S(e,t,i,r,o){return t*=1,i>>>=0,o||b(e,t,i,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,i,r,23,4),i+4}function x(e,t,i,r,o){return t*=1,i>>>=0,o||b(e,t,i,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,i,r,52,8),i+8}a.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n,o,s,a,l,u,d,h,c=this.length-t;if((void 0===i||i>c)&&(i=c),e.length>0&&(i<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var p=!1;;)switch(r){case"hex":return function(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a,l=parseInt(t.substr(2*s,2),16);if((a=l)!=a)break;e[i+s]=l}return s}(this,e,t,i);case"utf8":case"utf-8":return n=t,o=i,R(E(e,this.length-n),this,n,o);case"ascii":return s=t,a=i,R(T(e),this,s,a);case"latin1":case"binary":return function(e,t,i,r){return R(T(t),e,i,r)}(this,e,t,i);case"base64":return l=t,u=i,R(M(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,h=i,R(function(e,t){for(var i,r,n=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(i=e.charCodeAt(o))>>8,n.push(i%256),n.push(r);return n}(e,this.length-d),this,d,h);default:if(p)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||C(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r},a.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||C(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},a.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||C(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||C(e,t,this.length);for(var r=t,n=1,o=this[e+--r];r>0&&(n*=256);)o+=this[e+--r]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||C(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?0xffff0000|i:i},a.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?0xffff0000|i:i},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,i,r){if(e*=1,t>>>=0,i>>>=0,!r){var n=Math.pow(2,8*i)-1;w(this,e,t,i,n,0)}var o=1,s=0;for(this[t]=255&e;++s<i&&(o*=256);)this[t+s]=e/o&255;return t+i},a.prototype.writeUIntBE=function(e,t,i,r){if(e*=1,t>>>=0,i>>>=0,!r){var n=Math.pow(2,8*i)-1;w(this,e,t,i,n,0)}var o=i-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+i},a.prototype.writeUInt8=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,i,r){if(e*=1,t>>>=0,!r){var n=Math.pow(2,8*i-1);w(this,e,t,i,n-1,-n)}var o=0,s=1,a=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+i},a.prototype.writeIntBE=function(e,t,i,r){if(e*=1,t>>>=0,!r){var n=Math.pow(2,8*i-1);w(this,e,t,i,n-1,-n)}var o=i-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+i},a.prototype.writeInt8=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,i){return e*=1,t>>>=0,i||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,i){return S(this,e,t,!0,i)},a.prototype.writeFloatBE=function(e,t,i){return S(this,e,t,!1,i)},a.prototype.writeDoubleLE=function(e,t,i){return x(this,e,t,!0,i)},a.prototype.writeDoubleBE=function(e,t,i){return x(this,e,t,!1,i)},a.prototype.copy=function(e,t,i,r){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n=r-i;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,i,r);else if(this===e&&i<t&&t<r)for(var o=n-1;o>=0;--o)e[o+t]=this[o+i];else Uint8Array.prototype.set.call(e,this.subarray(i,r),t);return n},a.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var n,o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw RangeError("Out of range index");if(i<=t)return this;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(n=t;n<i;++n)this[n]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),l=s.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<i-t;++n)this[n+t]=s[n%l]}return this};var _=/[^+/0-9A-Za-z-_]/g;function E(e,t){t=t||1/0;for(var i,r=e.length,n=null,o=[],s=0;s<r;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!n){if(i>56319||s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),n=i;continue}i=(n-55296<<10|i-56320)+65536}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return o}function T(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function M(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length)&&!(n>=e.length);++n)t[n+i]=e[n];return n}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var A=function(){for(var e="0123456789abcdef",t=Array(256),i=0;i<16;++i)for(var r=16*i,n=0;n<16;++n)t[r+n]=e[i]+e[n];return t}()},783:function(e,t){t.read=function(e,t,i,r,n){var o,s,a=8*n-r-1,l=(1<<a)-1,u=l>>1,d=-7,h=i?n-1:0,c=i?-1:1,p=e[t+h];for(h+=c,o=p&(1<<-d)-1,p>>=-d,d+=a;d>0;o=256*o+e[t+h],h+=c,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=256*s+e[t+h],h+=c,d-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,i,r,n,o){var s,a,l,u=8*o-n-1,d=(1<<u)-1,h=d>>1,c=5960464477539062e-23*(23===n),p=r?0:o-1,g=r?1:-1,f=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=c/l:t+=c*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=d?(a=0,s=d):s+h>=1?(a=(t*l-1)*Math.pow(2,n),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;e[i+p]=255&a,p+=g,a/=256,n-=8);for(s=s<<n|a,u+=n;u>0;e[i+p]=255&s,p+=g,s/=256,u-=8);e[i+p-g]|=128*f}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}},s=!0;try{r[e](i,i.exports,o),s=!1}finally{s&&delete n[e]}return i.exports}o.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=o(72)},57488,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=1;i.default=function(){return"".concat(r++)}},85441,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i=null;return function(){for(var r=this,n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];clearTimeout(i),i=setTimeout(function(){e.apply(r,o)},t)}}},581,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SensorTabIndex=i.SensorClassName=i.SizeSensorId=void 0,i.SizeSensorId="size-sensor-id",i.SensorClassName="size-sensor-object",i.SensorTabIndex="-1"},68996,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createSensor=void 0;var r,n=(r=e.r(85441))&&r.__esModule?r:{default:r},o=e.r(581);i.createSensor=function(e){var t=void 0,i=[],r=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",s),s()},t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.opacity="0",t.setAttribute("class",o.SensorClassName),t.setAttribute("tabindex",o.SensorTabIndex),t.type="text/html",e.appendChild(t),t.data="about:blank",t},s=(0,n.default)(function(){i.forEach(function(t){t(e)})}),a=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",s),t.parentNode.removeChild(t),t=void 0,i=[])};return{element:e,bind:function(e){t||(t=r()),-1===i.indexOf(e)&&i.push(e)},destroy:a,unbind:function(e){var r=i.indexOf(e);-1!==r&&i.splice(r,1),0===i.length&&t&&a()}}}},51346,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createSensor=void 0;var r,n=(r=e.r(85441))&&r.__esModule?r:{default:r};i.createSensor=function(e){var t=void 0,i=[],r=(0,n.default)(function(){i.forEach(function(t){t(e)})}),o=function(){var t=new ResizeObserver(r);return t.observe(e),r(),t},s=function(){t.disconnect(),i=[],t=void 0};return{element:e,bind:function(e){t||(t=o()),-1===i.indexOf(e)&&i.push(e)},destroy:s,unbind:function(e){var r=i.indexOf(e);-1!==r&&i.splice(r,1),0===i.length&&t&&s()}}}},71454,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createSensor=void 0;var r=e.r(68996),n=e.r(51346);i.createSensor="undefined"!=typeof ResizeObserver?n.createSensor:r.createSensor},88491,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.removeSensor=i.getSensor=void 0;var r,n=(r=e.r(57488))&&r.__esModule?r:{default:r},o=e.r(71454),s=e.r(581),a={};i.getSensor=function(e){var t=e.getAttribute(s.SizeSensorId);if(t&&a[t])return a[t];var i=(0,n.default)();e.setAttribute(s.SizeSensorId,i);var r=(0,o.createSensor)(e);return a[i]=r,r},i.removeSensor=function(e){var t=e.element.getAttribute(s.SizeSensorId);e.element.removeAttribute(s.SizeSensorId),e.destroy(),t&&a[t]&&delete a[t]}},57746,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ver=i.clear=i.bind=void 0;var r=e.r(88491);i.bind=function(e,t){var i=(0,r.getSensor)(e);return i.bind(t),function(){i.unbind(t)}},i.clear=function(e){var t=(0,r.getSensor)(e);(0,r.removeSensor)(t)},i.ver="1.0.1"},29801,(e,t,i)=>{"use strict";t.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=i.length)return!1;for(n=r;0!=n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,o[n]))return!1;for(n=r;0!=n--;){var r,n,o,s=o[n];if(!e(t[s],i[s]))return!1}return!0}return t!=t&&i!=i}},42778,(e,t,i)=>{(function(){var r,n="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",a=1/0,l=0/0,u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],d="[object Arguments]",h="[object Array]",c="[object Boolean]",p="[object Date]",g="[object Error]",f="[object Function]",m="[object GeneratorFunction]",v="[object Map]",y="[object Number]",C="[object Object]",w="[object Promise]",b="[object RegExp]",S="[object Set]",x="[object String]",_="[object Symbol]",E="[object WeakMap]",T="[object ArrayBuffer]",M="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",A="[object Int8Array]",I="[object Int16Array]",P="[object Int32Array]",L="[object Uint8Array]",k="[object Uint8ClampedArray]",N="[object Uint16Array]",F="[object Uint32Array]",O=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,z=RegExp(B.source),W=RegExp(H.source),U=/<%-([\s\S]+?)%>/g,j=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,Z=RegExp(X.source),Q=/^\s+/,J=/\s/,ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,et=/\{\n\/\* \[wrapped with (.+)\] \*/,ei=/,? & /,er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,en=/[()=,{}\[\]\/\s]/,eo=/\\(\\)?/g,es=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ea=/\w*$/,el=/^[-+]0x[0-9a-f]+$/i,eu=/^0b[01]+$/i,ed=/^\[object .+?Constructor\]$/,eh=/^0o[0-7]+$/i,ec=/^(?:0|[1-9]\d*)$/,ep=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,eg=/($^)/,ef=/['\n\r\u2028\u2029\\]/g,em="\\ud800-\\udfff",ev="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ey="\\u2700-\\u27bf",eC="a-z\\xdf-\\xf6\\xf8-\\xff",ew="A-Z\\xc0-\\xd6\\xd8-\\xde",eb="\\ufe0e\\ufe0f",eS="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ex="['â€™]",e_="["+eS+"]",eE="["+ev+"]",eT="["+eC+"]",eM="[^"+em+eS+"\\d+"+ey+eC+ew+"]",eR="\\ud83c[\\udffb-\\udfff]",eD="[^"+em+"]",eA="(?:\\ud83c[\\udde6-\\uddff]){2}",eI="[\\ud800-\\udbff][\\udc00-\\udfff]",eP="["+ew+"]",eL="\\u200d",ek="(?:"+eT+"|"+eM+")",eN="(?:"+eP+"|"+eM+")",eF="(?:"+ex+"(?:d|ll|m|re|s|t|ve))?",eO="(?:"+ex+"(?:D|LL|M|RE|S|T|VE))?",eG="(?:"+eE+"|"+eR+")?",eV="["+eb+"]?",eB="(?:"+eL+"(?:"+[eD,eA,eI].join("|")+")"+eV+eG+")*",eH=eV+eG+eB,ez="(?:"+["["+ey+"]",eA,eI].join("|")+")"+eH,eW="(?:"+[eD+eE+"?",eE,eA,eI,"["+em+"]"].join("|")+")",eU=RegExp(ex,"g"),ej=RegExp(eE,"g"),e$=RegExp(eR+"(?="+eR+")|"+eW+eH,"g"),eK=RegExp([eP+"?"+eT+"+"+eF+"(?="+[e_,eP,"$"].join("|")+")",eN+"+"+eO+"(?="+[e_,eP+ek,"$"].join("|")+")",eP+"?"+ek+"+"+eF,eP+"+"+eO,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+",ez].join("|"),"g"),eY=RegExp("["+eL+em+ev+eb+"]"),eq=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eX=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eZ=-1,eQ={};eQ[R]=eQ[D]=eQ[A]=eQ[I]=eQ[P]=eQ[L]=eQ[k]=eQ[N]=eQ[F]=!0,eQ[d]=eQ[h]=eQ[T]=eQ[c]=eQ[M]=eQ[p]=eQ[g]=eQ[f]=eQ[v]=eQ[y]=eQ[C]=eQ[b]=eQ[S]=eQ[x]=eQ[E]=!1;var eJ={};eJ[d]=eJ[h]=eJ[T]=eJ[M]=eJ[c]=eJ[p]=eJ[R]=eJ[D]=eJ[A]=eJ[I]=eJ[P]=eJ[v]=eJ[y]=eJ[C]=eJ[b]=eJ[S]=eJ[x]=eJ[_]=eJ[L]=eJ[k]=eJ[N]=eJ[F]=!0,eJ[g]=eJ[f]=eJ[E]=!1;var e0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e1=parseFloat,e2=parseInt,e5=e.g&&e.g.Object===Object&&e.g,e3="object"==typeof self&&self&&self.Object===Object&&self,e4=e5||e3||Function("return this")(),e6=i&&!i.nodeType&&i,e8=e6&&t&&!t.nodeType&&t,e9=e8&&e8.exports===e6,e7=e9&&e5.process,te=function(){try{var e=e8&&e8.require&&e8.require("util").types;if(e)return e;return e7&&e7.binding&&e7.binding("util")}catch(e){}}(),tt=te&&te.isArrayBuffer,ti=te&&te.isDate,tr=te&&te.isMap,tn=te&&te.isRegExp,to=te&&te.isSet,ts=te&&te.isTypedArray;function ta(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function tl(e,t,i,r){for(var n=-1,o=null==e?0:e.length;++n<o;){var s=e[n];t(r,s,i(s),e)}return r}function tu(e,t){for(var i=-1,r=null==e?0:e.length;++i<r&&!1!==t(e[i],i,e););return e}function td(e,t){for(var i=-1,r=null==e?0:e.length;++i<r;)if(!t(e[i],i,e))return!1;return!0}function th(e,t){for(var i=-1,r=null==e?0:e.length,n=0,o=[];++i<r;){var s=e[i];t(s,i,e)&&(o[n++]=s)}return o}function tc(e,t){return!!(null==e?0:e.length)&&tS(e,t,0)>-1}function tp(e,t,i){for(var r=-1,n=null==e?0:e.length;++r<n;)if(i(t,e[r]))return!0;return!1}function tg(e,t){for(var i=-1,r=null==e?0:e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}function tf(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}function tm(e,t,i,r){var n=-1,o=null==e?0:e.length;for(r&&o&&(i=e[++n]);++n<o;)i=t(i,e[n],n,e);return i}function tv(e,t,i,r){var n=null==e?0:e.length;for(r&&n&&(i=e[--n]);n--;)i=t(i,e[n],n,e);return i}function ty(e,t){for(var i=-1,r=null==e?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}var tC=tT("length");function tw(e,t,i){var r;return i(e,function(e,i,n){if(t(e,i,n))return r=i,!1}),r}function tb(e,t,i,r){for(var n=e.length,o=i+(r?1:-1);r?o--:++o<n;)if(t(e[o],o,e))return o;return -1}function tS(e,t,i){return t==t?function(e,t,i){for(var r=i-1,n=e.length;++r<n;)if(e[r]===t)return r;return -1}(e,t,i):tb(e,t_,i)}function tx(e,t,i,r){for(var n=i-1,o=e.length;++n<o;)if(r(e[n],t))return n;return -1}function t_(e){return e!=e}function tE(e,t){var i=null==e?0:e.length;return i?tD(e,t)/i:l}function tT(e){return function(t){return null==t?r:t[e]}}function tM(e){return function(t){return null==e?r:e[t]}}function tR(e,t,i,r,n){return n(e,function(e,n,o){i=r?(r=!1,e):t(i,e,n,o)}),i}function tD(e,t){for(var i,n=-1,o=e.length;++n<o;){var s=t(e[n]);r!==s&&(i=r===i?s:i+s)}return i}function tA(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}function tI(e){return e?e.slice(0,tK(e)+1).replace(Q,""):e}function tP(e){return function(t){return e(t)}}function tL(e,t){return tg(t,function(t){return e[t]})}function tk(e,t){return e.has(t)}function tN(e,t){for(var i=-1,r=e.length;++i<r&&tS(t,e[i],0)>-1;);return i}function tF(e,t){for(var i=e.length;i--&&tS(t,e[i],0)>-1;);return i}var tO=tM({Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"}),tG=tM({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tV(e){return"\\"+e0[e]}function tB(e){return eY.test(e)}function tH(e){var t=-1,i=Array(e.size);return e.forEach(function(e,r){i[++t]=[r,e]}),i}function tz(e,t){return function(i){return e(t(i))}}function tW(e,t){for(var i=-1,r=e.length,n=0,o=[];++i<r;){var a=e[i];(a===t||a===s)&&(e[i]=s,o[n++]=i)}return o}function tU(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function tj(e){return tB(e)?function(e){for(var t=e$.lastIndex=0;e$.test(e);)++t;return t}(e):tC(e)}function t$(e){return tB(e)?e.match(e$)||[]:e.split("")}function tK(e){for(var t=e.length;t--&&J.test(e.charAt(t)););return t}var tY=tM({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tq=function e(t){var i,J,em,ev,ey=(t=null==t?e4:tq.defaults(e4.Object(),t,tq.pick(e4,eX))).Array,eC=t.Date,ew=t.Error,eb=t.Function,eS=t.Math,ex=t.Object,e_=t.RegExp,eE=t.String,eT=t.TypeError,eM=ey.prototype,eR=eb.prototype,eD=ex.prototype,eA=t["__core-js_shared__"],eI=eR.toString,eP=eD.hasOwnProperty,eL=0,ek=(i=/[^.]+$/.exec(eA&&eA.keys&&eA.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",eN=eD.toString,eF=eI.call(ex),eO=e4._,eG=e_("^"+eI.call(eP).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eV=e9?t.Buffer:r,eB=t.Symbol,eH=t.Uint8Array,ez=eV?eV.allocUnsafe:r,eW=tz(ex.getPrototypeOf,ex),e$=ex.create,eY=eD.propertyIsEnumerable,e0=eM.splice,e5=eB?eB.isConcatSpreadable:r,e3=eB?eB.iterator:r,e6=eB?eB.toStringTag:r,e8=function(){try{var e=ng(ex,"defineProperty");return e({},"",{}),e}catch(e){}}(),e7=t.clearTimeout!==e4.clearTimeout&&t.clearTimeout,te=eC&&eC.now!==e4.Date.now&&eC.now,tC=t.setTimeout!==e4.setTimeout&&t.setTimeout,tM=eS.ceil,tX=eS.floor,tZ=ex.getOwnPropertySymbols,tQ=eV?eV.isBuffer:r,tJ=t.isFinite,t0=eM.join,t1=tz(ex.keys,ex),t2=eS.max,t5=eS.min,t3=eC.now,t4=t.parseInt,t6=eS.random,t8=eM.reverse,t9=ng(t,"DataView"),t7=ng(t,"Map"),ie=ng(t,"Promise"),it=ng(t,"Set"),ii=ng(t,"WeakMap"),ir=ng(ex,"create"),io=ii&&new ii,is={},ia=nV(t9),il=nV(t7),iu=nV(ie),id=nV(it),ih=nV(ii),ic=eB?eB.prototype:r,ip=ic?ic.valueOf:r,ig=ic?ic.toString:r;function im(e){if(oY(e)&&!oO(e)&&!(e instanceof iw)){if(e instanceof iC)return e;if(eP.call(e,"__wrapped__"))return nB(e)}return new iC(e)}var iv=function(){function e(){}return function(t){if(!oK(t))return{};if(e$)return e$(t);e.prototype=t;var i=new e;return e.prototype=r,i}}();function iy(){}function iC(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function iw(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=0xffffffff,this.__views__=[]}function ib(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function iS(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function ix(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function i_(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new ix;++t<i;)this.add(e[t])}function iE(e){var t=this.__data__=new iS(e);this.size=t.size}function iT(e,t){var i=oO(e),r=!i&&oF(e),n=!i&&!r&&oH(e),o=!i&&!r&&!n&&o2(e),s=i||r||n||o,a=s?tA(e.length,eE):[],l=a.length;for(var u in e)(t||eP.call(e,u))&&!(s&&("length"==u||n&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||nb(u,l)))&&a.push(u);return a}function iM(e){var t=e.length;return t?e[rh(0,t-1)]:r}im.templateSettings={escape:U,evaluate:j,interpolate:$,variable:"",imports:{_:im}},im.prototype=iy.prototype,im.prototype.constructor=im,iC.prototype=iv(iy.prototype),iC.prototype.constructor=iC,iw.prototype=iv(iy.prototype),iw.prototype.constructor=iw,ib.prototype.clear=function(){this.__data__=ir?ir(null):{},this.size=0},ib.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t},ib.prototype.get=function(e){var t=this.__data__;if(ir){var i=t[e];return i===o?r:i}return eP.call(t,e)?t[e]:r},ib.prototype.has=function(e){var t=this.__data__;return ir?t[e]!==r:eP.call(t,e)},ib.prototype.set=function(e,t){var i=this.__data__;return this.size+=+!this.has(e),i[e]=ir&&r===t?o:t,this},iS.prototype.clear=function(){this.__data__=[],this.size=0},iS.prototype.delete=function(e){var t=this.__data__,i=iA(t,e);return!(i<0)&&(i==t.length-1?t.pop():e0.call(t,i,1),--this.size,!0)},iS.prototype.get=function(e){var t=this.__data__,i=iA(t,e);return i<0?r:t[i][1]},iS.prototype.has=function(e){return iA(this.__data__,e)>-1},iS.prototype.set=function(e,t){var i=this.__data__,r=iA(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this},ix.prototype.clear=function(){this.size=0,this.__data__={hash:new ib,map:new(t7||iS),string:new ib}},ix.prototype.delete=function(e){var t=nc(this,e).delete(e);return this.size-=!!t,t},ix.prototype.get=function(e){return nc(this,e).get(e)},ix.prototype.has=function(e){return nc(this,e).has(e)},ix.prototype.set=function(e,t){var i=nc(this,e),r=i.size;return i.set(e,t),this.size+=+(i.size!=r),this},i_.prototype.add=i_.prototype.push=function(e){return this.__data__.set(e,o),this},i_.prototype.has=function(e){return this.__data__.has(e)};function iR(e,t,i){(r===i||oL(e[t],i))&&(r!==i||t in e)||iL(e,t,i)}function iD(e,t,i){var n=e[t];eP.call(e,t)&&oL(n,i)&&(r!==i||t in e)||iL(e,t,i)}function iA(e,t){for(var i=e.length;i--;)if(oL(e[i][0],t))return i;return -1}function iI(e,t,i,r){return iB(e,function(e,n,o){t(r,e,i(e),o)}),r}function iP(e,t){return e&&rW(t,sg(t),e)}function iL(e,t,i){"__proto__"==t&&e8?e8(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function ik(e,t){for(var i=-1,n=t.length,o=ey(n),s=null==e;++i<n;)o[i]=s?r:su(e,t[i]);return o}function iN(e,t,i){return e==e&&(r!==i&&(e=e<=i?e:i),r!==t&&(e=e>=t?e:t)),e}function iF(e,t,i,n,o,s){var a,l=1&t,u=2&t,h=4&t;if(i&&(a=o?i(e,n,o,s):i(e)),r!==a)return a;if(!oK(e))return e;var g=oO(e);if(g){if(E=(w=e).length,O=new w.constructor(E),E&&"string"==typeof w[0]&&eP.call(w,"index")&&(O.index=w.index,O.input=w.input),a=O,!l)return rz(e,a)}else{var w,E,O,G,V,B,H,z,W=nv(e),U=W==f||W==m;if(oH(e))return rF(e,l);if(W==C||W==d||U&&!o){if(a=u||U?{}:nC(e),!l){return u?(G=e,V=(z=a)&&rW(e,sf(e),z),rW(G,nm(G),V)):(B=e,H=iP(a,e),rW(B,nf(B),H))}}else{if(!eJ[W])return o?e:{};a=function(e,t,i){var r,n,o=e.constructor;switch(t){case T:return rO(e);case c:case p:return new o(+e);case M:return r=i?rO(e.buffer):e.buffer,new e.constructor(r,e.byteOffset,e.byteLength);case R:case D:case A:case I:case P:case L:case k:case N:case F:return rG(e,i);case v:return new o;case y:case x:return new o(e);case b:return(n=new e.constructor(e.source,ea.exec(e))).lastIndex=e.lastIndex,n;case S:return new o;case _:return ip?ex(ip.call(e)):{}}}(e,W,l)}}s||(s=new iE);var j=s.get(e);if(j)return j;s.set(e,a),oJ(e)?e.forEach(function(r){a.add(iF(r,t,i,r,e,s))}):oq(e)&&e.forEach(function(r,n){a.set(n,iF(r,t,i,n,e,s))});var $=h?u?na:ns:u?sf:sg,K=g?r:$(e);return tu(K||e,function(r,n){K&&(r=e[n=r]),iD(a,n,iF(r,t,i,n,e,s))}),a}function iO(e,t,i){var n=i.length;if(null==e)return!n;for(e=ex(e);n--;){var o=i[n],s=t[o],a=e[o];if(r===a&&!(o in e)||!s(a))return!1}return!0}function iG(e,t,i){if("function"!=typeof e)throw new eT(n);return nP(function(){e.apply(r,i)},t)}function iV(e,t,i,r){var n=-1,o=tc,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;i&&(t=tg(t,tP(i))),r?(o=tp,s=!1):t.length>=200&&(o=tk,s=!1,t=new i_(t));e:for(;++n<a;){var d=e[n],h=null==i?d:i(d);if(d=r||0!==d?d:0,s&&h==h){for(var c=u;c--;)if(t[c]===h)continue e;l.push(d)}else o(t,h,r)||l.push(d)}return l}iE.prototype.clear=function(){this.__data__=new iS,this.size=0},iE.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},iE.prototype.get=function(e){return this.__data__.get(e)},iE.prototype.has=function(e){return this.__data__.has(e)},iE.prototype.set=function(e,t){var i=this.__data__;if(i instanceof iS){var r=i.__data__;if(!t7||r.length<199)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new ix(r)}return i.set(e,t),this.size=i.size,this};var iB=r$(iY),iH=r$(iq,!0);function iz(e,t){var i=!0;return iB(e,function(e,r,n){return i=!!t(e,r,n)}),i}function iW(e,t,i){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(r===l?a==a&&!o1(a):i(a,l)))var l=a,u=s}return u}function iU(e,t){var i=[];return iB(e,function(e,r,n){t(e,r,n)&&i.push(e)}),i}function ij(e,t,i,r,n){var o=-1,s=e.length;for(i||(i=nw),n||(n=[]);++o<s;){var a=e[o];t>0&&i(a)?t>1?ij(a,t-1,i,r,n):tf(n,a):r||(n[n.length]=a)}return n}var i$=rK(),iK=rK(!0);function iY(e,t){return e&&i$(e,t,sg)}function iq(e,t){return e&&iK(e,t,sg)}function iX(e,t){return th(t,function(t){return oU(e[t])})}function iZ(e,t){t=rL(t,e);for(var i=0,n=t.length;null!=e&&i<n;)e=e[nG(t[i++])];return i&&i==n?e:r}function iQ(e,t,i){var r=t(e);return oO(e)?r:tf(r,i(e))}function iJ(e){var t;return null==e?r===e?"[object Undefined]":"[object Null]":e6&&e6 in ex(e)?function(e){var t=eP.call(e,e6),i=e[e6];try{e[e6]=r;var n=!0}catch(e){}var o=eN.call(e);return n&&(t?e[e6]=i:delete e[e6]),o}(e):(t=e,eN.call(t))}function i0(e,t){return e>t}function i1(e,t){return null!=e&&eP.call(e,t)}function i2(e,t){return null!=e&&t in ex(e)}function i5(e,t,i){for(var n=i?tp:tc,o=e[0].length,s=e.length,a=s,l=ey(s),u=1/0,d=[];a--;){var h=e[a];a&&t&&(h=tg(h,tP(t))),u=t5(h.length,u),l[a]=!i&&(t||o>=120&&h.length>=120)?new i_(a&&h):r}h=e[0];var c=-1,p=l[0];e:for(;++c<o&&d.length<u;){var g=h[c],f=t?t(g):g;if(g=i||0!==g?g:0,!(p?tk(p,f):n(d,f,i))){for(a=s;--a;){var m=l[a];if(!(m?tk(m,f):n(e[a],f,i)))continue e}p&&p.push(f),d.push(g)}}return d}function i3(e,t,i){t=rL(t,e);var n=null==(e=nD(e,t))?e:e[nG(nZ(t))];return null==n?r:ta(n,e,i)}function i4(e){return oY(e)&&iJ(e)==d}function i6(e,t,i,n,o){return e===t||(null!=e&&null!=t&&(oY(e)||oY(t))?function(e,t,i,n,o,s){var a=oO(e),l=oO(t),u=a?h:nv(e),f=l?h:nv(t);u=u==d?C:u,f=f==d?C:f;var m=u==C,w=f==C,E=u==f;if(E&&oH(e)){if(!oH(t))return!1;a=!0,m=!1}if(E&&!m)return s||(s=new iE),a||o2(e)?nn(e,t,i,n,o,s):function(e,t,i,r,n,o,s){switch(i){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case T:if(e.byteLength!=t.byteLength||!o(new eH(e),new eH(t)))break;return!0;case c:case p:case y:return oL(+e,+t);case g:return e.name==t.name&&e.message==t.message;case b:case x:return e==t+"";case v:var a=tH;case S:var l=1&r;if(a||(a=tU),e.size!=t.size&&!l)break;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var d=nn(a(e),a(t),r,n,o,s);return s.delete(e),d;case _:if(ip)return ip.call(e)==ip.call(t)}return!1}(e,t,u,i,n,o,s);if(!(1&i)){var R=m&&eP.call(e,"__wrapped__"),D=w&&eP.call(t,"__wrapped__");if(R||D){var A=R?e.value():e,I=D?t.value():t;return s||(s=new iE),o(A,I,i,n,s)}}return!!E&&(s||(s=new iE),function(e,t,i,n,o,s){var a=1&i,l=ns(e),u=l.length;if(u!=ns(t).length&&!a)return!1;for(var d=u;d--;){var h=l[d];if(!(a?h in t:eP.call(t,h)))return!1}var c=s.get(e),p=s.get(t);if(c&&p)return c==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var f=a;++d<u;){var m=e[h=l[d]],v=t[h];if(n)var y=a?n(v,m,h,t,e,s):n(m,v,h,e,t,s);if(!(r===y?m===v||o(m,v,i,n,s):y)){g=!1;break}f||(f="constructor"==h)}if(g&&!f){var C=e.constructor,w=t.constructor;C!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof C&&C instanceof C&&"function"==typeof w&&w instanceof w)&&(g=!1)}return s.delete(e),s.delete(t),g}(e,t,i,n,o,s))}(e,t,i,n,i6,o):e!=e&&t!=t)}function i8(e,t,i,n){var o=i.length,s=o,a=!n;if(null==e)return!s;for(e=ex(e);o--;){var l=i[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var u=(l=i[o])[0],d=e[u],h=l[1];if(a&&l[2]){if(r===d&&!(u in e))return!1}else{var c=new iE;if(n)var p=n(d,h,u,e,t,c);if(!(r===p?i6(h,d,3,n,c):p))return!1}}return!0}function i9(e){var t;return!(!oK(e)||(t=e,ek&&ek in t))&&(oU(e)?eG:ed).test(nV(e))}function i7(e){return"function"==typeof e?e:null==e?sB:"object"==typeof e?oO(e)?rn(e[0],e[1]):rr(e):sq(e)}function re(e){if(!nT(e))return t1(e);var t=[];for(var i in ex(e))eP.call(e,i)&&"constructor"!=i&&t.push(i);return t}function rt(e,t){return e<t}function ri(e,t){var i=-1,r=oV(e)?ey(e.length):[];return iB(e,function(e,n,o){r[++i]=t(e,n,o)}),r}function rr(e){var t=np(e);return 1==t.length&&t[0][2]?nM(t[0][0],t[0][1]):function(i){return i===e||i8(i,e,t)}}function rn(e,t){var i;return nx(e)&&(i=t)==i&&!oK(i)?nM(nG(e),t):function(i){var n=su(i,e);return r===n&&n===t?sd(i,e):i6(t,n,3)}}function ro(e,t,i,n,o){e!==t&&i$(t,function(s,a){if(o||(o=new iE),oK(s))!function(e,t,i,n,o,s,a){var l=nA(e,i),u=nA(t,i),d=a.get(u);if(d)return iR(e,i,d);var h=s?s(l,u,i+"",e,t,a):r,c=r===h;if(c){var p=oO(u),g=!p&&oH(u),f=!p&&!g&&o2(u);h=u,p||g||f?oO(l)?h=l:oB(l)?h=rz(l):g?(c=!1,h=rF(u,!0)):f?(c=!1,h=rG(u,!0)):h=[]:oZ(u)||oF(u)?(h=l,oF(l)?h=se(l):(!oK(l)||oU(l))&&(h=nC(u))):c=!1}c&&(a.set(u,h),o(h,u,n,s,a),a.delete(u)),iR(e,i,h)}(e,t,a,i,ro,n,o);else{var l=n?n(nA(e,a),s,a+"",e,t,o):r;r===l&&(l=s),iR(e,a,l)}},sf)}function rs(e,t){var i=e.length;if(i)return nb(t+=t<0?i:0,i)?e[t]:r}function ra(e,t,i){t=t.length?tg(t,function(e){return oO(e)?function(t){return iZ(t,1===e.length?e[0]:e)}:e}):[sB];var r=-1;t=tg(t,tP(nh()));var n=ri(e,function(e,i,n){return{criteria:tg(t,function(t){return t(e)}),index:++r,value:e}}),o=n.length;for(n.sort(function(e,t){return function(e,t,i){for(var r=-1,n=e.criteria,o=t.criteria,s=n.length,a=i.length;++r<s;){var l=rV(n[r],o[r]);if(l){if(r>=a)return l;return l*("desc"==i[r]?-1:1)}}return e.index-t.index}(e,t,i)});o--;)n[o]=n[o].value;return n}function rl(e,t,i){for(var r=-1,n=t.length,o={};++r<n;){var s=t[r],a=iZ(e,s);i(a,s)&&rg(o,rL(s,e),a)}return o}function ru(e,t,i,r){var n=r?tx:tS,o=-1,s=t.length,a=e;for(e===t&&(t=rz(t)),i&&(a=tg(e,tP(i)));++o<s;)for(var l=0,u=t[o],d=i?i(u):u;(l=n(a,d,l,r))>-1;)a!==e&&e0.call(a,l,1),e0.call(e,l,1);return e}function rd(e,t){for(var i=e?t.length:0,r=i-1;i--;){var n=t[i];if(i==r||n!==o){var o=n;nb(n)?e0.call(e,n,1):rE(e,n)}}return e}function rh(e,t){return e+tX(t6()*(t-e+1))}function rc(e,t){var i="";if(!e||t<1||t>0x1fffffffffffff)return i;do t%2&&(i+=e),(t=tX(t/2))&&(e+=e);while(t)return i}function rp(e,t){return nL(nR(e,t,sB),e+"")}function rg(e,t,i,n){if(!oK(e))return e;t=rL(t,e);for(var o=-1,s=t.length,a=s-1,l=e;null!=l&&++o<s;){var u=nG(t[o]),d=i;if("__proto__"===u||"constructor"===u||"prototype"===u)break;if(o!=a){var h=l[u];d=n?n(h,u,l):r,r===d&&(d=oK(h)?h:nb(t[o+1])?[]:{})}iD(l,u,d),l=l[u]}return e}var rf=io?function(e,t){return io.set(e,t),e}:sB,rm=e8?function(e,t){return e8(e,"toString",{configurable:!0,enumerable:!1,value:sO(t),writable:!0})}:sB;function rv(e,t,i){var r=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(i=i>n?n:i)<0&&(i+=n),n=t>i?0:i-t>>>0,t>>>=0;for(var o=ey(n);++r<n;)o[r]=e[r+t];return o}function ry(e,t){var i;return iB(e,function(e,r,n){return!(i=t(e,r,n))}),!!i}function rC(e,t,i){var r=0,n=null==e?r:e.length;if("number"==typeof t&&t==t&&n<=0x7fffffff){for(;r<n;){var o=r+n>>>1,s=e[o];null!==s&&!o1(s)&&(i?s<=t:s<t)?r=o+1:n=o}return n}return rw(e,t,sB,i)}function rw(e,t,i,n){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=i(t))!=t,l=null===t,u=o1(t),d=r===t;o<s;){var h=tX((o+s)/2),c=i(e[h]),p=r!==c,g=null===c,f=c==c,m=o1(c);if(a)var v=n||f;else v=d?f&&(n||p):l?f&&p&&(n||!g):u?f&&p&&!g&&(n||!m):!g&&!m&&(n?c<=t:c<t);v?o=h+1:s=h}return t5(s,0xfffffffe)}function rb(e,t){for(var i=-1,r=e.length,n=0,o=[];++i<r;){var s=e[i],a=t?t(s):s;if(!i||!oL(a,l)){var l=a;o[n++]=0===s?0:s}}return o}function rS(e){return"number"==typeof e?e:o1(e)?l:+e}function rx(e){if("string"==typeof e)return e;if(oO(e))return tg(e,rx)+"";if(o1(e))return ig?ig.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}function r_(e,t,i){var r=-1,n=tc,o=e.length,s=!0,a=[],l=a;if(i)s=!1,n=tp;else if(o>=200){var u=t?null:r9(e);if(u)return tU(u);s=!1,n=tk,l=new i_}else l=t?[]:a;e:for(;++r<o;){var d=e[r],h=t?t(d):d;if(d=i||0!==d?d:0,s&&h==h){for(var c=l.length;c--;)if(l[c]===h)continue e;t&&l.push(h),a.push(d)}else n(l,h,i)||(l!==a&&l.push(h),a.push(d))}return a}function rE(e,t){return t=rL(t,e),null==(e=nD(e,t))||delete e[nG(nZ(t))]}function rT(e,t,i,r){return rg(e,t,i(iZ(e,t)),r)}function rM(e,t,i,r){for(var n=e.length,o=r?n:-1;(r?o--:++o<n)&&t(e[o],o,e););return i?rv(e,r?0:o,r?o+1:n):rv(e,r?o+1:0,r?n:o)}function rR(e,t){var i=e;return i instanceof iw&&(i=i.value()),tm(t,function(e,t){return t.func.apply(t.thisArg,tf([e],t.args))},i)}function rD(e,t,i){var r=e.length;if(r<2)return r?r_(e[0]):[];for(var n=-1,o=ey(r);++n<r;)for(var s=e[n],a=-1;++a<r;)a!=n&&(o[n]=iV(o[n]||s,e[a],t,i));return r_(ij(o,1),t,i)}function rA(e,t,i){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var l=n<s?t[n]:r;i(a,e[n],l)}return a}function rI(e){return oB(e)?e:[]}function rP(e){return"function"==typeof e?e:sB}function rL(e,t){return oO(e)?e:nx(e,t)?[e]:nO(st(e))}function rk(e,t,i){var n=e.length;return i=r===i?n:i,!t&&i>=n?e:rv(e,t,i)}var rN=e7||function(e){return e4.clearTimeout(e)};function rF(e,t){if(t)return e.slice();var i=e.length,r=ez?ez(i):new e.constructor(i);return e.copy(r),r}function rO(e){var t=new e.constructor(e.byteLength);return new eH(t).set(new eH(e)),t}function rG(e,t){var i=t?rO(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function rV(e,t){if(e!==t){var i=r!==e,n=null===e,o=e==e,s=o1(e),a=r!==t,l=null===t,u=t==t,d=o1(t);if(!l&&!d&&!s&&e>t||s&&a&&u&&!l&&!d||n&&a&&u||!i&&u||!o)return 1;if(!n&&!s&&!d&&e<t||d&&i&&o&&!n&&!s||l&&i&&o||!a&&o||!u)return -1}return 0}function rB(e,t,i,r){for(var n=-1,o=e.length,s=i.length,a=-1,l=t.length,u=t2(o-s,0),d=ey(l+u),h=!r;++a<l;)d[a]=t[a];for(;++n<s;)(h||n<o)&&(d[i[n]]=e[n]);for(;u--;)d[a++]=e[n++];return d}function rH(e,t,i,r){for(var n=-1,o=e.length,s=-1,a=i.length,l=-1,u=t.length,d=t2(o-a,0),h=ey(d+u),c=!r;++n<d;)h[n]=e[n];for(var p=n;++l<u;)h[p+l]=t[l];for(;++s<a;)(c||n<o)&&(h[p+i[s]]=e[n++]);return h}function rz(e,t){var i=-1,r=e.length;for(t||(t=ey(r));++i<r;)t[i]=e[i];return t}function rW(e,t,i,n){var o=!i;i||(i={});for(var s=-1,a=t.length;++s<a;){var l=t[s],u=n?n(i[l],e[l],l,i,e):r;r===u&&(u=e[l]),o?iL(i,l,u):iD(i,l,u)}return i}function rU(e,t){return function(i,r){var n=oO(i)?tl:iI,o=t?t():{};return n(i,e,nh(r,2),o)}}function rj(e){return rp(function(t,i){var n=-1,o=i.length,s=o>1?i[o-1]:r,a=o>2?i[2]:r;for(s=e.length>3&&"function"==typeof s?(o--,s):r,a&&nS(i[0],i[1],a)&&(s=o<3?r:s,o=1),t=ex(t);++n<o;){var l=i[n];l&&e(t,l,n,s)}return t})}function r$(e,t){return function(i,r){if(null==i)return i;if(!oV(i))return e(i,r);for(var n=i.length,o=t?n:-1,s=ex(i);(t?o--:++o<n)&&!1!==r(s[o],o,s););return i}}function rK(e){return function(t,i,r){for(var n=-1,o=ex(t),s=r(t),a=s.length;a--;){var l=s[e?a:++n];if(!1===i(o[l],l,o))break}return t}}function rY(e){return function(t){var i=tB(t=st(t))?t$(t):r,n=i?i[0]:t.charAt(0),o=i?rk(i,1).join(""):t.slice(1);return n[e]()+o}}function rq(e){return function(t){return tm(sk(sT(t).replace(eU,"")),e,"")}}function rX(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=iv(e.prototype),r=e.apply(i,t);return oK(r)?r:i}}function rZ(e){return function(t,i,n){var o=ex(t);if(!oV(t)){var s=nh(i,3);t=sg(t),i=function(e){return s(o[e],e,o)}}var a=e(t,i,n);return a>-1?o[s?t[a]:a]:r}}function rQ(e){return no(function(t){var i=t.length,o=i,s=iC.prototype.thru;for(e&&t.reverse();o--;){var a=t[o];if("function"!=typeof a)throw new eT(n);if(s&&!l&&"wrapper"==nu(a))var l=new iC([],!0)}for(o=l?o:i;++o<i;){var u=nu(a=t[o]),d="wrapper"==u?nl(a):r;l=d&&n_(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?l[nu(d[0])].apply(l,d[3]):1==a.length&&n_(a)?l[u]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&oO(r))return l.plant(r).value();for(var n=0,o=i?t[n].apply(this,e):r;++n<i;)o=t[n].call(this,o);return o}})}function rJ(e,t,i,n,o,s,a,l,u,d){var h=128&t,c=1&t,p=2&t,g=24&t,f=512&t,m=p?r:rX(e);function v(){for(var y=arguments.length,C=ey(y),w=y;w--;)C[w]=arguments[w];if(g)var b=nd(v),S=function(e,t){for(var i=e.length,r=0;i--;)e[i]===t&&++r;return r}(C,b);if(n&&(C=rB(C,n,o,g)),s&&(C=rH(C,s,a,g)),y-=S,g&&y<d){var x=tW(C,b);return r6(e,t,rJ,v.placeholder,i,C,x,l,u,d-y)}var _=c?i:this,E=p?_[e]:e;return y=C.length,l?C=function(e,t){for(var i=e.length,n=t5(t.length,i),o=rz(e);n--;){var s=t[n];e[n]=nb(s,i)?o[s]:r}return e}(C,l):f&&y>1&&C.reverse(),h&&u<y&&(C.length=u),this&&this!==e4&&this instanceof v&&(E=m||rX(E)),E.apply(_,C)}return v}function r0(e,t){return function(i,r){var n,o;return n=t(r),o={},iY(i,function(t,i,r){e(o,n(t),i,r)}),o}}function r1(e,t){return function(i,n){var o;if(r===i&&r===n)return t;if(r!==i&&(o=i),r!==n){if(r===o)return n;"string"==typeof i||"string"==typeof n?(i=rx(i),n=rx(n)):(i=rS(i),n=rS(n)),o=e(i,n)}return o}}function r2(e){return no(function(t){return t=tg(t,tP(nh())),rp(function(i){var r=this;return e(t,function(e){return ta(e,r,i)})})})}function r5(e,t){var i=(t=r===t?" ":rx(t)).length;if(i<2)return i?rc(t,e):t;var n=rc(t,tM(e/tj(t)));return tB(t)?rk(t$(n),0,e).join(""):n.slice(0,e)}function r3(e){return function(t,i,n){n&&"number"!=typeof n&&nS(t,i,n)&&(i=n=r),t=o6(t),r===i?(i=t,t=0):i=o6(i),n=r===n?t<i?1:-1:o6(n);for(var o=t,s=i,a=n,l=-1,u=t2(tM((s-o)/(a||1)),0),d=ey(u);u--;)d[e?u:++l]=o,o+=a;return d}}function r4(e){return function(t,i){return("string"!=typeof t||"string"!=typeof i)&&(t=o7(t),i=o7(i)),e(t,i)}}function r6(e,t,i,n,o,s,a,l,u,d){var h=8&t,c=h?a:r,p=h?r:a,g=h?s:r,f=h?r:s;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var m=[e,t,o,g,c,f,p,l,u,d],v=i.apply(r,m);return n_(e)&&nI(v,m),v.placeholder=n,nk(v,e,t)}function r8(e){var t=eS[e];return function(e,i){if(e=o7(e),(i=null==i?0:t5(o8(i),292))&&tJ(e)){var r=(st(e)+"e").split("e");return+((r=(st(t(r[0]+"e"+(+r[1]+i)))+"e").split("e"))[0]+"e"+(r[1]-i))}return t(e)}}var r9=it&&1/tU(new it([,-0]))[1]==a?function(e){return new it(e)}:sj;function r7(e){return function(t){var i,r,n=nv(t);return n==v?tH(t):n==S?(i=-1,r=Array(t.size),t.forEach(function(e){r[++i]=[e,e]}),r):tg(e(t),function(e){return[e,t[e]]})}}function ne(e,t,i,o,a,l,u,d){var h=2&t;if(!h&&"function"!=typeof e)throw new eT(n);var c=o?o.length:0;if(c||(t&=-97,o=a=r),u=r===u?u:t2(o8(u),0),d=r===d?d:o8(d),c-=a?a.length:0,64&t){var p=o,g=a;o=a=r}var f=h?r:nl(e),m=[e,t,i,o,a,p,g,l,u,d];if(f&&function(e,t){var i=e[1],r=t[1],n=i|r,o=n<131,a=128==r&&8==i||128==r&&256==i&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==i;if(o||a){1&r&&(e[2]=t[2],n|=1&i?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?rB(u,l,t[4]):l,e[4]=u?tW(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?rH(u,l,t[6]):l,e[6]=u?tW(e[5],s):t[6]),(l=t[7])&&(e[7]=l),128&r&&(e[8]=null==e[8]?t[8]:t5(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=n}}(m,f),e=m[0],t=m[1],i=m[2],o=m[3],a=m[4],(d=m[9]=m[9]===r?h?0:e.length:t2(m[9]-c,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?R=function(e,t,i){var n=rX(e);function o(){for(var s=arguments.length,a=ey(s),l=s,u=nd(o);l--;)a[l]=arguments[l];var d=s<3&&a[0]!==u&&a[s-1]!==u?[]:tW(a,u);return(s-=d.length)<i?r6(e,t,rJ,o.placeholder,r,a,d,r,r,i-s):ta(this&&this!==e4&&this instanceof o?n:e,this,a)}return o}(e,t,d):32!=t&&33!=t||a.length?R=rJ.apply(r,m):(v=e,y=t,C=i,w=o,b=1&y,S=rX(v),R=function e(){for(var t=-1,i=arguments.length,r=-1,n=w.length,o=ey(n+i),s=this&&this!==e4&&this instanceof e?S:v;++r<n;)o[r]=w[r];for(;i--;)o[r++]=arguments[++t];return ta(s,b?C:this,o)});else var v,y,C,w,b,S,x,_,E,T,M,R=(x=e,_=t,E=i,T=1&_,M=rX(x),function e(){return(this&&this!==e4&&this instanceof e?M:x).apply(T?E:this,arguments)});return nk((f?rf:nI)(R,m),e,t)}function nt(e,t,i,n){return r===e||oL(e,eD[i])&&!eP.call(n,i)?t:e}function ni(e,t,i,n,o,s){return oK(e)&&oK(t)&&(s.set(t,e),ro(e,t,r,ni,s),s.delete(t)),e}function nr(e){return oZ(e)?r:e}function nn(e,t,i,n,o,s){var a=1&i,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var c=-1,p=!0,g=2&i?new i_:r;for(s.set(e,t),s.set(t,e);++c<l;){var f=e[c],m=t[c];if(n)var v=a?n(m,f,c,t,e,s):n(f,m,c,e,t,s);if(r!==v){if(v)continue;p=!1;break}if(g){if(!ty(t,function(e,t){if(!tk(g,t)&&(f===e||o(f,e,i,n,s)))return g.push(t)})){p=!1;break}}else if(!(f===m||o(f,m,i,n,s))){p=!1;break}}return s.delete(e),s.delete(t),p}function no(e){return nL(nR(e,r,n$),e+"")}function ns(e){return iQ(e,sg,nf)}function na(e){return iQ(e,sf,nm)}var nl=io?function(e){return io.get(e)}:sj;function nu(e){for(var t=e.name+"",i=is[t],r=eP.call(is,t)?i.length:0;r--;){var n=i[r],o=n.func;if(null==o||o==e)return n.name}return t}function nd(e){return(eP.call(im,"placeholder")?im:e).placeholder}function nh(){var e=im.iteratee||sH;return e=e===sH?i7:e,arguments.length?e(arguments[0],arguments[1]):e}function nc(e,t){var i,r,n=e.__data__;return("string"==(r=typeof(i=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?n["string"==typeof t?"string":"hash"]:n.map}function np(e){for(var t=sg(e),i=t.length;i--;){var r,n=t[i],o=e[n];t[i]=[n,o,(r=o)==r&&!oK(r)]}return t}function ng(e,t){var i=null==e?r:e[t];return i9(i)?i:r}var nf=tZ?function(e){return null==e?[]:th(tZ(e=ex(e)),function(t){return eY.call(e,t)})}:sQ,nm=tZ?function(e){for(var t=[];e;)tf(t,nf(e)),e=eW(e);return t}:sQ,nv=iJ;function ny(e,t,i){t=rL(t,e);for(var r=-1,n=t.length,o=!1;++r<n;){var s=nG(t[r]);if(!(o=null!=e&&i(e,s)))break;e=e[s]}return o||++r!=n?o:!!(n=null==e?0:e.length)&&o$(n)&&nb(s,n)&&(oO(e)||oF(e))}function nC(e){return"function"!=typeof e.constructor||nT(e)?{}:iv(eW(e))}function nw(e){return oO(e)||oF(e)||!!(e5&&e&&e[e5])}function nb(e,t){var i=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==i||"symbol"!=i&&ec.test(e))&&e>-1&&e%1==0&&e<t}function nS(e,t,i){if(!oK(i))return!1;var r=typeof t;return("number"==r?!!(oV(i)&&nb(t,i.length)):"string"==r&&t in i)&&oL(i[t],e)}function nx(e,t){if(oO(e))return!1;var i=typeof e;return!!("number"==i||"symbol"==i||"boolean"==i||null==e||o1(e))||Y.test(e)||!K.test(e)||null!=t&&e in ex(t)}function n_(e){var t=nu(e),i=im[t];if("function"!=typeof i||!(t in iw.prototype))return!1;if(e===i)return!0;var r=nl(i);return!!r&&e===r[0]}(t9&&nv(new t9(new ArrayBuffer(1)))!=M||t7&&nv(new t7)!=v||ie&&nv(ie.resolve())!=w||it&&nv(new it)!=S||ii&&nv(new ii)!=E)&&(nv=function(e){var t=iJ(e),i=t==C?e.constructor:r,n=i?nV(i):"";if(n)switch(n){case ia:return M;case il:return v;case iu:return w;case id:return S;case ih:return E}return t});var nE=eA?oU:sJ;function nT(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eD)}function nM(e,t){return function(i){return null!=i&&i[e]===t&&(r!==t||e in ex(i))}}function nR(e,t,i){return t=t2(r===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,o=t2(r.length-t,0),s=ey(o);++n<o;)s[n]=r[t+n];n=-1;for(var a=ey(t+1);++n<t;)a[n]=r[n];return a[t]=i(s),ta(e,this,a)}}function nD(e,t){return t.length<2?e:iZ(e,rv(t,0,-1))}function nA(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var nI=nN(rf),nP=tC||function(e,t){return e4.setTimeout(e,t)},nL=nN(rm);function nk(e,t,i){var r,n,o,s=t+"";return nL(e,function(e,t){var i=t.length;if(!i)return e;var r=i-1;return t[r]=(i>1?"& ":"")+t[r],t=t.join(i>2?", ":" "),e.replace(ee,"{\n/* [wrapped with "+t+"] */\n")}(s,(r=(o=s.match(et))?o[1].split(ei):[],n=i,tu(u,function(e){var t="_."+e[0];n&e[1]&&!tc(r,t)&&r.push(t)}),r.sort())))}function nN(e){var t=0,i=0;return function(){var n=t3(),o=16-(n-i);if(i=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function nF(e,t){var i=-1,n=e.length,o=n-1;for(t=r===t?n:t;++i<t;){var s=rh(i,o),a=e[s];e[s]=e[i],e[i]=a}return e.length=t,e}var nO=(em=(J=oM(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(q,function(e,i,r,n){t.push(r?n.replace(eo,"$1"):i||e)}),t},function(e){return 500===em.size&&em.clear(),e})).cache,J);function nG(e){if("string"==typeof e||o1(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function nV(e){if(null!=e){try{return eI.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function nB(e){if(e instanceof iw)return e.clone();var t=new iC(e.__wrapped__,e.__chain__);return t.__actions__=rz(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var nH=rp(function(e,t){return oB(e)?iV(e,ij(t,1,oB,!0)):[]}),nz=rp(function(e,t){var i=nZ(t);return oB(i)&&(i=r),oB(e)?iV(e,ij(t,1,oB,!0),nh(i,2)):[]}),nW=rp(function(e,t){var i=nZ(t);return oB(i)&&(i=r),oB(e)?iV(e,ij(t,1,oB,!0),r,i):[]});function nU(e,t,i){var r=null==e?0:e.length;if(!r)return -1;var n=null==i?0:o8(i);return n<0&&(n=t2(r+n,0)),tb(e,nh(t,3),n)}function nj(e,t,i){var n=null==e?0:e.length;if(!n)return -1;var o=n-1;return r!==i&&(o=o8(i),o=i<0?t2(n+o,0):t5(o,n-1)),tb(e,nh(t,3),o,!0)}function n$(e){return(null==e?0:e.length)?ij(e,1):[]}function nK(e){return e&&e.length?e[0]:r}var nY=rp(function(e){var t=tg(e,rI);return t.length&&t[0]===e[0]?i5(t):[]}),nq=rp(function(e){var t=nZ(e),i=tg(e,rI);return t===nZ(i)?t=r:i.pop(),i.length&&i[0]===e[0]?i5(i,nh(t,2)):[]}),nX=rp(function(e){var t=nZ(e),i=tg(e,rI);return(t="function"==typeof t?t:r)&&i.pop(),i.length&&i[0]===e[0]?i5(i,r,t):[]});function nZ(e){var t=null==e?0:e.length;return t?e[t-1]:r}var nQ=rp(nJ);function nJ(e,t){return e&&e.length&&t&&t.length?ru(e,t):e}var n0=no(function(e,t){var i=null==e?0:e.length,r=ik(e,t);return rd(e,tg(t,function(e){return nb(e,i)?+e:e}).sort(rV)),r});function n1(e){return null==e?e:t8.call(e)}var n2=rp(function(e){return r_(ij(e,1,oB,!0))}),n5=rp(function(e){var t=nZ(e);return oB(t)&&(t=r),r_(ij(e,1,oB,!0),nh(t,2))}),n3=rp(function(e){var t=nZ(e);return t="function"==typeof t?t:r,r_(ij(e,1,oB,!0),r,t)});function n4(e){if(!(e&&e.length))return[];var t=0;return e=th(e,function(e){if(oB(e))return t=t2(e.length,t),!0}),tA(t,function(t){return tg(e,tT(t))})}function n6(e,t){if(!(e&&e.length))return[];var i=n4(e);return null==t?i:tg(i,function(e){return ta(t,r,e)})}var n8=rp(function(e,t){return oB(e)?iV(e,t):[]}),n9=rp(function(e){return rD(th(e,oB))}),n7=rp(function(e){var t=nZ(e);return oB(t)&&(t=r),rD(th(e,oB),nh(t,2))}),oe=rp(function(e){var t=nZ(e);return t="function"==typeof t?t:r,rD(th(e,oB),r,t)}),ot=rp(n4),oi=rp(function(e){var t=e.length,i=t>1?e[t-1]:r;return i="function"==typeof i?(e.pop(),i):r,n6(e,i)});function or(e){var t=im(e);return t.__chain__=!0,t}function on(e,t){return t(e)}var oo=no(function(e){var t=e.length,i=t?e[0]:0,n=this.__wrapped__,o=function(t){return ik(t,e)};return!(t>1)&&!this.__actions__.length&&n instanceof iw&&nb(i)?((n=n.slice(i,+i+ +!!t)).__actions__.push({func:on,args:[o],thisArg:r}),new iC(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(o)}),os=rU(function(e,t,i){eP.call(e,i)?++e[i]:iL(e,i,1)}),oa=rZ(nU),ol=rZ(nj);function ou(e,t){return(oO(e)?tu:iB)(e,nh(t,3))}function od(e,t){return(oO(e)?function(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}:iH)(e,nh(t,3))}var oh=rU(function(e,t,i){eP.call(e,i)?e[i].push(t):iL(e,i,[t])}),oc=rp(function(e,t,i){var r=-1,n="function"==typeof t,o=oV(e)?ey(e.length):[];return iB(e,function(e){o[++r]=n?ta(t,e,i):i3(e,t,i)}),o}),op=rU(function(e,t,i){iL(e,i,t)});function og(e,t){return(oO(e)?tg:ri)(e,nh(t,3))}var of=rU(function(e,t,i){e[+!i].push(t)},function(){return[[],[]]}),om=rp(function(e,t){if(null==e)return[];var i=t.length;return i>1&&nS(e,t[0],t[1])?t=[]:i>2&&nS(t[0],t[1],t[2])&&(t=[t[0]]),ra(e,ij(t,1),[])}),ov=te||function(){return e4.Date.now()};function oy(e,t,i){return t=i?r:t,t=e&&null==t?e.length:t,ne(e,128,r,r,r,r,t)}function oC(e,t){var i;if("function"!=typeof t)throw new eT(n);return e=o8(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var ow=rp(function(e,t,i){var r=1;if(i.length){var n=tW(i,nd(ow));r|=32}return ne(e,r,t,i,n)}),ob=rp(function(e,t,i){var r=3;if(i.length){var n=tW(i,nd(ob));r|=32}return ne(t,r,e,i,n)});function oS(e,t,i){t=i?r:t;var n=ne(e,8,r,r,r,r,r,t);return n.placeholder=oS.placeholder,n}function ox(e,t,i){t=i?r:t;var n=ne(e,16,r,r,r,r,r,t);return n.placeholder=ox.placeholder,n}function o_(e,t,i){var o,s,a,l,u,d,h=0,c=!1,p=!1,g=!0;if("function"!=typeof e)throw new eT(n);function f(t){var i=o,n=s;return o=s=r,h=t,l=e.apply(n,i)}function m(e){var i=e-d,n=e-h;return r===d||i>=t||i<0||p&&n>=a}function v(){var e,i,r,n=ov();if(m(n))return y(n);u=nP(v,(e=n-d,i=n-h,r=t-e,p?t5(r,a-i):r))}function y(e){return(u=r,g&&o)?f(e):(o=s=r,l)}function C(){var e,i=ov(),n=m(i);if(o=arguments,s=this,d=i,n){if(r===u)return h=e=d,u=nP(v,t),c?f(e):l;if(p)return rN(u),u=nP(v,t),f(d)}return r===u&&(u=nP(v,t)),l}return t=o7(t)||0,oK(i)&&(c=!!i.leading,a=(p="maxWait"in i)?t2(o7(i.maxWait)||0,t):a,g="trailing"in i?!!i.trailing:g),C.cancel=function(){r!==u&&rN(u),h=0,o=d=s=u=r},C.flush=function(){return r===u?l:y(ov())},C}var oE=rp(function(e,t){return iG(e,1,t)}),oT=rp(function(e,t,i){return iG(e,o7(t)||0,i)});function oM(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eT(n);var i=function(){var r=arguments,n=t?t.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var s=e.apply(this,r);return i.cache=o.set(n,s)||o,s};return i.cache=new(oM.Cache||ix),i}function oR(e){if("function"!=typeof e)throw new eT(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}oM.Cache=ix;var oD=rp(function(e,t){var i=(t=1==t.length&&oO(t[0])?tg(t[0],tP(nh())):tg(ij(t,1),tP(nh()))).length;return rp(function(r){for(var n=-1,o=t5(r.length,i);++n<o;)r[n]=t[n].call(this,r[n]);return ta(e,this,r)})}),oA=rp(function(e,t){var i=tW(t,nd(oA));return ne(e,32,r,t,i)}),oI=rp(function(e,t){var i=tW(t,nd(oI));return ne(e,64,r,t,i)}),oP=no(function(e,t){return ne(e,256,r,r,r,t)});function oL(e,t){return e===t||e!=e&&t!=t}var ok=r4(i0),oN=r4(function(e,t){return e>=t}),oF=i4(function(){return arguments}())?i4:function(e){return oY(e)&&eP.call(e,"callee")&&!eY.call(e,"callee")},oO=ey.isArray,oG=tt?tP(tt):function(e){return oY(e)&&iJ(e)==T};function oV(e){return null!=e&&o$(e.length)&&!oU(e)}function oB(e){return oY(e)&&oV(e)}var oH=tQ||sJ,oz=ti?tP(ti):function(e){return oY(e)&&iJ(e)==p};function oW(e){if(!oY(e))return!1;var t=iJ(e);return t==g||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oZ(e)}function oU(e){if(!oK(e))return!1;var t=iJ(e);return t==f||t==m||"[object AsyncFunction]"==t||"[object Proxy]"==t}function oj(e){return"number"==typeof e&&e==o8(e)}function o$(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}function oK(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function oY(e){return null!=e&&"object"==typeof e}var oq=tr?tP(tr):function(e){return oY(e)&&nv(e)==v};function oX(e){return"number"==typeof e||oY(e)&&iJ(e)==y}function oZ(e){if(!oY(e)||iJ(e)!=C)return!1;var t=eW(e);if(null===t)return!0;var i=eP.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&eI.call(i)==eF}var oQ=tn?tP(tn):function(e){return oY(e)&&iJ(e)==b},oJ=to?tP(to):function(e){return oY(e)&&nv(e)==S};function o0(e){return"string"==typeof e||!oO(e)&&oY(e)&&iJ(e)==x}function o1(e){return"symbol"==typeof e||oY(e)&&iJ(e)==_}var o2=ts?tP(ts):function(e){return oY(e)&&o$(e.length)&&!!eQ[iJ(e)]},o5=r4(rt),o3=r4(function(e,t){return e<=t});function o4(e){if(!e)return[];if(oV(e))return o0(e)?t$(e):rz(e);if(e3&&e[e3]){for(var t,i=e[e3](),r=[];!(t=i.next()).done;)r.push(t.value);return r}var n=nv(e);return(n==v?tH:n==S?tU:sx)(e)}function o6(e){return e?(e=o7(e))===a||e===-a?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function o8(e){var t=o6(e),i=t%1;return t==t?i?t-i:t:0}function o9(e){return e?iN(o8(e),0,0xffffffff):0}function o7(e){if("number"==typeof e)return e;if(o1(e))return l;if(oK(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=oK(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tI(e);var i=eu.test(e);return i||eh.test(e)?e2(e.slice(2),i?2:8):el.test(e)?l:+e}function se(e){return rW(e,sf(e))}function st(e){return null==e?"":rx(e)}var si=rj(function(e,t){if(nT(t)||oV(t))return void rW(t,sg(t),e);for(var i in t)eP.call(t,i)&&iD(e,i,t[i])}),sr=rj(function(e,t){rW(t,sf(t),e)}),sn=rj(function(e,t,i,r){rW(t,sf(t),e,r)}),so=rj(function(e,t,i,r){rW(t,sg(t),e,r)}),ss=no(ik),sa=rp(function(e,t){e=ex(e);var i=-1,n=t.length,o=n>2?t[2]:r;for(o&&nS(t[0],t[1],o)&&(n=1);++i<n;)for(var s=t[i],a=sf(s),l=-1,u=a.length;++l<u;){var d=a[l],h=e[d];(r===h||oL(h,eD[d])&&!eP.call(e,d))&&(e[d]=s[d])}return e}),sl=rp(function(e){return e.push(r,ni),ta(sv,r,e)});function su(e,t,i){var n=null==e?r:iZ(e,t);return r===n?i:n}function sd(e,t){return null!=e&&ny(e,t,i2)}var sh=r0(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=eN.call(t)),e[t]=i},sO(sB)),sc=r0(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=eN.call(t)),eP.call(e,t)?e[t].push(i):e[t]=[i]},nh),sp=rp(i3);function sg(e){return oV(e)?iT(e):re(e)}function sf(e){return oV(e)?iT(e,!0):function(e){if(!oK(e)){var t=e,i=[];if(null!=t)for(var r in ex(t))i.push(r);return i}var n=nT(e),o=[];for(var s in e)"constructor"==s&&(n||!eP.call(e,s))||o.push(s);return o}(e)}var sm=rj(function(e,t,i){ro(e,t,i)}),sv=rj(function(e,t,i,r){ro(e,t,i,r)}),sy=no(function(e,t){var i={};if(null==e)return i;var r=!1;t=tg(t,function(t){return t=rL(t,e),r||(r=t.length>1),t}),rW(e,na(e),i),r&&(i=iF(i,7,nr));for(var n=t.length;n--;)rE(i,t[n]);return i}),sC=no(function(e,t){return null==e?{}:rl(e,t,function(t,i){return sd(e,i)})});function sw(e,t){if(null==e)return{};var i=tg(na(e),function(e){return[e]});return t=nh(t),rl(e,i,function(e,i){return t(e,i[0])})}var sb=r7(sg),sS=r7(sf);function sx(e){return null==e?[]:tL(e,sg(e))}var s_=rq(function(e,t,i){return t=t.toLowerCase(),e+(i?sE(t):t)});function sE(e){return sL(st(e).toLowerCase())}function sT(e){return(e=st(e))&&e.replace(ep,tO).replace(ej,"")}var sM=rq(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),sR=rq(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),sD=rY("toLowerCase"),sA=rq(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),sI=rq(function(e,t,i){return e+(i?" ":"")+sL(t)}),sP=rq(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),sL=rY("toUpperCase");function sk(e,t,i){if(e=st(e),t=i?r:t,r===t){var n;return(n=e,eq.test(n))?e.match(eK)||[]:e.match(er)||[]}return e.match(t)||[]}var sN=rp(function(e,t){try{return ta(e,r,t)}catch(e){return oW(e)?e:new ew(e)}}),sF=no(function(e,t){return tu(t,function(t){iL(e,t=nG(t),ow(e[t],e))}),e});function sO(e){return function(){return e}}var sG=rQ(),sV=rQ(!0);function sB(e){return e}function sH(e){return i7("function"==typeof e?e:iF(e,1))}var sz=rp(function(e,t){return function(i){return i3(i,e,t)}}),sW=rp(function(e,t){return function(i){return i3(e,i,t)}});function sU(e,t,i){var r=sg(t),n=iX(t,r);null!=i||oK(t)&&(n.length||!r.length)||(i=t,t=e,e=this,n=iX(t,sg(t)));var o=!(oK(i)&&"chain"in i)||!!i.chain,s=oU(e);return tu(n,function(i){var r=t[i];e[i]=r,s&&(e.prototype[i]=function(){var t=this.__chain__;if(o||t){var i=e(this.__wrapped__);return(i.__actions__=rz(this.__actions__)).push({func:r,args:arguments,thisArg:e}),i.__chain__=t,i}return r.apply(e,tf([this.value()],arguments))})}),e}function sj(){}var s$=r2(tg),sK=r2(td),sY=r2(ty);function sq(e){return nx(e)?tT(nG(e)):function(t){return iZ(t,e)}}var sX=r3(),sZ=r3(!0);function sQ(){return[]}function sJ(){return!1}var s0=r1(function(e,t){return e+t},0),s1=r8("ceil"),s2=r1(function(e,t){return e/t},1),s5=r8("floor"),s3=r1(function(e,t){return e*t},1),s4=r8("round"),s6=r1(function(e,t){return e-t},0);return im.after=function(e,t){if("function"!=typeof t)throw new eT(n);return e=o8(e),function(){if(--e<1)return t.apply(this,arguments)}},im.ary=oy,im.assign=si,im.assignIn=sr,im.assignInWith=sn,im.assignWith=so,im.at=ss,im.before=oC,im.bind=ow,im.bindAll=sF,im.bindKey=ob,im.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return oO(e)?e:[e]},im.chain=or,im.chunk=function(e,t,i){t=(i?nS(e,t,i):r===t)?1:t2(o8(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var o=0,s=0,a=ey(tM(n/t));o<n;)a[s++]=rv(e,o,o+=t);return a},im.compact=function(e){for(var t=-1,i=null==e?0:e.length,r=0,n=[];++t<i;){var o=e[t];o&&(n[r++]=o)}return n},im.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ey(e-1),i=arguments[0],r=e;r--;)t[r-1]=arguments[r];return tf(oO(i)?rz(i):[i],ij(t,1))},im.cond=function(e){var t=null==e?0:e.length,i=nh();return e=t?tg(e,function(e){if("function"!=typeof e[1])throw new eT(n);return[i(e[0]),e[1]]}):[],rp(function(i){for(var r=-1;++r<t;){var n=e[r];if(ta(n[0],this,i))return ta(n[1],this,i)}})},im.conforms=function(e){var t,i;return i=sg(t=iF(e,1)),function(e){return iO(e,t,i)}},im.constant=sO,im.countBy=os,im.create=function(e,t){var i=iv(e);return null==t?i:iP(i,t)},im.curry=oS,im.curryRight=ox,im.debounce=o_,im.defaults=sa,im.defaultsDeep=sl,im.defer=oE,im.delay=oT,im.difference=nH,im.differenceBy=nz,im.differenceWith=nW,im.drop=function(e,t,i){var n=null==e?0:e.length;return n?rv(e,(t=i||r===t?1:o8(t))<0?0:t,n):[]},im.dropRight=function(e,t,i){var n=null==e?0:e.length;return n?rv(e,0,(t=n-(t=i||r===t?1:o8(t)))<0?0:t):[]},im.dropRightWhile=function(e,t){return e&&e.length?rM(e,nh(t,3),!0,!0):[]},im.dropWhile=function(e,t){return e&&e.length?rM(e,nh(t,3),!0):[]},im.fill=function(e,t,i,n){var o=null==e?0:e.length;if(!o)return[];i&&"number"!=typeof i&&nS(e,t,i)&&(i=0,n=o);var s=i,a=n,l=e.length;for((s=o8(s))<0&&(s=-s>l?0:l+s),(a=r===a||a>l?l:o8(a))<0&&(a+=l),a=s>a?0:o9(a);s<a;)e[s++]=t;return e},im.filter=function(e,t){return(oO(e)?th:iU)(e,nh(t,3))},im.flatMap=function(e,t){return ij(og(e,t),1)},im.flatMapDeep=function(e,t){return ij(og(e,t),a)},im.flatMapDepth=function(e,t,i){return i=r===i?1:o8(i),ij(og(e,t),i)},im.flatten=n$,im.flattenDeep=function(e){return(null==e?0:e.length)?ij(e,a):[]},im.flattenDepth=function(e,t){return(null==e?0:e.length)?ij(e,t=r===t?1:o8(t)):[]},im.flip=function(e){return ne(e,512)},im.flow=sG,im.flowRight=sV,im.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,r={};++t<i;){var n=e[t];r[n[0]]=n[1]}return r},im.functions=function(e){return null==e?[]:iX(e,sg(e))},im.functionsIn=function(e){return null==e?[]:iX(e,sf(e))},im.groupBy=oh,im.initial=function(e){return(null==e?0:e.length)?rv(e,0,-1):[]},im.intersection=nY,im.intersectionBy=nq,im.intersectionWith=nX,im.invert=sh,im.invertBy=sc,im.invokeMap=oc,im.iteratee=sH,im.keyBy=op,im.keys=sg,im.keysIn=sf,im.map=og,im.mapKeys=function(e,t){var i={};return t=nh(t,3),iY(e,function(e,r,n){iL(i,t(e,r,n),e)}),i},im.mapValues=function(e,t){var i={};return t=nh(t,3),iY(e,function(e,r,n){iL(i,r,t(e,r,n))}),i},im.matches=function(e){return rr(iF(e,1))},im.matchesProperty=function(e,t){return rn(e,iF(t,1))},im.memoize=oM,im.merge=sm,im.mergeWith=sv,im.method=sz,im.methodOf=sW,im.mixin=sU,im.negate=oR,im.nthArg=function(e){return e=o8(e),rp(function(t){return rs(t,e)})},im.omit=sy,im.omitBy=function(e,t){return sw(e,oR(nh(t)))},im.once=function(e){return oC(2,e)},im.orderBy=function(e,t,i,n){return null==e?[]:(oO(t)||(t=null==t?[]:[t]),oO(i=n?r:i)||(i=null==i?[]:[i]),ra(e,t,i))},im.over=s$,im.overArgs=oD,im.overEvery=sK,im.overSome=sY,im.partial=oA,im.partialRight=oI,im.partition=of,im.pick=sC,im.pickBy=sw,im.property=sq,im.propertyOf=function(e){return function(t){return null==e?r:iZ(e,t)}},im.pull=nQ,im.pullAll=nJ,im.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?ru(e,t,nh(i,2)):e},im.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?ru(e,t,r,i):e},im.pullAt=n0,im.range=sX,im.rangeRight=sZ,im.rearg=oP,im.reject=function(e,t){return(oO(e)?th:iU)(e,oR(nh(t,3)))},im.remove=function(e,t){var i=[];if(!(e&&e.length))return i;var r=-1,n=[],o=e.length;for(t=nh(t,3);++r<o;){var s=e[r];t(s,r,e)&&(i.push(s),n.push(r))}return rd(e,n),i},im.rest=function(e,t){if("function"!=typeof e)throw new eT(n);return rp(e,t=r===t?t:o8(t))},im.reverse=n1,im.sampleSize=function(e,t,i){return t=(i?nS(e,t,i):r===t)?1:o8(t),(oO(e)?function(e,t){return nF(rz(e),iN(t,0,e.length))}:function(e,t){var i=sx(e);return nF(i,iN(t,0,i.length))})(e,t)},im.set=function(e,t,i){return null==e?e:rg(e,t,i)},im.setWith=function(e,t,i,n){return n="function"==typeof n?n:r,null==e?e:rg(e,t,i,n)},im.shuffle=function(e){return(oO(e)?function(e){return nF(rz(e))}:function(e){return nF(sx(e))})(e)},im.slice=function(e,t,i){var n=null==e?0:e.length;return n?(i&&"number"!=typeof i&&nS(e,t,i)?(t=0,i=n):(t=null==t?0:o8(t),i=r===i?n:o8(i)),rv(e,t,i)):[]},im.sortBy=om,im.sortedUniq=function(e){return e&&e.length?rb(e):[]},im.sortedUniqBy=function(e,t){return e&&e.length?rb(e,nh(t,2)):[]},im.split=function(e,t,i){return(i&&"number"!=typeof i&&nS(e,t,i)&&(t=i=r),i=r===i?0xffffffff:i>>>0)?(e=st(e))&&("string"==typeof t||null!=t&&!oQ(t))&&!(t=rx(t))&&tB(e)?rk(t$(e),0,i):e.split(t,i):[]},im.spread=function(e,t){if("function"!=typeof e)throw new eT(n);return t=null==t?0:t2(o8(t),0),rp(function(i){var r=i[t],n=rk(i,0,t);return r&&tf(n,r),ta(e,this,n)})},im.tail=function(e){var t=null==e?0:e.length;return t?rv(e,1,t):[]},im.take=function(e,t,i){return e&&e.length?rv(e,0,(t=i||r===t?1:o8(t))<0?0:t):[]},im.takeRight=function(e,t,i){var n=null==e?0:e.length;return n?rv(e,(t=n-(t=i||r===t?1:o8(t)))<0?0:t,n):[]},im.takeRightWhile=function(e,t){return e&&e.length?rM(e,nh(t,3),!1,!0):[]},im.takeWhile=function(e,t){return e&&e.length?rM(e,nh(t,3)):[]},im.tap=function(e,t){return t(e),e},im.throttle=function(e,t,i){var r=!0,o=!0;if("function"!=typeof e)throw new eT(n);return oK(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),o_(e,t,{leading:r,maxWait:t,trailing:o})},im.thru=on,im.toArray=o4,im.toPairs=sb,im.toPairsIn=sS,im.toPath=function(e){return oO(e)?tg(e,nG):o1(e)?[e]:rz(nO(st(e)))},im.toPlainObject=se,im.transform=function(e,t,i){var r=oO(e),n=r||oH(e)||o2(e);if(t=nh(t,4),null==i){var o=e&&e.constructor;i=n?r?new o:[]:oK(e)&&oU(o)?iv(eW(e)):{}}return(n?tu:iY)(e,function(e,r,n){return t(i,e,r,n)}),i},im.unary=function(e){return oy(e,1)},im.union=n2,im.unionBy=n5,im.unionWith=n3,im.uniq=function(e){return e&&e.length?r_(e):[]},im.uniqBy=function(e,t){return e&&e.length?r_(e,nh(t,2)):[]},im.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?r_(e,r,t):[]},im.unset=function(e,t){return null==e||rE(e,t)},im.unzip=n4,im.unzipWith=n6,im.update=function(e,t,i){return null==e?e:rT(e,t,rP(i))},im.updateWith=function(e,t,i,n){return n="function"==typeof n?n:r,null==e?e:rT(e,t,rP(i),n)},im.values=sx,im.valuesIn=function(e){return null==e?[]:tL(e,sf(e))},im.without=n8,im.words=sk,im.wrap=function(e,t){return oA(rP(t),e)},im.xor=n9,im.xorBy=n7,im.xorWith=oe,im.zip=ot,im.zipObject=function(e,t){return rA(e||[],t||[],iD)},im.zipObjectDeep=function(e,t){return rA(e||[],t||[],rg)},im.zipWith=oi,im.entries=sb,im.entriesIn=sS,im.extend=sr,im.extendWith=sn,sU(im,im),im.add=s0,im.attempt=sN,im.camelCase=s_,im.capitalize=sE,im.ceil=s1,im.clamp=function(e,t,i){return r===i&&(i=t,t=r),r!==i&&(i=(i=o7(i))==i?i:0),r!==t&&(t=(t=o7(t))==t?t:0),iN(o7(e),t,i)},im.clone=function(e){return iF(e,4)},im.cloneDeep=function(e){return iF(e,5)},im.cloneDeepWith=function(e,t){return iF(e,5,t="function"==typeof t?t:r)},im.cloneWith=function(e,t){return iF(e,4,t="function"==typeof t?t:r)},im.conformsTo=function(e,t){return null==t||iO(e,t,sg(t))},im.deburr=sT,im.defaultTo=function(e,t){return null==e||e!=e?t:e},im.divide=s2,im.endsWith=function(e,t,i){e=st(e),t=rx(t);var n=e.length,o=i=r===i?n:iN(o8(i),0,n);return(i-=t.length)>=0&&e.slice(i,o)==t},im.eq=oL,im.escape=function(e){return(e=st(e))&&W.test(e)?e.replace(H,tG):e},im.escapeRegExp=function(e){return(e=st(e))&&Z.test(e)?e.replace(X,"\\$&"):e},im.every=function(e,t,i){var n=oO(e)?td:iz;return i&&nS(e,t,i)&&(t=r),n(e,nh(t,3))},im.find=oa,im.findIndex=nU,im.findKey=function(e,t){return tw(e,nh(t,3),iY)},im.findLast=ol,im.findLastIndex=nj,im.findLastKey=function(e,t){return tw(e,nh(t,3),iq)},im.floor=s5,im.forEach=ou,im.forEachRight=od,im.forIn=function(e,t){return null==e?e:i$(e,nh(t,3),sf)},im.forInRight=function(e,t){return null==e?e:iK(e,nh(t,3),sf)},im.forOwn=function(e,t){return e&&iY(e,nh(t,3))},im.forOwnRight=function(e,t){return e&&iq(e,nh(t,3))},im.get=su,im.gt=ok,im.gte=oN,im.has=function(e,t){return null!=e&&ny(e,t,i1)},im.hasIn=sd,im.head=nK,im.identity=sB,im.includes=function(e,t,i,r){e=oV(e)?e:sx(e),i=i&&!r?o8(i):0;var n=e.length;return i<0&&(i=t2(n+i,0)),o0(e)?i<=n&&e.indexOf(t,i)>-1:!!n&&tS(e,t,i)>-1},im.indexOf=function(e,t,i){var r=null==e?0:e.length;if(!r)return -1;var n=null==i?0:o8(i);return n<0&&(n=t2(r+n,0)),tS(e,t,n)},im.inRange=function(e,t,i){var n,o,s;return t=o6(t),r===i?(i=t,t=0):i=o6(i),(n=e=o7(e))>=t5(o=t,s=i)&&n<t2(o,s)},im.invoke=sp,im.isArguments=oF,im.isArray=oO,im.isArrayBuffer=oG,im.isArrayLike=oV,im.isArrayLikeObject=oB,im.isBoolean=function(e){return!0===e||!1===e||oY(e)&&iJ(e)==c},im.isBuffer=oH,im.isDate=oz,im.isElement=function(e){return oY(e)&&1===e.nodeType&&!oZ(e)},im.isEmpty=function(e){if(null==e)return!0;if(oV(e)&&(oO(e)||"string"==typeof e||"function"==typeof e.splice||oH(e)||o2(e)||oF(e)))return!e.length;var t=nv(e);if(t==v||t==S)return!e.size;if(nT(e))return!re(e).length;for(var i in e)if(eP.call(e,i))return!1;return!0},im.isEqual=function(e,t){return i6(e,t)},im.isEqualWith=function(e,t,i){var n=(i="function"==typeof i?i:r)?i(e,t):r;return r===n?i6(e,t,r,i):!!n},im.isError=oW,im.isFinite=function(e){return"number"==typeof e&&tJ(e)},im.isFunction=oU,im.isInteger=oj,im.isLength=o$,im.isMap=oq,im.isMatch=function(e,t){return e===t||i8(e,t,np(t))},im.isMatchWith=function(e,t,i){return i="function"==typeof i?i:r,i8(e,t,np(t),i)},im.isNaN=function(e){return oX(e)&&e!=+e},im.isNative=function(e){if(nE(e))throw new ew("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return i9(e)},im.isNil=function(e){return null==e},im.isNull=function(e){return null===e},im.isNumber=oX,im.isObject=oK,im.isObjectLike=oY,im.isPlainObject=oZ,im.isRegExp=oQ,im.isSafeInteger=function(e){return oj(e)&&e>=-0x1fffffffffffff&&e<=0x1fffffffffffff},im.isSet=oJ,im.isString=o0,im.isSymbol=o1,im.isTypedArray=o2,im.isUndefined=function(e){return r===e},im.isWeakMap=function(e){return oY(e)&&nv(e)==E},im.isWeakSet=function(e){return oY(e)&&"[object WeakSet]"==iJ(e)},im.join=function(e,t){return null==e?"":t0.call(e,t)},im.kebabCase=sM,im.last=nZ,im.lastIndexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return -1;var o=n;return r!==i&&(o=(o=o8(i))<0?t2(n+o,0):t5(o,n-1)),t==t?function(e,t,i){for(var r=i+1;r--&&e[r]!==t;);return r}(e,t,o):tb(e,t_,o,!0)},im.lowerCase=sR,im.lowerFirst=sD,im.lt=o5,im.lte=o3,im.max=function(e){return e&&e.length?iW(e,sB,i0):r},im.maxBy=function(e,t){return e&&e.length?iW(e,nh(t,2),i0):r},im.mean=function(e){return tE(e,sB)},im.meanBy=function(e,t){return tE(e,nh(t,2))},im.min=function(e){return e&&e.length?iW(e,sB,rt):r},im.minBy=function(e,t){return e&&e.length?iW(e,nh(t,2),rt):r},im.stubArray=sQ,im.stubFalse=sJ,im.stubObject=function(){return{}},im.stubString=function(){return""},im.stubTrue=function(){return!0},im.multiply=s3,im.nth=function(e,t){return e&&e.length?rs(e,o8(t)):r},im.noConflict=function(){return e4._===this&&(e4._=eO),this},im.noop=sj,im.now=ov,im.pad=function(e,t,i){e=st(e);var r=(t=o8(t))?tj(e):0;if(!t||r>=t)return e;var n=(t-r)/2;return r5(tX(n),i)+e+r5(tM(n),i)},im.padEnd=function(e,t,i){e=st(e);var r=(t=o8(t))?tj(e):0;return t&&r<t?e+r5(t-r,i):e},im.padStart=function(e,t,i){e=st(e);var r=(t=o8(t))?tj(e):0;return t&&r<t?r5(t-r,i)+e:e},im.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t*=1),t4(st(e).replace(Q,""),t||0)},im.random=function(e,t,i){if(i&&"boolean"!=typeof i&&nS(e,t,i)&&(t=i=r),r===i&&("boolean"==typeof t?(i=t,t=r):"boolean"==typeof e&&(i=e,e=r)),r===e&&r===t?(e=0,t=1):(e=o6(e),r===t?(t=e,e=0):t=o6(t)),e>t){var n=e;e=t,t=n}if(i||e%1||t%1){var o=t6();return t5(e+o*(t-e+e1("1e-"+((o+"").length-1))),t)}return rh(e,t)},im.reduce=function(e,t,i){var r=oO(e)?tm:tR,n=arguments.length<3;return r(e,nh(t,4),i,n,iB)},im.reduceRight=function(e,t,i){var r=oO(e)?tv:tR,n=arguments.length<3;return r(e,nh(t,4),i,n,iH)},im.repeat=function(e,t,i){return t=(i?nS(e,t,i):r===t)?1:o8(t),rc(st(e),t)},im.replace=function(){var e=arguments,t=st(e[0]);return e.length<3?t:t.replace(e[1],e[2])},im.result=function(e,t,i){t=rL(t,e);var n=-1,o=t.length;for(o||(o=1,e=r);++n<o;){var s=null==e?r:e[nG(t[n])];r===s&&(n=o,s=i),e=oU(s)?s.call(e):s}return e},im.round=s4,im.runInContext=e,im.sample=function(e){return(oO(e)?iM:function(e){return iM(sx(e))})(e)},im.size=function(e){if(null==e)return 0;if(oV(e))return o0(e)?tj(e):e.length;var t=nv(e);return t==v||t==S?e.size:re(e).length},im.snakeCase=sA,im.some=function(e,t,i){var n=oO(e)?ty:ry;return i&&nS(e,t,i)&&(t=r),n(e,nh(t,3))},im.sortedIndex=function(e,t){return rC(e,t)},im.sortedIndexBy=function(e,t,i){return rw(e,t,nh(i,2))},im.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var r=rC(e,t);if(r<i&&oL(e[r],t))return r}return -1},im.sortedLastIndex=function(e,t){return rC(e,t,!0)},im.sortedLastIndexBy=function(e,t,i){return rw(e,t,nh(i,2),!0)},im.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var i=rC(e,t,!0)-1;if(oL(e[i],t))return i}return -1},im.startCase=sI,im.startsWith=function(e,t,i){return e=st(e),i=null==i?0:iN(o8(i),0,e.length),t=rx(t),e.slice(i,i+t.length)==t},im.subtract=s6,im.sum=function(e){return e&&e.length?tD(e,sB):0},im.sumBy=function(e,t){return e&&e.length?tD(e,nh(t,2)):0},im.template=function(e,t,i){var n=im.templateSettings;i&&nS(e,t,i)&&(t=r),e=st(e),t=sn({},t,n,nt);var o,s,a=sn({},t.imports,n.imports,nt),l=sg(a),u=tL(a,l),d=0,h=t.interpolate||eg,c="__p += '",p=e_((t.escape||eg).source+"|"+h.source+"|"+(h===$?es:eg).source+"|"+(t.evaluate||eg).source+"|$","g"),g="//# sourceURL="+(eP.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eZ+"]")+"\n";e.replace(p,function(t,i,r,n,a,l){return r||(r=n),c+=e.slice(d,l).replace(ef,tV),i&&(o=!0,c+="' +\n__e("+i+") +\n'"),a&&(s=!0,c+="';\n"+a+";\n__p += '"),r&&(c+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),c+="';\n";var f=eP.call(t,"variable")&&t.variable;if(f){if(en.test(f))throw new ew("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";c=(s?c.replace(O,""):c).replace(G,"$1").replace(V,"$1;"),c="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var m=sN(function(){return eb(l,g+"return "+c).apply(r,u)});if(m.source=c,oW(m))throw m;return m},im.times=function(e,t){if((e=o8(e))<1||e>0x1fffffffffffff)return[];var i=0xffffffff,r=t5(e,0xffffffff);t=nh(t),e-=0xffffffff;for(var n=tA(r,t);++i<e;)t(i);return n},im.toFinite=o6,im.toInteger=o8,im.toLength=o9,im.toLower=function(e){return st(e).toLowerCase()},im.toNumber=o7,im.toSafeInteger=function(e){return e?iN(o8(e),-0x1fffffffffffff,0x1fffffffffffff):0===e?e:0},im.toString=st,im.toUpper=function(e){return st(e).toUpperCase()},im.trim=function(e,t,i){if((e=st(e))&&(i||r===t))return tI(e);if(!e||!(t=rx(t)))return e;var n=t$(e),o=t$(t),s=tN(n,o),a=tF(n,o)+1;return rk(n,s,a).join("")},im.trimEnd=function(e,t,i){if((e=st(e))&&(i||r===t))return e.slice(0,tK(e)+1);if(!e||!(t=rx(t)))return e;var n=t$(e),o=tF(n,t$(t))+1;return rk(n,0,o).join("")},im.trimStart=function(e,t,i){if((e=st(e))&&(i||r===t))return e.replace(Q,"");if(!e||!(t=rx(t)))return e;var n=t$(e),o=tN(n,t$(t));return rk(n,o).join("")},im.truncate=function(e,t){var i=30,n="...";if(oK(t)){var o="separator"in t?t.separator:o;i="length"in t?o8(t.length):i,n="omission"in t?rx(t.omission):n}var s=(e=st(e)).length;if(tB(e)){var a=t$(e);s=a.length}if(i>=s)return e;var l=i-tj(n);if(l<1)return n;var u=a?rk(a,0,l).join(""):e.slice(0,l);if(r===o)return u+n;if(a&&(l+=u.length-l),oQ(o)){if(e.slice(l).search(o)){var d,h=u;for(o.global||(o=e_(o.source,st(ea.exec(o))+"g")),o.lastIndex=0;d=o.exec(h);)var c=d.index;u=u.slice(0,r===c?l:c)}}else if(e.indexOf(rx(o),l)!=l){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+n},im.unescape=function(e){return(e=st(e))&&z.test(e)?e.replace(B,tY):e},im.uniqueId=function(e){var t=++eL;return st(e)+t},im.upperCase=sP,im.upperFirst=sL,im.each=ou,im.eachRight=od,im.first=nK,sU(im,(ev={},iY(im,function(e,t){eP.call(im.prototype,t)||(ev[t]=e)}),ev),{chain:!1}),im.VERSION="4.17.21",tu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){im[e].placeholder=im}),tu(["drop","take"],function(e,t){iw.prototype[e]=function(i){i=r===i?1:t2(o8(i),0);var n=this.__filtered__&&!t?new iw(this):this.clone();return n.__filtered__?n.__takeCount__=t5(i,n.__takeCount__):n.__views__.push({size:t5(i,0xffffffff),type:e+(n.__dir__<0?"Right":"")}),n},iw.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tu(["filter","map","takeWhile"],function(e,t){var i=t+1,r=1==i||3==i;iw.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:nh(e,3),type:i}),t.__filtered__=t.__filtered__||r,t}}),tu(["head","last"],function(e,t){var i="take"+(t?"Right":"");iw.prototype[e]=function(){return this[i](1).value()[0]}}),tu(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");iw.prototype[e]=function(){return this.__filtered__?new iw(this):this[i](1)}}),iw.prototype.compact=function(){return this.filter(sB)},iw.prototype.find=function(e){return this.filter(e).head()},iw.prototype.findLast=function(e){return this.reverse().find(e)},iw.prototype.invokeMap=rp(function(e,t){return"function"==typeof e?new iw(this):this.map(function(i){return i3(i,e,t)})}),iw.prototype.reject=function(e){return this.filter(oR(nh(e)))},iw.prototype.slice=function(e,t){e=o8(e);var i=this;return i.__filtered__&&(e>0||t<0)?new iw(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),r!==t&&(i=(t=o8(t))<0?i.dropRight(-t):i.take(t-e)),i)},iw.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},iw.prototype.toArray=function(){return this.take(0xffffffff)},iY(iw.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=im[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(im.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,l=t instanceof iw,u=a[0],d=l||oO(t),h=function(e){var t=o.apply(im,tf([e],a));return n&&c?t[0]:t};d&&i&&"function"==typeof u&&1!=u.length&&(l=d=!1);var c=this.__chain__,p=!!this.__actions__.length,g=s&&!c,f=l&&!p;if(!s&&d){t=f?t:new iw(this);var m=e.apply(t,a);return m.__actions__.push({func:on,args:[h],thisArg:r}),new iC(m,c)}return g&&f?e.apply(this,a):(m=this.thru(h),g?n?m.value()[0]:m.value():m)})}),tu(["pop","push","shift","sort","splice","unshift"],function(e){var t=eM[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);im.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var n=this.value();return t.apply(oO(n)?n:[],e)}return this[i](function(i){return t.apply(oO(i)?i:[],e)})}}),iY(iw.prototype,function(e,t){var i=im[t];if(i){var r=i.name+"";eP.call(is,r)||(is[r]=[]),is[r].push({name:t,func:i})}}),is[rJ(r,2).name]=[{name:"wrapper",func:r}],iw.prototype.clone=function(){var e=new iw(this.__wrapped__);return e.__actions__=rz(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rz(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rz(this.__views__),e},iw.prototype.reverse=function(){if(this.__filtered__){var e=new iw(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},iw.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=oO(e),r=t<0,n=i?e.length:0,o=function(e,t,i){for(var r=-1,n=i.length;++r<n;){var o=i[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=t5(t,e+s);break;case"takeRight":e=t2(e,t-s)}}return{start:e,end:t}}(0,n,this.__views__),s=o.start,a=o.end,l=a-s,u=r?a:s-1,d=this.__iteratees__,h=d.length,c=0,p=t5(l,this.__takeCount__);if(!i||!r&&n==l&&p==l)return rR(e,this.__actions__);var g=[];e:for(;l--&&c<p;){for(var f=-1,m=e[u+=t];++f<h;){var v=d[f],y=v.iteratee,C=v.type,w=y(m);if(2==C)m=w;else if(!w)if(1==C)continue e;else break e}g[c++]=m}return g},im.prototype.at=oo,im.prototype.chain=function(){return or(this)},im.prototype.commit=function(){return new iC(this.value(),this.__chain__)},im.prototype.next=function(){this.__values__===r&&(this.__values__=o4(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}},im.prototype.plant=function(e){for(var t,i=this;i instanceof iy;){var n=nB(i);n.__index__=0,n.__values__=r,t?o.__wrapped__=n:t=n;var o=n;i=i.__wrapped__}return o.__wrapped__=e,t},im.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof iw){var t=e;return this.__actions__.length&&(t=new iw(this)),(t=t.reverse()).__actions__.push({func:on,args:[n1],thisArg:r}),new iC(t,this.__chain__)}return this.thru(n1)},im.prototype.toJSON=im.prototype.valueOf=im.prototype.value=function(){return rR(this.__wrapped__,this.__actions__)},im.prototype.first=im.prototype.head,e3&&(im.prototype[e3]=function(){return this}),im}();if("function"==typeof define&&"object"==typeof define.amd&&define.amd)e4._=tq,e.r,r!==tq&&e.v(tq);else e8?((e8.exports=tq)._=tq,e6._=tq):e4._=tq}).call(e.e)},69957,(e,t,i)=>{"use strict";var r=e.r(71645),n=e.r(74080);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.scope"),C=Symbol.for("react.activity"),w=Symbol.for("react.legacy_hidden"),b=Symbol.for("react.memo_cache_sentinel"),S=Symbol.for("react.view_transition"),x=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}var E=Symbol.for("react.optimistic_key"),T=Array.isArray;function M(e,t){var i=3&e.length,r=e.length-i,n=t;for(t=0;t<r;){var o=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,n^=o=0x1b873593*(65535&(o=(o=0xcc9e2d51*(65535&o)+((0xcc9e2d51*(o>>>16)&65535)<<16)|0)<<15|o>>>17))+((0x1b873593*(o>>>16)&65535)<<16)|0,n=(65535&(n=5*(65535&(n=n<<13|n>>>19))+((5*(n>>>16)&65535)<<16)|0))+27492+(((n>>>16)+58964&65535)<<16)}switch(o=0,i){case 3:o^=(255&e.charCodeAt(t+2))<<16;case 2:o^=(255&e.charCodeAt(t+1))<<8;case 1:o^=255&e.charCodeAt(t),n^=0x1b873593*(65535&(o=(o=0xcc9e2d51*(65535&o)+((0xcc9e2d51*(o>>>16)&65535)<<16)|0)<<15|o>>>17))+((0x1b873593*(o>>>16)&65535)<<16)}return n^=e.length,n^=n>>>16,n=0x85ebca6b*(65535&n)+((0x85ebca6b*(n>>>16)&65535)<<16)|0,n^=n>>>13,((n=0xc2b2ae35*(65535&n)+((0xc2b2ae35*(n>>>16)&65535)<<16)|0)^n>>>16)>>>0}var R=Object.assign,D=Object.prototype.hasOwnProperty,A=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),I={},P={};function L(e){return!!D.call(P,e)||!D.call(I,e)&&(A.test(e)?P[e]=!0:(I[e]=!0,!1))}var k=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),N=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F=/["'&<>]/;function O(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=F.exec(e);if(t){var i,r="",n=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}n!==i&&(r+=e.slice(n,i)),n=i+1,r+=t}e=n!==i?r+e.slice(n,i):r}return e}var G=/([A-Z])/g,V=/^ms-/,B=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function H(e){return B.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},j=W.d;W.d={f:j.f,r:j.r,D:function(e){var t=t0||null;if(t){var i,r,n=t.resumableState,o=t.renderState;"string"==typeof e&&e&&(n.dnsResources.hasOwnProperty(e)||(n.dnsResources[e]=null,(r=(n=o.headers)&&0<n.remainingCapacity)&&(i="<"+(""+e).replace(eq,eX)+">; rel=dns-prefetch",r=0<=(n.remainingCapacity-=i.length+2)),r?(o.resets.dns[e]=null,n.preconnects&&(n.preconnects+=", "),n.preconnects+=i):(ef(i=[],{href:e,rel:"dns-prefetch"}),o.preconnects.add(i))),iB(t))}else j.D(e)},C:function(e,t){var i=t0||null;if(i){var r=i.resumableState,n=i.renderState;if("string"==typeof e&&e){var o,s,a="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";r.connectResources[a].hasOwnProperty(e)||(r.connectResources[a][e]=null,(s=(r=n.headers)&&0<r.remainingCapacity)&&(s="<"+(""+e).replace(eq,eX)+">; rel=preconnect","string"==typeof t&&(s+='; crossorigin="'+(""+t).replace(eZ,eQ)+'"'),o=s,s=0<=(r.remainingCapacity-=o.length+2)),s?(n.resets.connect[a][e]=null,r.preconnects&&(r.preconnects+=", "),r.preconnects+=o):(ef(a=[],{rel:"preconnect",href:e,crossOrigin:t}),n.preconnects.add(a))),iB(i)}}else j.C(e,t)},L:function(e,t,i){var r=t0||null;if(r){var n=r.resumableState,o=r.renderState;if(t&&e){switch(t){case"image":if(i)var s,a=i.imageSrcSet,l=i.imageSizes,u=i.fetchPriority;var d=a?a+"\n"+(l||""):e;if(n.imageResources.hasOwnProperty(d))return;n.imageResources[d]=$,(n=o.headers)&&0<n.remainingCapacity&&"string"!=typeof a&&"high"===u&&(s=eY(e,t,i),0<=(n.remainingCapacity-=s.length+2))?(o.resets.image[d]=$,n.highImagePreloads&&(n.highImagePreloads+=", "),n.highImagePreloads+=s):(ef(n=[],R({rel:"preload",href:a?void 0:e,as:t},i)),"high"===u?o.highImagePreloads.add(n):(o.bulkPreloads.add(n),o.preloads.images.set(d,n)));break;case"style":if(n.styleResources.hasOwnProperty(e))return;ef(a=[],R({rel:"preload",href:e,as:t},i)),n.styleResources[e]=i&&("string"==typeof i.crossOrigin||"string"==typeof i.integrity)?[i.crossOrigin,i.integrity]:$,o.preloads.stylesheets.set(e,a),o.bulkPreloads.add(a);break;case"script":if(n.scriptResources.hasOwnProperty(e))return;a=[],o.preloads.scripts.set(e,a),o.bulkPreloads.add(a),ef(a,R({rel:"preload",href:e,as:t},i)),n.scriptResources[e]=i&&("string"==typeof i.crossOrigin||"string"==typeof i.integrity)?[i.crossOrigin,i.integrity]:$;break;default:if(n.unknownResources.hasOwnProperty(t)){if((a=n.unknownResources[t]).hasOwnProperty(e))return}else a={},n.unknownResources[t]=a;a[e]=$,(n=o.headers)&&0<n.remainingCapacity&&"font"===t&&(d=eY(e,t,i),0<=(n.remainingCapacity-=d.length+2))?(o.resets.font[e]=$,n.fontPreloads&&(n.fontPreloads+=", "),n.fontPreloads+=d):(ef(n=[],e=R({rel:"preload",href:e,as:t},i)),"font"===t)?o.fontPreloads.add(n):o.bulkPreloads.add(n)}iB(r)}}else j.L(e,t,i)},m:function(e,t){var i=t0||null;if(i){var r=i.resumableState,n=i.renderState;if(e){var o=t&&"string"==typeof t.as?t.as:"script";if("script"===o){if(r.moduleScriptResources.hasOwnProperty(e))return;o=[],r.moduleScriptResources[e]=t&&("string"==typeof t.crossOrigin||"string"==typeof t.integrity)?[t.crossOrigin,t.integrity]:$,n.preloads.moduleScripts.set(e,o)}else{if(r.moduleUnknownResources.hasOwnProperty(o)){var s=r.unknownResources[o];if(s.hasOwnProperty(e))return}else s={},r.moduleUnknownResources[o]=s;o=[],s[e]=$}ef(o,R({rel:"modulepreload",href:e},t)),n.bulkPreloads.add(o),iB(i)}}else j.m(e,t)},X:function(e,t){var i=t0||null;if(i){var r=i.resumableState,n=i.renderState;if(e){var o=r.scriptResources.hasOwnProperty(e)?r.scriptResources[e]:void 0;null!==o&&(r.scriptResources[e]=null,t=R({src:e,async:!0},t),o&&(2===o.length&&eK(t,o),e=n.preloads.scripts.get(e))&&(e.length=0),e=[],n.scripts.add(e),ew(e,t),iB(i))}}else j.X(e,t)},S:function(e,t,i){var r=t0||null;if(r){var n=r.resumableState,o=r.renderState;if(e){t=t||"default";var s=o.styles.get(t),a=n.styleResources.hasOwnProperty(e)?n.styleResources[e]:void 0;null!==a&&(n.styleResources[e]=null,s||(s={precedence:O(t),rules:[],hrefs:[],sheets:new Map},o.styles.set(t,s)),t={state:0,props:R({rel:"stylesheet",href:e,"data-precedence":t},i)},a&&(2===a.length&&eK(t.props,a),(o=o.preloads.stylesheets.get(e))&&0<o.length?o.length=0:t.state=1),s.sheets.set(e,t),iB(r))}}else j.S(e,t,i)},M:function(e,t){var i=t0||null;if(i){var r=i.resumableState,n=i.renderState;if(e){var o=r.moduleScriptResources.hasOwnProperty(e)?r.moduleScriptResources[e]:void 0;null!==o&&(r.moduleScriptResources[e]=null,t=R({src:e,type:"module",async:!0},t),o&&(2===o.length&&eK(t,o),e=n.preloads.moduleScripts.get(e))&&(e.length=0),e=[],n.scripts.add(e),ew(e,t),iB(i))}}else j.M(e,t)}};var $=[],K=null,Y=/(<\/|<)(s)(cript)/gi;function q(e,t,i,r){return""+t+("s"===i?"\\u0073":"\\u0053")+r}function X(e,t,i,r){return{insertionMode:e,selectedValue:t,tagScope:i,viewTransition:r}}function Z(e,t,i){var r=-25&e.tagScope;switch(t){case"noscript":return X(2,null,1|r,null);case"select":return X(2,null!=i.value?i.value:i.defaultValue,r,null);case"svg":return X(4,null,r,null);case"picture":return X(2,null,2|r,null);case"math":return X(5,null,r,null);case"foreignObject":return X(2,null,r,null);case"table":return X(6,null,r,null);case"thead":case"tbody":case"tfoot":return X(7,null,r,null);case"colgroup":return X(9,null,r,null);case"tr":return X(8,null,r,null);case"head":if(2>e.insertionMode)return X(3,null,r,null);break;case"html":if(0===e.insertionMode)return X(1,null,r,null)}return 6<=e.insertionMode||2>e.insertionMode?X(2,null,r,null):null!==e.viewTransition||e.tagScope!==r?X(e.insertionMode,e.selectedValue,r,null):e}function Q(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function J(e,t){return 32&t.tagScope&&(e.instructions|=128),X(t.insertionMode,t.selectedValue,12|t.tagScope,Q(t.viewTransition))}function ee(e,t){e=Q(t.viewTransition);var i=16|t.tagScope;return null!==e&&"none"!==e.share&&(i|=64),X(t.insertionMode,t.selectedValue,i,e)}function et(e,t,i){return e="_"+e.idPrefix+"R_"+t,0<i&&(e+="H"+i.toString(32)),e+"_"}function ei(e,t){null!==(t=t.viewTransition)&&("auto"!==t.name&&(es(e,"vt-name",0===t.nameIdx?t.name:t.name+"_"+t.nameIdx),t.nameIdx++),es(e,"vt-update",t.update),"none"!==t.enter&&es(e,"vt-enter",t.enter),"none"!==t.exit&&es(e,"vt-exit",t.exit),"none"!==t.share&&es(e,"vt-share",t.share))}var er=new Map;function en(e,t){if("object"!=typeof t)throw Error(o(62));var i,r=!0;for(i in t)if(D.call(t,i)){var n=t[i];if(null!=n&&"boolean"!=typeof n&&""!==n){if(0===i.indexOf("--")){var s=O(i);n=O((""+n).trim())}else void 0===(s=er.get(i))&&(s=O(i.replace(G,"-$1").toLowerCase().replace(V,"-ms-")),er.set(i,s)),n="number"==typeof n?0===n||k.has(i)?""+n:n+"px":O((""+n).trim());r?(r=!1,e.push(' style="',s,":",n)):e.push(";",s,":",n)}}r||e.push('"')}function eo(e,t,i){i&&"function"!=typeof i&&"symbol"!=typeof i&&e.push(" ",t,'=""')}function es(e,t,i){"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&e.push(" ",t,'="',O(i),'"')}var ea=O("javascript:throw new Error('React form unexpectedly submitted.')");function el(e,t){this.push('<input type="hidden"'),eu(e),es(this,"name",t),es(this,"value",e),this.push("/>")}function eu(e){if("string"!=typeof e)throw Error(o(480))}function ed(e,t){if("function"==typeof t.$$FORM_ACTION){var i=e.nextFormID++;e=e.idPrefix+i;try{var r=t.$$FORM_ACTION(e);if(r){var n=r.data;null!=n&&n.forEach(eu)}return r}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then)throw e}}return null}function eh(e,t,i,r,n,o,s,a){var l=null;if("function"==typeof r){var u=ed(t,r);null!==u?(a=u.name,r=u.action||"",n=u.encType,o=u.method,s=u.target,l=u.data):(e.push(" ","formAction",'="',ea,'"'),s=o=n=r=a=null,eg(t,i))}return null!=a&&ec(e,"name",a),null!=r&&ec(e,"formAction",r),null!=n&&ec(e,"formEncType",n),null!=o&&ec(e,"formMethod",o),null!=s&&ec(e,"formTarget",s),l}function ec(e,t,i){switch(t){case"className":es(e,"class",i);break;case"tabIndex":es(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":es(e,t,i);break;case"style":en(e,i);break;case"src":case"href":if(""===i)break;case"action":case"formAction":if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i)break;i=H(""+i),e.push(" ",t,'="',O(i),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":eo(e,t.toLowerCase(),i);break;case"xlinkHref":if("function"==typeof i||"symbol"==typeof i||"boolean"==typeof i)break;i=H(""+i),e.push(" ","xlink:href",'="',O(i),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof i&&"symbol"!=typeof i&&e.push(" ",t,'="',O(i),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i&&e.push(" ",t,'=""');break;case"capture":case"download":!0===i?e.push(" ",t,'=""'):!1!==i&&"function"!=typeof i&&"symbol"!=typeof i&&e.push(" ",t,'="',O(i),'"');break;case"cols":case"rows":case"size":case"span":"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i&&e.push(" ",t,'="',O(i),'"');break;case"rowSpan":case"start":"function"==typeof i||"symbol"==typeof i||isNaN(i)||e.push(" ",t,'="',O(i),'"');break;case"xlinkActuate":es(e,"xlink:actuate",i);break;case"xlinkArcrole":es(e,"xlink:arcrole",i);break;case"xlinkRole":es(e,"xlink:role",i);break;case"xlinkShow":es(e,"xlink:show",i);break;case"xlinkTitle":es(e,"xlink:title",i);break;case"xlinkType":es(e,"xlink:type",i);break;case"xmlBase":es(e,"xml:base",i);break;case"xmlLang":es(e,"xml:lang",i);break;case"xmlSpace":es(e,"xml:space",i);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&L(t=N.get(t)||t)){switch(typeof i){case"function":case"symbol":return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return}e.push(" ",t,'="',O(i),'"')}}}function ep(e,t,i){if(null!=t){if(null!=i)throw Error(o(60));if("object"!=typeof t||!("__html"in t))throw Error(o(61));null!=(t=t.__html)&&e.push(""+t)}}function eg(e,t){if(0==(16&e.instructions)){e.instructions|=16;var i=t.preamble,r=t.bootstrapChunks;(i.htmlChunks||i.headChunks)&&0===r.length?(r.push(t.startInlineScript),ej(r,e),r.push(">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"</script>")):r.unshift(t.startInlineScript,">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"</script>")}}function ef(e,t){for(var i in e.push(eE("link")),t)if(D.call(t,i)){var r=t[i];if(null!=r)switch(i){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"link"));default:ec(e,i,r)}}return e.push("/>"),null}var em=/(<\/|<)(s)(tyle)/gi;function ev(e,t,i,r){return""+t+("s"===i?"\\73 ":"\\53 ")+r}function ey(e,t,i,r){for(var n in e.push(eE(i)),t)if(D.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,i));default:ec(e,n,s)}}return ei(e,r),e.push("/>"),null}function eC(e,t){e.push(eE("title"));var i,r=null,n=null;for(i in t)if(D.call(t,i)){var o=t[i];if(null!=o)switch(i){case"children":r=o;break;case"dangerouslySetInnerHTML":n=o;break;default:ec(e,i,o)}}return e.push(">"),"function"!=typeof(t=Array.isArray(r)?2>r.length?r[0]:null:r)&&"symbol"!=typeof t&&null!=t&&e.push(O(""+t)),ep(e,n,r),e.push(eM("title")),null}function ew(e,t){e.push(eE("script"));var i,r=null,n=null;for(i in t)if(D.call(t,i)){var o=t[i];if(null!=o)switch(i){case"children":r=o;break;case"dangerouslySetInnerHTML":n=o;break;default:ec(e,i,o)}}return e.push(">"),ep(e,n,r),"string"==typeof r&&e.push((""+r).replace(Y,q)),e.push(eM("script")),null}function eb(e,t,i,r){e.push(eE(i));var n,o=i=null;for(n in t)if(D.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":i=s;break;case"dangerouslySetInnerHTML":o=s;break;default:ec(e,n,s)}}return ei(e,r),e.push(">"),ep(e,o,i),i}function eS(e,t,i,r){e.push(eE(i));var n,o=i=null;for(n in t)if(D.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":i=s;break;case"dangerouslySetInnerHTML":o=s;break;default:ec(e,n,s)}}return ei(e,r),e.push(">"),ep(e,o,i),"string"==typeof i?(e.push(O(i)),null):i}var ex=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,e_=new Map;function eE(e){var t=e_.get(e);if(void 0===t){if(!ex.test(e))throw Error(o(65,e));t="<"+e,e_.set(e,t)}return t}var eT=new Map;function eM(e){var t=eT.get(e);return void 0===t&&(t="</"+e+">",eT.set(e,t)),t}function eR(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function eD(e,t){t=t.bootstrapChunks;for(var i=0;i<t.length-1;i++)e.push(t[i]);return!(i<t.length)||(i=t[i],t.length=0,e.push(i))}function eA(e,t,i){if(e.push('<!--$?--><template id="'),null===i)throw Error(o(395));return e.push(t.boundaryPrefix),t=i.toString(16),e.push(t),e.push('"></template>')}var eI=/[<\u2028\u2029]/g,eP=/[&><\u2028\u2029]/g;function eL(e){return JSON.stringify(e).replace(eP,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ek=!1,eN=!0;function eF(e){var t=e.rules,i=e.hrefs,r=0;if(i.length){for(this.push(K.startInlineStyle),this.push(' media="not all" data-precedence="'),this.push(e.precedence),this.push('" data-href="');r<i.length-1;r++)this.push(i[r]),this.push(" ");for(this.push(i[r]),this.push('">'),r=0;r<t.length;r++)this.push(t[r]);eN=this.push("</style>"),ek=!0,t.length=0,i.length=0}}function eO(e){return 2!==e.state&&(ek=!0)}function eG(e,t,i){return ek=!1,eN=!0,K=i,t.styles.forEach(eF,e),K=null,t.stylesheets.forEach(eO),ek&&(i.stylesToHoist=!0),eN}function eV(e){for(var t=0;t<e.length;t++)this.push(e[t]);e.length=0}var eB=[];function eH(e){ef(eB,e.props);for(var t=0;t<eB.length;t++)this.push(eB[t]);eB.length=0,e.state=2}function ez(e){var t=0<e.sheets.size;e.sheets.forEach(eH,this),e.sheets.clear();var i=e.rules,r=e.hrefs;if(!t||r.length){if(this.push(K.startInlineStyle),this.push(' data-precedence="'),this.push(e.precedence),e=0,r.length){for(this.push('" data-href="');e<r.length-1;e++)this.push(r[e]),this.push(" ");this.push(r[e])}for(this.push('">'),e=0;e<i.length;e++)this.push(i[e]);this.push("</style>"),i.length=0,r.length=0}}function eW(e){if(0===e.state){e.state=1;var t=e.props;for(ef(eB,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<eB.length;e++)this.push(eB[e]);eB.length=0}}function eU(e){e.sheets.forEach(eW,this),e.sheets.clear()}function ej(e,t){0==(32&t.instructions)&&(t.instructions|=32,e.push(' id="',O("_"+t.idPrefix+"R_"),'"'))}function e$(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function eK(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function eY(e,t,i){for(var r in t="<"+(e=(""+e).replace(eq,eX))+'>; rel=preload; as="'+(t=(""+t).replace(eZ,eQ))+'"',i)D.call(i,r)&&"string"==typeof(e=i[r])&&(t+="; "+r.toLowerCase()+'="'+(""+e).replace(eZ,eQ)+'"');return t}var eq=/[<>\r\n]/g;function eX(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var eZ=/["';,\r\n]/g;function eQ(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function eJ(e){this.styles.add(e)}function e0(e){this.stylesheets.add(e)}function e1(e,t){t.styles.forEach(eJ,e),t.stylesheets.forEach(e0,e),t.suspenseyImages&&(e.suspenseyImages=!0)}function e2(e,t,i,r){return i.generateStaticMarkup?(e.push(O(t)),!1):(""===t?e=r:(r&&e.push("<!-- -->"),e.push(O(t)),e=!0),e)}function e5(e,t,i,r){t.generateStaticMarkup||i&&r&&e.push("<!-- -->")}var e3=Function.prototype.bind,e4=Symbol.for("react.client.reference");function e6(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===e4?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case d:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case f:return"SuspenseList";case C:return"Activity";case S:return"ViewTransition"}if("object"==typeof e)switch(e.$$typeof){case a:return"Portal";case c:return e.displayName||"Context";case h:return(e._context.displayName||"Context")+".Consumer";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case m:return null!==(t=e.displayName||null)?t:e6(e.type)||"Memo";case v:t=e._payload,e=e._init;try{return e6(e(t))}catch(e){}}return null}var e8={},e9=null;function e7(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var i=t.parent;if(null===e){if(null!==i)throw Error(o(401))}else{if(null===i)throw Error(o(401));e7(e,i)}t.context._currentValue2=t.value}}function te(e){var t=e9;t!==e&&(null===t?function e(t){var i=t.parent;null!==i&&e(i),t.context._currentValue2=t.value}(e):null===e?function e(t){t.context._currentValue2=t.parentValue,null!==(t=t.parent)&&e(t)}(t):t.depth===e.depth?e7(t,e):t.depth>e.depth?function e(t,i){if(t.context._currentValue2=t.parentValue,null===(t=t.parent))throw Error(o(402));t.depth===i.depth?e7(t,i):e(t,i)}(t,e):function e(t,i){var r=i.parent;if(null===r)throw Error(o(402));t.depth===r.depth?e7(t,r):e(t,r),i.context._currentValue2=i.value}(t,e),e9=e)}var tt={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},ti={id:1,overflow:""};function tr(e){var t=e.overflow;return((e=e.id)&~(1<<32-to(e)-1)).toString(32)+t}function tn(e,t,i){var r=e.id;e=e.overflow;var n=32-to(r)-1;r&=~(1<<n),i+=1;var o=32-to(t)+n;if(30<o){var s=n-n%5;return o=(r&(1<<s)-1).toString(32),r>>=s,n-=s,{id:1<<32-to(t)+n|i<<n|r,overflow:o+e}}return{id:1<<o|i<<n|r,overflow:e}}var to=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ts(e)/ta|0)|0},ts=Math.log,ta=Math.LN2;function tl(){}var tu=Error(o(460)),td=null;function th(){if(null===td)throw Error(o(459));var e=td;return td=null,e}var tc="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tp=null,tg=null,tf=null,tm=null,tv=null,ty=null,tC=!1,tw=!1,tb=0,tS=0,tx=-1,t_=0,tE=null,tT=null,tM=0;function tR(){if(null===tp)throw Error(o(321));return tp}function tD(){if(0<tM)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function tA(){return null===ty?null===tv?(tC=!1,tv=ty=tD()):(tC=!0,ty=tv):null===ty.next?(tC=!1,ty=ty.next=tD()):(tC=!0,ty=ty.next),ty}function tI(){var e=tE;return tE=null,e}function tP(){tm=tf=tg=tp=null,tw=!1,tv=null,tM=0,ty=tT=null}function tL(e,t){return"function"==typeof t?t(e):t}function tk(e,t,i){if(tp=tR(),ty=tA(),tC){var r=ty.queue;if(t=r.dispatch,null!==tT&&void 0!==(i=tT.get(r))){tT.delete(r),r=ty.memoizedState;do r=e(r,i.action),i=i.next;while(null!==i)return ty.memoizedState=r,[r,t]}return[ty.memoizedState,t]}return e=e===tL?"function"==typeof t?t():t:void 0!==i?i(t):t,ty.memoizedState=e,e=(e=ty.queue={last:null,dispatch:null}).dispatch=tF.bind(null,tp,e),[ty.memoizedState,e]}function tN(e,t){if(tp=tR(),ty=tA(),t=void 0===t?null:t,null!==ty){var i=ty.memoizedState;if(null!==i&&null!==t){var r=i[1];t:if(null===r)r=!1;else{for(var n=0;n<r.length&&n<t.length;n++)if(!tc(t[n],r[n])){r=!1;break t}r=!0}if(r)return i[0]}}return e=e(),ty.memoizedState=[e,t],e}function tF(e,t,i){if(25<=tM)throw Error(o(301));if(e===tp)if(tw=!0,e={action:i,next:null},null===tT&&(tT=new Map),void 0===(i=tT.get(t)))tT.set(t,e);else{for(t=i;null!==t.next;)t=t.next;t.next=e}}function tO(){throw Error(o(440))}function tG(){throw Error(o(394))}function tV(){throw Error(o(479))}function tB(e,t,i){tR();var r=tS++,n=tf;if("function"==typeof e.$$FORM_ACTION){var o=null,s=tm;n=n.formState;var a=e.$$IS_SIGNATURE_EQUAL;if(null!==n&&"function"==typeof a){var l=n[1];a.call(e,n[2],n[3])&&l===(o=void 0!==i?"p"+i:"k"+M(JSON.stringify([s,null,r]),0))&&(tx=r,t=n[0])}var u=e.bind(null,t);return e=function(e){u(e)},"function"==typeof u.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=u.$$FORM_ACTION(e),void 0!==i&&(i+="",e.action=i);var t=e.data;return t&&(null===o&&(o=void 0!==i?"p"+i:"k"+M(JSON.stringify([s,null,r]),0)),t.append("$ACTION_KEY",o)),e}),[t,e,!1]}var d=e.bind(null,t);return[t,function(e){d(e)},!1]}function tH(e){var t=t_;t_+=1,null===tE&&(tE=[]);var i=tE,r=e,n=t;switch(void 0===(n=i[n])?i.push(r):n!==r&&(r.then(tl,tl),r=n),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch("string"==typeof r.status?r.then(tl,tl):((i=r).status="pending",i.then(function(e){if("pending"===r.status){var t=r;t.status="fulfilled",t.value=e}},function(e){if("pending"===r.status){var t=r;t.status="rejected",t.reason=e}})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}throw td=r,tu}}function tz(){throw Error(o(393))}var tW,tU,tj={readContext:function(e){return e._currentValue2},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return tH(e);if(e.$$typeof===c)return e._currentValue2}throw Error(o(438,String(e)))},useContext:function(e){return tR(),e._currentValue2},useMemo:tN,useReducer:tk,useRef:function(e){tp=tR();var t=(ty=tA()).memoizedState;return null===t?(e={current:e},ty.memoizedState=e):t},useState:function(e){return tk(tL,e)},useInsertionEffect:tl,useLayoutEffect:tl,useCallback:function(e,t){return tN(function(){return e},t)},useImperativeHandle:tl,useEffect:tl,useDebugValue:tl,useDeferredValue:function(e,t){return tR(),void 0!==t?t:e},useTransition:function(){return tR(),[!1,tG]},useId:function(){var e=tr(tg.treeContext),t=t$;if(null===t)throw Error(o(404));return et(t,e,tb++)},useSyncExternalStore:function(e,t,i){if(void 0===i)throw Error(o(407));return i()},useOptimistic:function(e){return tR(),[e,tV]},useActionState:tB,useFormState:tB,useHostTransitionStatus:function(){return tR(),U},useMemoCache:function(e){for(var t=Array(e),i=0;i<e;i++)t[i]=b;return t},useCacheRefresh:function(){return tz},useEffectEvent:function(){return tO}},t$=null,tK={getCacheForType:function(){throw Error(o(248))},cacheSignal:function(){throw Error(o(248))}};function tY(e){if(void 0===tW)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);tW=t&&t[1]||"",tU=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+tW+e+tU}var tq=!1;function tX(e,t){if(!e||tq)return"";tq=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var i=function(){throw Error()};if(Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(i,[])}catch(e){var r=e}Reflect.construct(e,[],i)}else{try{i.call()}catch(e){r=e}e.call(i.prototype)}}else{try{throw Error()}catch(e){r=e}(i=e())&&"function"==typeof i.catch&&i.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),u=a.split("\n");for(n=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;if(r===l.length||n===u.length)for(r=l.length-1,n=u.length-1;1<=r&&0<=n&&l[r]!==u[n];)n--;for(;1<=r&&0<=n;r--,n--)if(l[r]!==u[n]){if(1!==r||1!==n)do if(r--,n--,0>n||l[r]!==u[n]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=r&&0<=n)break}}}finally{tq=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?tY(i):""}function tZ(e,t){return(500<t.byteSize||t.defer)&&null===t.preamble}function tQ(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e])[0]?e.splice(0,1,"[%s] "+e[0]," "+t+" "):e.splice(0,0,"[%s]"," "+t+" "),e.unshift(console),(t=e3.apply(console.error,e))()}else console.error(e);return null}function tJ(e,t,i,r,n,o,s,a,l,u){var d=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=i,this.progressiveChunkSize=void 0===r?12800:r,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=d,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===n?tQ:n,this.onAllReady=void 0===o?tl:o,this.onShellReady=void 0===s?tl:s,this.onShellError=void 0===a?tl:a,this.onFatalError=void 0===l?tl:l,this.formState=void 0===u?null:u}var t0=null;function t1(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,iR(e))}function t2(e,t,i,r,n){return i={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,defer:n,fallbackAbortableTasks:i,errorDigest:null,contentState:e$(),fallbackState:e$(),preamble:r,tracked:null},null!==t&&(t.pendingTasks++,null!==(r=t.boundaries)&&(e.allPendingTasks++,i.pendingTasks++,r.push(i)),null!==(e=t.inheritedHoistables)&&e1(i.contentState,e)),i}function t5(e,t,i,r,n,o,s,a,l,u,d,h,c,p,g){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++,null!==p&&p.pendingTasks++;var f={replay:null,node:i,childIndex:r,ping:function(){return t1(e,f)},blockedBoundary:n,blockedSegment:o,blockedPreamble:s,hoistableState:a,abortSet:l,keyPath:u,formatContext:d,context:h,treeContext:c,row:p,componentStack:g,thenableState:t};return l.add(f),f}function t3(e,t,i,r,n,o,s,a,l,u,d,h,c,p){e.allPendingTasks++,null===o?e.pendingRootTasks++:o.pendingTasks++,null!==c&&c.pendingTasks++,i.pendingTasks++;var g={replay:i,node:r,childIndex:n,ping:function(){return t1(e,g)},blockedBoundary:o,blockedSegment:null,blockedPreamble:null,hoistableState:s,abortSet:a,keyPath:l,formatContext:u,context:d,treeContext:h,row:c,componentStack:p,thenableState:t};return a.add(g),g}function t4(e,t,i,r,n,o){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:r,boundary:i,lastPushedText:n,textEmbedded:o}}function t6(e){var t=e.node;"object"==typeof t&&null!==t&&t.$$typeof===s&&(e.componentStack={parent:e.componentStack,type:t.type})}function t8(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function t9(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var i="",r=e;do i+=function e(t){if("string"==typeof t)return tY(t);if("function"==typeof t)return t.prototype&&t.prototype.isReactComponent?tX(t,!0):tX(t,!1);if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return tX(t.render,!1);case m:return tX(t.type,!1);case v:var i=t,r=i._payload;i=i._init;try{t=i(r)}catch(e){return tY("Lazy")}return e(t)}if("string"==typeof t.name){t:{r=t.name,i=t.env;var n=t.debugLocation;if(null!=n&&(t=Error.prepareStackTrace,Error.prepareStackTrace=void 0,n=n.stack,Error.prepareStackTrace=t,n.startsWith("Error: react-stack-top-frame\n")&&(n=n.slice(29)),-1!==(t=n.indexOf("\n"))&&(n=n.slice(t+1)),-1!==(t=n.indexOf("react_stack_bottom_frame"))&&(t=n.lastIndexOf("\n",t)),-1!==(t=-1===(n=(t=-1!==t?n=n.slice(0,t):"").lastIndexOf("\n"))?t:t.slice(n+1)).indexOf(r))){r="\n"+t;break t}r=tY(r+(i?" ["+i+"]":""))}return r}}switch(t){case f:return tY("SuspenseList");case g:return tY("Suspense");case S:return tY("ViewTransition")}return""}(r.type),r=r.parent;while(r)var n=i}catch(e){n="\nError generating stack: "+e.message+"\n"+e.stack}return Object.defineProperty(t,"componentStack",{value:n}),n}}),t}function t7(e,t,i){if(null==(t=(e=e.onError)(t,i))||"string"==typeof t)return t}function ie(e,t){var i=e.onShellError,r=e.onFatalError;i(t),r(t),null!==e.destination?(e.status=14,e.destination.destroy(t)):(e.status=13,e.fatalError=t)}function it(e,t){ii(e,t.next,t.hoistables)}function ii(e,t,i){for(;null!==t;){null!==i&&(e1(t.hoistables,i),t.inheritedHoistables=i);var r=t.boundaries;if(null!==r){t.boundaries=null;for(var n=0;n<r.length;n++){var o=r[n];null!==i&&e1(o.contentState,i),iM(e,o,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;i=t.hoistables,t=t.next}}function ir(e,t){var i=t.boundaries;if(null!==i&&t.pendingTasks===i.length){for(var r=!0,n=0;n<i.length;n++){var o=i[n];if(1!==o.pendingTasks||o.parentFlushed||tZ(e,o)){r=!1;break}}r&&ii(e,t,t.hoistables)}}function io(e){var t={pendingTasks:1,boundaries:null,hoistables:e$(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function is(e,t,i,r,n){var o=t.keyPath,s=t.treeContext,a=t.row;t.keyPath=i,i=r.length;var l=null;if(null!==t.replay){var u=t.replay.slots;if(null!==u&&"object"==typeof u)for(var d=0;d<i;d++){var h="backwards"!==n&&"unstable_legacy-backwards"!==n?d:i-1-d,c=r[h];t.row=l=io(l),t.treeContext=tn(s,i,h);var p=u[h];"number"==typeof p?(id(e,t,p,c,h),delete u[h]):iw(e,t,c,h),0==--l.pendingTasks&&it(e,l)}else for(u=0;u<i;u++)h=r[d="backwards"!==n&&"unstable_legacy-backwards"!==n?u:i-1-u],t.row=l=io(l),t.treeContext=tn(s,i,d),iw(e,t,h,d),0==--l.pendingTasks&&it(e,l)}else if("backwards"!==n&&"unstable_legacy-backwards"!==n)for(n=0;n<i;n++)u=r[n],t.row=l=io(l),t.treeContext=tn(s,i,n),iw(e,t,u,n),0==--l.pendingTasks&&it(e,l);else{for(c=0,d=(u=t.blockedSegment).children.length,h=u.chunks.length;c<i;c++){var g=r[p="unstable_legacy-backwards"===n?i-1-c:c];t.row=l=io(l),t.treeContext=tn(s,i,p);var f=t4(e,h,null,t.formatContext,0!==p||u.lastPushedText,!0);u.children.splice(d,0,f),t.blockedSegment=f;try{iw(e,t,g,p),e5(f.chunks,e.renderState,f.lastPushedText,f.textEmbedded),f.status=1,0==--l.pendingTasks&&it(e,l)}catch(t){throw f.status=12===e.status?3:4,t}}t.blockedSegment=u,u.lastPushedText=!1}null!==a&&null!==l&&0<l.pendingTasks&&(a.pendingTasks++,l.next=a),t.treeContext=s,t.row=a,t.keyPath=o}function ia(e,t,i,r,n,o){var s=t.thenableState;for(t.thenableState=null,tp={},tg=t,tf=e,tm=i,tS=tb=0,tx=-1,t_=0,tE=s,e=r(n,o);tw;)tw=!1,tS=tb=0,tx=-1,t_=0,tM+=1,ty=null,e=r(n,o);return tP(),e}function il(e,t,i,r,n,o,s){var a=!1;if(0!==o&&null!==e.formState){var l=t.blockedSegment;if(null!==l){a=!0,l=l.chunks;for(var u=0;u<o;u++)u===s?l.push("<!--F!-->"):l.push("<!--F-->")}}o=t.keyPath,t.keyPath=i,n?(i=t.treeContext,t.treeContext=tn(i,1,0),iw(e,t,r,-1),t.treeContext=i):a?iw(e,t,r,-1):ih(e,t,r,-1),t.keyPath=o}function iu(e,t,i,n,s,a){if("function"==typeof n)if(n.prototype&&n.prototype.isReactComponent){var b=s;if("ref"in s)for(var x in b={},s)"ref"!==x&&(b[x]=s[x]);var E=n.defaultProps;if(E)for(var M in b===s&&(b=R({},b,s)),E)void 0===b[M]&&(b[M]=E[M]);var A=b,I=e8,P=n.contextType;"object"==typeof P&&null!==P&&(I=P._currentValue2);var k=new n(A,I),N=void 0!==k.state?k.state:null;k.updater=tt,k.props=A,k.state=N;var F={queue:[],replace:!1};k._reactInternals=F;var G=n.contextType;k.context="object"==typeof G&&null!==G?G._currentValue2:e8;var V=n.getDerivedStateFromProps;if("function"==typeof V){var B=V(A,N);k.state=null==B?N:R({},N,B)}if("function"!=typeof n.getDerivedStateFromProps&&"function"!=typeof k.getSnapshotBeforeUpdate&&("function"==typeof k.UNSAFE_componentWillMount||"function"==typeof k.componentWillMount)){var z=k.state;if("function"==typeof k.componentWillMount&&k.componentWillMount(),"function"==typeof k.UNSAFE_componentWillMount&&k.UNSAFE_componentWillMount(),z!==k.state&&tt.enqueueReplaceState(k,k.state,null),null!==F.queue&&0<F.queue.length){var W=F.queue,U=F.replace;if(F.queue=null,F.replace=!1,U&&1===W.length)k.state=W[0];else{for(var j=U?W[0]:k.state,K=!0,Y=+!!U;Y<W.length;Y++){var q=W[Y],X="function"==typeof q?q.call(k,j,A,void 0):q;null!=X&&(K?(K=!1,j=R({},j,X)):R(j,X))}k.state=j}}else F.queue=null}var Q=k.render();if(12===e.status)throw null;var er=t.keyPath;t.keyPath=i,ih(e,t,Q,-1),t.keyPath=er}else{var eu=ia(e,t,i,n,s,void 0);if(12===e.status)throw null;il(e,t,i,eu,0!==tb,tS,tx)}else if("string"==typeof n){var ex=t.blockedSegment;if(null===ex){var e_=s.children,eT=t.formatContext,eR=t.keyPath;t.formatContext=Z(eT,n,s),t.keyPath=i,iw(e,t,e_,-1),t.formatContext=eT,t.keyPath=eR}else{var eD=function(e,t,i,n,s,a,l,u,d){switch(t){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":e.push(eE("a"));var h,c=null,p=null;for(h in i)if(D.call(i,h)){var g=i[h];if(null!=g)switch(h){case"children":c=g;break;case"dangerouslySetInnerHTML":p=g;break;case"href":""===g?es(e,"href",""):ec(e,h,g);break;default:ec(e,h,g)}}if(ei(e,u),e.push(">"),ep(e,p,c),"string"==typeof c){e.push(O(c));var f=null}else f=c;return f;case"select":e.push(eE("select"));var m,v=null,y=null;for(m in i)if(D.call(i,m)){var C=i[m];if(null!=C)switch(m){case"children":v=C;break;case"dangerouslySetInnerHTML":y=C;break;case"defaultValue":case"value":break;default:ec(e,m,C)}}return ei(e,u),e.push(">"),ep(e,y,v),v;case"option":var w=u.selectedValue;e.push(eE("option"));var b,S=null,x=null,_=null,E=null;for(b in i)if(D.call(i,b)){var M=i[b];if(null!=M)switch(b){case"children":S=M;break;case"selected":_=M;break;case"dangerouslySetInnerHTML":E=M;break;case"value":x=M;default:ec(e,b,M)}}if(null!=w){var A,I,P=null!==x?""+x:(A=S,I="",r.Children.forEach(A,function(e){null!=e&&(I+=e)}),I);if(T(w)){for(var k=0;k<w.length;k++)if(""+w[k]===P){e.push(' selected=""');break}}else""+w===P&&e.push(' selected=""')}else _&&e.push(' selected=""');return e.push(">"),ep(e,E,S),S;case"textarea":e.push(eE("textarea"));var N,F=null,G=null,V=null;for(N in i)if(D.call(i,N)){var B=i[N];if(null!=B)switch(N){case"children":V=B;break;case"value":F=B;break;case"defaultValue":G=B;break;case"dangerouslySetInnerHTML":throw Error(o(91));default:ec(e,N,B)}}if(null===F&&null!==G&&(F=G),ei(e,u),e.push(">"),null!=V){if(null!=F)throw Error(o(92));if(T(V)){if(1<V.length)throw Error(o(93));F=""+V[0]}F=""+V}return"string"==typeof F&&"\n"===F[0]&&e.push("\n"),null!==F&&e.push(O(""+F)),null;case"input":e.push(eE("input"));var z,W=null,U=null,j=null,K=null,Y=null,q=null,X=null,Z=null,Q=null;for(z in i)if(D.call(i,z)){var J=i[z];if(null!=J)switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"input"));case"name":W=J;break;case"formAction":U=J;break;case"formEncType":j=J;break;case"formMethod":K=J;break;case"formTarget":Y=J;break;case"defaultChecked":Q=J;break;case"defaultValue":X=J;break;case"checked":Z=J;break;case"value":q=J;break;default:ec(e,z,J)}}var ee=eh(e,n,s,U,j,K,Y,W);return null!==Z?eo(e,"checked",Z):null!==Q&&eo(e,"checked",Q),null!==q?ec(e,"value",q):null!==X&&ec(e,"value",X),ei(e,u),e.push("/>"),null!=ee&&ee.forEach(el,e),null;case"button":e.push(eE("button"));var et,er=null,eu=null,ex=null,e_=null,eT=null,eR=null,eD=null;for(et in i)if(D.call(i,et)){var eA=i[et];if(null!=eA)switch(et){case"children":er=eA;break;case"dangerouslySetInnerHTML":eu=eA;break;case"name":ex=eA;break;case"formAction":e_=eA;break;case"formEncType":eT=eA;break;case"formMethod":eR=eA;break;case"formTarget":eD=eA;break;default:ec(e,et,eA)}}var eI=eh(e,n,s,e_,eT,eR,eD,ex);if(ei(e,u),e.push(">"),null!=eI&&eI.forEach(el,e),ep(e,eu,er),"string"==typeof er){e.push(O(er));var eP=null}else eP=er;return eP;case"form":e.push(eE("form"));var eL,ek=null,eN=null,eF=null,eO=null,eG=null,eV=null;for(eL in i)if(D.call(i,eL)){var eB=i[eL];if(null!=eB)switch(eL){case"children":ek=eB;break;case"dangerouslySetInnerHTML":eN=eB;break;case"action":eF=eB;break;case"encType":eO=eB;break;case"method":eG=eB;break;case"target":eV=eB;break;default:ec(e,eL,eB)}}var eH=null,ez=null;if("function"==typeof eF){var eW=ed(n,eF);null!==eW?(eF=eW.action||"",eO=eW.encType,eG=eW.method,eV=eW.target,eH=eW.data,ez=eW.name):(e.push(" ","action",'="',ea,'"'),eV=eG=eO=eF=null,eg(n,s))}if(null!=eF&&ec(e,"action",eF),null!=eO&&ec(e,"encType",eO),null!=eG&&ec(e,"method",eG),null!=eV&&ec(e,"target",eV),ei(e,u),e.push(">"),null!==ez&&(e.push('<input type="hidden"'),es(e,"name",ez),e.push("/>"),null!=eH&&eH.forEach(el,e)),ep(e,eN,ek),"string"==typeof ek){e.push(O(ek));var eU=null}else eU=ek;return eU;case"menuitem":for(var ej in e.push(eE("menuitem")),i)if(D.call(i,ej)){var e$=i[ej];if(null!=e$)switch(ej){case"children":case"dangerouslySetInnerHTML":throw Error(o(400));default:ec(e,ej,e$)}}return ei(e,u),e.push(">"),null;case"object":e.push(eE("object"));var eq,eX=null,eZ=null;for(eq in i)if(D.call(i,eq)){var eQ=i[eq];if(null!=eQ)switch(eq){case"children":eX=eQ;break;case"dangerouslySetInnerHTML":eZ=eQ;break;case"data":var eJ=H(""+eQ);if(""===eJ)break;e.push(" ","data",'="',O(eJ),'"');break;default:ec(e,eq,eQ)}}if(ei(e,u),e.push(">"),ep(e,eZ,eX),"string"==typeof eX){e.push(O(eX));var e0=null}else e0=eX;return e0;case"title":var e1=1&u.tagScope,e2=4&u.tagScope;if(4===u.insertionMode||e1||null!=i.itemProp)var e5=eC(e,i);else e2?e5=null:(eC(s.hoistableChunks,i),e5=void 0);return e5;case"link":var e3=1&u.tagScope,e4=4&u.tagScope,e6=i.rel,e8=i.href,e9=i.precedence;if(4===u.insertionMode||e3||null!=i.itemProp||"string"!=typeof e6||"string"!=typeof e8||""===e8){ef(e,i);var e7=null}else if("stylesheet"===i.rel)if("string"!=typeof e9||null!=i.disabled||i.onLoad||i.onError)e7=ef(e,i);else{var te=s.styles.get(e9),tt=n.styleResources.hasOwnProperty(e8)?n.styleResources[e8]:void 0;if(null!==tt){n.styleResources[e8]=null,te||(te={precedence:O(e9),rules:[],hrefs:[],sheets:new Map},s.styles.set(e9,te));var ti={state:0,props:R({},i,{"data-precedence":i.precedence,precedence:null})};if(tt){2===tt.length&&eK(ti.props,tt);var tr=s.preloads.stylesheets.get(e8);tr&&0<tr.length?tr.length=0:ti.state=1}te.sheets.set(e8,ti),l&&l.stylesheets.add(ti)}else if(te){var tn=te.sheets.get(e8);tn&&l&&l.stylesheets.add(tn)}d&&e.push("<!-- -->"),e7=null}else i.onLoad||i.onError?e7=ef(e,i):(d&&e.push("<!-- -->"),e7=e4?null:ef(s.hoistableChunks,i));return e7;case"script":var to=1&u.tagScope,ts=i.async;if("string"!=typeof i.src||!i.src||!ts||"function"==typeof ts||"symbol"==typeof ts||i.onLoad||i.onError||4===u.insertionMode||to||null!=i.itemProp)var ta=ew(e,i);else{var tl=i.src;if("module"===i.type)var tu=n.moduleScriptResources,td=s.preloads.moduleScripts;else tu=n.scriptResources,td=s.preloads.scripts;var th=tu.hasOwnProperty(tl)?tu[tl]:void 0;if(null!==th){tu[tl]=null;var tc=i;if(th){2===th.length&&eK(tc=R({},i),th);var tp=td.get(tl);tp&&(tp.length=0)}var tg=[];s.scripts.add(tg),ew(tg,tc)}d&&e.push("<!-- -->"),ta=null}return ta;case"style":var tf=1&u.tagScope,tm=i.precedence,tv=i.href,ty=i.nonce;if(4===u.insertionMode||tf||null!=i.itemProp||"string"!=typeof tm||"string"!=typeof tv||""===tv){e.push(eE("style"));var tC,tw=null,tb=null;for(tC in i)if(D.call(i,tC)){var tS=i[tC];if(null!=tS)switch(tC){case"children":tw=tS;break;case"dangerouslySetInnerHTML":tb=tS;break;default:ec(e,tC,tS)}}e.push(">");var tx=Array.isArray(tw)?2>tw.length?tw[0]:null:tw;"function"!=typeof tx&&"symbol"!=typeof tx&&null!=tx&&e.push((""+tx).replace(em,ev)),ep(e,tb,tw),e.push(eM("style"));var t_=null}else{var tE=s.styles.get(tm);if(null!==(n.styleResources.hasOwnProperty(tv)?n.styleResources[tv]:void 0)){n.styleResources[tv]=null,tE||(tE={precedence:O(tm),rules:[],hrefs:[],sheets:new Map},s.styles.set(tm,tE));var tT=s.nonce.style;if(!tT||tT===ty){tE.hrefs.push(O(tv));var tM,tR=tE.rules,tD=null,tA=null;for(tM in i)if(D.call(i,tM)){var tI=i[tM];if(null!=tI)switch(tM){case"children":tD=tI;break;case"dangerouslySetInnerHTML":tA=tI}}var tP=Array.isArray(tD)?2>tD.length?tD[0]:null:tD;"function"!=typeof tP&&"symbol"!=typeof tP&&null!=tP&&tR.push((""+tP).replace(em,ev)),ep(tR,tA,tD)}}tE&&l&&l.styles.add(tE),d&&e.push("<!-- -->"),t_=void 0}return t_;case"meta":var tL=1&u.tagScope,tk=4&u.tagScope;if(4===u.insertionMode||tL||null!=i.itemProp)var tN=ey(e,i,"meta",u);else d&&e.push("<!-- -->"),tN=tk?null:"string"==typeof i.charSet?ey(s.charsetChunks,i,"meta",u):"viewport"===i.name?ey(s.viewportChunks,i,"meta",u):ey(s.hoistableChunks,i,"meta",u);return tN;case"listing":case"pre":e.push(eE(t));var tF,tO=null,tG=null;for(tF in i)if(D.call(i,tF)){var tV=i[tF];if(null!=tV)switch(tF){case"children":tO=tV;break;case"dangerouslySetInnerHTML":tG=tV;break;default:ec(e,tF,tV)}}if(ei(e,u),e.push(">"),null!=tG){if(null!=tO)throw Error(o(60));if("object"!=typeof tG||!("__html"in tG))throw Error(o(61));var tB=tG.__html;null!=tB&&("string"==typeof tB&&0<tB.length&&"\n"===tB[0]?e.push("\n",tB):e.push(""+tB))}return"string"==typeof tO&&"\n"===tO[0]&&e.push("\n"),tO;case"img":var tH=3&u.tagScope,tz=i.src,tW=i.srcSet;if(!("lazy"===i.loading||!tz&&!tW||"string"!=typeof tz&&null!=tz||"string"!=typeof tW&&null!=tW||"low"===i.fetchPriority||tH)&&("string"!=typeof tz||":"!==tz[4]||"d"!==tz[0]&&"D"!==tz[0]||"a"!==tz[1]&&"A"!==tz[1]||"t"!==tz[2]&&"T"!==tz[2]||"a"!==tz[3]&&"A"!==tz[3])&&("string"!=typeof tW||":"!==tW[4]||"d"!==tW[0]&&"D"!==tW[0]||"a"!==tW[1]&&"A"!==tW[1]||"t"!==tW[2]&&"T"!==tW[2]||"a"!==tW[3]&&"A"!==tW[3])){null!==l&&64&u.tagScope&&(l.suspenseyImages=!0);var tU="string"==typeof i.sizes?i.sizes:void 0,tj=tW?tW+"\n"+(tU||""):tz,t$=s.preloads.images,tK=t$.get(tj);if(tK)("high"===i.fetchPriority||10>s.highImagePreloads.size)&&(t$.delete(tj),s.highImagePreloads.add(tK));else if(!n.imageResources.hasOwnProperty(tj)){n.imageResources[tj]=$;var tY,tq=i.crossOrigin,tX="string"==typeof tq?"use-credentials"===tq?tq:"":void 0,tZ=s.headers;tZ&&0<tZ.remainingCapacity&&"string"!=typeof i.srcSet&&("high"===i.fetchPriority||500>tZ.highImagePreloads.length)&&(tY=eY(tz,"image",{imageSrcSet:i.srcSet,imageSizes:i.sizes,crossOrigin:tX,integrity:i.integrity,nonce:i.nonce,type:i.type,fetchPriority:i.fetchPriority,referrerPolicy:i.refererPolicy}),0<=(tZ.remainingCapacity-=tY.length+2))?(s.resets.image[tj]=$,tZ.highImagePreloads&&(tZ.highImagePreloads+=", "),tZ.highImagePreloads+=tY):(ef(tK=[],{rel:"preload",as:"image",href:tW?void 0:tz,imageSrcSet:tW,imageSizes:tU,crossOrigin:tX,integrity:i.integrity,type:i.type,fetchPriority:i.fetchPriority,referrerPolicy:i.referrerPolicy}),"high"===i.fetchPriority||10>s.highImagePreloads.size?s.highImagePreloads.add(tK):(s.bulkPreloads.add(tK),t$.set(tj,tK)))}}return ey(e,i,"img",u);case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return ey(e,i,t,u);case"head":if(2>u.insertionMode){var tQ=a||s.preamble;if(tQ.headChunks)throw Error(o(545,"`<head>`"));null!==a&&e.push("<!--head-->"),tQ.headChunks=[];var tJ=eb(tQ.headChunks,i,"head",u)}else tJ=eS(e,i,"head",u);return tJ;case"body":if(2>u.insertionMode){var t0=a||s.preamble;if(t0.bodyChunks)throw Error(o(545,"`<body>`"));null!==a&&e.push("<!--body-->"),t0.bodyChunks=[];var t1=eb(t0.bodyChunks,i,"body",u)}else t1=eS(e,i,"body",u);return t1;case"html":if(0===u.insertionMode){var t2=a||s.preamble;if(t2.htmlChunks)throw Error(o(545,"`<html>`"));null!==a&&e.push("<!--html-->"),t2.htmlChunks=[""];var t5=eb(t2.htmlChunks,i,"html",u)}else t5=eS(e,i,"html",u);return t5;default:if(-1!==t.indexOf("-")){e.push(eE(t));var t3,t4=null,t6=null;for(t3 in i)if(D.call(i,t3)){var t8=i[t3];if(null!=t8){var t9=t3;switch(t3){case"children":t4=t8;break;case"dangerouslySetInnerHTML":t6=t8;break;case"style":en(e,t8);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":t9="class";default:if(L(t3)&&"function"!=typeof t8&&"symbol"!=typeof t8&&!1!==t8){if(!0===t8)t8="";else if("object"==typeof t8)continue;e.push(" ",t9,'="',O(t8),'"')}}}}return ei(e,u),e.push(">"),ep(e,t6,t4),t4}}return eS(e,i,t,u)}(ex.chunks,n,s,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,ex.lastPushedText);ex.lastPushedText=!1;var eA=t.formatContext,eI=t.keyPath;if(t.keyPath=i,3===(t.formatContext=Z(eA,n,s)).insertionMode){var eP=t4(e,0,null,t.formatContext,!1,!1);ex.preambleChildren.push(eP),t.blockedSegment=eP;try{eP.status=6,iw(e,t,eD,-1),e5(eP.chunks,e.renderState,eP.lastPushedText,eP.textEmbedded),eP.status=1}finally{t.blockedSegment=ex}}else iw(e,t,eD,-1);t.formatContext=eA,t.keyPath=eI;t:{var eL=ex.chunks,ek=e.resumableState;switch(n){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break t;case"body":if(1>=eA.insertionMode){ek.hasBody=!0;break t}break;case"html":if(0===eA.insertionMode){ek.hasHtml=!0;break t}break;case"head":if(1>=eA.insertionMode)break t}eL.push(eM(n))}ex.lastPushedText=!1}}else{switch(n){case w:case u:case d:case l:var eN=t.keyPath;t.keyPath=i,ih(e,t,s.children,-1),t.keyPath=eN;return;case C:var eF=t.blockedSegment;if(null===eF){if("hidden"!==s.mode){var eO=t.keyPath;t.keyPath=i,iw(e,t,s.children,-1),t.keyPath=eO}}else if("hidden"!==s.mode){e.renderState.generateStaticMarkup||eF.chunks.push("<!--&-->"),eF.lastPushedText=!1;var eG=t.keyPath;t.keyPath=i,iw(e,t,s.children,-1),t.keyPath=eG,e.renderState.generateStaticMarkup||eF.chunks.push("<!--/&-->"),eF.lastPushedText=!1}return;case f:t:{var eV=s.children,eB=s.revealOrder;if("independent"!==eB&&"together"!==eB){if(T(eV)){is(e,t,i,eV,eB);break t}var eH=_(eV);if(eH){var ez=eH.call(eV);if(ez){var eW=ez.next();if(!eW.done){do eW=ez.next();while(!eW.done)is(e,t,i,eV,eB)}break t}}}if("together"===eB){var eU=t.keyPath,ej=t.row,e$=t.row=io(null);e$.boundaries=[],e$.together=!0,t.keyPath=i,ih(e,t,eV,-1),0==--e$.pendingTasks&&it(e,e$),t.keyPath=eU,t.row=ej,null!==ej&&0<e$.pendingTasks&&(ej.pendingTasks++,e$.next=ej)}else{var eq=t.keyPath;t.keyPath=i,ih(e,t,eV,-1),t.keyPath=eq}}return;case S:var eX=t.formatContext,eZ=t.keyPath,eQ=e.resumableState;if((null==s.name||"auto"===s.name)&&et(eQ,tr(t.treeContext),0),t.formatContext=eX,t.keyPath=i,null!=s.name&&"auto"!==s.name)ih(e,t,s.children,-1);else{var eJ=t.treeContext;t.treeContext=tn(eJ,1,0),iw(e,t,s.children,-1),t.treeContext=eJ}t.formatContext=eX,t.keyPath=eZ;return;case y:throw Error(o(343));case g:t:if(null!==t.replay){var e0=t.keyPath,e1=t.formatContext,e2=t.row;t.keyPath=i,t.formatContext=ee(e.resumableState,e1),t.row=null;var e3=s.children;try{iw(e,t,e3,-1)}finally{t.keyPath=e0,t.formatContext=e1,t.row=e2}}else{var e4=t.keyPath,e6=t.formatContext,e7=t.row,te=t.blockedBoundary,ti=t.blockedPreamble,to=t.hoistableState,ts=t.blockedSegment,ta=s.fallback,tl=s.children,tu=new Set,td=t2(e,t.row,tu,null,!1),th=t4(e,ts.chunks.length,td,t.formatContext,!1,!1);ts.children.push(th),ts.lastPushedText=!1;var tc=t4(e,0,null,t.formatContext,!1,!1);tc.parentFlushed=!0;var tp=e.trackedPostpones;if(null!==tp){var tg=t.componentStack,tf=[i[0],"Suspense Fallback",i[2]];if(null!==tp){var tm=[tf[1],tf[2],[],null];tp.workingMap.set(tf,tm),td.tracked={contentKeyPath:i,fallbackNode:tm}}t.blockedSegment=th,t.blockedPreamble=null===td.preamble?null:td.preamble.fallback,t.keyPath=tf,t.formatContext=J(e.resumableState,e6),t.componentStack=t8(tg),th.status=6;try{iw(e,t,ta,-1),e5(th.chunks,e.renderState,th.lastPushedText,th.textEmbedded),th.status=1}catch(t){throw th.status=12===e.status?3:4,t}finally{t.blockedSegment=ts,t.blockedPreamble=ti,t.keyPath=e4,t.formatContext=e6}var tv=t5(e,null,tl,-1,td,tc,null===td.preamble?null:td.preamble.content,td.contentState,t.abortSet,i,ee(e.resumableState,t.formatContext),t.context,t.treeContext,null,tg);t6(tv),e.pingedTasks.push(tv)}else{t.blockedBoundary=td,t.blockedPreamble=null===td.preamble?null:td.preamble.content,t.hoistableState=td.contentState,t.blockedSegment=tc,t.keyPath=i,t.formatContext=ee(e.resumableState,e6),t.row=null,tc.status=6;try{if(iw(e,t,tl,-1),e5(tc.chunks,e.renderState,tc.lastPushedText,tc.textEmbedded),tc.status=1,iT(td,tc),0===td.pendingTasks&&0===td.status){if(td.status=1,!tZ(e,td)){null!==e7&&0==--e7.pendingTasks&&it(e,e7),0===e.pendingRootTasks&&t.blockedPreamble&&iI(e);break t}}else null!==e7&&e7.together&&ir(e,e7)}catch(i){if(td.status=4,12===e.status){tc.status=3;var ty=e.fatalError}else tc.status=4,ty=i;td.errorDigest=t7(e,ty,t9(t.componentStack)),iv(e,td)}finally{t.blockedBoundary=te,t.blockedPreamble=ti,t.hoistableState=to,t.blockedSegment=ts,t.keyPath=e4,t.formatContext=e6,t.row=e7}var tC=t5(e,null,ta,-1,te,th,null===td.preamble?null:td.preamble.fallback,td.fallbackState,tu,[i[0],"Suspense Fallback",i[2]],J(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,t8(t.componentStack));t6(tC),e.pingedTasks.push(tC)}}return}if("object"==typeof n&&null!==n)switch(n.$$typeof){case p:if("ref"in s){var tw={};for(var t_ in s)"ref"!==t_&&(tw[t_]=s[t_])}else tw=s;var tE=ia(e,t,i,n.render,tw,a);il(e,t,i,tE,0!==tb,tS,tx);return;case m:iu(e,t,i,n.type,s,a);return;case c:var tT=s.children,tM=t.keyPath,tR=s.value,tD=n._currentValue2;n._currentValue2=tR;var tA=e9,tI={parent:tA,depth:null===tA?0:tA.depth+1,context:n,parentValue:tD,value:tR};e9=tI,t.context=tI,t.keyPath=i,ih(e,t,tT,-1);var tP=e9;if(null===tP)throw Error(o(403));tP.context._currentValue2=tP.parentValue,t.context=e9=tP.parent,t.keyPath=tM;return;case h:var tL=(0,s.children)(n._context._currentValue2),tk=t.keyPath;t.keyPath=i,ih(e,t,tL,-1),t.keyPath=tk;return;case v:var tN=(0,n._init)(n._payload);if(12===e.status)throw null;iu(e,t,i,tN,s,a);return}throw Error(o(130,null==n?n:typeof n,""))}}function id(e,t,i,r,n){var o=t.replay,s=t.blockedBoundary,a=t4(e,0,null,t.formatContext,!1,!1);a.id=i,a.parentFlushed=!0;try{t.replay=null,t.blockedSegment=a,iw(e,t,r,n),a.status=1,null===s?e.completedRootSegment=a:(iT(s,a),s.parentFlushed&&e.partialBoundaries.push(s))}finally{t.replay=o,t.blockedSegment=null}}function ih(e,t,i,r){null!==t.replay&&"number"==typeof t.replay.slots?id(e,t,t.replay.slots,i,r):(t.node=i,t.childIndex=r,i=t.componentStack,t6(t),ic(e,t),t.componentStack=i)}function ic(e,t){var i=t.node,r=t.childIndex;if(null!==i){if("object"==typeof i){switch(i.$$typeof){case s:var n=i.type,l=i.key,u=i.props,d=void 0!==(i=u.ref)?i:null,h=e6(n),p=null==l||l===E?-1===r?0:r:l;if(l=[t.keyPath,h,p],null!==t.replay)t:{var f=t.replay;for(i=0,r=f.nodes;i<r.length;i++){var m=r[i];if(p===m[1]){if(4===m.length){if(null!==h&&h!==m[0])throw Error(o(490,m[0],h));var y=m[2],C=m[3];h=t.node,t.replay={nodes:y,slots:C,pendingTasks:1};try{if(iu(e,t,l,n,u,d),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(o(488));t.replay.pendingTasks--}catch(o){if("object"==typeof o&&null!==o&&(o===tu||"function"==typeof o.then))throw t.node===h?t.replay=f:r.splice(i,1),o;t.replay.pendingTasks--,u=t9(t.componentStack),l=e,e=t.blockedBoundary,u=t7(l,n=o,u),iS(l,e,y,C,n,u)}t.replay=f}else{if(n!==g)throw Error(o(490,"Suspense",e6(n)||"Unknown"));i:{f=m[5],n=m[2],d=m[3],h=null===m[4]?[]:m[4][2],m=null===m[4]?null:m[4][3],p=t.keyPath;var w=t.formatContext,b=t.row,S=t.replay,x=t.blockedBoundary,M=t.hoistableState,R=u.children;u=u.fallback;var D=new Set,A=t2(e,t.row,D,null,!1);A.parentFlushed=!0,A.rootSegmentID=f,t.blockedBoundary=A,t.hoistableState=A.contentState,t.keyPath=l,t.formatContext=ee(e.resumableState,w),t.row=null,t.replay={nodes:n,slots:d,pendingTasks:1};try{if(iw(e,t,R,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(o(488));if(t.replay.pendingTasks--,0===A.pendingTasks&&0===A.status){A.status=1,e.completedBoundaries.push(A);break i}}catch(i){A.status=4,A.errorDigest=C=t7(e,i,y=t9(t.componentStack)),t.replay.pendingTasks--,e.clientRenderedBoundaries.push(A)}finally{t.blockedBoundary=x,t.hoistableState=M,t.replay=S,t.keyPath=p,t.formatContext=w,t.row=b}t6(y=t3(e,null,{nodes:h,slots:m,pendingTasks:0},u,-1,x,A.fallbackState,D,[l[0],"Suspense Fallback",l[2]],J(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,t8(t.componentStack))),e.pingedTasks.push(y)}}r.splice(i,1);break t}}}else iu(e,t,l,n,u,d);return;case a:throw Error(o(257));case v:if(i=(y=i._init)(i._payload),12===e.status)throw null;ih(e,t,i,r);return}if(T(i))return void ip(e,t,i,r);if((y=_(i))&&(y=y.call(i))){if(!(i=y.next()).done){C=[];do C.push(i.value),i=y.next();while(!i.done)ip(e,t,C,r)}return}if("function"==typeof i.then)return t.thenableState=null,ih(e,t,tH(i),r);if(i.$$typeof===c)return ih(e,t,i._currentValue2,r);throw Error(o(31,"[object Object]"===(r=Object.prototype.toString.call(i))?"object with keys {"+Object.keys(i).join(", ")+"}":r))}"string"==typeof i?null!==(r=t.blockedSegment)&&(r.lastPushedText=e2(r.chunks,i,e.renderState,r.lastPushedText)):("number"==typeof i||"bigint"==typeof i)&&null!==(r=t.blockedSegment)&&(r.lastPushedText=e2(r.chunks,""+i,e.renderState,r.lastPushedText))}}function ip(e,t,i,r){var n=t.keyPath;if(-1!==r&&(t.keyPath=[t.keyPath,"Fragment",r],null!==t.replay)){for(var s=t.replay,a=s.nodes,l=0;l<a.length;l++){var u=a[l];if(u[1]===r){t.replay={nodes:r=u[2],slots:u=u[3],pendingTasks:1};try{if(ip(e,t,i,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(o(488));t.replay.pendingTasks--}catch(n){if("object"==typeof n&&null!==n&&(n===tu||"function"==typeof n.then))throw n;t.replay.pendingTasks--,i=t9(t.componentStack);var d=t.blockedBoundary;i=t7(e,n,i),iS(e,d,r,u,n,i)}t.replay=s,a.splice(l,1);break}}t.keyPath=n;return}if(s=t.treeContext,a=i.length,null!==t.replay&&null!==(l=t.replay.slots)&&"object"==typeof l){for(r=0;r<a;r++)u=i[r],t.treeContext=tn(s,a,r),"number"==typeof(d=l[r])?(id(e,t,d,u,r),delete l[r]):iw(e,t,u,r);t.treeContext=s,t.keyPath=n;return}for(l=0;l<a;l++)r=i[l],t.treeContext=tn(s,a,l),iw(e,t,r,l);t.treeContext=s,t.keyPath=n}function ig(e,t,i){i.status=5,i.rootSegmentID=e.nextSegmentId++;var r=i.tracked;if(null===r||null===(e=r.contentKeyPath))throw Error(o(486));r=r.fallbackNode;var n=t.workingMap.get(e);return void 0===n?(i=[e[1],e[2],[],null,r,i.rootSegmentID],t.workingMap.set(e,i),iH(i,e[0],t),i):(n[4]=r,n[5]=i.rootSegmentID,n)}function im(e,t,i,r){r.status=5;var n=i.keyPath,s=i.blockedBoundary;if(null===s)r.id=e.nextSegmentId++,t.rootSlots=r.id,null!==e.completedRootSegment&&(e.completedRootSegment.status=5);else{if(null!==s&&0===s.status){var a=ig(e,t,s);if(null!==s.tracked&&s.tracked.contentKeyPath===n&&-1===i.childIndex){-1===r.id&&(r.id=r.parentFlushed?s.rootSegmentID:e.nextSegmentId++),a[3]=r.id;return}}if(-1===r.id&&(r.id=r.parentFlushed&&null!==s?s.rootSegmentID:e.nextSegmentId++),-1===i.childIndex)null===n?t.rootSlots=r.id:void 0===(i=t.workingMap.get(n))?iH(i=[n[1],n[2],[],r.id],n[0],t):i[3]=r.id;else{if(null===n){if(null===(e=t.rootSlots))e=t.rootSlots={};else if("number"==typeof e)throw Error(o(491))}else if(void 0===(a=(s=t.workingMap).get(n)))e={},a=[n[1],n[2],[],e],s.set(n,a),iH(a,n[0],t);else if(null===(e=a[3]))e=a[3]={};else if("number"==typeof e)throw Error(o(491));e[i.childIndex]=r.id}}}function iv(e,t){null!==(e=e.trackedPostpones)&&null!==(t=t.tracked)&&null!==(t=t.contentKeyPath)&&void 0!==(e=e.workingMap.get(t))&&(e.length=4,e[2]=[],e[3]=null)}function iy(e,t,i){return t3(e,i,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function iC(e,t,i){var r=t.blockedSegment,n=t4(e,r.chunks.length,null,t.formatContext,r.lastPushedText,!0);return r.children.push(n),r.lastPushedText=!1,t5(e,i,t.node,t.childIndex,t.blockedBoundary,n,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function iw(e,t,i,r){var n=t.formatContext,o=t.context,s=t.keyPath,a=t.treeContext,l=t.componentStack,u=t.blockedSegment;if(null===u){u=t.replay;try{return ih(e,t,i,r)}catch(d){if(tP(),i=d===tu?th():d,12!==e.status&&"object"==typeof i&&null!==i){if("function"==typeof i.then){e=iy(e,t,r=d===tu?tI():null).ping,i.then(e,e),t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,t.componentStack=l,t.replay=u,te(o);return}if("Maximum call stack size exceeded"===i.message){i=iy(e,t,i=d===tu?tI():null),e.pingedTasks.push(i),t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,t.componentStack=l,t.replay=u,te(o);return}}}}else{var d=u.children.length,h=u.chunks.length;try{return ih(e,t,i,r)}catch(r){if(tP(),u.children.length=d,u.chunks.length=h,i=r===tu?th():r,12!==e.status&&"object"==typeof i&&null!==i){if("function"==typeof i.then){u=i,e=iC(e,t,i=r===tu?tI():null).ping,u.then(e,e),t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,t.componentStack=l,te(o);return}if("Maximum call stack size exceeded"===i.message){u=iC(e,t,u=r===tu?tI():null),e.pingedTasks.push(u),t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,t.componentStack=l,te(o);return}}}}throw t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,te(o),i}function ib(e){var t=e.blockedBoundary,i=e.blockedSegment;null!==i&&(i.status=3,iM(this,t,e.row,i))}function iS(e,t,i,r,n,s){for(var a=0;a<i.length;a++){var l=i[a];if(4===l.length)iS(e,t,l[2],l[3],n,s);else{l=l[5];var u=t2(e,null,new Set,null,!1);u.parentFlushed=!0,u.rootSegmentID=l,u.status=4,u.errorDigest=s,u.parentFlushed&&e.clientRenderedBoundaries.push(u)}}if(i.length=0,null!==r){if(null===t)throw Error(o(487));if(4!==t.status&&(t.status=4,t.errorDigest=s,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof r)for(var d in r)delete r[d]}}function ix(e,t){try{var i=e.renderState,r=i.onHeaders;if(r){var n=i.headers;if(n){i.headers=null;var o=n.preconnects;if(n.fontPreloads&&(o&&(o+=", "),o+=n.fontPreloads),n.highImagePreloads&&(o&&(o+=", "),o+=n.highImagePreloads),!t){var s=i.styles.values(),a=s.next();i:for(;0<n.remainingCapacity&&!a.done;a=s.next())for(var l=a.value.sheets.values(),u=l.next();0<n.remainingCapacity&&!u.done;u=l.next()){var d=u.value,h=d.props,c=h.href,p=d.props,g=eY(p.href,"style",{crossOrigin:p.crossOrigin,integrity:p.integrity,nonce:p.nonce,type:p.type,fetchPriority:p.fetchPriority,referrerPolicy:p.referrerPolicy,media:p.media});if(0<=(n.remainingCapacity-=g.length+2))i.resets.style[c]=$,o&&(o+=", "),o+=g,i.resets.style[c]="string"==typeof h.crossOrigin||"string"==typeof h.integrity?[h.crossOrigin,h.integrity]:$;else break i}}r(o?{Link:o}:{})}}}catch(t){t7(e,t,{})}}function i_(e){null===e.trackedPostpones&&ix(e,!0),null===e.trackedPostpones&&iI(e),e.onShellError=tl,(e=e.onShellReady)()}function iE(e){ix(e,null===e.trackedPostpones||null===e.completedRootSegment||5!==e.completedRootSegment.status),iI(e),(e=e.onAllReady)()}function iT(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var i=t.children[0];i.id=t.id,i.parentFlushed=!0,1!==i.status&&3!==i.status&&4!==i.status||iT(e,i)}else e.completedSegments.push(t)}function iM(e,t,i,r){if(null!==i&&(0==--i.pendingTasks?it(e,i):i.together&&ir(e,i)),e.allPendingTasks--,null===t){if(null!==r&&r.parentFlushed){if(null!==e.completedRootSegment)throw Error(o(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&i_(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==r&&r.parentFlushed&&(1===r.status||3===r.status)&&iT(t,r),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(i=t.row)&&e1(i.hoistables,t.contentState),tZ(e,t)||(t.fallbackAbortableTasks.forEach(ib,e),t.fallbackAbortableTasks.clear(),null!==i&&0==--i.pendingTasks&&it(e,i)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.preamble&&iI(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){i=e.trackedPostpones;var n=t.next;if(null!==n&&null!==(r=n.boundaries))for(n.boundaries=null,n=0;n<r.length;n++){var s=r[n];ig(e,i,s),iM(e,s,null,null)}}0==--t.pendingTasks&&it(e,t)}}else null===r||!r.parentFlushed||1!==r.status&&3!==r.status||(iT(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&ir(e,t);0===e.allPendingTasks&&iE(e)}function iR(e){if(14!==e.status&&13!==e.status){var t=e9,i=z.H;z.H=tj;var r=z.A;z.A=tK;var n=t0;t0=e;var s=t$;t$=e.resumableState;try{var a,l=e.pingedTasks;for(a=0;a<l.length;a++){var u=l[a],d=u.blockedSegment;if(null===d){if(0!==u.replay.pendingTasks){te(u.context);try{if("number"==typeof u.replay.slots?id(e,u,u.replay.slots,u.node,u.childIndex):ic(e,u),1===u.replay.pendingTasks&&0<u.replay.nodes.length)throw Error(o(488));u.replay.pendingTasks--,u.abortSet.delete(u),iM(e,u.blockedBoundary,u.row,null)}catch(t){tP();var h=t===tu?th():t;if("object"==typeof h&&null!==h&&"function"==typeof h.then){var c=u.ping;h.then(c,c),u.thenableState=t===tu?tI():null}else{u.replay.pendingTasks--,u.abortSet.delete(u);var p=t9(u.componentStack),g=e,f=u.blockedBoundary,m=12===e.status?e.fatalError:h,v=u.replay.nodes,y=u.replay.slots,C=t7(g,m,p);iS(g,f,v,y,m,C),e.pendingRootTasks--,0===e.pendingRootTasks&&i_(e),e.allPendingTasks--,0===e.allPendingTasks&&iE(e)}}finally{}}}else if(g=d,0===g.status){g.status=6,te(u.context);var w=g.children.length,b=g.chunks.length;try{ic(e,u),e5(g.chunks,e.renderState,g.lastPushedText,g.textEmbedded),u.abortSet.delete(u),g.status=1,iM(e,u.blockedBoundary,u.row,g)}catch(t){tP(),g.children.length=w,g.chunks.length=b;var S=t===tu?th():12===e.status?e.fatalError:t;if(12===e.status&&null!==e.trackedPostpones){var x=e.trackedPostpones,_=t9(u.componentStack);u.abortSet.delete(u),t7(e,S,_),im(e,x,u,g),iM(e,u.blockedBoundary,u.row,g)}else if("object"==typeof S&&null!==S&&"function"==typeof S.then){g.status=0,u.thenableState=t===tu?tI():null;var E=u.ping;S.then(E,E)}else{var T=t9(u.componentStack);u.abortSet.delete(u),g.status=4;var M=u.blockedBoundary,R=u.row;null!==R&&0==--R.pendingTasks&&it(e,R),e.allPendingTasks--;var D=t7(e,S,T);if(null===M)ie(e,S);else if(M.pendingTasks--,4!==M.status){M.status=4,M.errorDigest=D,iv(e,M);var A=M.row;null!==A&&0==--A.pendingTasks&&it(e,A),M.parentFlushed&&e.clientRenderedBoundaries.push(M),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==M.preamble&&iI(e)}0===e.allPendingTasks&&iE(e)}}finally{}}}l.splice(0,a),null!==e.destination&&iV(e,e.destination)}catch(t){t7(e,t,{}),ie(e,t)}finally{t$=s,z.H=i,z.A=r,i===tj&&te(t),t0=n}}}function iD(e,t,i){t.preambleChildren.length&&i.push(t.preambleChildren);for(var r=!1,n=0;n<t.children.length;n++)r=iA(e,t.children[n],i)||r;return r}function iA(e,t,i){var r=t.boundary;if(null===r)return iD(e,t,i);var n=r.preamble;if(null===n)return!1;switch(r.status){case 1:if(eR(e.renderState,n.content),e.byteSize+=r.byteSize,!(t=r.completedSegments[0]))throw Error(o(391));return iD(e,t,i);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return eR(e.renderState,n.fallback),iD(e,t,i);default:return!0}}function iI(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],i=e.byteSize,r=iA(e,e.completedRootSegment,t),n=e.renderState.preamble;!1===r||n.headChunks&&n.bodyChunks?e.completedPreambleSegments=t:e.byteSize=i}}function iP(e,t,i,r){switch(i.parentFlushed=!0,i.status){case 0:i.id=e.nextSegmentId++;case 5:return r=i.id,i.lastPushedText=!1,i.textEmbedded=!1,e=e.renderState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:i.status=2;var n=!0,s=i.chunks,a=0;i=i.children;for(var l=0;l<i.length;l++){for(n=i[l];a<n.index;a++)t.push(s[a]);n=ik(e,t,n,r)}for(;a<s.length-1;a++)t.push(s[a]);return a<s.length&&(n=t.push(s[a])),n;case 3:return!0;default:throw Error(o(390))}}var iL=0;function ik(e,t,i,r){var n=i.boundary;if(null===n)return iP(e,t,i,r);if(i.boundary=null,n.parentFlushed=!0,4===n.status){var s=n.row;return null!==s&&0==--s.pendingTasks&&it(e,s),e.renderState.generateStaticMarkup||(n=n.errorDigest,t.push("<!--$!-->"),t.push("<template"),n&&(t.push(' data-dgst="'),n=O(n),t.push(n),t.push('"')),t.push("></template>")),iP(e,t,i,r),e=!!e.renderState.generateStaticMarkup||t.push("<!--/$-->")}if(1!==n.status)return 0===n.status&&(n.rootSegmentID=e.nextSegmentId++),0<n.completedSegments.length&&e.partialBoundaries.push(n),eA(t,e.renderState,n.rootSegmentID),r&&e1(r,n.fallbackState),iP(e,t,i,r),t.push("<!--/$-->");if(!iG&&tZ(e,n)&&(iL+n.byteSize>e.progressiveChunkSize||n.defer))return n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),eA(t,e.renderState,n.rootSegmentID),iP(e,t,i,r),t.push("<!--/$-->");if(iL+=n.byteSize,r&&e1(r,n.contentState),null!==(i=n.row)&&tZ(e,n)&&0==--i.pendingTasks&&it(e,i),e.renderState.generateStaticMarkup||t.push("<!--$-->"),1!==(i=n.completedSegments).length)throw Error(o(391));return ik(e,t,i[0],r),e=!!e.renderState.generateStaticMarkup||t.push("<!--/$-->")}function iN(e,t,i,r){switch(!function(e,t,i,r){switch(i.insertionMode){case 0:case 1:case 3:case 2:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 8:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 9:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(o(397))}}(t,e.renderState,i.parentFormatContext,i.id),ik(e,t,i,r),i.parentFormatContext.insertionMode){case 0:case 1:case 3:case 2:return t.push("</div>");case 4:return t.push("</svg>");case 5:return t.push("</math>");case 6:return t.push("</table>");case 7:return t.push("</tbody></table>");case 8:return t.push("</tr></table>");case 9:return t.push("</colgroup></table>");default:throw Error(o(397))}}function iF(e,t,i){iL=i.byteSize;for(var r,n,s=i.completedSegments,a=0;a<s.length;a++)iO(e,t,i,s[a]);s.length=0,null!==(s=i.row)&&tZ(e,i)&&0==--s.pendingTasks&&it(e,s),eG(t,i.contentState,e.renderState),s=e.resumableState,e=e.renderState,a=i.rootSegmentID,i=i.contentState;var l=e.stylesToHoist,u=0!=(128&s.instructions);return e.stylesToHoist=!1,t.push(e.startInlineScript),t.push(">"),l?(0==(4&s.instructions)&&(s.instructions|=4,t.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};')),0==(2&s.instructions)&&(s.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),u&&0==(256&s.instructions)&&(s.instructions|=256,t.push('$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),a=CSS.escape(a)!==a?"r-"+btoa(a).replace(/=/g,""):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),H=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,\nI.querySelectorAll(\'img[src]:not([loading="lazy"])\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\n$RV);')),0==(8&s.instructions)?(s.instructions|=8,t.push('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("')):t.push('$RR("')):(0==(2&s.instructions)&&(s.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),u&&0==(256&s.instructions)&&(s.instructions|=256,t.push('$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),a=CSS.escape(a)!==a?"r-"+btoa(a).replace(/=/g,""):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),H=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,\nI.querySelectorAll(\'img[src]:not([loading="lazy"])\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\n$RV);')),t.push('$RC("')),s=a.toString(16),t.push(e.boundaryPrefix),t.push(s),t.push('","'),t.push(e.segmentPrefix),t.push(s),l?(t.push('",'),r=i,t.push("["),n="[",r.stylesheets.forEach(function(e){if(2!==e.state)if(3===e.state)t.push(n),e=eL(""+e.props.href),t.push(e),t.push("]"),n=",[";else{t.push(n);var i=e.props["data-precedence"],r=e.props,s=H(""+e.props.href);for(var a in s=eL(s),t.push(s),i=""+i,t.push(","),i=eL(i),t.push(i),r)if(D.call(r,a)&&null!=(i=r[a]))switch(a){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"link"));default:!function(e,t,i){var r=t.toLowerCase();switch(typeof i){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":r="class",t=""+i;break;case"hidden":if(!1===i)return;t="";break;case"src":case"href":t=""+(i=H(i));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!L(t))return;t=""+i}e.push(","),r=eL(r),e.push(r),e.push(","),r=eL(t),e.push(r)}(t,a,i)}t.push("]"),n=",[",e.state=3}}),t.push("]")):t.push('"'),i=t.push(")</script>"),eD(t,e)&&i}function iO(e,t,i,r){if(2===r.status)return!0;var n=i.contentState,s=r.id;if(-1===s){if(-1===(r.id=i.rootSegmentID))throw Error(o(392));return iN(e,t,r,n)}return s===i.rootSegmentID?iN(e,t,r,n):(iN(e,t,r,n),i=e.resumableState,e=e.renderState,t.push(e.startInlineScript),t.push(">"),0==(1&i.instructions)?(i.instructions|=1,t.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):t.push('$RS("'),t.push(e.segmentPrefix),s=s.toString(16),t.push(s),t.push('","'),t.push(e.placeholderPrefix),t.push(s),t=t.push('")</script>'))}var iG=!1;function iV(e,t){try{if(!(0<e.pendingRootTasks)){var i,r=e.completedRootSegment;if(null!==r){if(5===r.status)return;var n=e.completedPreambleSegments;if(null===n)return;iL=e.byteSize;var o,s=e.resumableState,a=e.renderState,l=a.preamble,u=l.htmlChunks,d=l.headChunks;if(u){for(o=0;o<u.length;o++)t.push(u[o]);if(d)for(o=0;o<d.length;o++)t.push(d[o]);else{var h=eE("head");t.push(h),t.push(">")}}else if(d)for(o=0;o<d.length;o++)t.push(d[o]);var c=a.charsetChunks;for(o=0;o<c.length;o++)t.push(c[o]);c.length=0,a.preconnects.forEach(eV,t),a.preconnects.clear();var p=a.viewportChunks;for(o=0;o<p.length;o++)t.push(p[o]);p.length=0,a.fontPreloads.forEach(eV,t),a.fontPreloads.clear(),a.highImagePreloads.forEach(eV,t),a.highImagePreloads.clear(),K=a,a.styles.forEach(ez,t),K=null;var g=a.importMapChunks;for(o=0;o<g.length;o++)t.push(g[o]);g.length=0,a.bootstrapScripts.forEach(eV,t),a.scripts.forEach(eV,t),a.scripts.clear(),a.bulkPreloads.forEach(eV,t),a.bulkPreloads.clear(),s.instructions|=32;var f=a.hoistableChunks;for(o=0;o<f.length;o++)t.push(f[o]);for(s=f.length=0;s<n.length;s++){var m=n[s];for(a=0;a<m.length;a++)ik(e,t,m[a],null)}var v=e.renderState.preamble,y=v.headChunks;if(v.htmlChunks||y){var C=eM("head");t.push(C)}var w=v.bodyChunks;if(w)for(n=0;n<w.length;n++)t.push(w[n]);ik(e,t,r,null),e.completedRootSegment=null;var b=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var S=e.resumableState;if(0==(64&S.instructions)){if(S.instructions|=64,t.push(b.startInlineScript),0==(32&S.instructions)){S.instructions|=32;var x="_"+S.idPrefix+"R_";t.push(' id="');var _=O(x);t.push(_),t.push('"')}t.push(">"),t.push("requestAnimationFrame(function(){$RT=performance.now()});"),t.push("</script>")}}eD(t,b)}var E=e.renderState;r=0;var T=E.viewportChunks;for(r=0;r<T.length;r++)t.push(T[r]);T.length=0,E.preconnects.forEach(eV,t),E.preconnects.clear(),E.fontPreloads.forEach(eV,t),E.fontPreloads.clear(),E.highImagePreloads.forEach(eV,t),E.highImagePreloads.clear(),E.styles.forEach(eU,t),E.scripts.forEach(eV,t),E.scripts.clear(),E.bulkPreloads.forEach(eV,t),E.bulkPreloads.clear();var M=E.hoistableChunks;for(r=0;r<M.length;r++)t.push(M[r]);M.length=0;var R=e.clientRenderedBoundaries;for(i=0;i<R.length;i++){var D=R[i];E=t;var A=e.resumableState,I=e.renderState,P=D.rootSegmentID,L=D.errorDigest;E.push(I.startInlineScript),E.push(">"),0==(4&A.instructions)?(A.instructions|=4,E.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):E.push('$RX("'),E.push(I.boundaryPrefix);var k=P.toString(16);if(E.push(k),E.push('"'),L){E.push(",");var N,F=(N=L||"",JSON.stringify(N).replace(eI,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}));E.push(F)}var G=E.push(")</script>");if(!G){e.destination=null,i++,R.splice(0,i);return}}R.splice(0,i);var V=e.completedBoundaries;for(i=0;i<V.length;i++)if(!iF(e,t,V[i])){e.destination=null,i++,V.splice(0,i);return}V.splice(0,i),iG=!0;var B=e.partialBoundaries;for(i=0;i<B.length;i++){var H=B[i];t:{R=e,D=t,iL=H.byteSize;var z=H.completedSegments;for(G=0;G<z.length;G++)if(!iO(R,D,H,z[G])){G++,z.splice(0,G);var W=!1;break t}z.splice(0,G);var U=H.row;null!==U&&U.together&&1===H.pendingTasks&&(1===U.pendingTasks?ii(R,U,U.hoistables):U.pendingTasks--),W=eG(D,H.contentState,R.renderState)}if(!W){e.destination=null,i++,B.splice(0,i);return}}B.splice(0,i),iG=!1;var j=e.completedBoundaries;for(i=0;i<j.length;i++)if(!iF(e,t,j[i])){e.destination=null,i++,j.splice(0,i);return}j.splice(0,i)}}finally{iG=!1,0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&(e.flushScheduled=!1,(i=e.resumableState).hasBody&&(B=eM("body"),t.push(B)),i.hasHtml&&(i=eM("html"),t.push(i)),e.status=14,t.push(null),e.destination=null)}}function iB(e){if(!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination){e.flushScheduled=!0;var t=e.destination;t?iV(e,t):e.flushScheduled=!1}}function iH(e,t,i){if(null===t)i.rootNodes.push(e);else{var r=i.workingMap,n=r.get(t);void 0===n&&(n=[t[1],t[2],[],null],r.set(t,n),iH(n,t[0],i)),n[2].push(e)}}function iz(){}function iW(e,t,i,r){var n,s,a,l,u,d=!1,h=null,c="",p=!1;t={idPrefix:void 0===(n=t?t.identifierPrefix:void 0)?"":n,nextFormID:0,streamingFormat:0,bootstrapScriptContent:void 0,bootstrapScripts:void 0,bootstrapModules:void 0,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}},s=e,a=t,l=function(e,t){var i=e.idPrefix,r=[],n=e.bootstrapScriptContent,o=e.bootstrapScripts,s=e.bootstrapModules;void 0!==n&&(r.push("<script"),ej(r,e),r.push(">",(""+n).replace(Y,q),"</script>")),n=i+"P:";var a=i+"S:";i+="B:";var l=new Set,u=new Set,d=new Set,h=new Map,c=new Set,p=new Set,g=new Set,f={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(void 0!==o)for(var m=0;m<o.length;m++){var v,y=o[m],C=void 0,w=void 0,b={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};"string"==typeof y?b.href=v=y:(b.href=v=y.src,b.integrity=w="string"==typeof y.integrity?y.integrity:void 0,b.crossOrigin=C="string"==typeof y||null==y.crossOrigin?void 0:"use-credentials"===y.crossOrigin?"use-credentials":"");var S=v;(y=e).scriptResources[S]=null,y.moduleScriptResources[S]=null,ef(y=[],b),c.add(y),r.push('<script src="',O(v),'"'),"string"==typeof w&&r.push(' integrity="',O(w),'"'),"string"==typeof C&&r.push(' crossorigin="',O(C),'"'),ej(r,e),r.push(' async=""></script>')}if(void 0!==s)for(o=0;o<s.length;o++)b=s[o],C=v=void 0,w={rel:"modulepreload",fetchPriority:"low",nonce:void 0},"string"==typeof b?w.href=m=b:(w.href=m=b.src,w.integrity=C="string"==typeof b.integrity?b.integrity:void 0,w.crossOrigin=v="string"==typeof b||null==b.crossOrigin?void 0:"use-credentials"===b.crossOrigin?"use-credentials":""),b=e,y=m,b.scriptResources[y]=null,b.moduleScriptResources[y]=null,ef(b=[],w),c.add(b),r.push('<script type="module" src="',O(m),'"'),"string"==typeof C&&r.push(' integrity="',O(C),'"'),"string"==typeof v&&r.push(' crossorigin="',O(v),'"'),ej(r,e),r.push(' async=""></script>');return{placeholderPrefix:n,segmentPrefix:a,boundaryPrefix:i,startInlineScript:"<script",startInlineStyle:"<style",preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:r,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:l,fontPreloads:u,highImagePreloads:d,styles:h,bootstrapScripts:c,scripts:p,bulkPreloads:g,preloads:f,nonce:{script:void 0,style:void 0},stylesToHoist:!1,generateStaticMarkup:t}}(t,i),(l=t4(a=new tJ(a,l,u=X(0,null,0,null),1/0,iz,void 0,function(){p=!0},void 0,void 0,void 0),0,null,u,!1,!1)).parentFlushed=!0,t6(s=t5(a,null,s,-1,null,l,null,null,a.abortableTasks,null,u,null,ti,null,null)),a.pingedTasks.push(s),(e=a).flushScheduled=null!==e.destination,iR(e),10===e.status&&(e.status=11),null===e.trackedPostpones&&ix(e,0===e.pendingRootTasks);var g=e;(11===g.status||10===g.status)&&(g.status=12);try{var f=g.abortableTasks;if(0<f.size){var m=void 0===r?Error(o(432)):"object"==typeof r&&null!==r&&"function"==typeof r.then?Error(o(530)):r;g.fatalError=m,f.forEach(function(e){return function e(t,i,r){var n=t.blockedBoundary,o=t.blockedSegment;if(null!==o){if(6===o.status)return;o.status=3}var s=t9(t.componentStack);if(null===n){if(13!==i.status&&14!==i.status){if(null===(n=t.replay))return void(null!==i.trackedPostpones&&null!==o?(n=i.trackedPostpones,t7(i,r,s),im(i,n,t,o),iM(i,null,t.row,o)):(t7(i,r,s),ie(i,r)));n.pendingTasks--,0===n.pendingTasks&&0<n.nodes.length&&(o=t7(i,r,s),iS(i,null,n.nodes,n.slots,r,o)),i.pendingRootTasks--,0===i.pendingRootTasks&&i_(i)}}else{var a=i.trackedPostpones;if(4!==n.status){if(null!==a&&null!==o)return t7(i,r,s),im(i,a,t,o),n.fallbackAbortableTasks.forEach(function(t){return e(t,i,r)}),n.fallbackAbortableTasks.clear(),iM(i,n,t.row,o);n.status=4,o=t7(i,r,s),n.status=4,n.errorDigest=o,iv(i,n),n.parentFlushed&&i.clientRenderedBoundaries.push(n)}n.pendingTasks--,null!==(o=n.row)&&0==--o.pendingTasks&&it(i,o),n.fallbackAbortableTasks.forEach(function(t){return e(t,i,r)}),n.fallbackAbortableTasks.clear()}null!==(t=t.row)&&0==--t.pendingTasks&&it(i,t),i.allPendingTasks--,0===i.allPendingTasks&&iE(i)}(e,g,m)}),f.clear()}null!==g.destination&&iV(g,g.destination)}catch(e){t7(g,e,{}),ie(g,e)}var v=e,y={push:function(e){return null!==e&&(c+=e),!0},destroy:function(e){d=!0,h=e}};if(13===v.status)v.status=14,y.destroy(v.fatalError);else if(14!==v.status&&null===v.destination){v.destination=y;try{iV(v,y)}catch(e){t7(v,e,{}),ie(v,e)}}if(d&&h!==r)throw h;if(!p)throw Error(o(426));return c}i.renderToStaticMarkup=function(e,t){return iW(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},i.renderToString=function(e,t){return iW(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},i.version="19.3.0-canary-f93b9fd4-20251217"},49340,(e,t,i)=>{"use strict";var r=e.r(71645),n=e.r(74080);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.scope"),C=Symbol.for("react.activity"),w=Symbol.for("react.legacy_hidden"),b=Symbol.for("react.memo_cache_sentinel"),S=Symbol.for("react.view_transition"),x=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}var E=Symbol.for("react.optimistic_key"),T=Array.isArray;function M(e,t){var i=3&e.length,r=e.length-i,n=t;for(t=0;t<r;){var o=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,n^=o=0x1b873593*(65535&(o=(o=0xcc9e2d51*(65535&o)+((0xcc9e2d51*(o>>>16)&65535)<<16)|0)<<15|o>>>17))+((0x1b873593*(o>>>16)&65535)<<16)|0,n=(65535&(n=5*(65535&(n=n<<13|n>>>19))+((5*(n>>>16)&65535)<<16)|0))+27492+(((n>>>16)+58964&65535)<<16)}switch(o=0,i){case 3:o^=(255&e.charCodeAt(t+2))<<16;case 2:o^=(255&e.charCodeAt(t+1))<<8;case 1:o^=255&e.charCodeAt(t),n^=0x1b873593*(65535&(o=(o=0xcc9e2d51*(65535&o)+((0xcc9e2d51*(o>>>16)&65535)<<16)|0)<<15|o>>>17))+((0x1b873593*(o>>>16)&65535)<<16)}return n^=e.length,n^=n>>>16,n=0x85ebca6b*(65535&n)+((0x85ebca6b*(n>>>16)&65535)<<16)|0,n^=n>>>13,((n=0xc2b2ae35*(65535&n)+((0xc2b2ae35*(n>>>16)&65535)<<16)|0)^n>>>16)>>>0}var R=new MessageChannel,D=[];function A(e){D.push(e),R.port2.postMessage(null)}function I(e){setTimeout(function(){throw e})}R.port1.onmessage=function(){var e=D.shift();e&&e()};var P=Promise,L="function"==typeof queueMicrotask?queueMicrotask:function(e){P.resolve(null).then(e).catch(I)},k=null,N=0;function F(e,t){if(0!==t.byteLength)if(2048<t.byteLength)0<N&&(e.enqueue(new Uint8Array(k.buffer,0,N)),k=new Uint8Array(2048),N=0),e.enqueue(t);else{var i=k.length-N;i<t.byteLength&&(0===i?e.enqueue(k):(k.set(t.subarray(0,i),N),e.enqueue(k),t=t.subarray(i)),k=new Uint8Array(2048),N=0),k.set(t,N),N+=t.byteLength}}function O(e,t){return F(e,t),!0}function G(e){k&&0<N&&(e.enqueue(new Uint8Array(k.buffer,0,N)),k=null,N=0)}var V=new TextEncoder;function B(e){return V.encode(e)}function H(e){return V.encode(e)}function z(e){return e.byteLength}function W(e,t){"function"==typeof e.error?e.error(t):e.close()}var U=Object.assign,j=Object.prototype.hasOwnProperty,$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),K={},Y={};function q(e){return!!j.call(Y,e)||!j.call(K,e)&&($.test(e)?Y[e]=!0:(K[e]=!0,!1))}var X=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Z=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q=/["'&<>]/;function J(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=Q.exec(e);if(t){var i,r="",n=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}n!==i&&(r+=e.slice(n,i)),n=i+1,r+=t}e=n!==i?r+e.slice(n,i):r}return e}var ee=/([A-Z])/g,et=/^ms-/,ei=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function er(e){return ei.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var en=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,eo=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,es={pending:!1,data:null,method:null,action:null},ea=eo.d;eo.d={f:ea.f,r:ea.r,D:function(e){var t=rX||null;if(t){var i,r,n=t.resumableState,o=t.renderState;"string"==typeof e&&e&&(n.dnsResources.hasOwnProperty(e)||(n.dnsResources[e]=null,(r=(n=o.headers)&&0<n.remainingCapacity)&&(i="<"+(""+e).replace(iW,iU)+">; rel=dns-prefetch",r=0<=(n.remainingCapacity-=i.length+2)),r?(o.resets.dns[e]=null,n.preconnects&&(n.preconnects+=", "),n.preconnects+=i):(e9(i=[],{href:e,rel:"dns-prefetch"}),o.preconnects.add(i))),nF(t))}else ea.D(e)},C:function(e,t){var i=rX||null;if(i){var r=i.resumableState,n=i.renderState;if("string"==typeof e&&e){var o,s,a="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";r.connectResources[a].hasOwnProperty(e)||(r.connectResources[a][e]=null,(s=(r=n.headers)&&0<r.remainingCapacity)&&(s="<"+(""+e).replace(iW,iU)+">; rel=preconnect","string"==typeof t&&(s+='; crossorigin="'+(""+t).replace(ij,i$)+'"'),o=s,s=0<=(r.remainingCapacity-=o.length+2)),s?(n.resets.connect[a][e]=null,r.preconnects&&(r.preconnects+=", "),r.preconnects+=o):(e9(a=[],{rel:"preconnect",href:e,crossOrigin:t}),n.preconnects.add(a))),nF(i)}}else ea.C(e,t)},L:function(e,t,i){var r=rX||null;if(r){var n=r.resumableState,o=r.renderState;if(t&&e){switch(t){case"image":if(i)var s,a=i.imageSrcSet,l=i.imageSizes,u=i.fetchPriority;var d=a?a+"\n"+(l||""):e;if(n.imageResources.hasOwnProperty(d))return;n.imageResources[d]=el,(n=o.headers)&&0<n.remainingCapacity&&"string"!=typeof a&&"high"===u&&(s=iz(e,t,i),0<=(n.remainingCapacity-=s.length+2))?(o.resets.image[d]=el,n.highImagePreloads&&(n.highImagePreloads+=", "),n.highImagePreloads+=s):(e9(n=[],U({rel:"preload",href:a?void 0:e,as:t},i)),"high"===u?o.highImagePreloads.add(n):(o.bulkPreloads.add(n),o.preloads.images.set(d,n)));break;case"style":if(n.styleResources.hasOwnProperty(e))return;e9(a=[],U({rel:"preload",href:e,as:t},i)),n.styleResources[e]=i&&("string"==typeof i.crossOrigin||"string"==typeof i.integrity)?[i.crossOrigin,i.integrity]:el,o.preloads.stylesheets.set(e,a),o.bulkPreloads.add(a);break;case"script":if(n.scriptResources.hasOwnProperty(e))return;a=[],o.preloads.scripts.set(e,a),o.bulkPreloads.add(a),e9(a,U({rel:"preload",href:e,as:t},i)),n.scriptResources[e]=i&&("string"==typeof i.crossOrigin||"string"==typeof i.integrity)?[i.crossOrigin,i.integrity]:el;break;default:if(n.unknownResources.hasOwnProperty(t)){if((a=n.unknownResources[t]).hasOwnProperty(e))return}else a={},n.unknownResources[t]=a;a[e]=el,(n=o.headers)&&0<n.remainingCapacity&&"font"===t&&(d=iz(e,t,i),0<=(n.remainingCapacity-=d.length+2))?(o.resets.font[e]=el,n.fontPreloads&&(n.fontPreloads+=", "),n.fontPreloads+=d):(e9(n=[],e=U({rel:"preload",href:e,as:t},i)),"font"===t)?o.fontPreloads.add(n):o.bulkPreloads.add(n)}nF(r)}}else ea.L(e,t,i)},m:function(e,t){var i=rX||null;if(i){var r=i.resumableState,n=i.renderState;if(e){var o=t&&"string"==typeof t.as?t.as:"script";if("script"===o){if(r.moduleScriptResources.hasOwnProperty(e))return;o=[],r.moduleScriptResources[e]=t&&("string"==typeof t.crossOrigin||"string"==typeof t.integrity)?[t.crossOrigin,t.integrity]:el,n.preloads.moduleScripts.set(e,o)}else{if(r.moduleUnknownResources.hasOwnProperty(o)){var s=r.unknownResources[o];if(s.hasOwnProperty(e))return}else s={},r.moduleUnknownResources[o]=s;o=[],s[e]=el}e9(o,U({rel:"modulepreload",href:e},t)),n.bulkPreloads.add(o),nF(i)}}else ea.m(e,t)},X:function(e,t){var i=rX||null;if(i){var r=i.resumableState,n=i.renderState;if(e){var o=r.scriptResources.hasOwnProperty(e)?r.scriptResources[e]:void 0;null!==o&&(r.scriptResources[e]=null,t=U({src:e,async:!0},t),o&&(2===o.length&&iH(t,o),e=n.preloads.scripts.get(e))&&(e.length=0),e=[],n.scripts.add(e),ts(e,t),nF(i))}}else ea.X(e,t)},S:function(e,t,i){var r=rX||null;if(r){var n=r.resumableState,o=r.renderState;if(e){t=t||"default";var s=o.styles.get(t),a=n.styleResources.hasOwnProperty(e)?n.styleResources[e]:void 0;null!==a&&(n.styleResources[e]=null,s||(s={precedence:B(J(t)),rules:[],hrefs:[],sheets:new Map},o.styles.set(t,s)),t={state:0,props:U({rel:"stylesheet",href:e,"data-precedence":t},i)},a&&(2===a.length&&iH(t.props,a),(o=o.preloads.stylesheets.get(e))&&0<o.length?o.length=0:t.state=1),s.sheets.set(e,t),nF(r))}}else ea.S(e,t,i)},M:function(e,t){var i=rX||null;if(i){var r=i.resumableState,n=i.renderState;if(e){var o=r.moduleScriptResources.hasOwnProperty(e)?r.moduleScriptResources[e]:void 0;null!==o&&(r.moduleScriptResources[e]=null,t=U({src:e,type:"module",async:!0},t),o&&(2===o.length&&iH(t,o),e=n.preloads.moduleScripts.get(e))&&(e.length=0),e=[],n.scripts.add(e),ts(e,t),nF(i))}}else ea.M(e,t)}};var el=[],eu=null;H('"></template>');var ed=H("<script"),eh=H("</script>"),ec=H('<script src="'),ep=H('<script type="module" src="'),eg=H(' nonce="'),ef=H(' integrity="'),em=H(' crossorigin="'),ev=H(' async=""></script>'),ey=H("<style"),eC=/(<\/|<)(s)(cript)/gi;function ew(e,t,i,r){return""+t+("s"===i?"\\u0073":"\\u0053")+r}var eb=H('<script type="importmap">'),eS=H("</script>");function ex(e,t,i,r,n,o){var s=void 0===(i="string"==typeof t?t:t&&t.script)?ed:H('<script nonce="'+J(i)+'"'),a="string"==typeof t?void 0:t&&t.style,l=void 0===a?ey:H('<style nonce="'+J(a)+'"'),u=e.idPrefix,d=[],h=e.bootstrapScriptContent,c=e.bootstrapScripts,p=e.bootstrapModules;if(void 0!==h&&(d.push(s),iN(d,e),d.push(e0,B((""+h).replace(eC,ew)),eh)),h=[],void 0!==r&&(h.push(eb),h.push(B((""+JSON.stringify(r)).replace(eC,ew))),h.push(eS)),r=n?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+("number"==typeof o?o:2e3)}:null,n={placeholderPrefix:H(u+"P:"),segmentPrefix:H(u+"S:"),boundaryPrefix:H(u+"B:"),startInlineScript:s,startInlineStyle:l,preamble:eE(),externalRuntimeScript:null,bootstrapChunks:d,importMapChunks:h,onHeaders:n,headers:r,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:{script:i,style:a},hoistableState:null,stylesToHoist:!1},void 0!==c)for(r=0;r<c.length;r++)u=c[r],a=s=void 0,l={rel:"preload",as:"script",fetchPriority:"low",nonce:t},"string"==typeof u?l.href=o=u:(l.href=o=u.src,l.integrity=a="string"==typeof u.integrity?u.integrity:void 0,l.crossOrigin=s="string"==typeof u||null==u.crossOrigin?void 0:"use-credentials"===u.crossOrigin?"use-credentials":""),u=e,h=o,u.scriptResources[h]=null,u.moduleScriptResources[h]=null,e9(u=[],l),n.bootstrapScripts.add(u),d.push(ec,B(J(o)),eW),i&&d.push(eg,B(J(i)),eW),"string"==typeof a&&d.push(ef,B(J(a)),eW),"string"==typeof s&&d.push(em,B(J(s)),eW),iN(d,e),d.push(ev);if(void 0!==p)for(t=0;t<p.length;t++)a=p[t],o=r=void 0,s={rel:"modulepreload",fetchPriority:"low",nonce:i},"string"==typeof a?s.href=c=a:(s.href=c=a.src,s.integrity=o="string"==typeof a.integrity?a.integrity:void 0,s.crossOrigin=r="string"==typeof a||null==a.crossOrigin?void 0:"use-credentials"===a.crossOrigin?"use-credentials":""),a=e,l=c,a.scriptResources[l]=null,a.moduleScriptResources[l]=null,e9(a=[],s),n.bootstrapScripts.add(a),d.push(ep,B(J(c)),eW),i&&d.push(eg,B(J(i)),eW),"string"==typeof o&&d.push(ef,B(J(o)),eW),"string"==typeof r&&d.push(em,B(J(r)),eW),iN(d,e),d.push(ev);return n}function e_(e,t,i,r,n){return{idPrefix:void 0===e?"":e,nextFormID:0,streamingFormat:0,bootstrapScriptContent:i,bootstrapScripts:r,bootstrapModules:n,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function eE(){return{htmlChunks:null,headChunks:null,bodyChunks:null}}function eT(e,t,i,r){return{insertionMode:e,selectedValue:t,tagScope:i,viewTransition:r}}function eM(e){return eT("http://www.w3.org/2000/svg"===e?4:5*("http://www.w3.org/1998/Math/MathML"===e),null,0,null)}function eR(e,t,i){var r=-25&e.tagScope;switch(t){case"noscript":return eT(2,null,1|r,null);case"select":return eT(2,null!=i.value?i.value:i.defaultValue,r,null);case"svg":return eT(4,null,r,null);case"picture":return eT(2,null,2|r,null);case"math":return eT(5,null,r,null);case"foreignObject":return eT(2,null,r,null);case"table":return eT(6,null,r,null);case"thead":case"tbody":case"tfoot":return eT(7,null,r,null);case"colgroup":return eT(9,null,r,null);case"tr":return eT(8,null,r,null);case"head":if(2>e.insertionMode)return eT(3,null,r,null);break;case"html":if(0===e.insertionMode)return eT(1,null,r,null)}return 6<=e.insertionMode||2>e.insertionMode?eT(2,null,r,null):null!==e.viewTransition||e.tagScope!==r?eT(e.insertionMode,e.selectedValue,r,null):e}function eD(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function eA(e,t){return 32&t.tagScope&&(e.instructions|=128),eT(t.insertionMode,t.selectedValue,12|t.tagScope,eD(t.viewTransition))}function eI(e,t){e=eD(t.viewTransition);var i=16|t.tagScope;return null!==e&&"none"!==e.share&&(i|=64),eT(t.insertionMode,t.selectedValue,i,e)}function eP(e,t,i){return e="_"+e.idPrefix+"R_"+t,0<i&&(e+="H"+i.toString(32)),e+"_"}var eL=H("<!-- -->");function ek(e,t,i,r){return""===t?r:(r&&e.push(eL),e.push(B(J(t))),!0)}function eN(e,t){null!==(t=t.viewTransition)&&("auto"!==t.name&&(e$(e,"vt-name",0===t.nameIdx?t.name:t.name+"_"+t.nameIdx),t.nameIdx++),e$(e,"vt-update",t.update),"none"!==t.enter&&e$(e,"vt-enter",t.enter),"none"!==t.exit&&e$(e,"vt-exit",t.exit),"none"!==t.share&&e$(e,"vt-share",t.share))}var eF=new Map,eO=H(' style="'),eG=H(":"),eV=H(";");function eB(e,t){if("object"!=typeof t)throw Error(o(62));var i,r=!0;for(i in t)if(j.call(t,i)){var n=t[i];if(null!=n&&"boolean"!=typeof n&&""!==n){if(0===i.indexOf("--")){var s=B(J(i));n=B(J((""+n).trim()))}else void 0===(s=eF.get(i))&&(s=H(J(i.replace(ee,"-$1").toLowerCase().replace(et,"-ms-"))),eF.set(i,s)),n="number"==typeof n?0===n||X.has(i)?B(""+n):B(n+"px"):B(J((""+n).trim()));r?(r=!1,e.push(eO,s,eG,n)):e.push(eV,s,eG,n)}}r||e.push(eW)}var eH=H(" "),ez=H('="'),eW=H('"'),eU=H('=""');function ej(e,t,i){i&&"function"!=typeof i&&"symbol"!=typeof i&&e.push(eH,B(t),eU)}function e$(e,t,i){"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&e.push(eH,B(t),ez,B(J(i)),eW)}var eK=H(J("javascript:throw new Error('React form unexpectedly submitted.')")),eY=H('<input type="hidden"');function eq(e,t){this.push(eY),eX(e),e$(this,"name",t),e$(this,"value",e),this.push(e1)}function eX(e){if("string"!=typeof e)throw Error(o(480))}function eZ(e,t){if("function"==typeof t.$$FORM_ACTION){var i=e.nextFormID++;e=e.idPrefix+i;try{var r=t.$$FORM_ACTION(e);if(r){var n=r.data;null!=n&&n.forEach(eX)}return r}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then)throw e}}return null}function eQ(e,t,i,r,n,o,s,a){var l=null;if("function"==typeof r){var u=eZ(t,r);null!==u?(a=u.name,r=u.action||"",n=u.encType,o=u.method,s=u.target,l=u.data):(e.push(eH,B("formAction"),ez,eK,eW),s=o=n=r=a=null,e4(t,i))}return null!=a&&eJ(e,"name",a),null!=r&&eJ(e,"formAction",r),null!=n&&eJ(e,"formEncType",n),null!=o&&eJ(e,"formMethod",o),null!=s&&eJ(e,"formTarget",s),l}function eJ(e,t,i){switch(t){case"className":e$(e,"class",i);break;case"tabIndex":e$(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":e$(e,t,i);break;case"style":eB(e,i);break;case"src":case"href":if(""===i)break;case"action":case"formAction":if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i)break;i=er(""+i),e.push(eH,B(t),ez,B(J(i)),eW);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":ej(e,t.toLowerCase(),i);break;case"xlinkHref":if("function"==typeof i||"symbol"==typeof i||"boolean"==typeof i)break;i=er(""+i),e.push(eH,B("xlink:href"),ez,B(J(i)),eW);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof i&&"symbol"!=typeof i&&e.push(eH,B(t),ez,B(J(i)),eW);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i&&e.push(eH,B(t),eU);break;case"capture":case"download":!0===i?e.push(eH,B(t),eU):!1!==i&&"function"!=typeof i&&"symbol"!=typeof i&&e.push(eH,B(t),ez,B(J(i)),eW);break;case"cols":case"rows":case"size":case"span":"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i&&e.push(eH,B(t),ez,B(J(i)),eW);break;case"rowSpan":case"start":"function"==typeof i||"symbol"==typeof i||isNaN(i)||e.push(eH,B(t),ez,B(J(i)),eW);break;case"xlinkActuate":e$(e,"xlink:actuate",i);break;case"xlinkArcrole":e$(e,"xlink:arcrole",i);break;case"xlinkRole":e$(e,"xlink:role",i);break;case"xlinkShow":e$(e,"xlink:show",i);break;case"xlinkTitle":e$(e,"xlink:title",i);break;case"xlinkType":e$(e,"xlink:type",i);break;case"xmlBase":e$(e,"xml:base",i);break;case"xmlLang":e$(e,"xml:lang",i);break;case"xmlSpace":e$(e,"xml:space",i);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&q(t=Z.get(t)||t)){switch(typeof i){case"function":case"symbol":return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return}e.push(eH,B(t),ez,B(J(i)),eW)}}}var e0=H(">"),e1=H("/>");function e2(e,t,i){if(null!=t){if(null!=i)throw Error(o(60));if("object"!=typeof t||!("__html"in t))throw Error(o(61));null!=(t=t.__html)&&e.push(B(""+t))}}var e5=H(' selected=""'),e3=H('addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});');function e4(e,t){if(0==(16&e.instructions)){e.instructions|=16;var i=t.preamble,r=t.bootstrapChunks;(i.htmlChunks||i.headChunks)&&0===r.length?(r.push(t.startInlineScript),iN(r,e),r.push(e0,e3,eh)):r.unshift(t.startInlineScript,e0,e3,eh)}}var e6=H("<!--F!-->"),e8=H("<!--F-->");function e9(e,t){for(var i in e.push(tc("link")),t)if(j.call(t,i)){var r=t[i];if(null!=r)switch(i){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"link"));default:eJ(e,i,r)}}return e.push(e1),null}var e7=/(<\/|<)(s)(tyle)/gi;function te(e,t,i,r){return""+t+("s"===i?"\\73 ":"\\53 ")+r}function tt(e,t,i,r){for(var n in e.push(tc(i)),t)if(j.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,i));default:eJ(e,n,s)}}return eN(e,r),e.push(e1),null}function ti(e,t){e.push(tc("title"));var i,r=null,n=null;for(i in t)if(j.call(t,i)){var o=t[i];if(null!=o)switch(i){case"children":r=o;break;case"dangerouslySetInnerHTML":n=o;break;default:eJ(e,i,o)}}return e.push(e0),"function"!=typeof(t=Array.isArray(r)?2>r.length?r[0]:null:r)&&"symbol"!=typeof t&&null!=t&&e.push(B(J(""+t))),e2(e,n,r),e.push(tf("title")),null}var tr=H("<!--head-->"),tn=H("<!--body-->"),to=H("<!--html-->");function ts(e,t){e.push(tc("script"));var i,r=null,n=null;for(i in t)if(j.call(t,i)){var o=t[i];if(null!=o)switch(i){case"children":r=o;break;case"dangerouslySetInnerHTML":n=o;break;default:eJ(e,i,o)}}return e.push(e0),e2(e,n,r),"string"==typeof r&&e.push(B((""+r).replace(eC,ew))),e.push(tf("script")),null}function ta(e,t,i,r){e.push(tc(i));var n,o=i=null;for(n in t)if(j.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":i=s;break;case"dangerouslySetInnerHTML":o=s;break;default:eJ(e,n,s)}}return eN(e,r),e.push(e0),e2(e,o,i),i}function tl(e,t,i,r){e.push(tc(i));var n,o=i=null;for(n in t)if(j.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":i=s;break;case"dangerouslySetInnerHTML":o=s;break;default:eJ(e,n,s)}}return eN(e,r),e.push(e0),e2(e,o,i),"string"==typeof i?(e.push(B(J(i))),null):i}var tu=H("\n"),td=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,th=new Map;function tc(e){var t=th.get(e);if(void 0===t){if(!td.test(e))throw Error(o(65,e));t=H("<"+e),th.set(e,t)}return t}var tp=H("<!DOCTYPE html>"),tg=new Map;function tf(e){var t=tg.get(e);return void 0===t&&(t=H("</"+e+">"),tg.set(e,t)),t}function tm(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function tv(e,t){t=t.bootstrapChunks;for(var i=0;i<t.length-1;i++)F(e,t[i]);return!(i<t.length)||(i=t[i],t.length=0,O(e,i))}var ty=H("requestAnimationFrame(function(){$RT=performance.now()});"),tC=H('<template id="'),tw=H('"></template>'),tb=H("<!--&-->"),tS=H("<!--/&-->"),tx=H("<!--$-->"),t_=H('<!--$?--><template id="'),tE=H('"></template>'),tT=H("<!--$!-->"),tM=H("<!--/$-->"),tR=H("<template"),tD=H('"'),tA=H(' data-dgst="');H(' data-msg="'),H(' data-stck="'),H(' data-cstck="');var tI=H("></template>");function tP(e,t,i){if(F(e,t_),null===i)throw Error(o(395));return F(e,t.boundaryPrefix),F(e,B(i.toString(16))),O(e,tE)}var tL=H('<div hidden id="'),tk=H('">'),tN=H("</div>"),tF=H('<svg aria-hidden="true" style="display:none" id="'),tO=H('">'),tG=H("</svg>"),tV=H('<math aria-hidden="true" style="display:none" id="'),tB=H('">'),tH=H("</math>"),tz=H('<table hidden id="'),tW=H('">'),tU=H("</table>"),tj=H('<table hidden><tbody id="'),t$=H('">'),tK=H("</tbody></table>"),tY=H('<table hidden><tr id="'),tq=H('">'),tX=H("</tr></table>"),tZ=H('<table hidden><colgroup id="'),tQ=H('">'),tJ=H("</colgroup></table>"),t0=H('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),t1=H('$RS("'),t2=H('","'),t5=H('")</script>');H('<template data-rsi="" data-sid="'),H('" data-pid="');var t3=H('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};'),t4=B('$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),a=CSS.escape(a)!==a?"r-"+btoa(a).replace(/=/g,""):a,b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");\nfor(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),H=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,\nI.querySelectorAll(\'img[src]:not([loading="lazy"])\'))}}}if(B){var z=document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),\na.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,\n$RV);'),t6=H('$RC("'),t8=H('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("'),t9=H('$RR("'),t7=H('","'),ie=H('",'),it=H('"'),ii=H(")</script>");H('<template data-rci="" data-bid="'),H('<template data-rri="" data-bid="'),H('" data-sid="'),H('" data-sty="');var ir=H('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};'),io=H('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),is=H('$RX("'),ia=H('"'),il=H(","),iu=H(")</script>");H('<template data-rxi="" data-bid="'),H('" data-dgst="'),H('" data-msg="'),H('" data-stck="'),H('" data-cstck="');var id=/[<\u2028\u2029]/g,ih=/[&><\u2028\u2029]/g;function ic(e){return JSON.stringify(e).replace(ih,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ip=H(' media="not all" data-precedence="'),ig=H('" data-href="'),im=H('">'),iv=H("</style>"),iy=!1,iC=!0;function iw(e){var t=e.rules,i=e.hrefs,r=0;if(i.length){for(F(this,eu.startInlineStyle),F(this,ip),F(this,e.precedence),F(this,ig);r<i.length-1;r++)F(this,i[r]),F(this,iR);for(F(this,i[r]),F(this,im),r=0;r<t.length;r++)F(this,t[r]);iC=O(this,iv),iy=!0,t.length=0,i.length=0}}function ib(e){return 2!==e.state&&(iy=!0)}function iS(e,t,i){return iy=!1,iC=!0,eu=i,t.styles.forEach(iw,e),eu=null,t.stylesheets.forEach(ib),iy&&(i.stylesToHoist=!0),iC}function ix(e){for(var t=0;t<e.length;t++)F(this,e[t]);e.length=0}var i_=[];function iE(e){e9(i_,e.props);for(var t=0;t<i_.length;t++)F(this,i_[t]);i_.length=0,e.state=2}var iT=H(' data-precedence="'),iM=H('" data-href="'),iR=H(" "),iD=H('">'),iA=H("</style>");function iI(e){var t=0<e.sheets.size;e.sheets.forEach(iE,this),e.sheets.clear();var i=e.rules,r=e.hrefs;if(!t||r.length){if(F(this,eu.startInlineStyle),F(this,iT),F(this,e.precedence),e=0,r.length){for(F(this,iM);e<r.length-1;e++)F(this,r[e]),F(this,iR);F(this,r[e])}for(F(this,iD),e=0;e<i.length;e++)F(this,i[e]);F(this,iA),i.length=0,r.length=0}}function iP(e){if(0===e.state){e.state=1;var t=e.props;for(e9(i_,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<i_.length;e++)F(this,i_[e]);i_.length=0}}function iL(e){e.sheets.forEach(iP,this),e.sheets.clear()}H('<link rel="expect" href="#'),H('" blocking="render"/>');var ik=H(' id="');function iN(e,t){0==(32&t.instructions)&&(t.instructions|=32,e.push(ik,B(J("_"+t.idPrefix+"R_")),eW))}var iF=H("["),iO=H(",["),iG=H(","),iV=H("]");function iB(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function iH(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function iz(e,t,i){for(var r in t="<"+(e=(""+e).replace(iW,iU))+'>; rel=preload; as="'+(t=(""+t).replace(ij,i$))+'"',i)j.call(i,r)&&"string"==typeof(e=i[r])&&(t+="; "+r.toLowerCase()+'="'+(""+e).replace(ij,i$)+'"');return t}var iW=/[<>\r\n]/g;function iU(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var ij=/["';,\r\n]/g;function i$(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function iK(e){this.styles.add(e)}function iY(e){this.stylesheets.add(e)}function iq(e,t){t.styles.forEach(iK,e),t.stylesheets.forEach(iY,e),t.suspenseyImages&&(e.suspenseyImages=!0)}function iX(e){return 0<e.stylesheets.size||e.suspenseyImages}var iZ=Function.prototype.bind,iQ=Symbol.for("react.client.reference");function iJ(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===iQ?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case d:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case f:return"SuspenseList";case C:return"Activity";case S:return"ViewTransition"}if("object"==typeof e)switch(e.$$typeof){case a:return"Portal";case c:return e.displayName||"Context";case h:return(e._context.displayName||"Context")+".Consumer";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case m:return null!==(t=e.displayName||null)?t:iJ(e.type)||"Memo";case v:t=e._payload,e=e._init;try{return iJ(e(t))}catch(e){}}return null}var i0={},i1=null;function i2(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var i=t.parent;if(null===e){if(null!==i)throw Error(o(401))}else{if(null===i)throw Error(o(401));i2(e,i)}t.context._currentValue=t.value}}function i5(e){var t=i1;t!==e&&(null===t?function e(t){var i=t.parent;null!==i&&e(i),t.context._currentValue=t.value}(e):null===e?function e(t){t.context._currentValue=t.parentValue,null!==(t=t.parent)&&e(t)}(t):t.depth===e.depth?i2(t,e):t.depth>e.depth?function e(t,i){if(t.context._currentValue=t.parentValue,null===(t=t.parent))throw Error(o(402));t.depth===i.depth?i2(t,i):e(t,i)}(t,e):function e(t,i){var r=i.parent;if(null===r)throw Error(o(402));t.depth===r.depth?i2(t,r):e(t,r),i.context._currentValue=i.value}(t,e),i1=e)}var i3={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},i4={id:1,overflow:""};function i6(e){var t=e.overflow;return((e=e.id)&~(1<<32-i9(e)-1)).toString(32)+t}function i8(e,t,i){var r=e.id;e=e.overflow;var n=32-i9(r)-1;r&=~(1<<n),i+=1;var o=32-i9(t)+n;if(30<o){var s=n-n%5;return o=(r&(1<<s)-1).toString(32),r>>=s,n-=s,{id:1<<32-i9(t)+n|i<<n|r,overflow:o+e}}return{id:1<<o|i<<n|r,overflow:e}}var i9=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(i7(e)/re|0)|0},i7=Math.log,re=Math.LN2;function rt(){}var ri=Error(o(460)),rr=null;function rn(){if(null===rr)throw Error(o(459));var e=rr;return rr=null,e}var ro="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},rs=null,ra=null,rl=null,ru=null,rd=null,rh=null,rc=!1,rp=!1,rg=0,rf=0,rm=-1,rv=0,ry=null,rC=null,rw=0;function rb(){if(null===rs)throw Error(o(321));return rs}function rS(){if(0<rw)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function rx(){return null===rh?null===rd?(rc=!1,rd=rh=rS()):(rc=!0,rh=rd):null===rh.next?(rc=!1,rh=rh.next=rS()):(rc=!0,rh=rh.next),rh}function r_(){var e=ry;return ry=null,e}function rE(){ru=rl=ra=rs=null,rp=!1,rd=null,rw=0,rh=rC=null}function rT(e,t){return"function"==typeof t?t(e):t}function rM(e,t,i){if(rs=rb(),rh=rx(),rc){var r=rh.queue;if(t=r.dispatch,null!==rC&&void 0!==(i=rC.get(r))){rC.delete(r),r=rh.memoizedState;do r=e(r,i.action),i=i.next;while(null!==i)return rh.memoizedState=r,[r,t]}return[rh.memoizedState,t]}return e=e===rT?"function"==typeof t?t():t:void 0!==i?i(t):t,rh.memoizedState=e,e=(e=rh.queue={last:null,dispatch:null}).dispatch=rD.bind(null,rs,e),[rh.memoizedState,e]}function rR(e,t){if(rs=rb(),rh=rx(),t=void 0===t?null:t,null!==rh){var i=rh.memoizedState;if(null!==i&&null!==t){var r=i[1];t:if(null===r)r=!1;else{for(var n=0;n<r.length&&n<t.length;n++)if(!ro(t[n],r[n])){r=!1;break t}r=!0}if(r)return i[0]}}return e=e(),rh.memoizedState=[e,t],e}function rD(e,t,i){if(25<=rw)throw Error(o(301));if(e===rs)if(rp=!0,e={action:i,next:null},null===rC&&(rC=new Map),void 0===(i=rC.get(t)))rC.set(t,e);else{for(t=i;null!==t.next;)t=t.next;t.next=e}}function rA(){throw Error(o(440))}function rI(){throw Error(o(394))}function rP(){throw Error(o(479))}function rL(e,t,i){rb();var r=rf++,n=rl;if("function"==typeof e.$$FORM_ACTION){var o=null,s=ru;n=n.formState;var a=e.$$IS_SIGNATURE_EQUAL;if(null!==n&&"function"==typeof a){var l=n[1];a.call(e,n[2],n[3])&&l===(o=void 0!==i?"p"+i:"k"+M(JSON.stringify([s,null,r]),0))&&(rm=r,t=n[0])}var u=e.bind(null,t);return e=function(e){u(e)},"function"==typeof u.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=u.$$FORM_ACTION(e),void 0!==i&&(i+="",e.action=i);var t=e.data;return t&&(null===o&&(o=void 0!==i?"p"+i:"k"+M(JSON.stringify([s,null,r]),0)),t.append("$ACTION_KEY",o)),e}),[t,e,!1]}var d=e.bind(null,t);return[t,function(e){d(e)},!1]}function rk(e){var t=rv;rv+=1,null===ry&&(ry=[]);var i=ry,r=e,n=t;switch(void 0===(n=i[n])?i.push(r):n!==r&&(r.then(rt,rt),r=n),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch("string"==typeof r.status?r.then(rt,rt):((i=r).status="pending",i.then(function(e){if("pending"===r.status){var t=r;t.status="fulfilled",t.value=e}},function(e){if("pending"===r.status){var t=r;t.status="rejected",t.reason=e}})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}throw rr=r,ri}}function rN(){throw Error(o(393))}var rF,rO,rG={readContext:function(e){return e._currentValue},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return rk(e);if(e.$$typeof===c)return e._currentValue}throw Error(o(438,String(e)))},useContext:function(e){return rb(),e._currentValue},useMemo:rR,useReducer:rM,useRef:function(e){rs=rb();var t=(rh=rx()).memoizedState;return null===t?(e={current:e},rh.memoizedState=e):t},useState:function(e){return rM(rT,e)},useInsertionEffect:rt,useLayoutEffect:rt,useCallback:function(e,t){return rR(function(){return e},t)},useImperativeHandle:rt,useEffect:rt,useDebugValue:rt,useDeferredValue:function(e,t){return rb(),void 0!==t?t:e},useTransition:function(){return rb(),[!1,rI]},useId:function(){var e=i6(ra.treeContext),t=rV;if(null===t)throw Error(o(404));return eP(t,e,rg++)},useSyncExternalStore:function(e,t,i){if(void 0===i)throw Error(o(407));return i()},useOptimistic:function(e){return rb(),[e,rP]},useActionState:rL,useFormState:rL,useHostTransitionStatus:function(){return rb(),es},useMemoCache:function(e){for(var t=Array(e),i=0;i<e;i++)t[i]=b;return t},useCacheRefresh:function(){return rN},useEffectEvent:function(){return rA}},rV=null,rB={getCacheForType:function(){throw Error(o(248))},cacheSignal:function(){throw Error(o(248))}};function rH(e){if(void 0===rF)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);rF=t&&t[1]||"",rO=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+rF+e+rO}var rz=!1;function rW(e,t){if(!e||rz)return"";rz=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var i=function(){throw Error()};if(Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(i,[])}catch(e){var r=e}Reflect.construct(e,[],i)}else{try{i.call()}catch(e){r=e}e.call(i.prototype)}}else{try{throw Error()}catch(e){r=e}(i=e())&&"function"==typeof i.catch&&i.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),u=a.split("\n");for(n=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;if(r===l.length||n===u.length)for(r=l.length-1,n=u.length-1;1<=r&&0<=n&&l[r]!==u[n];)n--;for(;1<=r&&0<=n;r--,n--)if(l[r]!==u[n]){if(1!==r||1!==n)do if(r--,n--,0>n||l[r]!==u[n]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=r&&0<=n)break}}}finally{rz=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?rH(i):""}function rU(e,t){return e=null==e||"string"==typeof e?e:e.default,null==(t=null==t||"string"==typeof t?t:t.default)?"auto"===e?null:e:"auto"===t?null:t}function rj(e,t){return(500<t.byteSize||iX(t.contentState)||t.defer)&&null===t.preamble}function r$(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e])[0]?e.splice(0,1,"%c%s%c "+e[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""):e.splice(0,0,"%c%s%c","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""),e.unshift(console),(t=iZ.apply(console.error,e))()}else console.error(e);return null}function rK(e,t,i,r,n,o,s,a,l,u){var d=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=i,this.progressiveChunkSize=void 0===r?12800:r,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=d,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===n?r$:n,this.onAllReady=void 0===o?rt:o,this.onShellReady=void 0===s?rt:s,this.onShellError=void 0===a?rt:a,this.onFatalError=void 0===l?rt:l,this.formState=void 0===u?null:u}function rY(e,t,i,r,n,o,s,a,l,u,d){return(i=r1(t=new rK(t,i,r,n,o,s,a,l,u,d),0,null,r,!1,!1)).parentFlushed=!0,r2(e=rJ(t,null,e,-1,null,i,null,null,t.abortableTasks,null,r,null,i4,null,null)),t.pingedTasks.push(e),t}function rq(e,t,i,r,n,o,s,a){return((i=new rK(t.resumableState,i,t.rootFormatContext,t.progressiveChunkSize,r,n,o,s,a,null)).nextSegmentId=t.nextSegmentId,"number"==typeof t.replaySlots)?((r=r1(i,0,null,t.rootFormatContext,!1,!1)).parentFlushed=!0,r2(e=rJ(i,null,e,-1,null,r,null,null,i.abortableTasks,null,t.rootFormatContext,null,i4,null,null))):r2(e=r0(i,null,{nodes:t.replayNodes,slots:t.replaySlots,pendingTasks:0},e,-1,null,null,i.abortableTasks,null,t.rootFormatContext,null,i4,null,null)),i.pingedTasks.push(e),i}var rX=null;function rZ(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,null!==e.trackedPostpones||10===e.status?L(function(){return nx(e)}):A(function(){return nx(e)}))}function rQ(e,t,i,r,n){return i={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,defer:n,fallbackAbortableTasks:i,errorDigest:null,contentState:iB(),fallbackState:iB(),preamble:r,tracked:null},null!==t&&(t.pendingTasks++,null!==(r=t.boundaries)&&(e.allPendingTasks++,i.pendingTasks++,r.push(i)),null!==(e=t.inheritedHoistables)&&iq(i.contentState,e)),i}function rJ(e,t,i,r,n,o,s,a,l,u,d,h,c,p,g){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++,null!==p&&p.pendingTasks++;var f={replay:null,node:i,childIndex:r,ping:function(){return rZ(e,f)},blockedBoundary:n,blockedSegment:o,blockedPreamble:s,hoistableState:a,abortSet:l,keyPath:u,formatContext:d,context:h,treeContext:c,row:p,componentStack:g,thenableState:t};return l.add(f),f}function r0(e,t,i,r,n,o,s,a,l,u,d,h,c,p){e.allPendingTasks++,null===o?e.pendingRootTasks++:o.pendingTasks++,null!==c&&c.pendingTasks++,i.pendingTasks++;var g={replay:i,node:r,childIndex:n,ping:function(){return rZ(e,g)},blockedBoundary:o,blockedSegment:null,blockedPreamble:null,hoistableState:s,abortSet:a,keyPath:l,formatContext:u,context:d,treeContext:h,row:c,componentStack:p,thenableState:t};return a.add(g),g}function r1(e,t,i,r,n,o){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:r,boundary:i,lastPushedText:n,textEmbedded:o}}function r2(e){var t=e.node;"object"==typeof t&&null!==t&&t.$$typeof===s&&(e.componentStack={parent:e.componentStack,type:t.type})}function r5(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function r3(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var i="",r=e;do i+=function e(t){if("string"==typeof t)return rH(t);if("function"==typeof t)return t.prototype&&t.prototype.isReactComponent?rW(t,!0):rW(t,!1);if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return rW(t.render,!1);case m:return rW(t.type,!1);case v:var i=t,r=i._payload;i=i._init;try{t=i(r)}catch(e){return rH("Lazy")}return e(t)}if("string"==typeof t.name){t:{r=t.name,i=t.env;var n=t.debugLocation;if(null!=n&&(t=Error.prepareStackTrace,Error.prepareStackTrace=void 0,n=n.stack,Error.prepareStackTrace=t,n.startsWith("Error: react-stack-top-frame\n")&&(n=n.slice(29)),-1!==(t=n.indexOf("\n"))&&(n=n.slice(t+1)),-1!==(t=n.indexOf("react_stack_bottom_frame"))&&(t=n.lastIndexOf("\n",t)),-1!==(t=-1===(n=(t=-1!==t?n=n.slice(0,t):"").lastIndexOf("\n"))?t:t.slice(n+1)).indexOf(r))){r="\n"+t;break t}r=rH(r+(i?" ["+i+"]":""))}return r}}switch(t){case f:return rH("SuspenseList");case g:return rH("Suspense");case S:return rH("ViewTransition")}return""}(r.type),r=r.parent;while(r)var n=i}catch(e){n="\nError generating stack: "+e.message+"\n"+e.stack}return Object.defineProperty(t,"componentStack",{value:n}),n}}),t}function r4(e,t,i){if(null==(t=(e=e.onError)(t,i))||"string"==typeof t)return t}function r6(e,t){var i=e.onShellError,r=e.onFatalError;i(t),r(t),null!==e.destination?(e.status=14,W(e.destination,t)):(e.status=13,e.fatalError=t)}function r8(e,t){r9(e,t.next,t.hoistables)}function r9(e,t,i){for(;null!==t;){null!==i&&(iq(t.hoistables,i),t.inheritedHoistables=i);var r=t.boundaries;if(null!==r){t.boundaries=null;for(var n=0;n<r.length;n++){var o=r[n];null!==i&&iq(o.contentState,i),nS(e,o,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;i=t.hoistables,t=t.next}}function r7(e,t){var i=t.boundaries;if(null!==i&&t.pendingTasks===i.length){for(var r=!0,n=0;n<i.length;n++){var o=i[n];if(1!==o.pendingTasks||o.parentFlushed||rj(e,o)){r=!1;break}}r&&r9(e,t,t.hoistables)}}function ne(e){var t={pendingTasks:1,boundaries:null,hoistables:iB(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function nt(e,t,i,r,n){var o=t.keyPath,s=t.treeContext,a=t.row;t.keyPath=i,i=r.length;var l=null;if(null!==t.replay){var u=t.replay.slots;if(null!==u&&"object"==typeof u)for(var d=0;d<i;d++){var h="backwards"!==n&&"unstable_legacy-backwards"!==n?d:i-1-d,c=r[h];t.row=l=ne(l),t.treeContext=i8(s,i,h);var p=u[h];"number"==typeof p?(no(e,t,p,c,h),delete u[h]):ng(e,t,c,h),0==--l.pendingTasks&&r8(e,l)}else for(u=0;u<i;u++)h=r[d="backwards"!==n&&"unstable_legacy-backwards"!==n?u:i-1-u],t.row=l=ne(l),t.treeContext=i8(s,i,d),ng(e,t,h,d),0==--l.pendingTasks&&r8(e,l)}else if("backwards"!==n&&"unstable_legacy-backwards"!==n)for(n=0;n<i;n++)u=r[n],t.row=l=ne(l),t.treeContext=i8(s,i,n),ng(e,t,u,n),0==--l.pendingTasks&&r8(e,l);else{for(c=0,d=(u=t.blockedSegment).children.length,h=u.chunks.length;c<i;c++){var g=r[p="unstable_legacy-backwards"===n?i-1-c:c];t.row=l=ne(l),t.treeContext=i8(s,i,p);var f=r1(e,h,null,t.formatContext,0!==p||u.lastPushedText,!0);u.children.splice(d,0,f),t.blockedSegment=f;try{ng(e,t,g,p),f.lastPushedText&&f.textEmbedded&&f.chunks.push(eL),f.status=1,nb(e,t.blockedBoundary,f),0==--l.pendingTasks&&r8(e,l)}catch(t){throw f.status=12===e.status?3:4,t}}t.blockedSegment=u,u.lastPushedText=!1}null!==a&&null!==l&&0<l.pendingTasks&&(a.pendingTasks++,l.next=a),t.treeContext=s,t.row=a,t.keyPath=o}function ni(e,t,i,r,n,o){var s=t.thenableState;for(t.thenableState=null,rs={},ra=t,rl=e,ru=i,rf=rg=0,rm=-1,rv=0,ry=s,e=r(n,o);rp;)rp=!1,rf=rg=0,rm=-1,rv=0,rw+=1,rh=null,e=r(n,o);return rE(),e}function nr(e,t,i,r,n,o,s){var a=!1;if(0!==o&&null!==e.formState){var l=t.blockedSegment;if(null!==l){a=!0,l=l.chunks;for(var u=0;u<o;u++)u===s?l.push(e6):l.push(e8)}}o=t.keyPath,t.keyPath=i,n?(i=t.treeContext,t.treeContext=i8(i,1,0),ng(e,t,r,-1),t.treeContext=i):a?ng(e,t,r,-1):ns(e,t,r,-1),t.keyPath=o}function nn(e,t,i,n,s,a){if("function"==typeof n)if(n.prototype&&n.prototype.isReactComponent){var b=s;if("ref"in s)for(var x in b={},s)"ref"!==x&&(b[x]=s[x]);var E=n.defaultProps;if(E)for(var M in b===s&&(b=U({},b,s)),E)void 0===b[M]&&(b[M]=E[M]);var R=b,D=i0,A=n.contextType;"object"==typeof A&&null!==A&&(D=A._currentValue);var I=new n(R,D),P=void 0!==I.state?I.state:null;I.updater=i3,I.props=R,I.state=P;var L={queue:[],replace:!1};I._reactInternals=L;var k=n.contextType;I.context="object"==typeof k&&null!==k?k._currentValue:i0;var N=n.getDerivedStateFromProps;if("function"==typeof N){var F=N(R,P);I.state=null==F?P:U({},P,F)}if("function"!=typeof n.getDerivedStateFromProps&&"function"!=typeof I.getSnapshotBeforeUpdate&&("function"==typeof I.UNSAFE_componentWillMount||"function"==typeof I.componentWillMount)){var O=I.state;if("function"==typeof I.componentWillMount&&I.componentWillMount(),"function"==typeof I.UNSAFE_componentWillMount&&I.UNSAFE_componentWillMount(),O!==I.state&&i3.enqueueReplaceState(I,I.state,null),null!==L.queue&&0<L.queue.length){var G=L.queue,V=L.replace;if(L.queue=null,L.replace=!1,V&&1===G.length)I.state=G[0];else{for(var H=V?G[0]:I.state,z=!0,W=+!!V;W<G.length;W++){var $=G[W],K="function"==typeof $?$.call(I,H,R,void 0):$;null!=K&&(z?(z=!1,H=U({},H,K)):U(H,K))}I.state=H}}else L.queue=null}var Y=I.render();if(12===e.status)throw null;var X=t.keyPath;t.keyPath=i,ns(e,t,Y,-1),t.keyPath=X}else{var Z=ni(e,t,i,n,s,void 0);if(12===e.status)throw null;nr(e,t,i,Z,0!==rg,rf,rm)}else if("string"==typeof n){var Q=t.blockedSegment;if(null===Q){var ee=s.children,et=t.formatContext,ei=t.keyPath;t.formatContext=eR(et,n,s),t.keyPath=i,ng(e,t,ee,-1),t.formatContext=et,t.keyPath=ei}else{var en=function(e,t,i,n,s,a,l,u,d){switch(t){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":e.push(tc("a"));var h,c=null,p=null;for(h in i)if(j.call(i,h)){var g=i[h];if(null!=g)switch(h){case"children":c=g;break;case"dangerouslySetInnerHTML":p=g;break;case"href":""===g?e$(e,"href",""):eJ(e,h,g);break;default:eJ(e,h,g)}}if(eN(e,u),e.push(e0),e2(e,p,c),"string"==typeof c){e.push(B(J(c)));var f=null}else f=c;return f;case"select":e.push(tc("select"));var m,v=null,y=null;for(m in i)if(j.call(i,m)){var C=i[m];if(null!=C)switch(m){case"children":v=C;break;case"dangerouslySetInnerHTML":y=C;break;case"defaultValue":case"value":break;default:eJ(e,m,C)}}return eN(e,u),e.push(e0),e2(e,y,v),v;case"option":var w=u.selectedValue;e.push(tc("option"));var b,S=null,x=null,_=null,E=null;for(b in i)if(j.call(i,b)){var M=i[b];if(null!=M)switch(b){case"children":S=M;break;case"selected":_=M;break;case"dangerouslySetInnerHTML":E=M;break;case"value":x=M;default:eJ(e,b,M)}}if(null!=w){var R,D,A=null!==x?""+x:(R=S,D="",r.Children.forEach(R,function(e){null!=e&&(D+=e)}),D);if(T(w)){for(var I=0;I<w.length;I++)if(""+w[I]===A){e.push(e5);break}}else""+w===A&&e.push(e5)}else _&&e.push(e5);return e.push(e0),e2(e,E,S),S;case"textarea":e.push(tc("textarea"));var P,L=null,k=null,N=null;for(P in i)if(j.call(i,P)){var F=i[P];if(null!=F)switch(P){case"children":N=F;break;case"value":L=F;break;case"defaultValue":k=F;break;case"dangerouslySetInnerHTML":throw Error(o(91));default:eJ(e,P,F)}}if(null===L&&null!==k&&(L=k),eN(e,u),e.push(e0),null!=N){if(null!=L)throw Error(o(92));if(T(N)){if(1<N.length)throw Error(o(93));L=""+N[0]}L=""+N}return"string"==typeof L&&"\n"===L[0]&&e.push(tu),null!==L&&e.push(B(J(""+L))),null;case"input":e.push(tc("input"));var O,G=null,V=null,H=null,z=null,W=null,$=null,K=null,Y=null,X=null;for(O in i)if(j.call(i,O)){var Z=i[O];if(null!=Z)switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"input"));case"name":G=Z;break;case"formAction":V=Z;break;case"formEncType":H=Z;break;case"formMethod":z=Z;break;case"formTarget":W=Z;break;case"defaultChecked":X=Z;break;case"defaultValue":K=Z;break;case"checked":Y=Z;break;case"value":$=Z;break;default:eJ(e,O,Z)}}var Q=eQ(e,n,s,V,H,z,W,G);return null!==Y?ej(e,"checked",Y):null!==X&&ej(e,"checked",X),null!==$?eJ(e,"value",$):null!==K&&eJ(e,"value",K),eN(e,u),e.push(e1),null!=Q&&Q.forEach(eq,e),null;case"button":e.push(tc("button"));var ee,et=null,ei=null,en=null,eo=null,es=null,ea=null,eu=null;for(ee in i)if(j.call(i,ee)){var ed=i[ee];if(null!=ed)switch(ee){case"children":et=ed;break;case"dangerouslySetInnerHTML":ei=ed;break;case"name":en=ed;break;case"formAction":eo=ed;break;case"formEncType":es=ed;break;case"formMethod":ea=ed;break;case"formTarget":eu=ed;break;default:eJ(e,ee,ed)}}var eh=eQ(e,n,s,eo,es,ea,eu,en);if(eN(e,u),e.push(e0),null!=eh&&eh.forEach(eq,e),e2(e,ei,et),"string"==typeof et){e.push(B(J(et)));var ec=null}else ec=et;return ec;case"form":e.push(tc("form"));var ep,eg=null,ef=null,em=null,ev=null,ey=null,eC=null;for(ep in i)if(j.call(i,ep)){var ew=i[ep];if(null!=ew)switch(ep){case"children":eg=ew;break;case"dangerouslySetInnerHTML":ef=ew;break;case"action":em=ew;break;case"encType":ev=ew;break;case"method":ey=ew;break;case"target":eC=ew;break;default:eJ(e,ep,ew)}}var eb=null,eS=null;if("function"==typeof em){var ex=eZ(n,em);null!==ex?(em=ex.action||"",ev=ex.encType,ey=ex.method,eC=ex.target,eb=ex.data,eS=ex.name):(e.push(eH,B("action"),ez,eK,eW),eC=ey=ev=em=null,e4(n,s))}if(null!=em&&eJ(e,"action",em),null!=ev&&eJ(e,"encType",ev),null!=ey&&eJ(e,"method",ey),null!=eC&&eJ(e,"target",eC),eN(e,u),e.push(e0),null!==eS&&(e.push(eY),e$(e,"name",eS),e.push(e1),null!=eb&&eb.forEach(eq,e)),e2(e,ef,eg),"string"==typeof eg){e.push(B(J(eg)));var e_=null}else e_=eg;return e_;case"menuitem":for(var eE in e.push(tc("menuitem")),i)if(j.call(i,eE)){var eT=i[eE];if(null!=eT)switch(eE){case"children":case"dangerouslySetInnerHTML":throw Error(o(400));default:eJ(e,eE,eT)}}return eN(e,u),e.push(e0),null;case"object":e.push(tc("object"));var eM,eR=null,eD=null;for(eM in i)if(j.call(i,eM)){var eA=i[eM];if(null!=eA)switch(eM){case"children":eR=eA;break;case"dangerouslySetInnerHTML":eD=eA;break;case"data":var eI=er(""+eA);if(""===eI)break;e.push(eH,B("data"),ez,B(J(eI)),eW);break;default:eJ(e,eM,eA)}}if(eN(e,u),e.push(e0),e2(e,eD,eR),"string"==typeof eR){e.push(B(J(eR)));var eP=null}else eP=eR;return eP;case"title":var ek=1&u.tagScope,eF=4&u.tagScope;if(4===u.insertionMode||ek||null!=i.itemProp)var eO=ti(e,i);else eF?eO=null:(ti(s.hoistableChunks,i),eO=void 0);return eO;case"link":var eG=1&u.tagScope,eV=4&u.tagScope,eU=i.rel,eX=i.href,e3=i.precedence;if(4===u.insertionMode||eG||null!=i.itemProp||"string"!=typeof eU||"string"!=typeof eX||""===eX){e9(e,i);var e6=null}else if("stylesheet"===i.rel)if("string"!=typeof e3||null!=i.disabled||i.onLoad||i.onError)e6=e9(e,i);else{var e8=s.styles.get(e3),td=n.styleResources.hasOwnProperty(eX)?n.styleResources[eX]:void 0;if(null!==td){n.styleResources[eX]=null,e8||(e8={precedence:B(J(e3)),rules:[],hrefs:[],sheets:new Map},s.styles.set(e3,e8));var th={state:0,props:U({},i,{"data-precedence":i.precedence,precedence:null})};if(td){2===td.length&&iH(th.props,td);var tg=s.preloads.stylesheets.get(eX);tg&&0<tg.length?tg.length=0:th.state=1}e8.sheets.set(eX,th),l&&l.stylesheets.add(th)}else if(e8){var tm=e8.sheets.get(eX);tm&&l&&l.stylesheets.add(tm)}d&&e.push(eL),e6=null}else i.onLoad||i.onError?e6=e9(e,i):(d&&e.push(eL),e6=eV?null:e9(s.hoistableChunks,i));return e6;case"script":var tv=1&u.tagScope,ty=i.async;if("string"!=typeof i.src||!i.src||!ty||"function"==typeof ty||"symbol"==typeof ty||i.onLoad||i.onError||4===u.insertionMode||tv||null!=i.itemProp)var tC=ts(e,i);else{var tw=i.src;if("module"===i.type)var tb=n.moduleScriptResources,tS=s.preloads.moduleScripts;else tb=n.scriptResources,tS=s.preloads.scripts;var tx=tb.hasOwnProperty(tw)?tb[tw]:void 0;if(null!==tx){tb[tw]=null;var t_=i;if(tx){2===tx.length&&iH(t_=U({},i),tx);var tE=tS.get(tw);tE&&(tE.length=0)}var tT=[];s.scripts.add(tT),ts(tT,t_)}d&&e.push(eL),tC=null}return tC;case"style":var tM=1&u.tagScope,tR=i.precedence,tD=i.href,tA=i.nonce;if(4===u.insertionMode||tM||null!=i.itemProp||"string"!=typeof tR||"string"!=typeof tD||""===tD){e.push(tc("style"));var tI,tP=null,tL=null;for(tI in i)if(j.call(i,tI)){var tk=i[tI];if(null!=tk)switch(tI){case"children":tP=tk;break;case"dangerouslySetInnerHTML":tL=tk;break;default:eJ(e,tI,tk)}}e.push(e0);var tN=Array.isArray(tP)?2>tP.length?tP[0]:null:tP;"function"!=typeof tN&&"symbol"!=typeof tN&&null!=tN&&e.push(B((""+tN).replace(e7,te))),e2(e,tL,tP),e.push(tf("style"));var tF=null}else{var tO=s.styles.get(tR);if(null!==(n.styleResources.hasOwnProperty(tD)?n.styleResources[tD]:void 0)){n.styleResources[tD]=null,tO||(tO={precedence:B(J(tR)),rules:[],hrefs:[],sheets:new Map},s.styles.set(tR,tO));var tG=s.nonce.style;if(!tG||tG===tA){tO.hrefs.push(B(J(tD)));var tV,tB=tO.rules,tH=null,tz=null;for(tV in i)if(j.call(i,tV)){var tW=i[tV];if(null!=tW)switch(tV){case"children":tH=tW;break;case"dangerouslySetInnerHTML":tz=tW}}var tU=Array.isArray(tH)?2>tH.length?tH[0]:null:tH;"function"!=typeof tU&&"symbol"!=typeof tU&&null!=tU&&tB.push(B((""+tU).replace(e7,te))),e2(tB,tz,tH)}}tO&&l&&l.styles.add(tO),d&&e.push(eL),tF=void 0}return tF;case"meta":var tj=1&u.tagScope,t$=4&u.tagScope;if(4===u.insertionMode||tj||null!=i.itemProp)var tK=tt(e,i,"meta",u);else d&&e.push(eL),tK=t$?null:"string"==typeof i.charSet?tt(s.charsetChunks,i,"meta",u):"viewport"===i.name?tt(s.viewportChunks,i,"meta",u):tt(s.hoistableChunks,i,"meta",u);return tK;case"listing":case"pre":e.push(tc(t));var tY,tq=null,tX=null;for(tY in i)if(j.call(i,tY)){var tZ=i[tY];if(null!=tZ)switch(tY){case"children":tq=tZ;break;case"dangerouslySetInnerHTML":tX=tZ;break;default:eJ(e,tY,tZ)}}if(eN(e,u),e.push(e0),null!=tX){if(null!=tq)throw Error(o(60));if("object"!=typeof tX||!("__html"in tX))throw Error(o(61));var tQ=tX.__html;null!=tQ&&("string"==typeof tQ&&0<tQ.length&&"\n"===tQ[0]?e.push(tu,B(tQ)):e.push(B(""+tQ)))}return"string"==typeof tq&&"\n"===tq[0]&&e.push(tu),tq;case"img":var tJ=3&u.tagScope,t0=i.src,t1=i.srcSet;if(!("lazy"===i.loading||!t0&&!t1||"string"!=typeof t0&&null!=t0||"string"!=typeof t1&&null!=t1||"low"===i.fetchPriority||tJ)&&("string"!=typeof t0||":"!==t0[4]||"d"!==t0[0]&&"D"!==t0[0]||"a"!==t0[1]&&"A"!==t0[1]||"t"!==t0[2]&&"T"!==t0[2]||"a"!==t0[3]&&"A"!==t0[3])&&("string"!=typeof t1||":"!==t1[4]||"d"!==t1[0]&&"D"!==t1[0]||"a"!==t1[1]&&"A"!==t1[1]||"t"!==t1[2]&&"T"!==t1[2]||"a"!==t1[3]&&"A"!==t1[3])){null!==l&&64&u.tagScope&&(l.suspenseyImages=!0);var t2="string"==typeof i.sizes?i.sizes:void 0,t5=t1?t1+"\n"+(t2||""):t0,t3=s.preloads.images,t4=t3.get(t5);if(t4)("high"===i.fetchPriority||10>s.highImagePreloads.size)&&(t3.delete(t5),s.highImagePreloads.add(t4));else if(!n.imageResources.hasOwnProperty(t5)){n.imageResources[t5]=el;var t6,t8=i.crossOrigin,t9="string"==typeof t8?"use-credentials"===t8?t8:"":void 0,t7=s.headers;t7&&0<t7.remainingCapacity&&"string"!=typeof i.srcSet&&("high"===i.fetchPriority||500>t7.highImagePreloads.length)&&(t6=iz(t0,"image",{imageSrcSet:i.srcSet,imageSizes:i.sizes,crossOrigin:t9,integrity:i.integrity,nonce:i.nonce,type:i.type,fetchPriority:i.fetchPriority,referrerPolicy:i.refererPolicy}),0<=(t7.remainingCapacity-=t6.length+2))?(s.resets.image[t5]=el,t7.highImagePreloads&&(t7.highImagePreloads+=", "),t7.highImagePreloads+=t6):(e9(t4=[],{rel:"preload",as:"image",href:t1?void 0:t0,imageSrcSet:t1,imageSizes:t2,crossOrigin:t9,integrity:i.integrity,type:i.type,fetchPriority:i.fetchPriority,referrerPolicy:i.referrerPolicy}),"high"===i.fetchPriority||10>s.highImagePreloads.size?s.highImagePreloads.add(t4):(s.bulkPreloads.add(t4),t3.set(t5,t4)))}}return tt(e,i,"img",u);case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return tt(e,i,t,u);case"head":if(2>u.insertionMode){var ie=a||s.preamble;if(ie.headChunks)throw Error(o(545,"`<head>`"));null!==a&&e.push(tr),ie.headChunks=[];var it=ta(ie.headChunks,i,"head",u)}else it=tl(e,i,"head",u);return it;case"body":if(2>u.insertionMode){var ii=a||s.preamble;if(ii.bodyChunks)throw Error(o(545,"`<body>`"));null!==a&&e.push(tn),ii.bodyChunks=[];var ir=ta(ii.bodyChunks,i,"body",u)}else ir=tl(e,i,"body",u);return ir;case"html":if(0===u.insertionMode){var io=a||s.preamble;if(io.htmlChunks)throw Error(o(545,"`<html>`"));null!==a&&e.push(to),io.htmlChunks=[tp];var is=ta(io.htmlChunks,i,"html",u)}else is=tl(e,i,"html",u);return is;default:if(-1!==t.indexOf("-")){e.push(tc(t));var ia,il=null,iu=null;for(ia in i)if(j.call(i,ia)){var id=i[ia];if(null!=id){var ih=ia;switch(ia){case"children":il=id;break;case"dangerouslySetInnerHTML":iu=id;break;case"style":eB(e,id);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":ih="class";default:if(q(ia)&&"function"!=typeof id&&"symbol"!=typeof id&&!1!==id){if(!0===id)id="";else if("object"==typeof id)continue;e.push(eH,B(ih),ez,B(J(id)),eW)}}}}return eN(e,u),e.push(e0),e2(e,iu,il),il}}return tl(e,i,t,u)}(Q.chunks,n,s,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,Q.lastPushedText);Q.lastPushedText=!1;var eo=t.formatContext,es=t.keyPath;if(t.keyPath=i,3===(t.formatContext=eR(eo,n,s)).insertionMode){var ea=r1(e,0,null,t.formatContext,!1,!1);Q.preambleChildren.push(ea),t.blockedSegment=ea;try{ea.status=6,ng(e,t,en,-1),ea.lastPushedText&&ea.textEmbedded&&ea.chunks.push(eL),ea.status=1,nb(e,t.blockedBoundary,ea)}finally{t.blockedSegment=Q}}else ng(e,t,en,-1);t.formatContext=eo,t.keyPath=es;t:{var eu=Q.chunks,ed=e.resumableState;switch(n){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break t;case"body":if(1>=eo.insertionMode){ed.hasBody=!0;break t}break;case"html":if(0===eo.insertionMode){ed.hasHtml=!0;break t}break;case"head":if(1>=eo.insertionMode)break t}eu.push(tf(n))}Q.lastPushedText=!1}}else{switch(n){case w:case u:case d:case l:var eh=t.keyPath;t.keyPath=i,ns(e,t,s.children,-1),t.keyPath=eh;return;case C:var ec=t.blockedSegment;if(null===ec){if("hidden"!==s.mode){var ep=t.keyPath;t.keyPath=i,ng(e,t,s.children,-1),t.keyPath=ep}}else if("hidden"!==s.mode){ec.chunks.push(tb),ec.lastPushedText=!1;var eg=t.keyPath;t.keyPath=i,ng(e,t,s.children,-1),t.keyPath=eg,ec.chunks.push(tS),ec.lastPushedText=!1}return;case f:t:{var ef=s.children,em=s.revealOrder;if("independent"!==em&&"together"!==em){if(T(ef)){nt(e,t,i,ef,em);break t}var ev=_(ef);if(ev){var ey=ev.call(ef);if(ey){var eC=ey.next();if(!eC.done){do eC=ey.next();while(!eC.done)nt(e,t,i,ef,em)}break t}}}if("together"===em){var ew=t.keyPath,eb=t.row,eS=t.row=ne(null);eS.boundaries=[],eS.together=!0,t.keyPath=i,ns(e,t,ef,-1),0==--eS.pendingTasks&&r8(e,eS),t.keyPath=ew,t.row=eb,null!==eb&&0<eS.pendingTasks&&(eb.pendingTasks++,eS.next=eb)}else{var ex=t.keyPath;t.keyPath=i,ns(e,t,ef,-1),t.keyPath=ex}}return;case S:var e_=t.formatContext,eM=t.keyPath,eD=e.resumableState;if(null!=s.name&&"auto"!==s.name)var ek=s.name;else ek=eP(eD,i6(t.treeContext),0);var eF=ek,eO=e.resumableState,eG=rU(s.default,s.update),eV=rU(s.default,s.enter),eU=rU(s.default,s.exit),eX=rU(s.default,s.share),e3=s.name;if(null==eG&&(eG="auto"),null==eV&&(eV="auto"),null==eU&&(eU="auto"),null==e3){var e6=e_.viewTransition;null!==e6?(e3=e6.name,eX=e6.share):(e3="auto",eX="none")}else null==eX&&(eX="auto"),4&e_.tagScope&&(eO.instructions|=128);8&e_.tagScope?eO.instructions|=128:eU="none",16&e_.tagScope?eO.instructions|=128:eV="none";var e8={update:eG,enter:eV,exit:eU,share:eX,name:e3,autoName:eF,nameIdx:0},td=-25&e_.tagScope;if(td="none"!==eG?32|td:-33&td,"none"!==eV&&(td|=64),t.formatContext=eT(e_.insertionMode,e_.selectedValue,td,e8),t.keyPath=i,null!=s.name&&"auto"!==s.name)ns(e,t,s.children,-1);else{var th=t.treeContext;t.treeContext=i8(th,1,0),ng(e,t,s.children,-1),t.treeContext=th}t.formatContext=e_,t.keyPath=eM;return;case y:throw Error(o(343));case g:t:if(null!==t.replay){var tg=t.keyPath,tm=t.formatContext,tv=t.row;t.keyPath=i,t.formatContext=eI(e.resumableState,tm),t.row=null;var ty=s.children;try{ng(e,t,ty,-1)}finally{t.keyPath=tg,t.formatContext=tm,t.row=tv}}else{var tC=t.keyPath,tw=t.formatContext,tx=t.row,t_=t.blockedBoundary,tE=t.blockedPreamble,tT=t.hoistableState,tM=t.blockedSegment,tR=s.fallback,tD=s.children,tA=new Set,tI=rQ(e,t.row,tA,2>t.formatContext.insertionMode?{content:eE(),fallback:eE()}:null,!1),tP=r1(e,tM.chunks.length,tI,t.formatContext,!1,!1);tM.children.push(tP),tM.lastPushedText=!1;var tL=r1(e,0,null,t.formatContext,!1,!1);tL.parentFlushed=!0;var tk=e.trackedPostpones;if(null!==tk){var tN=t.componentStack,tF=[i[0],"Suspense Fallback",i[2]];if(null!==tk){var tO=[tF[1],tF[2],[],null];tk.workingMap.set(tF,tO),tI.tracked={contentKeyPath:i,fallbackNode:tO}}t.blockedSegment=tP,t.blockedPreamble=null===tI.preamble?null:tI.preamble.fallback,t.keyPath=tF,t.formatContext=eA(e.resumableState,tw),t.componentStack=r5(tN),tP.status=6;try{ng(e,t,tR,-1),tP.lastPushedText&&tP.textEmbedded&&tP.chunks.push(eL),tP.status=1,nb(e,t_,tP)}catch(t){throw tP.status=12===e.status?3:4,t}finally{t.blockedSegment=tM,t.blockedPreamble=tE,t.keyPath=tC,t.formatContext=tw}var tG=rJ(e,null,tD,-1,tI,tL,null===tI.preamble?null:tI.preamble.content,tI.contentState,t.abortSet,i,eI(e.resumableState,t.formatContext),t.context,t.treeContext,null,tN);r2(tG),e.pingedTasks.push(tG)}else{t.blockedBoundary=tI,t.blockedPreamble=null===tI.preamble?null:tI.preamble.content,t.hoistableState=tI.contentState,t.blockedSegment=tL,t.keyPath=i,t.formatContext=eI(e.resumableState,tw),t.row=null,tL.status=6;try{if(ng(e,t,tD,-1),tL.lastPushedText&&tL.textEmbedded&&tL.chunks.push(eL),tL.status=1,nb(e,tI,tL),nw(tI,tL),0===tI.pendingTasks&&0===tI.status){if(tI.status=1,!rj(e,tI)){null!==tx&&0==--tx.pendingTasks&&r8(e,tx),0===e.pendingRootTasks&&t.blockedPreamble&&nT(e);break t}}else null!==tx&&tx.together&&r7(e,tx)}catch(i){if(tI.status=4,12===e.status){tL.status=3;var tV=e.fatalError}else tL.status=4,tV=i;tI.errorDigest=r4(e,tV,r3(t.componentStack)),nh(e,tI)}finally{t.blockedBoundary=t_,t.blockedPreamble=tE,t.hoistableState=tT,t.blockedSegment=tM,t.keyPath=tC,t.formatContext=tw,t.row=tx}var tB=rJ(e,null,tR,-1,t_,tP,null===tI.preamble?null:tI.preamble.fallback,tI.fallbackState,tA,[i[0],"Suspense Fallback",i[2]],eA(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,r5(t.componentStack));r2(tB),e.pingedTasks.push(tB)}}return}if("object"==typeof n&&null!==n)switch(n.$$typeof){case p:if("ref"in s){var tH={};for(var tz in s)"ref"!==tz&&(tH[tz]=s[tz])}else tH=s;var tW=ni(e,t,i,n.render,tH,a);nr(e,t,i,tW,0!==rg,rf,rm);return;case m:nn(e,t,i,n.type,s,a);return;case c:var tU=s.children,tj=t.keyPath,t$=s.value,tK=n._currentValue;n._currentValue=t$;var tY=i1,tq={parent:tY,depth:null===tY?0:tY.depth+1,context:n,parentValue:tK,value:t$};i1=tq,t.context=tq,t.keyPath=i,ns(e,t,tU,-1);var tX=i1;if(null===tX)throw Error(o(403));tX.context._currentValue=tX.parentValue,t.context=i1=tX.parent,t.keyPath=tj;return;case h:var tZ=(0,s.children)(n._context._currentValue),tQ=t.keyPath;t.keyPath=i,ns(e,t,tZ,-1),t.keyPath=tQ;return;case v:var tJ=(0,n._init)(n._payload);if(12===e.status)throw null;nn(e,t,i,tJ,s,a);return}throw Error(o(130,null==n?n:typeof n,""))}}function no(e,t,i,r,n){var o=t.replay,s=t.blockedBoundary,a=r1(e,0,null,t.formatContext,!1,!1);a.id=i,a.parentFlushed=!0;try{t.replay=null,t.blockedSegment=a,ng(e,t,r,n),a.status=1,nb(e,s,a),null===s?e.completedRootSegment=a:(nw(s,a),s.parentFlushed&&e.partialBoundaries.push(s))}finally{t.replay=o,t.blockedSegment=null}}function ns(e,t,i,r){null!==t.replay&&"number"==typeof t.replay.slots?no(e,t,t.replay.slots,i,r):(t.node=i,t.childIndex=r,i=t.componentStack,r2(t),na(e,t),t.componentStack=i)}function na(e,t){var i=t.node,r=t.childIndex;if(null!==i){if("object"==typeof i){switch(i.$$typeof){case s:var n=i.type,l=i.key,u=i.props,d=void 0!==(i=u.ref)?i:null,h=iJ(n),p=null==l||l===E?-1===r?0:r:l;if(l=[t.keyPath,h,p],null!==t.replay)t:{var f=t.replay;for(i=0,r=f.nodes;i<r.length;i++){var m=r[i];if(p===m[1]){if(4===m.length){if(null!==h&&h!==m[0])throw Error(o(490,m[0],h));var y=m[2],C=m[3];h=t.node,t.replay={nodes:y,slots:C,pendingTasks:1};try{if(nn(e,t,l,n,u,d),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(o(488));t.replay.pendingTasks--}catch(o){if("object"==typeof o&&null!==o&&(o===ri||"function"==typeof o.then))throw t.node===h?t.replay=f:r.splice(i,1),o;t.replay.pendingTasks--,u=r3(t.componentStack),l=e,e=t.blockedBoundary,u=r4(l,n=o,u),nm(l,e,y,C,n,u)}t.replay=f}else{if(n!==g)throw Error(o(490,"Suspense",iJ(n)||"Unknown"));i:{f=m[5],n=m[2],d=m[3],h=null===m[4]?[]:m[4][2],m=null===m[4]?null:m[4][3],p=t.keyPath;var w=t.formatContext,b=t.row,S=t.replay,x=t.blockedBoundary,M=t.hoistableState,R=u.children;u=u.fallback;var D=new Set,A=rQ(e,t.row,D,2>t.formatContext.insertionMode?{content:eE(),fallback:eE()}:null,!1);A.parentFlushed=!0,A.rootSegmentID=f,t.blockedBoundary=A,t.hoistableState=A.contentState,t.keyPath=l,t.formatContext=eI(e.resumableState,w),t.row=null,t.replay={nodes:n,slots:d,pendingTasks:1};try{if(ng(e,t,R,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(o(488));if(t.replay.pendingTasks--,0===A.pendingTasks&&0===A.status){A.status=1,e.completedBoundaries.push(A);break i}}catch(i){A.status=4,A.errorDigest=C=r4(e,i,y=r3(t.componentStack)),t.replay.pendingTasks--,e.clientRenderedBoundaries.push(A)}finally{t.blockedBoundary=x,t.hoistableState=M,t.replay=S,t.keyPath=p,t.formatContext=w,t.row=b}r2(y=r0(e,null,{nodes:h,slots:m,pendingTasks:0},u,-1,x,A.fallbackState,D,[l[0],"Suspense Fallback",l[2]],eA(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,r5(t.componentStack))),e.pingedTasks.push(y)}}r.splice(i,1);break t}}}else nn(e,t,l,n,u,d);return;case a:throw Error(o(257));case v:if(i=(y=i._init)(i._payload),12===e.status)throw null;ns(e,t,i,r);return}if(T(i))return void nl(e,t,i,r);if((y=_(i))&&(y=y.call(i))){if(!(i=y.next()).done){C=[];do C.push(i.value),i=y.next();while(!i.done)nl(e,t,C,r)}return}if("function"==typeof i.then)return t.thenableState=null,ns(e,t,rk(i),r);if(i.$$typeof===c)return ns(e,t,i._currentValue,r);throw Error(o(31,"[object Object]"===(r=Object.prototype.toString.call(i))?"object with keys {"+Object.keys(i).join(", ")+"}":r))}"string"==typeof i?null!==(r=t.blockedSegment)&&(r.lastPushedText=ek(r.chunks,i,e.renderState,r.lastPushedText)):("number"==typeof i||"bigint"==typeof i)&&null!==(r=t.blockedSegment)&&(r.lastPushedText=ek(r.chunks,""+i,e.renderState,r.lastPushedText))}}function nl(e,t,i,r){var n=t.keyPath;if(-1!==r&&(t.keyPath=[t.keyPath,"Fragment",r],null!==t.replay)){for(var s=t.replay,a=s.nodes,l=0;l<a.length;l++){var u=a[l];if(u[1]===r){t.replay={nodes:r=u[2],slots:u=u[3],pendingTasks:1};try{if(nl(e,t,i,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(o(488));t.replay.pendingTasks--}catch(n){if("object"==typeof n&&null!==n&&(n===ri||"function"==typeof n.then))throw n;t.replay.pendingTasks--,i=r3(t.componentStack);var d=t.blockedBoundary;i=r4(e,n,i),nm(e,d,r,u,n,i)}t.replay=s,a.splice(l,1);break}}t.keyPath=n;return}if(s=t.treeContext,a=i.length,null!==t.replay&&null!==(l=t.replay.slots)&&"object"==typeof l){for(r=0;r<a;r++)u=i[r],t.treeContext=i8(s,a,r),"number"==typeof(d=l[r])?(no(e,t,d,u,r),delete l[r]):ng(e,t,u,r);t.treeContext=s,t.keyPath=n;return}for(l=0;l<a;l++)r=i[l],t.treeContext=i8(s,a,l),ng(e,t,r,l);t.treeContext=s,t.keyPath=n}function nu(e,t,i){i.status=5,i.rootSegmentID=e.nextSegmentId++;var r=i.tracked;if(null===r||null===(e=r.contentKeyPath))throw Error(o(486));r=r.fallbackNode;var n=t.workingMap.get(e);return void 0===n?(i=[e[1],e[2],[],null,r,i.rootSegmentID],t.workingMap.set(e,i),nV(i,e[0],t),i):(n[4]=r,n[5]=i.rootSegmentID,n)}function nd(e,t,i,r){r.status=5;var n=i.keyPath,s=i.blockedBoundary;if(null===s)r.id=e.nextSegmentId++,t.rootSlots=r.id,null!==e.completedRootSegment&&(e.completedRootSegment.status=5);else{if(null!==s&&0===s.status){var a=nu(e,t,s);if(null!==s.tracked&&s.tracked.contentKeyPath===n&&-1===i.childIndex){-1===r.id&&(r.id=r.parentFlushed?s.rootSegmentID:e.nextSegmentId++),a[3]=r.id;return}}if(-1===r.id&&(r.id=r.parentFlushed&&null!==s?s.rootSegmentID:e.nextSegmentId++),-1===i.childIndex)null===n?t.rootSlots=r.id:void 0===(i=t.workingMap.get(n))?nV(i=[n[1],n[2],[],r.id],n[0],t):i[3]=r.id;else{if(null===n){if(null===(e=t.rootSlots))e=t.rootSlots={};else if("number"==typeof e)throw Error(o(491))}else if(void 0===(a=(s=t.workingMap).get(n)))e={},a=[n[1],n[2],[],e],s.set(n,a),nV(a,n[0],t);else if(null===(e=a[3]))e=a[3]={};else if("number"==typeof e)throw Error(o(491));e[i.childIndex]=r.id}}}function nh(e,t){null!==(e=e.trackedPostpones)&&null!==(t=t.tracked)&&null!==(t=t.contentKeyPath)&&void 0!==(e=e.workingMap.get(t))&&(e.length=4,e[2]=[],e[3]=null)}function nc(e,t,i){return r0(e,i,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function np(e,t,i){var r=t.blockedSegment,n=r1(e,r.chunks.length,null,t.formatContext,r.lastPushedText,!0);return r.children.push(n),r.lastPushedText=!1,rJ(e,i,t.node,t.childIndex,t.blockedBoundary,n,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function ng(e,t,i,r){var n=t.formatContext,o=t.context,s=t.keyPath,a=t.treeContext,l=t.componentStack,u=t.blockedSegment;if(null===u){u=t.replay;try{return ns(e,t,i,r)}catch(d){if(rE(),i=d===ri?rn():d,12!==e.status&&"object"==typeof i&&null!==i){if("function"==typeof i.then){e=nc(e,t,r=d===ri?r_():null).ping,i.then(e,e),t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,t.componentStack=l,t.replay=u,i5(o);return}if("Maximum call stack size exceeded"===i.message){i=nc(e,t,i=d===ri?r_():null),e.pingedTasks.push(i),t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,t.componentStack=l,t.replay=u,i5(o);return}}}}else{var d=u.children.length,h=u.chunks.length;try{return ns(e,t,i,r)}catch(r){if(rE(),u.children.length=d,u.chunks.length=h,i=r===ri?rn():r,12!==e.status&&"object"==typeof i&&null!==i){if("function"==typeof i.then){u=i,e=np(e,t,i=r===ri?r_():null).ping,u.then(e,e),t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,t.componentStack=l,i5(o);return}if("Maximum call stack size exceeded"===i.message){u=np(e,t,u=r===ri?r_():null),e.pingedTasks.push(u),t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,t.componentStack=l,i5(o);return}}}}throw t.formatContext=n,t.context=o,t.keyPath=s,t.treeContext=a,i5(o),i}function nf(e){var t=e.blockedBoundary,i=e.blockedSegment;null!==i&&(i.status=3,nS(this,t,e.row,i))}function nm(e,t,i,r,n,s){for(var a=0;a<i.length;a++){var l=i[a];if(4===l.length)nm(e,t,l[2],l[3],n,s);else{l=l[5];var u=rQ(e,null,new Set,null,!1);u.parentFlushed=!0,u.rootSegmentID=l,u.status=4,u.errorDigest=s,u.parentFlushed&&e.clientRenderedBoundaries.push(u)}}if(i.length=0,null!==r){if(null===t)throw Error(o(487));if(4!==t.status&&(t.status=4,t.errorDigest=s,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof r)for(var d in r)delete r[d]}}function nv(e,t){try{var i=e.renderState,r=i.onHeaders;if(r){var n=i.headers;if(n){i.headers=null;var o=n.preconnects;if(n.fontPreloads&&(o&&(o+=", "),o+=n.fontPreloads),n.highImagePreloads&&(o&&(o+=", "),o+=n.highImagePreloads),!t){var s=i.styles.values(),a=s.next();i:for(;0<n.remainingCapacity&&!a.done;a=s.next())for(var l=a.value.sheets.values(),u=l.next();0<n.remainingCapacity&&!u.done;u=l.next()){var d=u.value,h=d.props,c=h.href,p=d.props,g=iz(p.href,"style",{crossOrigin:p.crossOrigin,integrity:p.integrity,nonce:p.nonce,type:p.type,fetchPriority:p.fetchPriority,referrerPolicy:p.referrerPolicy,media:p.media});if(0<=(n.remainingCapacity-=g.length+2))i.resets.style[c]=el,o&&(o+=", "),o+=g,i.resets.style[c]="string"==typeof h.crossOrigin||"string"==typeof h.integrity?[h.crossOrigin,h.integrity]:el;else break i}}r(o?{Link:o}:{})}}}catch(t){r4(e,t,{})}}function ny(e){null===e.trackedPostpones&&nv(e,!0),null===e.trackedPostpones&&nT(e),e.onShellError=rt,(e=e.onShellReady)()}function nC(e){nv(e,null===e.trackedPostpones||null===e.completedRootSegment||5!==e.completedRootSegment.status),nT(e),(e=e.onAllReady)()}function nw(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var i=t.children[0];i.id=t.id,i.parentFlushed=!0,1!==i.status&&3!==i.status&&4!==i.status||nw(e,i)}else e.completedSegments.push(t)}function nb(e,t,i){if(null!==z){i=i.chunks;for(var r=0,n=0;n<i.length;n++)r+=i[n].byteLength;null===t?e.byteSize+=r:t.byteSize+=r}}function nS(e,t,i,r){if(null!==i&&(0==--i.pendingTasks?r8(e,i):i.together&&r7(e,i)),e.allPendingTasks--,null===t){if(null!==r&&r.parentFlushed){if(null!==e.completedRootSegment)throw Error(o(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&ny(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==r&&r.parentFlushed&&(1===r.status||3===r.status)&&nw(t,r),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(i=t.row)&&iq(i.hoistables,t.contentState),rj(e,t)||(t.fallbackAbortableTasks.forEach(nf,e),t.fallbackAbortableTasks.clear(),null!==i&&0==--i.pendingTasks&&r8(e,i)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.preamble&&nT(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){i=e.trackedPostpones;var n=t.next;if(null!==n&&null!==(r=n.boundaries))for(n.boundaries=null,n=0;n<r.length;n++){var s=r[n];nu(e,i,s),nS(e,s,null,null)}}0==--t.pendingTasks&&r8(e,t)}}else null===r||!r.parentFlushed||1!==r.status&&3!==r.status||(nw(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&r7(e,t);0===e.allPendingTasks&&nC(e)}function nx(e){if(14!==e.status&&13!==e.status){var t=i1,i=en.H;en.H=rG;var r=en.A;en.A=rB;var n=rX;rX=e;var s=rV;rV=e.resumableState;try{var a,l=e.pingedTasks;for(a=0;a<l.length;a++){var u=l[a],d=u.blockedSegment;if(null===d){if(0!==u.replay.pendingTasks){i5(u.context);try{if("number"==typeof u.replay.slots?no(e,u,u.replay.slots,u.node,u.childIndex):na(e,u),1===u.replay.pendingTasks&&0<u.replay.nodes.length)throw Error(o(488));u.replay.pendingTasks--,u.abortSet.delete(u),nS(e,u.blockedBoundary,u.row,null)}catch(t){rE();var h=t===ri?rn():t;if("object"==typeof h&&null!==h&&"function"==typeof h.then){var c=u.ping;h.then(c,c),u.thenableState=t===ri?r_():null}else{u.replay.pendingTasks--,u.abortSet.delete(u);var p=r3(u.componentStack),g=e,f=u.blockedBoundary,m=12===e.status?e.fatalError:h,v=u.replay.nodes,y=u.replay.slots,C=r4(g,m,p);nm(g,f,v,y,m,C),e.pendingRootTasks--,0===e.pendingRootTasks&&ny(e),e.allPendingTasks--,0===e.allPendingTasks&&nC(e)}}finally{}}}else if(g=d,0===g.status){g.status=6,i5(u.context);var w=g.children.length,b=g.chunks.length;try{na(e,u),g.lastPushedText&&g.textEmbedded&&g.chunks.push(eL),u.abortSet.delete(u),g.status=1,nb(e,u.blockedBoundary,g),nS(e,u.blockedBoundary,u.row,g)}catch(t){rE(),g.children.length=w,g.chunks.length=b;var S=t===ri?rn():12===e.status?e.fatalError:t;if(12===e.status&&null!==e.trackedPostpones){var x=e.trackedPostpones,_=r3(u.componentStack);u.abortSet.delete(u),r4(e,S,_),nd(e,x,u,g),nS(e,u.blockedBoundary,u.row,g)}else if("object"==typeof S&&null!==S&&"function"==typeof S.then){g.status=0,u.thenableState=t===ri?r_():null;var E=u.ping;S.then(E,E)}else{var T=r3(u.componentStack);u.abortSet.delete(u),g.status=4;var M=u.blockedBoundary,R=u.row;null!==R&&0==--R.pendingTasks&&r8(e,R),e.allPendingTasks--;var D=r4(e,S,T);if(null===M)r6(e,S);else if(M.pendingTasks--,4!==M.status){M.status=4,M.errorDigest=D,nh(e,M);var A=M.row;null!==A&&0==--A.pendingTasks&&r8(e,A),M.parentFlushed&&e.clientRenderedBoundaries.push(M),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==M.preamble&&nT(e)}0===e.allPendingTasks&&nC(e)}}finally{}}}l.splice(0,a),null!==e.destination&&nk(e,e.destination)}catch(t){r4(e,t,{}),r6(e,t)}finally{rV=s,en.H=i,en.A=r,i===rG&&i5(t),rX=n}}}function n_(e,t,i){t.preambleChildren.length&&i.push(t.preambleChildren);for(var r=!1,n=0;n<t.children.length;n++)r=nE(e,t.children[n],i)||r;return r}function nE(e,t,i){var r=t.boundary;if(null===r)return n_(e,t,i);var n=r.preamble;if(null===n)return!1;switch(r.status){case 1:if(tm(e.renderState,n.content),e.byteSize+=r.byteSize,!(t=r.completedSegments[0]))throw Error(o(391));return n_(e,t,i);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return tm(e.renderState,n.fallback),n_(e,t,i);default:return!0}}function nT(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],i=e.byteSize,r=nE(e,e.completedRootSegment,t),n=e.renderState.preamble;!1===r||n.headChunks&&n.bodyChunks?e.completedPreambleSegments=t:e.byteSize=i}}function nM(e,t,i,r){switch(i.parentFlushed=!0,i.status){case 0:i.id=e.nextSegmentId++;case 5:return r=i.id,i.lastPushedText=!1,i.textEmbedded=!1,e=e.renderState,F(t,tC),F(t,e.placeholderPrefix),F(t,e=B(r.toString(16))),O(t,tw);case 1:i.status=2;var n=!0,s=i.chunks,a=0;i=i.children;for(var l=0;l<i.length;l++){for(n=i[l];a<n.index;a++)F(t,s[a]);n=nD(e,t,n,r)}for(;a<s.length-1;a++)F(t,s[a]);return a<s.length&&(n=O(t,s[a])),n;case 3:return!0;default:throw Error(o(390))}}var nR=0;function nD(e,t,i,r){var n=i.boundary;if(null===n)return nM(e,t,i,r);if(i.boundary=null,n.parentFlushed=!0,4===n.status){var s=n.row;null!==s&&0==--s.pendingTasks&&r8(e,s),n=n.errorDigest,O(t,tT),F(t,tR),n&&(F(t,tA),F(t,B(J(n))),F(t,tD)),O(t,tI),nM(e,t,i,r)}else if(1!==n.status)0===n.status&&(n.rootSegmentID=e.nextSegmentId++),0<n.completedSegments.length&&e.partialBoundaries.push(n),tP(t,e.renderState,n.rootSegmentID),r&&iq(r,n.fallbackState),nM(e,t,i,r);else if(!nL&&rj(e,n)&&(nR+n.byteSize>e.progressiveChunkSize||iX(n.contentState)||n.defer))n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),tP(t,e.renderState,n.rootSegmentID),nM(e,t,i,r);else{if(nR+=n.byteSize,r&&iq(r,n.contentState),null!==(i=n.row)&&rj(e,n)&&0==--i.pendingTasks&&r8(e,i),O(t,tx),1!==(i=n.completedSegments).length)throw Error(o(391));nD(e,t,i[0],r)}return O(t,tM)}function nA(e,t,i,r){switch(!function(e,t,i,r){switch(i.insertionMode){case 0:case 1:case 3:case 2:return F(e,tL),F(e,t.segmentPrefix),F(e,B(r.toString(16))),O(e,tk);case 4:return F(e,tF),F(e,t.segmentPrefix),F(e,B(r.toString(16))),O(e,tO);case 5:return F(e,tV),F(e,t.segmentPrefix),F(e,B(r.toString(16))),O(e,tB);case 6:return F(e,tz),F(e,t.segmentPrefix),F(e,B(r.toString(16))),O(e,tW);case 7:return F(e,tj),F(e,t.segmentPrefix),F(e,B(r.toString(16))),O(e,t$);case 8:return F(e,tY),F(e,t.segmentPrefix),F(e,B(r.toString(16))),O(e,tq);case 9:return F(e,tZ),F(e,t.segmentPrefix),F(e,B(r.toString(16))),O(e,tQ);default:throw Error(o(397))}}(t,e.renderState,i.parentFormatContext,i.id),nD(e,t,i,r),i.parentFormatContext.insertionMode){case 0:case 1:case 3:case 2:return O(t,tN);case 4:return O(t,tG);case 5:return O(t,tH);case 6:return O(t,tU);case 7:return O(t,tK);case 8:return O(t,tX);case 9:return O(t,tJ);default:throw Error(o(397))}}function nI(e,t,i){nR=i.byteSize;for(var r,n,s=i.completedSegments,a=0;a<s.length;a++)nP(e,t,i,s[a]);s.length=0,null!==(s=i.row)&&rj(e,i)&&0==--s.pendingTasks&&r8(e,s),iS(t,i.contentState,e.renderState),s=e.resumableState,e=e.renderState,a=i.rootSegmentID,i=i.contentState;var l=e.stylesToHoist,u=0!=(128&s.instructions);return e.stylesToHoist=!1,F(t,e.startInlineScript),F(t,e0),l?(0==(4&s.instructions)&&(s.instructions|=4,F(t,ir)),0==(2&s.instructions)&&(s.instructions|=2,F(t,t3)),u&&0==(256&s.instructions)&&(s.instructions|=256,F(t,t4)),0==(8&s.instructions)?(s.instructions|=8,F(t,t8)):F(t,t9)):(0==(2&s.instructions)&&(s.instructions|=2,F(t,t3)),u&&0==(256&s.instructions)&&(s.instructions|=256,F(t,t4)),F(t,t6)),s=B(a.toString(16)),F(t,e.boundaryPrefix),F(t,s),F(t,t7),F(t,e.segmentPrefix),F(t,s),l?(F(t,ie),r=i,F(t,iF),n=iF,r.stylesheets.forEach(function(e){if(2!==e.state)if(3===e.state)F(t,n),F(t,B(ic(""+e.props.href))),F(t,iV),n=iO;else{F(t,n);var i=e.props["data-precedence"],r=e.props;for(var s in F(t,B(ic(er(""+e.props.href)))),i=""+i,F(t,iG),F(t,B(ic(i))),r)if(j.call(r,s)&&null!=(i=r[s]))switch(s){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"link"));default:!function(e,t,i){var r=t.toLowerCase();switch(typeof i){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":r="class",t=""+i;break;case"hidden":if(!1===i)return;t="";break;case"src":case"href":t=""+(i=er(i));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!q(t))return;t=""+i}F(e,iG),F(e,B(ic(r))),F(e,iG),F(e,B(ic(t)))}(t,s,i)}F(t,iV),n=iO,e.state=3}}),F(t,iV)):F(t,it),i=O(t,ii),tv(t,e)&&i}function nP(e,t,i,r){if(2===r.status)return!0;var n=i.contentState,s=r.id;if(-1===s){if(-1===(r.id=i.rootSegmentID))throw Error(o(392));return nA(e,t,r,n)}return s===i.rootSegmentID?nA(e,t,r,n):(nA(e,t,r,n),i=e.resumableState,F(t,(e=e.renderState).startInlineScript),F(t,e0),0==(1&i.instructions)?(i.instructions|=1,F(t,t0)):F(t,t1),F(t,e.segmentPrefix),F(t,s=B(s.toString(16))),F(t,t2),F(t,e.placeholderPrefix),F(t,s),t=O(t,t5))}var nL=!1;function nk(e,t){k=new Uint8Array(2048),N=0;try{if(!(0<e.pendingRootTasks)){var i,r=e.completedRootSegment;if(null!==r){if(5===r.status)return;var n=e.completedPreambleSegments;if(null===n)return;nR=e.byteSize;var o,s=e.resumableState,a=e.renderState,l=a.preamble,u=l.htmlChunks,d=l.headChunks;if(u){for(o=0;o<u.length;o++)F(t,u[o]);if(d)for(o=0;o<d.length;o++)F(t,d[o]);else F(t,tc("head")),F(t,e0)}else if(d)for(o=0;o<d.length;o++)F(t,d[o]);var h=a.charsetChunks;for(o=0;o<h.length;o++)F(t,h[o]);h.length=0,a.preconnects.forEach(ix,t),a.preconnects.clear();var c=a.viewportChunks;for(o=0;o<c.length;o++)F(t,c[o]);c.length=0,a.fontPreloads.forEach(ix,t),a.fontPreloads.clear(),a.highImagePreloads.forEach(ix,t),a.highImagePreloads.clear(),eu=a,a.styles.forEach(iI,t),eu=null;var p=a.importMapChunks;for(o=0;o<p.length;o++)F(t,p[o]);p.length=0,a.bootstrapScripts.forEach(ix,t),a.scripts.forEach(ix,t),a.scripts.clear(),a.bulkPreloads.forEach(ix,t),a.bulkPreloads.clear(),u||d||(s.instructions|=32);var g=a.hoistableChunks;for(o=0;o<g.length;o++)F(t,g[o]);for(s=g.length=0;s<n.length;s++){var f=n[s];for(a=0;a<f.length;a++)nD(e,t,f[a],null)}var m=e.renderState.preamble,v=m.headChunks;(m.htmlChunks||v)&&F(t,tf("head"));var y=m.bodyChunks;if(y)for(n=0;n<y.length;n++)F(t,y[n]);nD(e,t,r,null),e.completedRootSegment=null;var C=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var w=e.resumableState;if(0==(64&w.instructions)){if(w.instructions|=64,F(t,C.startInlineScript),0==(32&w.instructions)){w.instructions|=32;var b="_"+w.idPrefix+"R_";F(t,ik),F(t,B(J(b))),F(t,eW)}F(t,e0),F(t,ty),O(t,eh)}}tv(t,C)}var S=e.renderState;r=0;var x=S.viewportChunks;for(r=0;r<x.length;r++)F(t,x[r]);x.length=0,S.preconnects.forEach(ix,t),S.preconnects.clear(),S.fontPreloads.forEach(ix,t),S.fontPreloads.clear(),S.highImagePreloads.forEach(ix,t),S.highImagePreloads.clear(),S.styles.forEach(iL,t),S.scripts.forEach(ix,t),S.scripts.clear(),S.bulkPreloads.forEach(ix,t),S.bulkPreloads.clear();var _=S.hoistableChunks;for(r=0;r<_.length;r++)F(t,_[r]);_.length=0;var E=e.clientRenderedBoundaries;for(i=0;i<E.length;i++){var T,M=E[i];S=t;var R=e.resumableState,D=e.renderState,A=M.rootSegmentID,I=M.errorDigest;F(S,D.startInlineScript),F(S,e0),0==(4&R.instructions)?(R.instructions|=4,F(S,io)):F(S,is),F(S,D.boundaryPrefix),F(S,B(A.toString(16))),F(S,ia),I&&(F(S,il),F(S,B((T=I||"",JSON.stringify(T).replace(id,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})))));var P=O(S,iu);if(!P){e.destination=null,i++,E.splice(0,i);return}}E.splice(0,i);var L=e.completedBoundaries;for(i=0;i<L.length;i++)if(!nI(e,t,L[i])){e.destination=null,i++,L.splice(0,i);return}L.splice(0,i),G(t),k=new Uint8Array(2048),N=0,nL=!0;var V=e.partialBoundaries;for(i=0;i<V.length;i++){var H=V[i];t:{E=e,M=t,nR=H.byteSize;var z=H.completedSegments;for(P=0;P<z.length;P++)if(!nP(E,M,H,z[P])){P++,z.splice(0,P);var W=!1;break t}z.splice(0,P);var U=H.row;null!==U&&U.together&&1===H.pendingTasks&&(1===U.pendingTasks?r9(E,U,U.hoistables):U.pendingTasks--),W=iS(M,H.contentState,E.renderState)}if(!W){e.destination=null,i++,V.splice(0,i);return}}V.splice(0,i),nL=!1;var j=e.completedBoundaries;for(i=0;i<j.length;i++)if(!nI(e,t,j[i])){e.destination=null,i++,j.splice(0,i);return}j.splice(0,i)}}finally{nL=!1,0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length?(e.flushScheduled=!1,(i=e.resumableState).hasBody&&F(t,tf("body")),i.hasHtml&&F(t,tf("html")),G(t),e.status=14,t.close(),e.destination=null):G(t)}}function nN(e){e.flushScheduled=null!==e.destination,L(function(){return nx(e)}),A(function(){10===e.status&&(e.status=11),null===e.trackedPostpones&&nv(e,0===e.pendingRootTasks)})}function nF(e){!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination&&(e.flushScheduled=!0,A(function(){var t=e.destination;t?nk(e,t):e.flushScheduled=!1}))}function nO(e,t){if(13===e.status)e.status=14,W(t,e.fatalError);else if(14!==e.status&&null===e.destination){e.destination=t;try{nk(e,t)}catch(t){r4(e,t,{}),r6(e,t)}}}function nG(e,t){(11===e.status||10===e.status)&&(e.status=12);try{var i=e.abortableTasks;if(0<i.size){var r=void 0===t?Error(o(432)):"object"==typeof t&&null!==t&&"function"==typeof t.then?Error(o(530)):t;e.fatalError=r,i.forEach(function(t){return function e(t,i,r){var n=t.blockedBoundary,o=t.blockedSegment;if(null!==o){if(6===o.status)return;o.status=3}var s=r3(t.componentStack);if(null===n){if(13!==i.status&&14!==i.status){if(null===(n=t.replay))return void(null!==i.trackedPostpones&&null!==o?(n=i.trackedPostpones,r4(i,r,s),nd(i,n,t,o),nS(i,null,t.row,o)):(r4(i,r,s),r6(i,r)));n.pendingTasks--,0===n.pendingTasks&&0<n.nodes.length&&(o=r4(i,r,s),nm(i,null,n.nodes,n.slots,r,o)),i.pendingRootTasks--,0===i.pendingRootTasks&&ny(i)}}else{var a=i.trackedPostpones;if(4!==n.status){if(null!==a&&null!==o)return r4(i,r,s),nd(i,a,t,o),n.fallbackAbortableTasks.forEach(function(t){return e(t,i,r)}),n.fallbackAbortableTasks.clear(),nS(i,n,t.row,o);n.status=4,o=r4(i,r,s),n.status=4,n.errorDigest=o,nh(i,n),n.parentFlushed&&i.clientRenderedBoundaries.push(n)}n.pendingTasks--,null!==(o=n.row)&&0==--o.pendingTasks&&r8(i,o),n.fallbackAbortableTasks.forEach(function(t){return e(t,i,r)}),n.fallbackAbortableTasks.clear()}null!==(t=t.row)&&0==--t.pendingTasks&&r8(i,t),i.allPendingTasks--,0===i.allPendingTasks&&nC(i)}(t,e,r)}),i.clear()}null!==e.destination&&nk(e,e.destination)}catch(t){r4(e,t,{}),r6(e,t)}}function nV(e,t,i){if(null===t)i.rootNodes.push(e);else{var r=i.workingMap,n=r.get(t);void 0===n&&(n=[t[1],t[2],[],null],r.set(t,n),nV(n,t[0],i)),n[2].push(e)}}function nB(e){var t=e.trackedPostpones;if(null===t||0===t.rootNodes.length&&null===t.rootSlots)return e.trackedPostpones=null;if(null===e.completedRootSegment||5!==e.completedRootSegment.status&&null!==e.completedPreambleSegments){var i=e.nextSegmentId,r=t.rootSlots,n=e.resumableState;n.bootstrapScriptContent=void 0,n.bootstrapScripts=void 0,n.bootstrapModules=void 0}else{i=0,r=-1,n=e.resumableState;var o=e.renderState;n.nextFormID=0,n.hasBody=!1,n.hasHtml=!1,n.unknownResources={font:o.resets.font},n.dnsResources=o.resets.dns,n.connectResources=o.resets.connect,n.imageResources=o.resets.image,n.styleResources=o.resets.style,n.scriptResources={},n.moduleUnknownResources={},n.moduleScriptResources={},n.instructions=0}return{nextSegmentId:i,rootFormatContext:e.rootFormatContext,progressiveChunkSize:e.progressiveChunkSize,resumableState:e.resumableState,replayNodes:t.rootNodes,replaySlots:r}}function nH(){var e=r.version;if("19.3.0-canary-f93b9fd4-20251217"!==e)throw Error(o(527,e,"19.3.0-canary-f93b9fd4-20251217"))}nH(),nH(),i.prerender=function(e,t){return new Promise(function(i,r){var n,o,s,a,l,u=t?t.onHeaders:void 0;u&&(l=function(e){u(new Headers(e))});var d=e_(t?t.identifierPrefix:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),h=(n=e,o=ex(d,void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,l,t?t.maxHeadersLength:void 0),s=eM(t?t.namespaceURI:void 0),a=t?t.progressiveChunkSize:void 0,(n=rY(n,d,o,s,a,t?t.onError:void 0,function(){var e=new ReadableStream({type:"bytes",pull:function(e){nO(h,e)},cancel:function(e){h.destination=null,nG(h,e)}},{highWaterMark:0});i(e={postponed:nB(h),prelude:e})},void 0,void 0,r,void 0)).trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},n);if(t&&t.signal){var c=t.signal;if(c.aborted)nG(h,c.reason);else{var p=function(){nG(h,c.reason),c.removeEventListener("abort",p)};c.addEventListener("abort",p)}}nN(h)})},i.renderToReadableStream=function(e,t){return new Promise(function(i,r){var n,o,s,a=new Promise(function(e,t){o=e,n=t}),l=t?t.onHeaders:void 0;l&&(s=function(e){l(new Headers(e))});var u=e_(t?t.identifierPrefix:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),d=rY(e,u,ex(u,t?t.nonce:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,s,t?t.maxHeadersLength:void 0),eM(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,function(){var e=new ReadableStream({type:"bytes",pull:function(e){nO(d,e)},cancel:function(e){d.destination=null,nG(d,e)}},{highWaterMark:0});e.allReady=a,i(e)},function(e){a.catch(function(){}),r(e)},n,t?t.formState:void 0);if(t&&t.signal){var h=t.signal;if(h.aborted)nG(d,h.reason);else{var c=function(){nG(d,h.reason),h.removeEventListener("abort",c)};h.addEventListener("abort",c)}}nN(d)})},i.resume=function(e,t,i){return new Promise(function(r,n){var o,s,a=new Promise(function(e,t){s=e,o=t}),l=rq(e,t,ex(t.resumableState,i?i.nonce:void 0,void 0,void 0,void 0,void 0),i?i.onError:void 0,s,function(){var e=new ReadableStream({type:"bytes",pull:function(e){nO(l,e)},cancel:function(e){l.destination=null,nG(l,e)}},{highWaterMark:0});e.allReady=a,r(e)},function(e){a.catch(function(){}),n(e)},o);if(i&&i.signal){var u=i.signal;if(u.aborted)nG(l,u.reason);else{var d=function(){nG(l,u.reason),u.removeEventListener("abort",d)};u.addEventListener("abort",d)}}nN(l)})},i.resumeAndPrerender=function(e,t,i){return new Promise(function(r,n){var o,s,a=(o=e,s=ex(t.resumableState,void 0,void 0,void 0,void 0,void 0),(o=rq(o,t,s,i?i.onError:void 0,function(){var e=new ReadableStream({type:"bytes",pull:function(e){nO(a,e)},cancel:function(e){a.destination=null,nG(a,e)}},{highWaterMark:0});r(e={postponed:nB(a),prelude:e})},void 0,void 0,n)).trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},o);if(i&&i.signal){var l=i.signal;if(l.aborted)nG(a,l.reason);else{var u=function(){nG(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}}nN(a)})},i.version="19.3.0-canary-f93b9fd4-20251217"},68428,(e,t,i)=>{"use strict";var r,n;r=e.r(69957),n=e.r(49340),i.version=r.version,i.renderToString=r.renderToString,i.renderToStaticMarkup=r.renderToStaticMarkup,i.renderToReadableStream=n.renderToReadableStream,i.resume=n.resume},65742,(e,t,i)=>{t.exports=function(){this.__data__=[],this.size=0}},25172,(e,t,i)=>{t.exports=function(e,t){return e===t||e!=e&&t!=t}},34314,(e,t,i)=>{var r=e.r(25172);t.exports=function(e,t){for(var i=e.length;i--;)if(r(e[i][0],t))return i;return -1}},19206,(e,t,i)=>{var r=e.r(34314),n=Array.prototype.splice;t.exports=function(e){var t=this.__data__,i=r(t,e);return!(i<0)&&(i==t.length-1?t.pop():n.call(t,i,1),--this.size,!0)}},67763,(e,t,i)=>{var r=e.r(34314);t.exports=function(e){var t=this.__data__,i=r(t,e);return i<0?void 0:t[i][1]}},23407,(e,t,i)=>{var r=e.r(34314);t.exports=function(e){return r(this.__data__,e)>-1}},53833,(e,t,i)=>{var r=e.r(34314);t.exports=function(e,t){var i=this.__data__,n=r(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}},29039,(e,t,i)=>{var r=e.r(65742),n=e.r(19206),o=e.r(67763),s=e.r(23407),a=e.r(53833);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=n,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},5400,(e,t,i)=>{var r=e.r(29039);t.exports=function(){this.__data__=new r,this.size=0}},86238,(e,t,i)=>{t.exports=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}},57831,(e,t,i)=>{t.exports=function(e){return this.__data__.get(e)}},77802,(e,t,i)=>{t.exports=function(e){return this.__data__.has(e)}},236,(e,t,i)=>{t.exports=e.g&&e.g.Object===Object&&e.g},39088,(e,t,i)=>{var r=e.r(236),n="object"==typeof self&&self&&self.Object===Object&&self;t.exports=r||n||Function("return this")()},30353,(e,t,i)=>{t.exports=e.r(39088).Symbol},43436,(e,t,i)=>{var r=e.r(30353),n=Object.prototype,o=n.hasOwnProperty,s=n.toString,a=r?r.toStringTag:void 0;t.exports=function(e){var t=o.call(e,a),i=e[a];try{e[a]=void 0;var r=!0}catch(e){}var n=s.call(e);return r&&(t?e[a]=i:delete e[a]),n}},23243,(e,t,i)=>{var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},77684,(e,t,i)=>{var r=e.r(30353),n=e.r(43436),o=e.r(23243),s=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?n(e):o(e)}},12447,(e,t,i)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},71223,(e,t,i)=>{var r=e.r(77684),n=e.r(12447);t.exports=function(e){if(!n(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},53789,(e,t,i)=>{t.exports=e.r(39088)["__core-js_shared__"]},69553,(e,t,i)=>{var r,n=e.r(53789),o=(r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(e){return!!o&&o in e}},76366,(e,t,i)=>{var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},54368,(e,t,i)=>{var r=e.r(71223),n=e.r(69553),o=e.r(12447),s=e.r(76366),a=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!o(e)||n(e))&&(r(e)?h:a).test(s(e))}},63958,(e,t,i)=>{t.exports=function(e,t){return null==e?void 0:e[t]}},41920,(e,t,i)=>{var r=e.r(54368),n=e.r(63958);t.exports=function(e,t){var i=n(e,t);return r(i)?i:void 0}},87362,(e,t,i)=>{t.exports=e.r(41920)(e.r(39088),"Map")},32760,(e,t,i)=>{t.exports=e.r(41920)(Object,"create")},50514,(e,t,i)=>{var r=e.r(32760);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},97617,(e,t,i)=>{t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},57412,(e,t,i)=>{var r=e.r(32760),n=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return n.call(t,e)?t[e]:void 0}},23592,(e,t,i)=>{var r=e.r(32760),n=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:n.call(t,e)}},39004,(e,t,i)=>{var r=e.r(32760);t.exports=function(e,t){var i=this.__data__;return this.size+=+!this.has(e),i[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},34421,(e,t,i)=>{var r=e.r(50514),n=e.r(97617),o=e.r(57412),s=e.r(23592),a=e.r(39004);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=n,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},48994,(e,t,i)=>{var r=e.r(34421),n=e.r(29039),o=e.r(87362);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||n),string:new r}}},24053,(e,t,i)=>{t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},87994,(e,t,i)=>{var r=e.r(24053);t.exports=function(e,t){var i=e.__data__;return r(t)?i["string"==typeof t?"string":"hash"]:i.map}},96768,(e,t,i)=>{var r=e.r(87994);t.exports=function(e){var t=r(this,e).delete(e);return this.size-=!!t,t}},29932,(e,t,i)=>{var r=e.r(87994);t.exports=function(e){return r(this,e).get(e)}},92647,(e,t,i)=>{var r=e.r(87994);t.exports=function(e){return r(this,e).has(e)}},46644,(e,t,i)=>{var r=e.r(87994);t.exports=function(e,t){var i=r(this,e),n=i.size;return i.set(e,t),this.size+=+(i.size!=n),this}},87547,(e,t,i)=>{var r=e.r(48994),n=e.r(96768),o=e.r(29932),s=e.r(92647),a=e.r(46644);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=n,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},20517,(e,t,i)=>{var r=e.r(29039),n=e.r(87362),o=e.r(87547);t.exports=function(e,t){var i=this.__data__;if(i instanceof r){var s=i.__data__;if(!n||s.length<199)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new o(s)}return i.set(e,t),this.size=i.size,this}},1551,(e,t,i)=>{var r=e.r(29039),n=e.r(5400),o=e.r(86238),s=e.r(57831),a=e.r(77802),l=e.r(20517);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=l,t.exports=u},12895,(e,t,i)=>{t.exports=function(e,t){for(var i=-1,r=null==e?0:e.length;++i<r&&!1!==t(e[i],i,e););return e}},24251,(e,t,i)=>{var r=e.r(41920);t.exports=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},74548,(e,t,i)=>{var r=e.r(24251);t.exports=function(e,t,i){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}},4300,(e,t,i)=>{var r=e.r(74548),n=e.r(25172),o=Object.prototype.hasOwnProperty;t.exports=function(e,t,i){var s=e[t];o.call(e,t)&&n(s,i)&&(void 0!==i||t in e)||r(e,t,i)}},72351,(e,t,i)=>{var r=e.r(4300),n=e.r(74548);t.exports=function(e,t,i,o){var s=!i;i||(i={});for(var a=-1,l=t.length;++a<l;){var u=t[a],d=o?o(i[u],e[u],u,i,e):void 0;void 0===d&&(d=e[u]),s?n(i,u,d):r(i,u,d)}return i}},55803,(e,t,i)=>{t.exports=function(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}},77289,(e,t,i)=>{t.exports=function(e){return null!=e&&"object"==typeof e}},66645,(e,t,i)=>{var r=e.r(77684),n=e.r(77289);t.exports=function(e){return n(e)&&"[object Arguments]"==r(e)}},73250,(e,t,i)=>{var r=e.r(66645),n=e.r(77289),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable;t.exports=r(function(){return arguments}())?r:function(e){return n(e)&&s.call(e,"callee")&&!a.call(e,"callee")}},45350,(e,t,i)=>{t.exports=Array.isArray},24013,(e,t,i)=>{t.exports=function(){return!1}},56956,(e,t,i)=>{var r=e.r(39088),n=e.r(24013),o=i&&!i.nodeType&&i,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0;t.exports=(a?a.isBuffer:void 0)||n},66397,(e,t,i)=>{var r=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var i=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},98376,(e,t,i)=>{t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},76602,(e,t,i)=>{var r=e.r(77684),n=e.r(98376),o=e.r(77289),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(e){return o(e)&&n(e.length)&&!!s[r(e)]}},33999,(e,t,i)=>{t.exports=function(e){return function(t){return e(t)}}},80156,(e,t,i)=>{var r=e.r(236),n=i&&!i.nodeType&&i,o=n&&t&&!t.nodeType&&t,s=o&&o.exports===n&&r.process;t.exports=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return s&&s.binding&&s.binding("util")}catch(e){}}()},3023,(e,t,i)=>{var r=e.r(76602),n=e.r(33999),o=e.r(80156),s=o&&o.isTypedArray;t.exports=s?n(s):r},58877,(e,t,i)=>{var r=e.r(55803),n=e.r(73250),o=e.r(45350),s=e.r(56956),a=e.r(66397),l=e.r(3023),u=Object.prototype.hasOwnProperty;t.exports=function(e,t){var i=o(e),d=!i&&n(e),h=!i&&!d&&s(e),c=!i&&!d&&!h&&l(e),p=i||d||h||c,g=p?r(e.length,String):[],f=g.length;for(var m in e)(t||u.call(e,m))&&!(p&&("length"==m||h&&("offset"==m||"parent"==m)||c&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,f)))&&g.push(m);return g}},63996,(e,t,i)=>{var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},25717,(e,t,i)=>{t.exports=function(e,t){return function(i){return e(t(i))}}},42369,(e,t,i)=>{t.exports=e.r(25717)(Object.keys,Object)},48477,(e,t,i)=>{var r=e.r(63996),n=e.r(42369),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return n(e);var t=[];for(var i in Object(e))o.call(e,i)&&"constructor"!=i&&t.push(i);return t}},51095,(e,t,i)=>{var r=e.r(71223),n=e.r(98376);t.exports=function(e){return null!=e&&n(e.length)&&!r(e)}},33679,(e,t,i)=>{var r=e.r(58877),n=e.r(48477),o=e.r(51095);t.exports=function(e){return o(e)?r(e):n(e)}},60196,(e,t,i)=>{var r=e.r(72351),n=e.r(33679);t.exports=function(e,t){return e&&r(t,n(t),e)}},13730,(e,t,i)=>{t.exports=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}},85689,(e,t,i)=>{var r=e.r(12447),n=e.r(63996),o=e.r(13730),s=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return o(e);var t=n(e),i=[];for(var a in e)"constructor"==a&&(t||!s.call(e,a))||i.push(a);return i}},89695,(e,t,i)=>{var r=e.r(58877),n=e.r(85689),o=e.r(51095);t.exports=function(e){return o(e)?r(e,!0):n(e)}},52624,(e,t,i)=>{var r=e.r(72351),n=e.r(89695);t.exports=function(e,t){return e&&r(t,n(t),e)}},22781,(e,t,i)=>{var r=e.r(39088),n=i&&!i.nodeType&&i,o=n&&t&&!t.nodeType&&t,s=o&&o.exports===n?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var i=e.length,r=a?a(i):new e.constructor(i);return e.copy(r),r}},76736,(e,t,i)=>{t.exports=function(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}},36100,(e,t,i)=>{t.exports=function(e,t){for(var i=-1,r=null==e?0:e.length,n=0,o=[];++i<r;){var s=e[i];t(s,i,e)&&(o[n++]=s)}return o}},45159,(e,t,i)=>{t.exports=function(){return[]}},17332,(e,t,i)=>{var r=e.r(36100),n=e.r(45159),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols;t.exports=s?function(e){return null==e?[]:r(s(e=Object(e)),function(t){return o.call(e,t)})}:n},74071,(e,t,i)=>{var r=e.r(72351),n=e.r(17332);t.exports=function(e,t){return r(e,n(e),t)}},69102,(e,t,i)=>{t.exports=function(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}},62413,(e,t,i)=>{t.exports=e.r(25717)(Object.getPrototypeOf,Object)},33648,(e,t,i)=>{var r=e.r(69102),n=e.r(62413),o=e.r(17332),s=e.r(45159);t.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=n(e);return t}:s},45001,(e,t,i)=>{var r=e.r(72351),n=e.r(33648);t.exports=function(e,t){return r(e,n(e),t)}},23403,(e,t,i)=>{var r=e.r(69102),n=e.r(45350);t.exports=function(e,t,i){var o=t(e);return n(e)?o:r(o,i(e))}},13370,(e,t,i)=>{var r=e.r(23403),n=e.r(17332),o=e.r(33679);t.exports=function(e){return r(e,o,n)}},7889,(e,t,i)=>{var r=e.r(23403),n=e.r(33648),o=e.r(89695);t.exports=function(e){return r(e,o,n)}},1419,(e,t,i)=>{t.exports=e.r(41920)(e.r(39088),"DataView")},17074,(e,t,i)=>{t.exports=e.r(41920)(e.r(39088),"Promise")},6966,(e,t,i)=>{t.exports=e.r(41920)(e.r(39088),"Set")},73895,(e,t,i)=>{t.exports=e.r(41920)(e.r(39088),"WeakMap")},67426,(e,t,i)=>{var r=e.r(1419),n=e.r(87362),o=e.r(17074),s=e.r(6966),a=e.r(73895),l=e.r(77684),u=e.r(76366),d="[object Map]",h="[object Promise]",c="[object Set]",p="[object WeakMap]",g="[object DataView]",f=u(r),m=u(n),v=u(o),y=u(s),C=u(a),w=l;(r&&w(new r(new ArrayBuffer(1)))!=g||n&&w(new n)!=d||o&&w(o.resolve())!=h||s&&w(new s)!=c||a&&w(new a)!=p)&&(w=function(e){var t=l(e),i="[object Object]"==t?e.constructor:void 0,r=i?u(i):"";if(r)switch(r){case f:return g;case m:return d;case v:return h;case y:return c;case C:return p}return t}),t.exports=w},53265,(e,t,i)=>{var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},63750,(e,t,i)=>{t.exports=e.r(39088).Uint8Array},25393,(e,t,i)=>{var r=e.r(63750);t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64146,(e,t,i)=>{var r=e.r(25393);t.exports=function(e,t){var i=t?r(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}},84046,(e,t,i)=>{var r=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},98430,(e,t,i)=>{var r=e.r(30353),n=r?r.prototype:void 0,o=n?n.valueOf:void 0;t.exports=function(e){return o?Object(o.call(e)):{}}},14712,(e,t,i)=>{var r=e.r(25393);t.exports=function(e,t){var i=t?r(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}},49769,(e,t,i)=>{var r=e.r(25393),n=e.r(64146),o=e.r(84046),s=e.r(98430),a=e.r(14712);t.exports=function(e,t,i){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return n(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,i);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return s(e)}}},46352,(e,t,i)=>{var r=e.r(12447),n=Object.create;t.exports=function(){function e(){}return function(t){if(!r(t))return{};if(n)return n(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}()},92433,(e,t,i)=>{var r=e.r(46352),n=e.r(62413),o=e.r(63996);t.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(n(e))}},81198,(e,t,i)=>{var r=e.r(67426),n=e.r(77289);t.exports=function(e){return n(e)&&"[object Map]"==r(e)}},54284,(e,t,i)=>{var r=e.r(81198),n=e.r(33999),o=e.r(80156),s=o&&o.isMap;t.exports=s?n(s):r},36206,(e,t,i)=>{var r=e.r(67426),n=e.r(77289);t.exports=function(e){return n(e)&&"[object Set]"==r(e)}},40158,(e,t,i)=>{var r=e.r(36206),n=e.r(33999),o=e.r(80156),s=o&&o.isSet;t.exports=s?n(s):r},64324,(e,t,i)=>{var r=e.r(1551),n=e.r(12895),o=e.r(4300),s=e.r(60196),a=e.r(52624),l=e.r(22781),u=e.r(76736),d=e.r(74071),h=e.r(45001),c=e.r(13370),p=e.r(7889),g=e.r(67426),f=e.r(53265),m=e.r(49769),v=e.r(92433),y=e.r(45350),C=e.r(56956),w=e.r(54284),b=e.r(12447),S=e.r(40158),x=e.r(33679),_=e.r(89695),E="[object Arguments]",T="[object Function]",M="[object Object]",R={};R[E]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[M]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[T]=R["[object WeakMap]"]=!1,t.exports=function e(t,i,D,A,I,P){var L,k=1&i,N=2&i,F=4&i;if(D&&(L=I?D(t,A,I,P):D(t)),void 0!==L)return L;if(!b(t))return t;var O=y(t);if(O){if(L=f(t),!k)return u(t,L)}else{var G=g(t),V=G==T||"[object GeneratorFunction]"==G;if(C(t))return l(t,k);if(G==M||G==E||V&&!I){if(L=N||V?{}:v(t),!k)return N?h(t,a(L,t)):d(t,s(L,t))}else{if(!R[G])return I?t:{};L=m(t,G,k)}}P||(P=new r);var B=P.get(t);if(B)return B;P.set(t,L),S(t)?t.forEach(function(r){L.add(e(r,i,D,r,t,P))}):w(t)&&t.forEach(function(r,n){L.set(n,e(r,i,D,n,t,P))});var H=F?N?p:c:N?_:x,z=O?void 0:H(t);return n(z||t,function(r,n){z&&(r=t[n=r]),o(L,n,e(r,i,D,n,t,P))}),L}},71944,(e,t,i)=>{var r=e.r(64324);t.exports=function(e){return r(e,5)}},52683,e=>{"use strict";let t,i,r;var n,o,s,a,l,u,d,h,c,p,g,f,m,v,y,C,w,b,S,x,_,E,T,M,R,D,A,I,P,L,k,N,F,O,G,V,B,H,z,W,U,j,$,K,Y,q,X,Z,Q,J,ee,et,ei,er,en,eo,es,ea,el,eu,ed,eh,ec,ep,eg,ef,em,ev,ey,eC,ew,eb,eS,ex,e_,eE,eT,eM,eR,eD,eA,eI,eP,eL,ek,eN,eF,eO,eG=e.i(43476),eV=e.i(71645);e.i(47167);var eB=e.i(31067),eH=e.i(15874),ez=e.i(2215),eW=e.i(19130),eU=e.i(90059),eU=eU,ej=e.i(99844);function e$(e,t){return(e$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eK(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e$(e,t)}var eY=e.i(74080);let eq=eV.default.createContext(null);var eX="unmounted",eZ="exited",eQ="entering",eJ="entered",e0="exiting",e1=function(e){function t(t,i){var r,n=e.call(this,t,i)||this,o=i&&!i.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?o?(r=eZ,n.appearStatus=eQ):r=eJ:r=t.unmountOnExit||t.mountOnEnter?eX:eZ,n.state={status:r},n.nextCallback=null,n}eK(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===eX?{status:eZ}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?i!==eQ&&i!==eJ&&(t=eQ):(i===eQ||i===eJ)&&(t=e0)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,i,r=this.props.timeout;return e=t=i=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,i=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:i}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===eQ){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:eY.default.findDOMNode(this);i&&i.scrollTop}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===eZ&&this.setState({status:eX})},i.performEnter=function(e){var t=this,i=this.props.enter,r=this.context?this.context.isMounting:e,n=this.props.nodeRef?[r]:[eY.default.findDOMNode(this),r],o=n[0],s=n[1],a=this.getTimeouts(),l=r?a.appear:a.enter;(e||i)&&1?(this.props.onEnter(o,s),this.safeSetState({status:eQ},function(){t.props.onEntering(o,s),t.onTransitionEnd(l,function(){t.safeSetState({status:eJ},function(){t.props.onEntered(o,s)})})})):this.safeSetState({status:eJ},function(){t.props.onEntered(o)})},i.performExit=function(){var e=this,t=this.props.exit,i=this.getTimeouts(),r=this.props.nodeRef?void 0:eY.default.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:e0},function(){e.props.onExiting(r),e.onTransitionEnd(i.exit,function(){e.safeSetState({status:eZ},function(){e.props.onExited(r)})})})):this.safeSetState({status:eZ},function(){e.props.onExited(r)})},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(r){i&&(i=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var i=this.props.nodeRef?this.props.nodeRef.current:eY.default.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(!i||r)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],o=n[0],s=n[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)},i.render=function(){var e=this.state.status;if(e===eX)return null;var t=this.props,i=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,eH.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return eV.default.createElement(eq.Provider,{value:null},"function"==typeof i?i(e,r):eV.default.cloneElement(eV.default.Children.only(i),r))},t}(eV.default.Component);function e2(){}e1.contextType=eq,e1.propTypes={},e1.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:e2,onEntering:e2,onEntered:e2,onExit:e2,onExiting:e2,onExited:e2},e1.UNMOUNTED=eX,e1.EXITED=eZ,e1.ENTERING=eQ,e1.ENTERED=eJ,e1.EXITING=e0;var e5=e.i(52836),e3=eU,e4=e.i(18827);function e6(e,t){var i,r;let{timeout:n,easing:o,style:s={}}=e;return{duration:null!=(i=s.transitionDuration)?i:"number"==typeof n?n:n[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"==typeof o?o[t.mode]:o,delay:s.transitionDelay}}var e8=e.i(78320),e8=e8,e9=e.i(40206),e7=e.i(92420);function te(){let e=(0,e8.default)(e9.default);return e[e7.default]||e}var tt=e.i(66352),tt=tt,ti=e.i(40672),tr=e.i(19727);function tn(e){return(0,tr.default)("MuiCollapse",e)}(0,ti.default)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);let to=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],ts=(0,e3.default)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[i.orientation],"entered"===i.state&&t.entered,"exited"===i.state&&!i.in&&"0px"===i.collapsedSize&&t.hidden]}})(({theme:e,ownerState:t})=>(0,eB.default)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&(0,eB.default)({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"})),ta=(0,e3.default)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>(0,eB.default)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})),tl=(0,e3.default)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>(0,eB.default)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})),tu=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiCollapse"}),{addEndListener:r,children:n,className:o,collapsedSize:s="0px",component:a,easing:l,in:u,onEnter:d,onEntered:h,onEntering:c,onExit:p,onExited:g,onExiting:f,orientation:m="vertical",style:v,timeout:y=e4.duration.standard,TransitionComponent:C=e1}=i,w=(0,eH.default)(i,to),b=(0,eB.default)({},i,{orientation:m,collapsedSize:s}),S=(e=>{let{orientation:t,classes:i}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,eW.default)(r,tn,i)})(b),x=te(),_=(0,e5.default)(),E=eV.useRef(null),T=eV.useRef(),M="number"==typeof s?`${s}px`:s,R="horizontal"===m,D=R?"width":"height",A=eV.useRef(null),I=(0,tt.default)(t,A),P=e=>t=>{if(e){let i=A.current;void 0===t?e(i):e(i,t)}},L=()=>E.current?E.current[R?"clientWidth":"clientHeight"]:0,k=P((e,t)=>{E.current&&R&&(E.current.style.position="absolute"),e.style[D]=M,d&&d(e,t)}),N=P((e,t)=>{let i=L();E.current&&R&&(E.current.style.position="");let{duration:r,easing:n}=e6({style:v,timeout:y,easing:l},{mode:"enter"});if("auto"===y){let t=x.transitions.getAutoHeightDuration(i);e.style.transitionDuration=`${t}ms`,T.current=t}else e.style.transitionDuration="string"==typeof r?r:`${r}ms`;e.style[D]=`${i}px`,e.style.transitionTimingFunction=n,c&&c(e,t)}),F=P((e,t)=>{e.style[D]="auto",h&&h(e,t)}),O=P(e=>{e.style[D]=`${L()}px`,p&&p(e)}),G=P(g),V=P(e=>{let t=L(),{duration:i,easing:r}=e6({style:v,timeout:y,easing:l},{mode:"exit"});if("auto"===y){let i=x.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${i}ms`,T.current=i}else e.style.transitionDuration="string"==typeof i?i:`${i}ms`;e.style[D]=M,e.style.transitionTimingFunction=r,f&&f(e)});return(0,eG.jsx)(C,(0,eB.default)({in:u,onEnter:k,onEntered:F,onEntering:N,onExit:O,onExited:G,onExiting:V,addEndListener:e=>{"auto"===y&&_.start(T.current||0,e),r&&r(A.current,e)},nodeRef:A,timeout:"auto"===y?null:y},w,{children:(e,t)=>(0,eG.jsx)(ts,(0,eB.default)({as:a,className:(0,ez.default)(S.root,o,{entered:S.entered,exited:!u&&"0px"===M&&S.hidden}[e]),style:(0,eB.default)({[R?"minWidth":"minHeight"]:M},v),ref:I},t,{ownerState:(0,eB.default)({},b,{state:e}),children:(0,eG.jsx)(ta,{ownerState:(0,eB.default)({},b,{state:e}),className:S.wrapper,ref:E,children:(0,eG.jsx)(tl,{ownerState:(0,eB.default)({},b,{state:e}),className:S.wrapperInner,children:n})})}))}))});tu.muiSupportAuto=!0;var td=e.i(95174),th=eU;let tc=e=>((e<1?5.11916*e**2:4.5*Math.log(e+1)+2)/100).toFixed(2);function tp(e){return(0,tr.default)("MuiPaper",e)}(0,ti.default)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);let tg=["className","component","elevation","square","variant"],tf=(0,th.default)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[i.variant],!i.square&&t.rounded,"elevation"===i.variant&&t[`elevation${i.elevation}`]]}})(({theme:e,ownerState:t})=>{var i;return(0,eB.default)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,eB.default)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,td.alpha)("#fff",tc(t.elevation))}, ${(0,td.alpha)("#fff",tc(t.elevation))})`},e.vars&&{backgroundImage:null==(i=e.vars.overlays)?void 0:i[t.elevation]}))}),tm=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiPaper"}),{className:r,component:n="div",elevation:o=1,square:s=!1,variant:a="elevation"}=i,l=(0,eH.default)(i,tg),u=(0,eB.default)({},i,{component:n,elevation:o,square:s,variant:a}),d=(e=>{let{square:t,elevation:i,variant:r,classes:n}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${i}`]};return(0,eW.default)(o,tp,n)})(u);return(0,eG.jsx)(tf,(0,eB.default)({as:n,ownerState:u,className:(0,ez.default)(d.root,r),ref:t},l))}),tv=eV.createContext({});var ty=e.i(16e3),tC=e.i(81908);let tw=function(e){return"string"==typeof e},tb=function(e,t,i){return void 0===e||tw(e)?t:(0,eB.default)({},t,{ownerState:(0,eB.default)({},t.ownerState,i)})},tS=function(e,t,i){return"function"==typeof e?e(t,i):e},tx=function(){for(var e,t,i=0,r="",n=arguments.length;i<n;i++)(e=arguments[i])&&(t=function e(t){var i,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(i=0;i<o;i++)t[i]&&(r=e(t[i]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}(e))&&(r&&(r+=" "),r+=t);return r},t_=function(e,t=[]){if(void 0===e)return{};let i={};return Object.keys(e).filter(i=>i.match(/^on[A-Z]/)&&"function"==typeof e[i]&&!t.includes(i)).forEach(t=>{i[t]=e[t]}),i},tE=function(e){if(void 0===e)return{};let t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])).forEach(i=>{t[i]=e[i]}),t},tT=function(e){let{getSlotProps:t,additionalProps:i,externalSlotProps:r,externalForwardedProps:n,className:o}=e;if(!t){let e=tx(null==i?void 0:i.className,o,null==n?void 0:n.className,null==r?void 0:r.className),t=(0,eB.default)({},null==i?void 0:i.style,null==n?void 0:n.style,null==r?void 0:r.style),s=(0,eB.default)({},i,n,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}let s=t_((0,eB.default)({},n,r)),a=tE(r),l=tE(n),u=t(s),d=tx(null==u?void 0:u.className,null==i?void 0:i.className,o,null==n?void 0:n.className,null==r?void 0:r.className),h=(0,eB.default)({},null==u?void 0:u.style,null==i?void 0:i.style,null==n?void 0:n.style,null==r?void 0:r.style),c=(0,eB.default)({},u,i,l,a);return d.length>0&&(c.className=d),Object.keys(h).length>0&&(c.style=h),{props:c,internalRef:u.ref}},tM=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],tR=["component","slots","slotProps"],tD=["component"];function tA(e,t){let{className:i,elementType:r,ownerState:n,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=t,l=(0,eH.default)(t,tM),{component:u,slots:d={[e]:void 0},slotProps:h={[e]:void 0}}=o,c=(0,eH.default)(o,tR),p=d[e]||r,g=tS(h[e],n),f=tT((0,eB.default)({className:i},l,{externalForwardedProps:"root"===e?c:void 0,externalSlotProps:g})),{props:{component:m},internalRef:v}=f,y=(0,eH.default)(f.props,tD),C=(0,tC.default)(v,null==g?void 0:g.ref,t.ref),w=s?s(y):{},b=(0,eB.default)({},n,w),S="root"===e?m||u:m,x=tb(p,(0,eB.default)({},"root"===e&&!u&&!d[e]&&a,"root"!==e&&!d[e]&&a,y,S&&{as:S},{ref:C}),b);return Object.keys(w).forEach(e=>{delete x[e]}),[p,x]}function tI(e){return(0,tr.default)("MuiAccordion",e)}let tP=(0,ti.default)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),tL=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],tk=(0,eU.default)(tm,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[{[`& .${tP.region}`]:t.region},t.root,!i.square&&t.rounded,!i.disableGutters&&t.gutters]}})(({theme:e})=>{let t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${tP.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${tP.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${tP.expanded}`]:{margin:"16px 0"}}}]})),tN=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiAccordion"}),{children:r,className:n,defaultExpanded:o=!1,disabled:s=!1,disableGutters:a=!1,expanded:l,onChange:u,square:d=!1,slots:h={},slotProps:c={},TransitionComponent:p,TransitionProps:g}=i,f=(0,eH.default)(i,tL),[m,v]=(0,ty.default)({controlled:l,default:o,name:"Accordion",state:"expanded"}),y=eV.useCallback(e=>{v(!m),u&&u(e,!m)},[m,u,v]),[C,...w]=eV.Children.toArray(r),b=eV.useMemo(()=>({expanded:m,disabled:s,disableGutters:a,toggle:y}),[m,s,a,y]),S=(0,eB.default)({},i,{square:d,disabled:s,disableGutters:a,expanded:m}),x=(e=>{let{classes:t,square:i,expanded:r,disabled:n,disableGutters:o}=e;return(0,eW.default)({root:["root",!i&&"rounded",r&&"expanded",n&&"disabled",!o&&"gutters"],region:["region"]},tI,t)})(S),[_,E]=tA("transition",{elementType:tu,externalForwardedProps:{slots:(0,eB.default)({transition:p},h),slotProps:(0,eB.default)({transition:g},c)},ownerState:S});return(0,eG.jsxs)(tk,(0,eB.default)({className:(0,ez.default)(x.root,n),ref:t,ownerState:S,square:d},f,{children:[(0,eG.jsx)(tv.Provider,{value:b,children:C}),(0,eG.jsx)(_,(0,eB.default)({in:m,timeout:"auto"},E,{children:(0,eG.jsx)("div",{"aria-labelledby":C.props.id,id:C.props["aria-controls"],role:"region",className:x.region,children:w})}))]}))});var eU=eU;function tF(e){return(0,tr.default)("MuiAccordionDetails",e)}(0,ti.default)("MuiAccordionDetails",["root"]);let tO=["className"],tG=(0,eU.default)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),tV=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiAccordionDetails"}),{className:r}=i,n=(0,eH.default)(i,tO),o=(e=>{let{classes:t}=e;return(0,eW.default)({root:["root"]},tF,t)})(i);return(0,eG.jsx)(tG,(0,eB.default)({className:(0,ez.default)(o.root,r),ref:t,ownerState:i},n))});var eU=eU,tB=eU,tH=tt,tz=e.i(39282),tW=e.i(58288);function tU(e,t){var i=Object.create(null);return e&&eV.Children.map(e,function(e){return e}).forEach(function(e){i[e.key]=t&&(0,eV.isValidElement)(e)?t(e):e}),i}function tj(e,t,i){return null!=i[t]?i[t]:e.props[t]}var t$=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},tK=function(e){function t(t,i){var r=e.call(this,t,i)||this,n=r.handleExited.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},r}eK(t,e);var i=t.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var i,r,n=t.children,o=t.handleExited;return{children:t.firstRender?tU(e.children,function(t){return(0,eV.cloneElement)(t,{onExited:o.bind(null,t),in:!0,appear:tj(t,"appear",e),enter:tj(t,"enter",e),exit:tj(t,"exit",e)})}):(Object.keys(r=function(e,t){function i(i){return i in t?t[i]:e[i]}e=e||{},t=t||{};var r,n=Object.create(null),o=[];for(var s in e)s in t?o.length&&(n[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(n[l])for(r=0;r<n[l].length;r++){var u=n[l][r];a[n[l][r]]=i(u)}a[l]=i(l)}for(r=0;r<o.length;r++)a[o[r]]=i(o[r]);return a}(n,i=tU(e.children))).forEach(function(t){var s=r[t];if((0,eV.isValidElement)(s)){var a=t in n,l=t in i,u=n[t],d=(0,eV.isValidElement)(u)&&!u.props.in;l&&(!a||d)?r[t]=(0,eV.cloneElement)(s,{onExited:o.bind(null,s),in:!0,exit:tj(s,"exit",e),enter:tj(s,"enter",e)}):l||!a||d?l&&a&&(0,eV.isValidElement)(u)&&(r[t]=(0,eV.cloneElement)(s,{onExited:o.bind(null,s),in:u.props.in,exit:tj(s,"exit",e),enter:tj(s,"enter",e)})):r[t]=(0,eV.cloneElement)(s,{in:!1})}}),r),firstRender:!1}},i.handleExited=function(e,t){var i=tU(this.props.children);e.key in i||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var i=(0,eB.default)({},t.children);return delete i[e.key],{children:i}}))},i.render=function(){var e=this.props,t=e.component,i=e.childFactory,r=(0,eH.default)(e,["component","childFactory"]),n=this.state.contextValue,o=t$(this.state.children).map(i);return(delete r.appear,delete r.enter,delete r.exit,null===t)?eV.default.createElement(eq.Provider,{value:n},o):eV.default.createElement(eq.Provider,{value:n},eV.default.createElement(t,r,o))},t}(eV.default.Component);tK.propTypes={},tK.defaultProps={component:"div",childFactory:function(e){return e}};var tY=e.i(84364),tq=eU;let tX=(0,ti.default)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),tZ=["center","classes","className"],tQ=e=>e,tJ,t0,t1,t2,t5=(0,tY.keyframes)(tJ||(tJ=tQ`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),t3=(0,tY.keyframes)(t0||(t0=tQ`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),t4=(0,tY.keyframes)(t1||(t1=tQ`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),t6=(0,tq.default)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),t8=(0,tq.default)(function(e){let{className:t,classes:i,pulsate:r=!1,rippleX:n,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=e,[d,h]=eV.useState(!1),c=(0,ez.default)(t,i.ripple,i.rippleVisible,r&&i.ripplePulsate),p=(0,ez.default)(i.child,d&&i.childLeaving,r&&i.childPulsate);return a||d||h(!0),eV.useEffect(()=>{if(!a&&null!=l){let e=setTimeout(l,u);return()=>{clearTimeout(e)}}},[l,a,u]),(0,eG.jsx)("span",{className:c,style:{width:s,height:s,top:-(s/2)+o,left:-(s/2)+n},children:(0,eG.jsx)("span",{className:p})})},{name:"MuiTouchRipple",slot:"Ripple"})(t2||(t2=tQ`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),tX.rippleVisible,t5,550,({theme:e})=>e.transitions.easing.easeInOut,tX.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,tX.child,tX.childLeaving,t3,550,({theme:e})=>e.transitions.easing.easeInOut,tX.childPulsate,t4,({theme:e})=>e.transitions.easing.easeInOut),t9=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:n={},className:o}=i,s=(0,eH.default)(i,tZ),[a,l]=eV.useState([]),u=eV.useRef(0),d=eV.useRef(null);eV.useEffect(()=>{d.current&&(d.current(),d.current=null)},[a]);let h=eV.useRef(!1),c=(0,e5.default)(),p=eV.useRef(null),g=eV.useRef(null),f=eV.useCallback(e=>{let{pulsate:t,rippleX:i,rippleY:r,rippleSize:o,cb:s}=e;l(e=>[...e,(0,eG.jsx)(t8,{classes:{ripple:(0,ez.default)(n.ripple,tX.ripple),rippleVisible:(0,ez.default)(n.rippleVisible,tX.rippleVisible),ripplePulsate:(0,ez.default)(n.ripplePulsate,tX.ripplePulsate),child:(0,ez.default)(n.child,tX.child),childLeaving:(0,ez.default)(n.childLeaving,tX.childLeaving),childPulsate:(0,ez.default)(n.childPulsate,tX.childPulsate)},timeout:550,pulsate:t,rippleX:i,rippleY:r,rippleSize:o},u.current)]),u.current+=1,d.current=s},[n]),m=eV.useCallback((e={},t={},i=()=>{})=>{let n,o,s,{pulsate:a=!1,center:l=r||t.pulsate,fakeElement:u=!1}=t;if((null==e?void 0:e.type)==="mousedown"&&h.current){h.current=!1;return}(null==e?void 0:e.type)==="touchstart"&&(h.current=!0);let d=u?null:g.current,m=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(!l&&void 0!==e&&(0!==e.clientX||0!==e.clientY)&&(e.clientX||e.touches)){let{clientX:t,clientY:i}=e.touches&&e.touches.length>0?e.touches[0]:e;n=Math.round(t-m.left),o=Math.round(i-m.top)}else n=Math.round(m.width/2),o=Math.round(m.height/2);l?(s=Math.sqrt((2*m.width**2+m.height**2)/3))%2==0&&(s+=1):s=Math.sqrt((2*Math.max(Math.abs((d?d.clientWidth:0)-n),n)+2)**2+(2*Math.max(Math.abs((d?d.clientHeight:0)-o),o)+2)**2),null!=e&&e.touches?null===p.current&&(p.current=()=>{f({pulsate:a,rippleX:n,rippleY:o,rippleSize:s,cb:i})},c.start(80,()=>{p.current&&(p.current(),p.current=null)})):f({pulsate:a,rippleX:n,rippleY:o,rippleSize:s,cb:i})},[r,f,c]),v=eV.useCallback(()=>{m({},{pulsate:!0})},[m]),y=eV.useCallback((e,t)=>{if(c.clear(),(null==e?void 0:e.type)==="touchend"&&p.current){p.current(),p.current=null,c.start(0,()=>{y(e,t)});return}p.current=null,l(e=>e.length>0?e.slice(1):e),d.current=t},[c]);return eV.useImperativeHandle(t,()=>({pulsate:v,start:m,stop:y}),[v,m,y]),(0,eG.jsx)(t6,(0,eB.default)({className:(0,ez.default)(tX.root,n.root,o),ref:g},s,{children:(0,eG.jsx)(tK,{component:null,exit:!0,children:a})}))});function t7(e){return(0,tr.default)("MuiButtonBase",e)}let ie=(0,ti.default)("MuiButtonBase",["root","disabled","focusVisible"]),it=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ii=(0,tB.default)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ie.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ir=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:n=!1,children:o,className:s,component:a="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:c="a",onBlur:p,onClick:g,onContextMenu:f,onDragLeave:m,onFocus:v,onFocusVisible:y,onKeyDown:C,onKeyUp:w,onMouseDown:b,onMouseLeave:S,onMouseUp:x,onTouchEnd:_,onTouchMove:E,onTouchStart:T,tabIndex:M=0,TouchRippleProps:R,touchRippleRef:D,type:A}=i,I=(0,eH.default)(i,it),P=eV.useRef(null),L=eV.useRef(null),k=(0,tH.default)(L,D),{isFocusVisibleRef:N,onFocus:F,onBlur:O,ref:G}=(0,tW.default)(),[V,B]=eV.useState(!1);l&&V&&B(!1),eV.useImperativeHandle(r,()=>({focusVisible:()=>{B(!0),P.current.focus()}}),[]);let[H,z]=eV.useState(!1);eV.useEffect(()=>{z(!0)},[]);let W=H&&!u&&!l;function U(e,t,i=d){return(0,tz.default)(r=>(t&&t(r),!i&&L.current&&L.current[e](r),!0))}eV.useEffect(()=>{V&&h&&!u&&H&&L.current.pulsate()},[u,h,V,H]);let j=U("start",b),$=U("stop",f),K=U("stop",m),Y=U("stop",x),q=U("stop",e=>{V&&e.preventDefault(),S&&S(e)}),X=U("start",T),Z=U("stop",_),Q=U("stop",E),J=U("stop",e=>{O(e),!1===N.current&&B(!1),p&&p(e)},!1),ee=(0,tz.default)(e=>{P.current||(P.current=e.currentTarget),F(e),!0===N.current&&(B(!0),y&&y(e)),v&&v(e)}),et=()=>{let e=P.current;return a&&"button"!==a&&!("A"===e.tagName&&e.href)},ei=eV.useRef(!1),er=(0,tz.default)(e=>{h&&!ei.current&&V&&L.current&&" "===e.key&&(ei.current=!0,L.current.stop(e,()=>{L.current.start(e)})),e.target===e.currentTarget&&et()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&et()&&"Enter"===e.key&&!l&&(e.preventDefault(),g&&g(e))}),en=(0,tz.default)(e=>{h&&" "===e.key&&L.current&&V&&!e.defaultPrevented&&(ei.current=!1,L.current.stop(e,()=>{L.current.pulsate(e)})),w&&w(e),g&&e.target===e.currentTarget&&et()&&" "===e.key&&!e.defaultPrevented&&g(e)}),eo=a;"button"===eo&&(I.href||I.to)&&(eo=c);let es={};"button"===eo?(es.type=void 0===A?"button":A,es.disabled=l):(I.href||I.to||(es.role="button"),l&&(es["aria-disabled"]=l));let ea=(0,tH.default)(t,G,P),el=(0,eB.default)({},i,{centerRipple:n,component:a,disabled:l,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:M,focusVisible:V}),eu=(e=>{let{disabled:t,focusVisible:i,focusVisibleClassName:r,classes:n}=e,o=(0,eW.default)({root:["root",t&&"disabled",i&&"focusVisible"]},t7,n);return i&&r&&(o.root+=` ${r}`),o})(el);return(0,eG.jsxs)(ii,(0,eB.default)({as:eo,className:(0,ez.default)(eu.root,s),ownerState:el,onBlur:J,onClick:g,onContextMenu:$,onFocus:ee,onKeyDown:er,onKeyUp:en,onMouseDown:j,onMouseLeave:q,onMouseUp:Y,onDragLeave:K,onTouchEnd:Z,onTouchMove:Q,onTouchStart:X,ref:ea,tabIndex:l?-1:M,type:A},es,I,{children:[o,W?(0,eG.jsx)(t9,(0,eB.default)({ref:k,center:n},R)):null]}))});function io(e){return(0,tr.default)("MuiAccordionSummary",e)}let is=(0,ti.default)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),ia=["children","className","expandIcon","focusVisibleClassName","onClick"],il=(0,eU.default)(ir,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{let t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${is.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${is.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${is.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${is.expanded}`]:{minHeight:64}}}]}}),iu=(0,eU.default)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${is.expanded}`]:{margin:"20px 0"}}}]})),id=(0,eU.default)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${is.expanded}`]:{transform:"rotate(180deg)"}})),ih=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiAccordionSummary"}),{children:r,className:n,expandIcon:o,focusVisibleClassName:s,onClick:a}=i,l=(0,eH.default)(i,ia),{disabled:u=!1,disableGutters:d,expanded:h,toggle:c}=eV.useContext(tv),p=(0,eB.default)({},i,{expanded:h,disabled:u,disableGutters:d}),g=(e=>{let{classes:t,expanded:i,disabled:r,disableGutters:n}=e;return(0,eW.default)({root:["root",i&&"expanded",r&&"disabled",!n&&"gutters"],focusVisible:["focusVisible"],content:["content",i&&"expanded",!n&&"contentGutters"],expandIconWrapper:["expandIconWrapper",i&&"expanded"]},io,t)})(p);return(0,eG.jsxs)(il,(0,eB.default)({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":h,className:(0,ez.default)(g.root,n),focusVisibleClassName:(0,ez.default)(g.focusVisible,s),onClick:e=>{c&&c(e),a&&a(e)},ref:t,ownerState:p},l,{children:[(0,eG.jsx)(iu,{className:g.content,ownerState:p,children:r}),o&&(0,eG.jsx)(id,{className:g.expandIconWrapper,ownerState:p,children:o})]}))});var ic=e.i(33282),ic=ic,ip=eU,ig=e.i(90290);function im(e){return(0,tr.default)("MuiTypography",e)}(0,ti.default)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);let iv=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],iy=(0,ip.default)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.variant&&t[i.variant],"inherit"!==i.align&&t[`align${(0,ig.default)(i.align)}`],i.noWrap&&t.noWrap,i.gutterBottom&&t.gutterBottom,i.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>(0,eB.default)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),iC={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},iw={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ib=eV.forwardRef(function(e,t){let i,r=(0,ej.useDefaultProps)({props:e,name:"MuiTypography"}),n=iw[i=r.color]||i,o=(0,ic.default)((0,eB.default)({},r,{color:n})),{align:s="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:c="body1",variantMapping:p=iC}=o,g=(0,eH.default)(o,iv),f=(0,eB.default)({},o,{align:s,color:n,className:a,component:l,gutterBottom:u,noWrap:d,paragraph:h,variant:c,variantMapping:p}),m=l||(h?"p":p[c]||iC[c])||"span",v=(e=>{let{align:t,gutterBottom:i,noWrap:r,paragraph:n,variant:o,classes:s}=e,a={root:["root",o,"inherit"!==e.align&&`align${(0,ig.default)(t)}`,i&&"gutterBottom",r&&"noWrap",n&&"paragraph"]};return(0,eW.default)(a,im,s)})(f);return(0,eG.jsx)(iy,(0,eB.default)({as:m,ref:t,ownerState:f,className:(0,ez.default)(v.root,a)},g))});var iS=eU,ix=e.i(6531),ix=ix;let i_=eV.createContext({});var iE=e.i(66932),iT=tt;let iM=(0,ti.default)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),iR=(0,ti.default)("MuiListItemIcon",["root","alignItemsFlexStart"]),iD=(0,ti.default)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function iA(e){return(0,tr.default)("MuiMenuItem",e)}let iI=(0,ti.default)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),iP=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],iL=(0,iS.default)(ir,{shouldForwardProp:e=>(0,ix.default)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.divider&&t.divider,!i.disableGutters&&t.gutters]}})(({theme:e,ownerState:t})=>(0,eB.default)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${iI.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,td.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${iI.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,td.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${iI.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,td.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,td.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${iI.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${iI.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${iM.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${iM.inset}`]:{marginLeft:52},[`& .${iD.root}`]:{marginTop:0,marginBottom:0},[`& .${iD.inset}`]:{paddingLeft:36},[`& .${iR.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,eB.default)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${iR.root} svg`]:{fontSize:"1.25rem"}}))),ik=eV.forwardRef(function(e,t){let i,r=(0,ej.useDefaultProps)({props:e,name:"MuiMenuItem"}),{autoFocus:n=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:h,className:c}=r,p=(0,eH.default)(r,iP),g=eV.useContext(i_),f=eV.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),m=eV.useRef(null);(0,iE.default)(()=>{n&&m.current&&m.current.focus()},[n]);let v=(0,eB.default)({},r,{dense:f.dense,divider:a,disableGutters:l}),y=(e=>{let{disabled:t,dense:i,divider:r,disableGutters:n,selected:o,classes:s}=e,a=(0,eW.default)({root:["root",i&&"dense",t&&"disabled",!n&&"gutters",r&&"divider",o&&"selected"]},iA,s);return(0,eB.default)({},s,a)})(r),C=(0,iT.default)(m,t);return r.disabled||(i=void 0!==h?h:-1),(0,eG.jsx)(i_.Provider,{value:f,children:(0,eG.jsx)(iL,(0,eB.default)({ref:C,role:d,tabIndex:i,component:o,focusVisibleClassName:(0,ez.default)(y.focusVisible,u),className:(0,ez.default)(y.root,c)},p,{ownerState:v,classes:y}))})});var iN=eU;function iF(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function iO(e,t=!1){return e&&(iF(e.value)&&""!==e.value||t&&iF(e.defaultValue)&&""!==e.defaultValue)}var iG=e.i(8262);let iV=eV.createContext(void 0);function iB(e){return(0,tr.default)("MuiFormControl",e)}(0,ti.default)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);let iH=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],iz=(0,iN.default)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,eB.default)({},t.root,t[`margin${(0,ig.default)(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>(0,eB.default)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),iW=eV.forwardRef(function(e,t){let i,r=(0,ej.useDefaultProps)({props:e,name:"MuiFormControl"}),{children:n,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:d,fullWidth:h=!1,hiddenLabel:c=!1,margin:p="none",required:g=!1,size:f="medium",variant:m="outlined"}=r,v=(0,eH.default)(r,iH),y=(0,eB.default)({},r,{color:s,component:a,disabled:l,error:u,fullWidth:h,hiddenLabel:c,margin:p,required:g,size:f,variant:m}),C=(e=>{let{classes:t,margin:i,fullWidth:r}=e,n={root:["root","none"!==i&&`margin${(0,ig.default)(i)}`,r&&"fullWidth"]};return(0,eW.default)(n,iB,t)})(y),[w,b]=eV.useState(()=>{let e=!1;return n&&eV.Children.forEach(n,t=>{if(!(0,iG.default)(t,["Input","Select"]))return;let i=(0,iG.default)(t,["Select"])?t.props.input:t;i&&i.props.startAdornment&&(e=!0)}),e}),[S,x]=eV.useState(()=>{let e=!1;return n&&eV.Children.forEach(n,t=>{(0,iG.default)(t,["Input","Select"])&&(iO(t.props,!0)||iO(t.props.inputProps,!0))&&(e=!0)}),e}),[_,E]=eV.useState(!1);l&&_&&E(!1);let T=void 0===d||l?_:d,M=eV.useMemo(()=>({adornedStart:w,setAdornedStart:b,color:s,disabled:l,error:u,filled:S,focused:T,fullWidth:h,hiddenLabel:c,size:f,onBlur:()=>{E(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{E(!0)},registerEffect:i,required:g,variant:m}),[w,s,l,u,S,T,h,c,i,g,f,m]);return(0,eG.jsx)(iV.Provider,{value:M,children:(0,eG.jsx)(iz,(0,eB.default)({as:a,ownerState:y,className:(0,ez.default)(C.root,o),ref:t},v,{children:n}))})});var iU=e.i(76423);function ij(e){if(parseInt(eV.version,10)>=19){var t;return(null==e||null==(t=e.props)?void 0:t.ref)||null}return(null==e?void 0:e.ref)||null}var i$=e.i(61214),iK=e.i(57242),iY=e.i(84263),iq=e.i(68308);let iX=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"],iZ=function(e){var t;let{elementType:i,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:o=!1}=e,s=(0,eH.default)(e,iX),a=o?{}:tS(r,n),{props:l,internalRef:u}=tT((0,eB.default)({},s,{externalSlotProps:a})),d=(0,tC.default)(u,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return tb(i,(0,eB.default)({},l,{ref:d}),n)};var iQ=eU;function iJ(e){return(0,tr.default)("MuiList",e)}(0,ti.default)("MuiList",["root","padding","dense","subheader"]);let i0=["children","className","component","dense","disablePadding","subheader"],i1=(0,iQ.default)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,!i.disablePadding&&t.padding,i.dense&&t.dense,i.subheader&&t.subheader]}})(({ownerState:e})=>(0,eB.default)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),i2=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiList"}),{children:r,className:n,component:o="ul",dense:s=!1,disablePadding:a=!1,subheader:l}=i,u=(0,eH.default)(i,i0),d=eV.useMemo(()=>({dense:s}),[s]),h=(0,eB.default)({},i,{component:o,dense:s,disablePadding:a}),c=(e=>{let{classes:t,disablePadding:i,dense:r,subheader:n}=e;return(0,eW.default)({root:["root",!i&&"padding",r&&"dense",n&&"subheader"]},iJ,t)})(h);return(0,eG.jsx)(i_.Provider,{value:d,children:(0,eG.jsxs)(i1,(0,eB.default)({as:o,className:(0,ez.default)(c.root,n),ref:t,ownerState:h},u,{children:[l,r]}))})});function i5(e){let t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var i3=tt;let i4=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function i6(e,t,i){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:i?null:e.firstChild}function i8(e,t,i){return e===t?i?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:i?null:e.lastChild}function i9(e,t){if(void 0===t)return!0;let i=e.innerText;return void 0===i&&(i=e.textContent),0!==(i=i.trim().toLowerCase()).length&&(t.repeating?i[0]===t.keys[0]:0===i.indexOf(t.keys.join("")))}function i7(e,t,i,r,n,o){let s=!1,a=n(e,t,!!t&&i);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}let t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&i9(a,o)&&!t)return a.focus(),!0;a=n(e,a,i)}return!1}let re=eV.forwardRef(function(e,t){let{actions:i,autoFocus:r=!1,autoFocusItem:n=!1,children:o,className:s,disabledItemsFocusable:a=!1,disableListWrap:l=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,eH.default)(e,i4),c=eV.useRef(null),p=eV.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,iE.default)(()=>{r&&c.current.focus()},[r]),eV.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(e,{direction:t})=>{let i=!c.current.style.width;if(e.clientHeight<c.current.clientHeight&&i){let i=`${i5((0,iY.default)(e))}px`;c.current.style["rtl"===t?"paddingLeft":"paddingRight"]=i,c.current.style.width=`calc(100% + ${i})`}return c.current}}),[]);let g=(0,i3.default)(c,t),f=-1;eV.Children.forEach(o,(e,t)=>{if(!eV.isValidElement(e)){f===t&&(f+=1)>=o.length&&(f=-1);return}e.props.disabled||("selectedMenu"===d&&e.props.selected?f=t:-1===f&&(f=t)),f===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(f+=1)>=o.length&&(f=-1)});let m=eV.Children.map(o,(e,t)=>{if(t===f){let t={};return n&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),eV.cloneElement(e,t)}return e});return(0,eG.jsx)(i2,(0,eB.default)({role:"menu",ref:g,className:s,onKeyDown:e=>{let t=c.current,i=e.key,r=(0,iY.default)(t).activeElement;if("ArrowDown"===i)e.preventDefault(),i7(t,r,l,a,i6);else if("ArrowUp"===i)e.preventDefault(),i7(t,r,l,a,i8);else if("Home"===i)e.preventDefault(),i7(t,null,l,a,i6);else if("End"===i)e.preventDefault(),i7(t,null,l,a,i8);else if(1===i.length){let n=p.current,o=i.toLowerCase(),s=performance.now();n.keys.length>0&&(s-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&o!==n.keys[0]&&(n.repeating=!1)),n.lastTime=s,n.keys.push(o);let l=r&&!n.repeating&&i9(r,n);n.previousKeyMatched&&(l||i7(t,r,!1,a,i6,n))?e.preventDefault():n.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1},h,{children:m}))});var rt=eU,ri=e.i(3923),rr=e.i(54281),rn=tt,ro=tt;let rs=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ra(e){return`scale(${e}, ${e**2})`}let rl={entering:{opacity:1,transform:ra(1)},entered:{opacity:1,transform:"none"}},ru="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),rd=eV.forwardRef(function(e,t){let{addEndListener:i,appear:r=!0,children:n,easing:o,in:s,onEnter:a,onEntered:l,onEntering:u,onExit:d,onExited:h,onExiting:c,style:p,timeout:g="auto",TransitionComponent:f=e1}=e,m=(0,eH.default)(e,rs),v=(0,e5.default)(),y=eV.useRef(),C=te(),w=eV.useRef(null),b=(0,ro.default)(w,ij(n),t),S=e=>t=>{if(e){let i=w.current;void 0===t?e(i):e(i,t)}},x=S(u),_=S((e,t)=>{let i;e.scrollTop;let{duration:r,delay:n,easing:s}=e6({style:p,timeout:g,easing:o},{mode:"enter"});"auto"===g?y.current=i=C.transitions.getAutoHeightDuration(e.clientHeight):i=r,e.style.transition=[C.transitions.create("opacity",{duration:i,delay:n}),C.transitions.create("transform",{duration:ru?i:.666*i,delay:n,easing:s})].join(","),a&&a(e,t)}),E=S(l),T=S(c),M=S(e=>{let t,{duration:i,delay:r,easing:n}=e6({style:p,timeout:g,easing:o},{mode:"exit"});"auto"===g?y.current=t=C.transitions.getAutoHeightDuration(e.clientHeight):t=i,e.style.transition=[C.transitions.create("opacity",{duration:t,delay:r}),C.transitions.create("transform",{duration:ru?t:.666*t,delay:ru?r:r||.333*t,easing:n})].join(","),e.style.opacity=0,e.style.transform=ra(.75),d&&d(e)}),R=S(h);return(0,eG.jsx)(f,(0,eB.default)({appear:r,in:s,nodeRef:w,onEnter:_,onEntered:E,onEntering:x,onExit:M,onExited:R,onExiting:T,addEndListener:e=>{"auto"===g&&v.start(y.current||0,e),i&&i(w.current,e)},timeout:"auto"===g?null:g},m,{children:(e,t)=>eV.cloneElement(n,(0,eB.default)({style:(0,eB.default)({opacity:0,transform:ra(.75),visibility:"exited"!==e||s?void 0:"hidden"},rl[e],p,n.props.style),ref:b},t))}))});rd.muiSupportAuto=!0;var rh=tC,rc=e.i(13714),rc=rc;function rp(e){let t=[],i=[];return Array.from(e.querySelectorAll('input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])')).forEach((e,r)=>{let n,o=Number.isNaN(n=parseInt(e.getAttribute("tabindex")||"",10))?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:n;-1===o||e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type||!e.name)return!1;let t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`),i=t(`[name="${e.name}"]:checked`);return i||(i=t(`[name="${e.name}"]`)),i!==e}(e)||(0===o?t.push(e):i.push({documentOrder:r,tabIndex:o,node:e}))}),i.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function rg(){return!0}let rf=function(e){let{children:t,disableAutoFocus:i=!1,disableEnforceFocus:r=!1,disableRestoreFocus:n=!1,getTabbable:o=rp,isEnabled:s=rg,open:a}=e,l=eV.useRef(!1),u=eV.useRef(null),d=eV.useRef(null),h=eV.useRef(null),c=eV.useRef(null),p=eV.useRef(!1),g=eV.useRef(null),f=(0,rh.default)(ij(t),g),m=eV.useRef(null);eV.useEffect(()=>{a&&g.current&&(p.current=!i)},[i,a]),eV.useEffect(()=>{if(!a||!g.current)return;let e=(0,rc.default)(g.current);return!g.current.contains(e.activeElement)&&(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{n||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),eV.useEffect(()=>{if(!a||!g.current)return;let e=(0,rc.default)(g.current),t=t=>{m.current=t,!r&&s()&&"Tab"===t.key&&e.activeElement===g.current&&t.shiftKey&&(l.current=!0,d.current&&d.current.focus())},i=()=>{let t=g.current;if(null===t)return;if(!e.hasFocus()||!s()||l.current){l.current=!1;return}if(t.contains(e.activeElement)||r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==c.current)c.current=null;else if(null!==c.current)return;if(!p.current)return;let i=[];if((e.activeElement===u.current||e.activeElement===d.current)&&(i=o(g.current)),i.length>0){var n,a;let e=!!((null==(n=m.current)?void 0:n.shiftKey)&&(null==(a=m.current)?void 0:a.key)==="Tab"),t=i[0],r=i[i.length-1];"string"!=typeof t&&"string"!=typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",i),e.addEventListener("keydown",t,!0);let n=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&i()},50);return()=>{clearInterval(n),e.removeEventListener("focusin",i),e.removeEventListener("keydown",t,!0)}},[i,r,n,s,a,o]);let v=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,eG.jsxs)(eV.Fragment,{children:[(0,eG.jsx)("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),eV.cloneElement(t,{ref:f,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,c.current=e.target;let i=t.props.onFocus;i&&i(e)}}),(0,eG.jsx)("div",{tabIndex:a?0:-1,onFocus:v,ref:d,"data-testid":"sentinelEnd"})]})};var rm=e.i(7558),rm=rm,rh=tC,rv=e.i(54499),rv=rv;let ry=eV.forwardRef(function(e,t){let{children:i,container:r,disablePortal:n=!1}=e,[o,s]=eV.useState(null),a=(0,rh.default)(eV.isValidElement(i)?ij(i):null,t);return((0,rm.default)(()=>{n||s(("function"==typeof r?r():r)||document.body)},[r,n]),(0,rm.default)(()=>{if(o&&!n)return(0,rv.default)(t,o),()=>{(0,rv.default)(t,null)}},[t,o,n]),n)?eV.isValidElement(i)?eV.cloneElement(i,{ref:a}):(0,eG.jsx)(eV.Fragment,{children:i}):(0,eG.jsx)(eV.Fragment,{children:o?eY.createPortal(i,o):o})});var rC=eU,rw=eU,rb=tt;let rS=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],rx={entering:{opacity:1},entered:{opacity:1}},r_=eV.forwardRef(function(e,t){let i=te(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:n,appear:o=!0,children:s,easing:a,in:l,onEnter:u,onEntered:d,onEntering:h,onExit:c,onExited:p,onExiting:g,style:f,timeout:m=r,TransitionComponent:v=e1}=e,y=(0,eH.default)(e,rS),C=eV.useRef(null),w=(0,rb.default)(C,ij(s),t),b=e=>t=>{if(e){let i=C.current;void 0===t?e(i):e(i,t)}},S=b(h),x=b((e,t)=>{e.scrollTop;let r=e6({style:f,timeout:m,easing:a},{mode:"enter"});e.style.webkitTransition=i.transitions.create("opacity",r),e.style.transition=i.transitions.create("opacity",r),u&&u(e,t)}),_=b(d),E=b(g),T=b(e=>{let t=e6({style:f,timeout:m,easing:a},{mode:"exit"});e.style.webkitTransition=i.transitions.create("opacity",t),e.style.transition=i.transitions.create("opacity",t),c&&c(e)}),M=b(p);return(0,eG.jsx)(v,(0,eB.default)({appear:o,in:l,nodeRef:C,onEnter:x,onEntered:_,onEntering:S,onExit:T,onExited:M,onExiting:E,addEndListener:e=>{n&&n(C.current,e)},timeout:m},y,{children:(e,t)=>eV.cloneElement(s,(0,eB.default)({style:(0,eB.default)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},rx[e],f,s.props.style),ref:w},t))}))});function rE(e){return(0,tr.default)("MuiBackdrop",e)}(0,ti.default)("MuiBackdrop",["root","invisible"]);let rT=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],rM=(0,rw.default)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.invisible&&t.invisible]}})(({ownerState:e})=>(0,eB.default)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),rR=eV.forwardRef(function(e,t){var i,r,n;let o=(0,ej.useDefaultProps)({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:u={},componentsProps:d={},invisible:h=!1,open:c,slotProps:p={},slots:g={},TransitionComponent:f=r_,transitionDuration:m}=o,v=(0,eH.default)(o,rT),y=(0,eB.default)({},o,{component:l,invisible:h}),C=(e=>{let{classes:t,invisible:i}=e;return(0,eW.default)({root:["root",i&&"invisible"]},rE,t)})(y),w=null!=(i=p.root)?i:d.root;return(0,eG.jsx)(f,(0,eB.default)({in:c,timeout:m},v,{children:(0,eG.jsx)(rM,(0,eB.default)({"aria-hidden":!0},w,{as:null!=(r=null!=(n=g.root)?n:u.Root)?r:l,className:(0,ez.default)(C.root,a,null==w?void 0:w.className),ownerState:(0,eB.default)({},y,null==w?void 0:w.ownerState),classes:C,ref:t,children:s}))}))});var rc=rc,rh=tC,rD=e.i(10669),rD=rD,rA=e.i(71161),rA=rA,rI=e.i(10031),rI=rI,rc=rc;function rP(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function rL(e){return parseInt((0,rI.default)(e).getComputedStyle(e).paddingRight,10)||0}function rk(e,t,i,r,n){let o=[t,i,...r];[].forEach.call(e.children,e=>{let t,i,r=-1===o.indexOf(e),s=(t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),i="INPUT"===e.tagName&&"hidden"===e.getAttribute("type"),!t&&!i);r&&s&&rP(e,n)})}function rN(e,t){let i=-1;return e.some((e,r)=>!!t(e)&&(i=r,!0)),i}let rF=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let i,r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&rP(e.modalRef,!1);let n=(i=[],[].forEach.call(t.children,e=>{"true"===e.getAttribute("aria-hidden")&&i.push(e)}),i);rk(t,e.mount,e.modalRef,n,!0);let o=rN(this.containers,e=>e.container===t);return -1!==o?this.containers[o].modals.push(e):this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:n}),r}mount(e,t){let i=rN(this.containers,t=>-1!==t.modals.indexOf(e)),r=this.containers[i];r.restore||(r.restore=function(e,t){let i=[],r=e.container;if(!t.disableScrollLock){let e,t;if((t=(0,rc.default)(r)).body===r?(0,rI.default)(r).innerWidth>t.documentElement.clientWidth:r.scrollHeight>r.clientHeight){let e=i5((0,rc.default)(r));i.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${rL(r)+e}px`;let t=(0,rc.default)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{i.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${rL(t)+e}px`})}if(r.parentNode instanceof DocumentFragment)e=(0,rc.default)(r).body;else{let t=r.parentElement,i=(0,rI.default)(r);e=(null==t?void 0:t.nodeName)==="HTML"&&"scroll"===i.getComputedStyle(t).overflowY?t:r}i.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{i.forEach(({value:e,el:t,property:i})=>{e?t.style.setProperty(i,e):t.style.removeProperty(i)})}}(r,t))}remove(e,t=!0){let i=this.modals.indexOf(e);if(-1===i)return i;let r=rN(this.containers,t=>-1!==t.modals.indexOf(e)),n=this.containers[r];if(n.modals.splice(n.modals.indexOf(e),1),this.modals.splice(i,1),0===n.modals.length)n.restore&&n.restore(),e.modalRef&&rP(e.modalRef,t),rk(n.container,e.mount,e.modalRef,n.hiddenSiblings,!1),this.containers.splice(r,1);else{let e=n.modals[n.modals.length-1];e.modalRef&&rP(e.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}},rO=function(e){let{container:t,disableEscapeKeyDown:i=!1,disableScrollLock:r=!1,manager:n=rF,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:u,open:d,rootRef:h}=e,c=eV.useRef({}),p=eV.useRef(null),g=eV.useRef(null),f=(0,rh.default)(g,h),[m,v]=eV.useState(!d),y=!!l&&l.props.hasOwnProperty("in"),C=!0;("false"===e["aria-hidden"]||!1===e["aria-hidden"])&&(C=!1);let w=()=>(c.current.modalRef=g.current,c.current.mount=p.current,c.current),b=()=>{n.mount(w(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},S=(0,rD.default)(()=>{let e=("function"==typeof t?t():t)||(0,rc.default)(p.current).body;n.add(w(),e),g.current&&b()}),x=eV.useCallback(()=>n.isTopModal(w()),[n]),_=(0,rD.default)(e=>{p.current=e,e&&(d&&x()?b():g.current&&rP(g.current,C))}),E=eV.useCallback(()=>{n.remove(w(),C)},[C,n]);return eV.useEffect(()=>()=>{E()},[E]),eV.useEffect(()=>{d?S():y&&o||E()},[d,E,y,o,S]),{getRootProps:(t={})=>{let r=t_(e);delete r.onTransitionEnter,delete r.onTransitionExited;let n=(0,eB.default)({},r,t);return(0,eB.default)({role:"presentation"},n,{onKeyDown:e=>{var t;null==(t=n.onKeyDown)||t.call(n,e),"Escape"===e.key&&229!==e.which&&x()&&!i&&(e.stopPropagation(),u&&u(e,"escapeKeyDown"))},ref:f})},getBackdropProps:(e={})=>(0,eB.default)({"aria-hidden":!0},e,{onClick:t=>{var i;null==(i=e.onClick)||i.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")},open:d}),getTransitionProps:()=>({onEnter:(0,rA.default)(()=>{v(!1),s&&s()},null==l?void 0:l.props.onEnter),onExited:(0,rA.default)(()=>{v(!0),a&&a(),o&&E()},null==l?void 0:l.props.onExited)}),rootRef:f,portalRef:_,isTopModal:x,exited:m,hasTransition:y}};function rG(e){return(0,tr.default)("MuiModal",e)}(0,ti.default)("MuiModal",["root","hidden","backdrop"]);let rV=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],rB=(0,rC.default)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,!i.open&&i.exited&&t.hidden]}})(({theme:e,ownerState:t})=>(0,eB.default)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),rH=(0,rC.default)(rR,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),rz=eV.forwardRef(function(e,t){var i,r,n,o,s,a;let l=(0,ej.useDefaultProps)({name:"MuiModal",props:e}),{BackdropComponent:u=rH,BackdropProps:d,className:h,closeAfterTransition:c=!1,children:p,container:g,component:f,components:m={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:w=!1,disablePortal:b=!1,disableRestoreFocus:S=!1,disableScrollLock:x=!1,hideBackdrop:_=!1,keepMounted:E=!1,onBackdropClick:T,open:M,slotProps:R,slots:D}=l,A=(0,eH.default)(l,rV),I=(0,eB.default)({},l,{closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:C,disableEscapeKeyDown:w,disablePortal:b,disableRestoreFocus:S,disableScrollLock:x,hideBackdrop:_,keepMounted:E}),{getRootProps:P,getBackdropProps:L,getTransitionProps:k,portalRef:N,isTopModal:F,exited:O,hasTransition:G}=rO((0,eB.default)({},I,{rootRef:t})),V=(0,eB.default)({},I,{exited:O}),B=(e=>{let{open:t,exited:i,classes:r}=e;return(0,eW.default)({root:["root",!t&&i&&"hidden"],backdrop:["backdrop"]},rG,r)})(V),H={};if(void 0===p.props.tabIndex&&(H.tabIndex="-1"),G){let{onEnter:e,onExited:t}=k();H.onEnter=e,H.onExited=t}let z=null!=(i=null!=(r=null==D?void 0:D.root)?r:m.Root)?i:rB,W=null!=(n=null!=(o=null==D?void 0:D.backdrop)?o:m.Backdrop)?n:u,U=null!=(s=null==R?void 0:R.root)?s:v.root,j=null!=(a=null==R?void 0:R.backdrop)?a:v.backdrop,$=iZ({elementType:z,externalSlotProps:U,externalForwardedProps:A,getSlotProps:P,additionalProps:{ref:t,as:f},ownerState:V,className:(0,ez.default)(h,null==U?void 0:U.className,null==B?void 0:B.root,!V.open&&V.exited&&(null==B?void 0:B.hidden))}),K=iZ({elementType:W,externalSlotProps:j,additionalProps:d,getSlotProps:e=>L((0,eB.default)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,ez.default)(null==j?void 0:j.className,null==d?void 0:d.className,null==B?void 0:B.backdrop),ownerState:V});return E||M||G&&!O?(0,eG.jsx)(ry,{ref:N,container:g,disablePortal:b,children:(0,eG.jsxs)(z,(0,eB.default)({},$,{children:[!_&&u?(0,eG.jsx)(W,(0,eB.default)({},K)):null,(0,eG.jsx)(rf,{disableEnforceFocus:C,disableAutoFocus:y,disableRestoreFocus:S,isEnabled:F,open:M,children:eV.cloneElement(p,H)})]}))}):null});function rW(e){return(0,tr.default)("MuiPopover",e)}(0,ti.default)("MuiPopover",["root","paper"]);let rU=["onEntering"],rj=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],r$=["slotProps"];function rK(e,t){let i=0;return"number"==typeof t?i=t:"center"===t?i=e.height/2:"bottom"===t&&(i=e.height),i}function rY(e,t){let i=0;return"number"==typeof t?i=t:"center"===t?i=e.width/2:"right"===t&&(i=e.width),i}function rq(e){return[e.horizontal,e.vertical].map(e=>"number"==typeof e?`${e}px`:e).join(" ")}function rX(e){return"function"==typeof e?e():e}let rZ=(0,rt.default)(rz,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),rQ=(0,rt.default)(tm,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),rJ=eV.forwardRef(function(e,t){var i,r,n;let o=(0,ej.useDefaultProps)({props:e,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:c,container:p,elevation:g=8,marginThreshold:f=16,open:m,PaperProps:v={},slots:y,slotProps:C,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:b=rd,transitionDuration:S="auto",TransitionProps:{onEntering:x}={},disableScrollLock:_=!1}=o,E=(0,eH.default)(o.TransitionProps,rU),T=(0,eH.default)(o,rj),M=null!=(i=null==C?void 0:C.paper)?i:v,R=eV.useRef(),D=(0,rn.default)(R,M.ref),A=(0,eB.default)({},o,{anchorOrigin:l,anchorReference:d,elevation:g,marginThreshold:f,externalPaperSlotProps:M,transformOrigin:w,TransitionComponent:b,transitionDuration:S,TransitionProps:E}),I=(e=>{let{classes:t}=e;return(0,eW.default)({root:["root"],paper:["paper"]},rW,t)})(A),P=eV.useCallback(()=>{if("anchorPosition"===d)return u;let e=rX(a),t=(e&&1===e.nodeType?e:(0,iY.default)(R.current).body).getBoundingClientRect();return{top:t.top+rK(t,l.vertical),left:t.left+rY(t,l.horizontal)}},[a,l.horizontal,l.vertical,u,d]),L=eV.useCallback(e=>({vertical:rK(e,w.vertical),horizontal:rY(e,w.horizontal)}),[w.horizontal,w.vertical]),k=eV.useCallback(e=>{let t={width:e.offsetWidth,height:e.offsetHeight},i=L(t);if("none"===d)return{top:null,left:null,transformOrigin:rq(i)};let r=P(),n=r.top-i.vertical,o=r.left-i.horizontal,s=n+t.height,l=o+t.width,u=(0,rr.default)(rX(a)),h=u.innerHeight-f,c=u.innerWidth-f;if(null!==f&&n<f){let e=n-f;n-=e,i.vertical+=e}else if(null!==f&&s>h){let e=s-h;n-=e,i.vertical+=e}if(null!==f&&o<f){let e=o-f;o-=e,i.horizontal+=e}else if(l>c){let e=l-c;o-=e,i.horizontal+=e}return{top:`${Math.round(n)}px`,left:`${Math.round(o)}px`,transformOrigin:rq(i)}},[a,d,P,L,f]),[N,F]=eV.useState(m),O=eV.useCallback(()=>{let e=R.current;if(!e)return;let t=k(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,F(!0)},[k]);eV.useEffect(()=>(_&&window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[a,_,O]),eV.useEffect(()=>{m&&O()}),eV.useImperativeHandle(s,()=>m?{updatePosition:()=>{O()}}:null,[m,O]),eV.useEffect(()=>{if(!m)return;let e=(0,ri.default)(()=>{O()}),t=(0,rr.default)(a);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[a,m,O]);let G=S;"auto"!==S||b.muiSupportAuto||(G=void 0);let V=p||(a?(0,iY.default)(rX(a)).body:void 0),B=null!=(r=null==y?void 0:y.root)?r:rZ,H=null!=(n=null==y?void 0:y.paper)?n:rQ,z=iZ({elementType:H,externalSlotProps:(0,eB.default)({},M,{style:N?M.style:(0,eB.default)({},M.style,{opacity:0})}),additionalProps:{elevation:g,ref:D},ownerState:A,className:(0,ez.default)(I.paper,null==M?void 0:M.className)}),W=iZ({elementType:B,externalSlotProps:(null==C?void 0:C.root)||{},externalForwardedProps:T,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:V,open:m},ownerState:A,className:(0,ez.default)(I.root,c)}),{slotProps:U}=W,j=(0,eH.default)(W,r$);return(0,eG.jsx)(B,(0,eB.default)({},j,!tw(B)&&{slotProps:U,disableScrollLock:_},{children:(0,eG.jsx)(b,(0,eB.default)({appear:!0,in:m,onEntering:(e,t)=>{x&&x(e,t),O()},onExited:()=>{F(!1)},timeout:G},E,{children:(0,eG.jsx)(H,(0,eB.default)({},z,{children:h}))}))}))});var r0=eU,ix=ix;function r1(e){return(0,tr.default)("MuiMenu",e)}(0,ti.default)("MuiMenu",["root","paper","list"]);let r2=["onEntering"],r5=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],r3={vertical:"top",horizontal:"right"},r4={vertical:"top",horizontal:"left"},r6=(0,r0.default)(rJ,{shouldForwardProp:e=>(0,ix.default)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),r8=(0,r0.default)(rQ,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),r9=(0,r0.default)(re,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),r7=eV.forwardRef(function(e,t){var i,r;let n=(0,ej.useDefaultProps)({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:s,className:a,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:c={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:f}={},variant:m="selectedMenu",slots:v={},slotProps:y={}}=n,C=(0,eH.default)(n.TransitionProps,r2),w=(0,eH.default)(n,r5),b=(0,iq.useRtl)(),S=(0,eB.default)({},n,{autoFocus:o,disableAutoFocusItem:l,MenuListProps:u,onEntering:f,PaperProps:c,transitionDuration:g,TransitionProps:C,variant:m}),x=(e=>{let{classes:t}=e;return(0,eW.default)({root:["root"],paper:["paper"],list:["list"]},r1,t)})(S),_=o&&!l&&h,E=eV.useRef(null),T=-1;eV.Children.map(s,(e,t)=>{eV.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected?T=t:-1===T&&(T=t)))});let M=null!=(i=v.paper)?i:r8,R=null!=(r=y.paper)?r:c,D=iZ({elementType:v.root,externalSlotProps:y.root,ownerState:S,className:[x.root,a]}),A=iZ({elementType:M,externalSlotProps:R,ownerState:S,className:x.paper});return(0,eG.jsx)(r6,(0,eB.default)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?r3:r4,slots:{paper:M,root:v.root},slotProps:{root:D,paper:A},open:h,ref:t,transitionDuration:g,TransitionProps:(0,eB.default)({onEntering:(e,t)=>{E.current&&E.current.adjustStyleForScrollbar(e,{direction:b?"rtl":"ltr"}),f&&f(e,t)}},C),ownerState:S},w,{classes:p,children:(0,eG.jsx)(r9,(0,eB.default)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:E,autoFocus:o&&(-1===T||l),autoFocusItem:_,variant:m},u,{className:(0,ez.default)(x.list,u.className),children:s}))}))});function ne(e){return(0,tr.default)("MuiNativeSelect",e)}let nt=(0,ti.default)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var ni=eU,ix=ix;let nr=["className","disabled","error","IconComponent","inputRef","variant"],nn=({ownerState:e,theme:t})=>(0,eB.default)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,eB.default)({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nt.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),no=(0,ni.default)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ix.default,overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.select,t[i.variant],i.error&&t.error,{[`&.${nt.multiple}`]:t.multiple}]}})(nn),ns=({ownerState:e,theme:t})=>(0,eB.default)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${nt.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7}),na=(0,ni.default)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.icon,i.variant&&t[`icon${(0,ig.default)(i.variant)}`],i.open&&t.iconOpen]}})(ns),nl=eV.forwardRef(function(e,t){let{className:i,disabled:r,error:n,IconComponent:o,inputRef:s,variant:a="standard"}=e,l=(0,eH.default)(e,nr),u=(0,eB.default)({},e,{disabled:r,variant:a,error:n}),d=(e=>{let{classes:t,variant:i,disabled:r,multiple:n,open:o,error:s}=e,a={select:["select",i,r&&"disabled",n&&"multiple",s&&"error"],icon:["icon",`icon${(0,ig.default)(i)}`,o&&"iconOpen",r&&"disabled"]};return(0,eW.default)(a,ne,t)})(u);return(0,eG.jsxs)(eV.Fragment,{children:[(0,eG.jsx)(no,(0,eB.default)({ownerState:u,className:(0,ez.default)(d.select,i),disabled:r,ref:s||t},l)),e.multiple?null:(0,eG.jsx)(na,{as:o,ownerState:u,className:d.icon})]})});var nu=eU,nd=e.i(72682),nd=nd,nh=tt;function nc(e){return(0,tr.default)("MuiSelect",e)}let np=(0,ti.default)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ng=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],nf=(0,nu.default)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[{[`&.${np.select}`]:t.select},{[`&.${np.select}`]:t[i.variant]},{[`&.${np.error}`]:t.error},{[`&.${np.multiple}`]:t.multiple}]}})(nn,{[`&.${np.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),nm=(0,nu.default)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.icon,i.variant&&t[`icon${(0,ig.default)(i.variant)}`],i.open&&t.iconOpen]}})(ns),nv=(0,nu.default)("input",{shouldForwardProp:e=>(0,nd.default)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ny(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}let nC=eV.forwardRef(function(e,t){var i,r;let n,o,{"aria-describedby":s,"aria-label":a,autoFocus:l,autoWidth:u,children:d,className:h,defaultOpen:c,defaultValue:p,disabled:g,displayEmpty:f,error:m=!1,IconComponent:v,inputRef:y,labelId:C,MenuProps:w={},multiple:b,name:S,onBlur:x,onChange:_,onClose:E,onFocus:T,onOpen:M,open:R,readOnly:D,renderValue:A,SelectDisplayProps:I={},tabIndex:P,value:L,variant:k="standard"}=e,N=(0,eH.default)(e,ng),[F,O]=(0,ty.default)({controlled:L,default:p,name:"Select"}),[G,V]=(0,ty.default)({controlled:R,default:c,name:"Select"}),B=eV.useRef(null),H=eV.useRef(null),[z,U]=eV.useState(null),{current:j}=eV.useRef(null!=R),[$,K]=eV.useState(),Y=(0,nh.default)(t,y),q=eV.useCallback(e=>{H.current=e,e&&U(e)},[]),X=null==z?void 0:z.parentNode;eV.useImperativeHandle(Y,()=>({focus:()=>{H.current.focus()},node:B.current,value:F}),[F]),eV.useEffect(()=>{c&&G&&z&&!j&&(K(u?null:X.clientWidth),H.current.focus())},[z,u]),eV.useEffect(()=>{l&&H.current.focus()},[l]),eV.useEffect(()=>{if(!C)return;let e=(0,iY.default)(H.current).getElementById(C);if(e){let t=()=>{getSelection().isCollapsed&&H.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[C]);let Z=(e,t)=>{e?M&&M(t):E&&E(t),j||(K(u?null:X.clientWidth),V(e))},Q=eV.Children.toArray(d),J=null!==z&&G;delete N["aria-invalid"];let ee=[],et=!1;(iO({value:F})||f)&&(A?n=A(F):et=!0);let ei=Q.map(e=>{let t;if(!eV.isValidElement(e))return null;if(b){if(!Array.isArray(F))throw Error((0,i$.default)(2));(t=F.some(t=>ny(t,e.props.value)))&&et&&ee.push(e.props.children)}else(t=ny(F,e.props.value))&&et&&(o=e.props.children);return eV.cloneElement(e,{"aria-selected":t?"true":"false",onClick:t=>{let i;if(t.currentTarget.hasAttribute("tabindex")){if(b){i=Array.isArray(F)?F.slice():[];let t=F.indexOf(e.props.value);-1===t?i.push(e.props.value):i.splice(t,1)}else i=e.props.value;if(e.props.onClick&&e.props.onClick(t),F!==i&&(O(i),_)){let r=t.nativeEvent||t,n=new r.constructor(r.type,r);Object.defineProperty(n,"target",{writable:!0,value:{value:i,name:S}}),_(n,e)}b||Z(!1,t)}},onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})});et&&(n=b?0===ee.length?null:ee.reduce((e,t,i)=>(e.push(t),i<ee.length-1&&e.push(", "),e),[]):o);let er=$;!u&&j&&z&&(er=X.clientWidth);let en=I.id||(S?`mui-component-select-${S}`:void 0),eo=(0,eB.default)({},e,{variant:k,value:F,open:J,error:m}),es=(e=>{let{classes:t,variant:i,disabled:r,multiple:n,open:o,error:s}=e,a={select:["select",i,r&&"disabled",n&&"multiple",s&&"error"],icon:["icon",`icon${(0,ig.default)(i)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,eW.default)(a,nc,t)})(eo),ea=(0,eB.default)({},w.PaperProps,null==(i=w.slotProps)?void 0:i.paper),el=(0,iK.default)();return(0,eG.jsxs)(eV.Fragment,{children:[(0,eG.jsx)(nf,(0,eB.default)({ref:q,tabIndex:void 0!==P?P:g?null:0,role:"combobox","aria-controls":el,"aria-disabled":g?"true":void 0,"aria-expanded":J?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[C,en].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:e=>{D||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Z(!0,e))},onMouseDown:g||D?null:e=>{0===e.button&&(e.preventDefault(),H.current.focus(),Z(!0,e))},onBlur:e=>{!J&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:F,name:S}}),x(e))},onFocus:T},I,{ownerState:eo,className:(0,ez.default)(I.className,es.select,h),id:en,children:null!=(r=n)&&("string"!=typeof r||r.trim())?n:W||(W=(0,eG.jsx)("span",{className:"notranslate",children:"â€‹"}))})),(0,eG.jsx)(nv,(0,eB.default)({"aria-invalid":m,value:Array.isArray(F)?F.join(","):F,name:S,ref:B,"aria-hidden":!0,onChange:e=>{let t=Q.find(t=>t.props.value===e.target.value);void 0!==t&&(O(t.props.value),_&&_(e,t))},tabIndex:-1,disabled:g,className:es.nativeInput,autoFocus:l,ownerState:eo},N)),(0,eG.jsx)(nm,{as:v,className:es.icon,ownerState:eo}),(0,eG.jsx)(r7,(0,eB.default)({id:`menu-${S||""}`,anchorEl:X,open:J,onClose:e=>{Z(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:(0,eB.default)({"aria-labelledby":C,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:el},w.MenuListProps),slotProps:(0,eB.default)({},w.slotProps,{paper:(0,eB.default)({},ea,{style:(0,eB.default)({minWidth:er},null!=ea?ea.style:null)})}),children:ei}))]})});function nw({props:e,states:t,muiFormControl:i}){return t.reduce((t,r)=>(t[r]=e[r],i&&void 0===e[r]&&(t[r]=i[r]),t),{})}function nb(){return eV.useContext(iV)}var nS=e.i(59173);let nx=(0,nS.default)((0,eG.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var n_=e.i(21063),n_=n_,rh=tC,rm=rm,rD=rD,rI=rI;let nE=["onChange","maxRows","minRows","style","value"];function nT(e){return parseInt(e,10)||0}let nM={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function nR(e){return function(e){for(let t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}let nD=eV.forwardRef(function(e,t){let{onChange:i,maxRows:r,minRows:n=1,style:o,value:s}=e,a=(0,eH.default)(e,nE),{current:l}=eV.useRef(null!=s),u=eV.useRef(null),d=(0,rh.default)(t,u),h=eV.useRef(null),c=eV.useRef(null),p=eV.useCallback(()=>{let t=u.current,i=c.current;if(!t||!i)return;let o=(0,rI.default)(t).getComputedStyle(t);if("0px"===o.width)return{outerHeightStyle:0,overflowing:!1};i.style.width=o.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");let s=o.boxSizing,a=nT(o.paddingBottom)+nT(o.paddingTop),l=nT(o.borderBottomWidth)+nT(o.borderTopWidth),d=i.scrollHeight;i.value="x";let h=i.scrollHeight,p=d;return n&&(p=Math.max(Number(n)*h,p)),r&&(p=Math.min(Number(r)*h,p)),{outerHeightStyle:(p=Math.max(p,h))+("border-box"===s?a+l:0),overflowing:1>=Math.abs(p-d)}},[r,n,e.placeholder]),g=(0,rD.default)(()=>{let e=u.current,t=p();if(!e||!t||nR(t))return!1;let i=t.outerHeightStyle;return null!=h.current&&h.current!==i}),f=eV.useCallback(()=>{let e=u.current,t=p();if(!e||!t||nR(t))return;let i=t.outerHeightStyle;h.current!==i&&(h.current=i,e.style.height=`${i}px`),e.style.overflow=t.overflowing?"hidden":""},[p]),m=eV.useRef(-1);return(0,rm.default)(()=>{let e,t=(0,n_.default)(f),i=null==u?void 0:u.current;if(!i)return;let r=(0,rI.default)(i);return r.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(()=>{g()&&(e.unobserve(i),cancelAnimationFrame(m.current),f(),m.current=requestAnimationFrame(()=>{e.observe(i)}))})).observe(i),()=>{t.clear(),cancelAnimationFrame(m.current),r.removeEventListener("resize",t),e&&e.disconnect()}},[p,f,g]),(0,rm.default)(()=>{f()}),(0,eG.jsxs)(eV.Fragment,{children:[(0,eG.jsx)("textarea",(0,eB.default)({value:s,onChange:e=>{l||f(),i&&i(e)},ref:d,rows:n,style:o},a)),(0,eG.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:c,tabIndex:-1,style:(0,eB.default)({},nM,o,{paddingTop:0,paddingBottom:0})})]})});var nA=eU,nI=tt,nP=e.i(42944);function nL(e){return(0,tr.default)("MuiInputBase",e)}let nk=(0,ti.default)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),nN=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],nF=(e,t)=>{let{ownerState:i}=e;return[t.root,i.formControl&&t.formControl,i.startAdornment&&t.adornedStart,i.endAdornment&&t.adornedEnd,i.error&&t.error,"small"===i.size&&t.sizeSmall,i.multiline&&t.multiline,i.color&&t[`color${(0,ig.default)(i.color)}`],i.fullWidth&&t.fullWidth,i.hiddenLabel&&t.hiddenLabel]},nO=(e,t)=>{let{ownerState:i}=e;return[t.input,"small"===i.size&&t.inputSizeSmall,i.multiline&&t.inputMultiline,"search"===i.type&&t.inputTypeSearch,i.startAdornment&&t.inputAdornedStart,i.endAdornment&&t.inputAdornedEnd,i.hiddenLabel&&t.inputHiddenLabel]},nG=(0,nA.default)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:nF})(({theme:e,ownerState:t})=>(0,eB.default)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${nk.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&(0,eB.default)({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),nV=(0,nA.default)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:nO})(({theme:e,ownerState:t})=>{let i="light"===e.palette.mode,r=(0,eB.default)({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),n={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,eB.default)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${nk.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${nk.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})}),nB=(0,eG.jsx)(nP.default,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),nH=eV.forwardRef(function(e,t){var i;let r=(0,ej.useDefaultProps)({props:e,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:o,autoFocus:s,className:a,components:l={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:c,endAdornment:p,fullWidth:g=!1,id:f,inputComponent:m="input",inputProps:v={},inputRef:y,maxRows:C,minRows:w,multiline:b=!1,name:S,onBlur:x,onChange:_,onClick:E,onFocus:T,onKeyDown:M,onKeyUp:R,placeholder:D,readOnly:A,renderSuffix:I,rows:P,slotProps:L={},slots:k={},startAdornment:N,type:F="text",value:O}=r,G=(0,eH.default)(r,nN),V=null!=v.value?v.value:O,{current:B}=eV.useRef(null!=V),H=eV.useRef(),z=eV.useCallback(e=>{},[]),W=(0,nI.default)(H,y,v.ref,z),[U,j]=eV.useState(!1),$=nb(),K=nw({props:r,muiFormControl:$,states:["color","disabled","error","hiddenLabel","size","required","filled"]});K.focused=$?$.focused:U,eV.useEffect(()=>{!$&&h&&U&&(j(!1),x&&x())},[$,h,U,x]);let Y=$&&$.onFilled,q=$&&$.onEmpty,X=eV.useCallback(e=>{iO(e)?Y&&Y():q&&q()},[Y,q]);(0,iE.default)(()=>{B&&X({value:V})},[V,X,B]),eV.useEffect(()=>{X(H.current)},[]);let Z=m,Q=v;b&&"input"===Z&&(Q=P?(0,eB.default)({type:void 0,minRows:P,maxRows:P},Q):(0,eB.default)({type:void 0,maxRows:C,minRows:w},Q),Z=nD),eV.useEffect(()=>{$&&$.setAdornedStart(!!N)},[$,N]);let J=(0,eB.default)({},r,{color:K.color||"primary",disabled:K.disabled,endAdornment:p,error:K.error,focused:K.focused,formControl:$,fullWidth:g,hiddenLabel:K.hiddenLabel,multiline:b,size:K.size,startAdornment:N,type:F}),ee=(e=>{let{classes:t,color:i,disabled:r,error:n,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:d,readOnly:h,size:c,startAdornment:p,type:g}=e,f={root:["root",`color${(0,ig.default)(i)}`,r&&"disabled",n&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",c&&"medium"!==c&&`size${(0,ig.default)(c)}`,d&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled","search"===g&&"inputTypeSearch",d&&"inputMultiline","small"===c&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return(0,eW.default)(f,nL,t)})(J),et=k.root||l.Root||nG,ei=L.root||u.root||{},er=k.input||l.Input||nV;return Q=(0,eB.default)({},Q,null!=(i=L.input)?i:u.input),(0,eG.jsxs)(eV.Fragment,{children:[!c&&nB,(0,eG.jsxs)(et,(0,eB.default)({},ei,!tw(et)&&{ownerState:(0,eB.default)({},J,ei.ownerState)},{ref:t,onClick:e=>{H.current&&e.currentTarget===e.target&&H.current.focus(),E&&E(e)}},G,{className:(0,ez.default)(ee.root,ei.className,a,A&&"MuiInputBase-readOnly"),children:[N,(0,eG.jsx)(iV.Provider,{value:null,children:(0,eG.jsx)(er,(0,eB.default)({ownerState:J,"aria-invalid":K.error,"aria-describedby":n,autoComplete:o,autoFocus:s,defaultValue:d,disabled:K.disabled,id:f,onAnimationStart:e=>{X("mui-auto-fill-cancel"===e.animationName?H.current:{value:"x"})},name:S,placeholder:D,readOnly:A,required:K.required,rows:P,value:V,onKeyDown:M,onKeyUp:R,type:F},Q,!tw(er)&&{as:Z,ownerState:(0,eB.default)({},J,Q.ownerState)},{ref:W,className:(0,ez.default)(ee.input,Q.className,A&&"MuiInputBase-readOnly"),onBlur:e=>{x&&x(e),v.onBlur&&v.onBlur(e),$&&$.onBlur?$.onBlur(e):j(!1)},onChange:(e,...t)=>{if(!B){let t=e.target||H.current;if(null==t)throw Error((0,i$.default)(1));X({value:t.value})}v.onChange&&v.onChange(e,...t),_&&_(e,...t)},onFocus:e=>{K.disabled?e.stopPropagation():(T&&T(e),v.onFocus&&v.onFocus(e),$&&$.onFocus?$.onFocus(e):j(!0))}}))}),p,I?I((0,eB.default)({},K,{startAdornment:N})):null]}))]})});var nz=eU,ix=ix;function nW(e){return(0,tr.default)("MuiInput",e)}let nU=(0,eB.default)({},nk,(0,ti.default)("MuiInput",["root","underline","input"])),nj=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],n$=(0,nz.default)(nG,{shouldForwardProp:e=>(0,ix.default)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[...nF(e,t),!i.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let i="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(i=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),(0,eB.default)({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${nU.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${nU.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${nU.disabled}, .${nU.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${i}`}},[`&.${nU.disabled}:before`]:{borderBottomStyle:"dotted"}})}),nK=(0,nz.default)(nV,{name:"MuiInput",slot:"Input",overridesResolver:nO})({}),nY=eV.forwardRef(function(e,t){var i,r,n,o;let s=(0,ej.useDefaultProps)({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:c=!1,slotProps:p,slots:g={},type:f="text"}=s,m=(0,eH.default)(s,nj),v=(e=>{let{classes:t,disableUnderline:i}=e,r=(0,eW.default)({root:["root",!i&&"underline"],input:["input"]},nW,t);return(0,eB.default)({},t,r)})(s),y={root:{ownerState:{disableUnderline:a}}},C=(null!=p?p:u)?(0,iU.default)(null!=p?p:u,y):y,w=null!=(i=null!=(r=g.root)?r:l.Root)?i:n$,b=null!=(n=null!=(o=g.input)?o:l.Input)?n:nK;return(0,eG.jsx)(nH,(0,eB.default)({slots:{root:w,input:b},slotProps:C,fullWidth:d,inputComponent:h,multiline:c,ref:t,type:f},m,{classes:v}))});nY.muiName="Input";var nq=eU,ix=ix;function nX(e){return(0,tr.default)("MuiFilledInput",e)}let nZ=(0,eB.default)({},nk,(0,ti.default)("MuiFilledInput",["root","underline","input"])),nQ=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],nJ=(0,nq.default)(nG,{shouldForwardProp:e=>(0,ix.default)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[...nF(e,t),!i.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var i;let r="light"===e.palette.mode,n=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,eB.default)({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n}},[`&.${nZ.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n},[`&.${nZ.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(i=(e.vars||e).palette[t.color||"primary"])?void 0:i.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${nZ.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${nZ.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)"}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${nZ.disabled}, .${nZ.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${nZ.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&(0,eB.default)({padding:"25px 12px 8px"},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9}))}),n0=(0,nq.default)(nV,{name:"MuiFilledInput",slot:"Input",overridesResolver:nO})(({theme:e,ownerState:t})=>(0,eB.default)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),n1=eV.forwardRef(function(e,t){var i,r,n,o;let s=(0,ej.useDefaultProps)({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:c,slots:p={},type:g="text"}=s,f=(0,eH.default)(s,nQ),m=(0,eB.default)({},s,{fullWidth:u,inputComponent:d,multiline:h,type:g}),v=(e=>{let{classes:t,disableUnderline:i}=e,r=(0,eW.default)({root:["root",!i&&"underline"],input:["input"]},nX,t);return(0,eB.default)({},t,r)})(s),y={root:{ownerState:m},input:{ownerState:m}},C=(null!=c?c:l)?(0,iU.default)(y,null!=c?c:l):y,w=null!=(i=null!=(r=p.root)?r:a.Root)?i:nJ,b=null!=(n=null!=(o=p.input)?o:a.Input)?n:n0;return(0,eG.jsx)(nH,(0,eB.default)({slots:{root:w,input:b},componentsProps:C,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:g},f,{classes:v}))});n1.muiName="Input";var n2=eU,ix=ix;let n5=["children","classes","className","label","notched"],n3=(0,n2.default)("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:ix.default})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),n4=(0,n2.default)("legend",{name:"MuiNotchedOutlined",shouldForwardProp:ix.default})(({ownerState:e,theme:t})=>(0,eB.default)({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&(0,eB.default)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));var n6=eU,ix=ix;function n8(e){return(0,tr.default)("MuiOutlinedInput",e)}let n9=(0,eB.default)({},nk,(0,ti.default)("MuiOutlinedInput",["root","notchedOutline","input"])),n7=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],oe=(0,n6.default)(nG,{shouldForwardProp:e=>(0,ix.default)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:nF})(({theme:e,ownerState:t})=>{let i="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,eB.default)({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${n9.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${n9.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:i}},[`&.${n9.focused} .${n9.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${n9.error} .${n9.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${n9.disabled} .${n9.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&(0,eB.default)({padding:"16.5px 14px"},"small"===t.size&&{padding:"8.5px 14px"}))}),ot=(0,n6.default)(function(e){let{className:t,label:i,notched:r}=e,n=(0,eH.default)(e,n5),o=null!=i&&""!==i,s=(0,eB.default)({},e,{notched:r,withLabel:o});return(0,eG.jsx)(n3,(0,eB.default)({"aria-hidden":!0,className:t,ownerState:s},n,{children:(0,eG.jsx)(n4,{ownerState:s,children:o?(0,eG.jsx)("span",{children:i}):U||(U=(0,eG.jsx)("span",{className:"notranslate",children:"â€‹"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),oi=(0,n6.default)(nV,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:nO})(({theme:e,ownerState:t})=>(0,eB.default)({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),or=eV.forwardRef(function(e,t){var i,r,n,o,s;let a=(0,ej.useDefaultProps)({props:e,name:"MuiOutlinedInput"}),{components:l={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:c=!1,notched:p,slots:g={},type:f="text"}=a,m=(0,eH.default)(a,n7),v=(e=>{let{classes:t}=e,i=(0,eW.default)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},n8,t);return(0,eB.default)({},t,i)})(a),y=nb(),C=nw({props:a,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=(0,eB.default)({},a,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:y,fullWidth:u,hiddenLabel:C.hiddenLabel,multiline:c,size:C.size,type:f}),b=null!=(i=null!=(r=g.root)?r:l.Root)?i:oe,S=null!=(n=null!=(o=g.input)?o:l.Input)?n:oi;return(0,eG.jsx)(nH,(0,eB.default)({slots:{root:b,input:S},renderSuffix:e=>(0,eG.jsx)(ot,{ownerState:w,className:v.notchedOutline,label:null!=h&&""!==h&&C.required?s||(s=(0,eG.jsxs)(eV.Fragment,{children:[h,"â€‰","*"]})):h,notched:void 0!==p?p:!!(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:c,ref:t,type:f},m,{classes:(0,eB.default)({},v,{notchedOutline:null})}))});or.muiName="Input";var on=tt,oo=eU,ix=ix;let os=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],oa=["root"],ol={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,ix.default)(e)&&"variant"!==e,slot:"Root"},ou=(0,oo.default)(nY,ol)(""),od=(0,oo.default)(or,ol)(""),oh=(0,oo.default)(n1,ol)(""),oc=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:n,classes:o={},className:s,defaultOpen:a=!1,displayEmpty:l=!1,IconComponent:u=nx,id:d,input:h,inputProps:c,label:p,labelId:g,MenuProps:f,multiple:m=!1,native:v=!1,onClose:y,onOpen:C,open:w,renderValue:b,SelectDisplayProps:S,variant:x="outlined"}=i,_=(0,eH.default)(i,os),E=nw({props:i,muiFormControl:nb(),states:["variant","error"]}),T=E.variant||x,M=(0,eB.default)({},i,{variant:T,classes:o}),R=(e=>{let{classes:t}=e;return t})(M),D=(0,eH.default)(R,oa),A=h||({standard:(0,eG.jsx)(ou,{ownerState:M}),outlined:(0,eG.jsx)(od,{label:p,ownerState:M}),filled:(0,eG.jsx)(oh,{ownerState:M})})[T],I=(0,on.default)(t,ij(A));return(0,eG.jsx)(eV.Fragment,{children:eV.cloneElement(A,(0,eB.default)({inputComponent:v?nl:nC,inputProps:(0,eB.default)({children:n,error:E.error,IconComponent:u,variant:T,type:void 0,multiple:m},v?{id:d}:{autoWidth:r,defaultOpen:a,displayEmpty:l,labelId:g,MenuProps:f,onClose:y,onOpen:C,open:w,renderValue:b,SelectDisplayProps:(0,eB.default)({id:d},S)},c,{classes:c?(0,iU.default)(D,c.classes):D},h?h.props.inputProps:{})},(m&&v||l)&&"outlined"===T?{notched:!0}:{},{ref:I,className:(0,ez.default)(A.props.className,s,R.root)},!h&&{variant:T},_))})});oc.muiName="Select";var op=e.i(12678),og=eU,ix=ix;function of(e){return(0,tr.default)("MuiButton",e)}let om=(0,ti.default)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),ov=eV.createContext({}),oy=eV.createContext(void 0),oC=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ow=e=>(0,eB.default)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),ob=(0,og.default)(ir,{shouldForwardProp:e=>(0,ix.default)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[i.variant],t[`${i.variant}${(0,ig.default)(i.color)}`],t[`size${(0,ig.default)(i.size)}`],t[`${i.variant}Size${(0,ig.default)(i.size)}`],"inherit"===i.color&&t.colorInherit,i.disableElevation&&t.disableElevation,i.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var i,r;let n="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],o="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return(0,eB.default)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,eB.default)({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,td.alpha)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,td.alpha)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,td.alpha)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":(0,eB.default)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${om.focusVisible}`]:(0,eB.default)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${om.disabled}`]:(0,eB.default)({color:(e.vars||e).palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"contained"===t.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${(0,td.alpha)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.vars?e.vars.palette.text.primary:null==(i=(r=e.palette).getContrastText)?void 0:i.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:n,boxShadow:(e.vars||e).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${om.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${om.disabled}`]:{boxShadow:"none"}}),oS=(0,og.default)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.startIcon,t[`iconSize${(0,ig.default)(i.size)}`]]}})(({ownerState:e})=>(0,eB.default)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},ow(e))),ox=(0,og.default)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.endIcon,t[`iconSize${(0,ig.default)(i.size)}`]]}})(({ownerState:e})=>(0,eB.default)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},ow(e))),o_=eV.forwardRef(function(e,t){let i=eV.useContext(ov),r=eV.useContext(oy),n=(0,op.default)(i,e),o=(0,ej.useDefaultProps)({props:n,name:"MuiButton"}),{children:s,color:a="primary",component:l="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:c=!1,endIcon:p,focusVisibleClassName:g,fullWidth:f=!1,size:m="medium",startIcon:v,type:y,variant:C="text"}=o,w=(0,eH.default)(o,oC),b=(0,eB.default)({},o,{color:a,component:l,disabled:d,disableElevation:h,disableFocusRipple:c,fullWidth:f,size:m,type:y,variant:C}),S=(e=>{let{color:t,disableElevation:i,fullWidth:r,size:n,variant:o,classes:s}=e,a={root:["root",o,`${o}${(0,ig.default)(t)}`,`size${(0,ig.default)(n)}`,`${o}Size${(0,ig.default)(n)}`,`color${(0,ig.default)(t)}`,i&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,ig.default)(n)}`],endIcon:["icon","endIcon",`iconSize${(0,ig.default)(n)}`]},l=(0,eW.default)(a,of,s);return(0,eB.default)({},s,l)})(b),x=v&&(0,eG.jsx)(oS,{className:S.startIcon,ownerState:b,children:v}),_=p&&(0,eG.jsx)(ox,{className:S.endIcon,ownerState:b,children:p});return(0,eG.jsxs)(ob,(0,eB.default)({ownerState:b,className:(0,ez.default)(i.className,S.root,u,r||""),component:l,disabled:d,focusRipple:!c,focusVisibleClassName:(0,ez.default)(S.focusVisible,g),ref:t,type:y},w,{classes:S,children:[x,s,_]}))});var oE=e.i(26159),ic=ic,oT=eU;let oM=eV.createContext();function oR(e){return(0,tr.default)("MuiGrid",e)}let oD=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],oA=(0,ti.default)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>`spacing-xs-${e}`),...["column-reverse","column","row-reverse","row"].map(e=>`direction-xs-${e}`),...["nowrap","wrap-reverse","wrap"].map(e=>`wrap-xs-${e}`),...oD.map(e=>`grid-xs-${e}`),...oD.map(e=>`grid-sm-${e}`),...oD.map(e=>`grid-md-${e}`),...oD.map(e=>`grid-lg-${e}`),...oD.map(e=>`grid-xl-${e}`)]),oI=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function oP(e){let t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function oL({breakpoints:e,values:t}){let i="";Object.keys(t).forEach(e=>{""===i&&0!==t[e]&&(i=e)});let r=Object.keys(e).sort((t,i)=>e[t]-e[i]);return r.slice(0,r.indexOf(i))}let ok=(0,oT.default)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e,{container:r,direction:n,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:u}=i,d=[];r&&(d=function(e,t,i={}){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[i[`spacing-xs-${String(e)}`]];let r=[];return t.forEach(t=>{let n=e[t];Number(n)>0&&r.push(i[`spacing-${t}-${String(n)}`])}),r}(s,u,t));let h=[];return u.forEach(e=>{let r=i[e];r&&h.push(t[`grid-${e}-${String(r)}`])}),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...d,"row"!==n&&t[`direction-xs-${String(n)}`],"wrap"!==a&&t[`wrap-xs-${String(a)}`],...h]}})(({ownerState:e})=>(0,eB.default)({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"wrap"!==e.wrap&&{flexWrap:e.wrap}),function({theme:e,ownerState:t}){let i=(0,oE.resolveBreakpointValues)({values:t.direction,breakpoints:e.breakpoints.values});return(0,oE.handleBreakpoints)({theme:e},i,e=>{let t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${oA.item}`]={maxWidth:"none"}),t})},function({theme:e,ownerState:t}){let{container:i,rowSpacing:r}=t,n={};if(i&&0!==r){let t,i=(0,oE.resolveBreakpointValues)({values:r,breakpoints:e.breakpoints.values});"object"==typeof i&&(t=oL({breakpoints:e.breakpoints.values,values:i})),n=(0,oE.handleBreakpoints)({theme:e},i,(i,r)=>{var n;let o=e.spacing(i);return"0px"!==o?{marginTop:`-${oP(o)}`,[`& > .${oA.item}`]:{paddingTop:oP(o)}}:null!=(n=t)&&n.includes(r)?{}:{marginTop:0,[`& > .${oA.item}`]:{paddingTop:0}}})}return n},function({theme:e,ownerState:t}){let{container:i,columnSpacing:r}=t,n={};if(i&&0!==r){let t,i=(0,oE.resolveBreakpointValues)({values:r,breakpoints:e.breakpoints.values});"object"==typeof i&&(t=oL({breakpoints:e.breakpoints.values,values:i})),n=(0,oE.handleBreakpoints)({theme:e},i,(i,r)=>{var n;let o=e.spacing(i);return"0px"!==o?{width:`calc(100% + ${oP(o)})`,marginLeft:`-${oP(o)}`,[`& > .${oA.item}`]:{paddingLeft:oP(o)}}:null!=(n=t)&&n.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${oA.item}`]:{paddingLeft:0}}})}return n},function({theme:e,ownerState:t}){let i;return e.breakpoints.keys.reduce((r,n)=>{let o={};if(t[n]&&(i=t[n]),!i)return r;if(!0===i)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===i)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{let s=(0,oE.resolveBreakpointValues)({values:t.columns,breakpoints:e.breakpoints.values}),a="object"==typeof s?s[n]:s;if(null==a)return r;let l=`${Math.round(i/a*1e8)/1e6}%`,u={};if(t.container&&t.item&&0!==t.columnSpacing){let i=e.spacing(t.columnSpacing);if("0px"!==i){let e=`calc(${l} + ${oP(i)})`;u={flexBasis:e,maxWidth:e}}}o=(0,eB.default)({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===e.breakpoints.values[n]?Object.assign(r,o):r[e.breakpoints.up(n)]=o,r},{})}),oN=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiGrid"}),{breakpoints:r}=te(),n=(0,ic.default)(i),{className:o,columns:s,columnSpacing:a,component:l="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:c,spacing:p=0,wrap:g="wrap",zeroMinWidth:f=!1}=n,m=(0,eH.default)(n,oI),v=c||p,y=a||p,C=eV.useContext(oM),w=u?s||12:C,b={},S=(0,eB.default)({},m);r.keys.forEach(e=>{null!=m[e]&&(b[e]=m[e],delete S[e])});let x=(0,eB.default)({},n,{columns:w,container:u,direction:d,item:h,rowSpacing:v,columnSpacing:y,wrap:g,zeroMinWidth:f,spacing:p},b,{breakpoints:r.keys}),_=(e=>{let{classes:t,container:i,direction:r,item:n,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e,u=[];i&&(u=function(e,t){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[`spacing-xs-${String(e)}`];let i=[];return t.forEach(t=>{let r=e[t];if(Number(r)>0){let e=`spacing-${t}-${String(r)}`;i.push(e)}}),i}(o,l));let d=[];l.forEach(t=>{let i=e[t];i&&d.push(`grid-${t}-${String(i)}`)});let h={root:["root",i&&"container",n&&"item",a&&"zeroMinWidth",...u,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==s&&`wrap-xs-${String(s)}`,...d]};return(0,eW.default)(h,oR,t)})(x);return(0,eG.jsx)(oM.Provider,{value:w,children:(0,eG.jsx)(ok,(0,eB.default)({ownerState:x,className:(0,ez.default)(_.root,o),as:l,ref:t},S))})});var eU=eU;function oF(e){return(0,tr.default)("MuiAlert",e)}let oO=(0,ti.default)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var oG=eU;function oV(e){return(0,tr.default)("MuiIconButton",e)}let oB=(0,ti.default)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),oH=["edge","children","className","color","disabled","disableFocusRipple","size"],oz=(0,oG.default)(ir,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,"default"!==i.color&&t[`color${(0,ig.default)(i.color)}`],i.edge&&t[`edge${(0,ig.default)(i.edge)}`],t[`size${(0,ig.default)(i.size)}`]]}})(({theme:e,ownerState:t})=>(0,eB.default)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,td.alpha)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12}),({theme:e,ownerState:t})=>{var i;let r=null==(i=(e.vars||e).palette)?void 0:i[t.color];return(0,eB.default)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,eB.default)({color:null==r?void 0:r.main},!t.disableRipple&&{"&:hover":(0,eB.default)({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,td.alpha)(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${oB.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),oW=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:n,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:u="medium"}=i,d=(0,eH.default)(i,oH),h=(0,eB.default)({},i,{edge:r,color:s,disabled:a,disableFocusRipple:l,size:u}),c=(e=>{let{classes:t,disabled:i,color:r,edge:n,size:o}=e,s={root:["root",i&&"disabled","default"!==r&&`color${(0,ig.default)(r)}`,n&&`edge${(0,ig.default)(n)}`,`size${(0,ig.default)(o)}`]};return(0,eW.default)(s,oV,t)})(h);return(0,eG.jsx)(oz,(0,eB.default)({className:(0,ez.default)(c.root,o),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},d,{ownerState:h,children:n}))}),oU=(0,nS.default)((0,eG.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),oj=(0,nS.default)((0,eG.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),o$=(0,nS.default)((0,eG.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),oK=(0,nS.default)((0,eG.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),oY=(0,nS.default)((0,eG.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),oq=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],oX=(0,eU.default)(tm,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[i.variant],t[`${i.variant}${(0,ig.default)(i.color||i.severity)}`]]}})(({theme:e})=>{let t="light"===e.palette.mode?td.darken:td.lighten,i="light"===e.palette.mode?td.lighten:td.darken;return(0,eB.default)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,e])=>e.main&&e.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:i(e.palette[r].light,.9),[`& .${oO.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,e])=>e.main&&e.light).map(([i])=>({props:{colorSeverity:i,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${i}Color`]:t(e.palette[i].light,.6),border:`1px solid ${(e.vars||e).palette[i].light}`,[`& .${oO.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:e.palette[i].main}}})),...Object.entries(e.palette).filter(([,e])=>e.main&&e.dark).map(([t])=>({props:{colorSeverity:t,variant:"filled"},style:(0,eB.default)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)})}))]})}),oZ=(0,eU.default)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),oQ=(0,eU.default)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),oJ=(0,eU.default)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),o0={success:(0,eG.jsx)(oU,{fontSize:"inherit"}),warning:(0,eG.jsx)(oj,{fontSize:"inherit"}),error:(0,eG.jsx)(o$,{fontSize:"inherit"}),info:(0,eG.jsx)(oK,{fontSize:"inherit"})},o1=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiAlert"}),{action:r,children:n,className:o,closeText:s="Close",color:a,components:l={},componentsProps:u={},icon:d,iconMapping:h=o0,onClose:c,role:p="alert",severity:g="success",slotProps:f={},slots:m={},variant:v="standard"}=i,y=(0,eH.default)(i,oq),C=(0,eB.default)({},i,{color:a,severity:g,variant:v,colorSeverity:a||g}),w=(e=>{let{variant:t,color:i,severity:r,classes:n}=e,o={root:["root",`color${(0,ig.default)(i||r)}`,`${t}${(0,ig.default)(i||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,eW.default)(o,oF,n)})(C),b={slots:(0,eB.default)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},m),slotProps:(0,eB.default)({},u,f)},[S,x]=tA("closeButton",{elementType:oW,externalForwardedProps:b,ownerState:C}),[_,E]=tA("closeIcon",{elementType:oY,externalForwardedProps:b,ownerState:C});return(0,eG.jsxs)(oX,(0,eB.default)({role:p,elevation:0,ownerState:C,className:(0,ez.default)(w.root,o),ref:t},y,{children:[!1!==d?(0,eG.jsx)(oZ,{ownerState:C,className:w.icon,children:d||h[g]||o0[g]}):null,(0,eG.jsx)(oQ,{ownerState:C,className:w.message,children:n}),null!=r?(0,eG.jsx)(oJ,{ownerState:C,className:w.action,children:r}):null,null==r&&c?(0,eG.jsx)(oJ,{ownerState:C,className:w.action,children:(0,eG.jsx)(S,(0,eB.default)({size:"small","aria-label":s,title:s,color:"inherit",onClick:c},x,{children:(0,eG.jsx)(_,(0,eB.default)({fontSize:"small"},E))}))}):null]}))}),o2=function(){for(var e,t,i=0,r="",n=arguments.length;i<n;i++)(e=arguments[i])&&(t=function e(t){var i,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(i=0;i<o;i++)t[i]&&(r=e(t[i]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}(e))&&(r&&(r+=" "),r+=t);return r};var o5=e.i(81851),o3=e.i(17028),ic=ic,o4=e8;let o6=["className","component"];var o8=e.i(36818),o9=e.i(91772);let o7=(0,ti.default)("MuiBox",["root"]),se=(0,o9.createTheme)(),st=function(e={}){let{themeId:t,defaultTheme:i,defaultClassName:r="MuiBox-root",generateClassName:n}=e,o=(0,o5.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(o3.default);return eV.forwardRef(function(e,s){let a=(0,o4.default)(i),l=(0,ic.default)(e),{className:u,component:d="div"}=l,h=(0,eH.default)(l,o6);return(0,eG.jsx)(o,(0,eB.default)({as:d,ref:s,className:o2(u,n?n(r):r),theme:t&&a[t]||a},h))})}({themeId:e7.default,defaultTheme:se,defaultClassName:o7.root,generateClassName:o8.unstable_ClassNameGenerator.generate});var si=e.i(89501),sr=e.i(63371),sn=eU;function so(e){return(0,tr.default)("MuiAppBar",e)}(0,ti.default)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);let ss=["className","color","enableColorOnDark","position"],sa=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,sl=(0,sn.default)(tm,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[`position${(0,ig.default)(i.position)}`],t[`color${(0,ig.default)(i.color)}`]]}})(({theme:e,ownerState:t})=>{let i="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,eB.default)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},!e.vars&&(0,eB.default)({},"default"===t.color&&{backgroundColor:i,color:e.palette.getContrastText(i)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,eB.default)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"})),e.vars&&(0,eB.default)({},"default"===t.color&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:sa(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:sa(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:sa(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:sa(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===t.color?"inherit":"var(--AppBar-color)"},"transparent"===t.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),su=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiAppBar"}),{className:r,color:n="primary",enableColorOnDark:o=!1,position:s="fixed"}=i,a=(0,eH.default)(i,ss),l=(0,eB.default)({},i,{color:n,position:s,enableColorOnDark:o}),u=(e=>{let{color:t,position:i,classes:r}=e,n={root:["root",`color${(0,ig.default)(t)}`,`position${(0,ig.default)(i)}`]};return(0,eW.default)(n,so,r)})(l);return(0,eG.jsx)(sl,(0,eB.default)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,ez.default)(u.root,r,"fixed"===s&&"mui-fixed"),ref:t},a))});var sd=eU;function sh(e){return(0,tr.default)("MuiToolbar",e)}(0,ti.default)("MuiToolbar",["root","gutters","regular","dense"]);let sc=["className","component","disableGutters","variant"],sp=(0,sd.default)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,!i.disableGutters&&t.gutters,t[i.variant]]}})(({theme:e,ownerState:t})=>(0,eB.default)({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48}),({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar),sg=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiToolbar"}),{className:r,component:n="div",disableGutters:o=!1,variant:s="regular"}=i,a=(0,eH.default)(i,sc),l=(0,eB.default)({},i,{component:n,disableGutters:o,variant:s}),u=(e=>{let{classes:t,disableGutters:i,variant:r}=e;return(0,eW.default)({root:["root",!i&&"gutters",r]},sh,t)})(l);return(0,eG.jsx)(sp,(0,eB.default)({as:n,className:(0,ez.default)(u.root,r),ref:t,ownerState:l},a))});var sf=e.i(13635);function sm(e,t){return e=function e(t){let i;if(t.type)return t;if("#"===t.charAt(0)){var r;let i,n;return e((r=(r=t).slice(1),i=RegExp(`.{1,${r.length>=6?2:1}}`,"g"),(n=r.match(i))&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""))}let n=t.indexOf("("),o=t.substring(0,n);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(o))throw Error((0,i$.default)(9,t));let s=t.substring(n+1,t.length-1);if("color"===o){if(i=(s=s.split(" ")).shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw Error((0,i$.default)(10,i))}else s=s.split(",");return{type:o,values:s=s.map(e=>parseFloat(e)),colorSpace:i}}(e),t=function(e,t=0,i=1){return(0,sf.default)(e,t,i)}(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,function(e){let{type:t,colorSpace:i}=e,{values:r}=e;return -1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${i} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}(e)}var eU=eU,sv=e.i(20415),sy=e.i(71481);let sC=(0,eU.default)(su)(({theme:e})=>({background:"rgba(15, 23, 42, 0.8)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"none",position:"sticky",top:0,zIndex:1100})),sw=(0,eU.default)("div")(({theme:e})=>({position:"relative",borderRadius:"30px",backgroundColor:sm(e.palette.common.white,.05),border:"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{backgroundColor:sm(e.palette.common.white,.08),borderColor:"rgba(99, 102, 241, 0.5)"},"&:focus-within":{backgroundColor:sm(e.palette.common.white,.1),borderColor:"#6366f1",boxShadow:"0 0 0 4px rgba(99, 102, 241, 0.2)"},marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}})),sb=(0,eU.default)("div")(({theme:e})=>({padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8"})),sS=(0,eU.default)(nH)(({theme:e})=>({color:"#f8fafc","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),paddingLeft:`calc(1em + ${e.spacing(4)})`,transition:"width 0.3s ease",width:"100%",fontSize:"0.9rem",[e.breakpoints.up("sm")]:{width:"15ch","&:focus":{width:"25ch"}}}})),sx=()=>{let{ticker:e,setTicker:t}=(0,sr.useAppContext)(),[i,r]=(0,eV.useState)(e);return eV.default.useEffect(()=>{r(e)},[e]),(0,eG.jsx)(sC,{position:"sticky",children:(0,eG.jsxs)(sg,{sx:{justifyContent:"space-between"},children:[(0,eG.jsxs)(st,{sx:{display:"flex",alignItems:"center"},children:[(0,eG.jsx)(oW,{size:"large",edge:"start",color:"inherit","aria-label":"logo",sx:{mr:2,color:"#6366f1",background:"rgba(99, 102, 241, 0.1)",borderRadius:"12px","&:hover":{background:"rgba(99, 102, 241, 0.2)"}},href:"/",children:(0,eG.jsx)(sy.default,{})}),(0,eG.jsxs)(ib,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{display:{xs:"none",sm:"block"},color:"#f8fafc",textDecoration:"none",fontWeight:800,letterSpacing:"-0.02em",fontSize:"1.4rem"},children:["ARK ",(0,eG.jsx)("span",{style:{color:"#6366f1"},children:"FUNDS"})," MONITOR"]})]}),(0,eG.jsx)("form",{onSubmit:e=>{e.preventDefault(),t(i.trim().toUpperCase())},children:(0,eG.jsxs)(sw,{children:[(0,eG.jsx)(sb,{children:(0,eG.jsx)(sv.default,{})}),(0,eG.jsx)(sS,{placeholder:"Search TICKER...",inputProps:{"aria-label":"search"},value:i,onChange:e=>{r(e.target.value)}})]})})]})})};var s_=eU;function sE(){if(t)return t;let e=document.createElement("div"),i=document.createElement("div");return i.style.width="10px",i.style.height="1px",e.appendChild(i),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),t="reverse",e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),document.body.removeChild(e),t}function sT(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}let sM=["onChange"],sR={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"},sD=(0,nS.default)((0,eG.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),sA=(0,nS.default)((0,eG.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var sI=eU;function sP(e){return(0,tr.default)("MuiTabScrollButton",e)}let sL=(0,ti.default)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),sk=["className","slots","slotProps","direction","orientation","disabled"],sN=(0,sI.default)(ir,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.orientation&&t[i.orientation]]}})(({ownerState:e})=>(0,eB.default)({width:40,flexShrink:0,opacity:.8,[`&.${sL.disabled}`]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),sF=eV.forwardRef(function(e,t){var i,r;let n=(0,ej.useDefaultProps)({props:e,name:"MuiTabScrollButton"}),{className:o,slots:s={},slotProps:a={},direction:l}=n,u=(0,eH.default)(n,sk),d=(0,iq.useRtl)(),h=(0,eB.default)({isRtl:d},n),c=(e=>{let{classes:t,orientation:i,disabled:r}=e;return(0,eW.default)({root:["root",i,r&&"disabled"]},sP,t)})(h),p=null!=(i=s.StartScrollButtonIcon)?i:sD,g=null!=(r=s.EndScrollButtonIcon)?r:sA,f=iZ({elementType:p,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),m=iZ({elementType:g,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return(0,eG.jsx)(sN,(0,eB.default)({component:"div",className:(0,ez.default)(c.root,o),ref:t,role:null,ownerState:h,tabIndex:null},u,{children:"left"===l?(0,eG.jsx)(p,(0,eB.default)({},f)):(0,eG.jsx)(g,(0,eB.default)({},m))}))});function sO(e){return(0,tr.default)("MuiTabs",e)}let sG=(0,ti.default)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),sV=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],sB=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,sH=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,sz=(e,t,i)=>{let r=!1,n=i(e,t);for(;n;){if(n===e.firstChild){if(r)return;r=!0}let t=n.disabled||"true"===n.getAttribute("aria-disabled");if(n.hasAttribute("tabindex")&&!t)return void n.focus();n=i(e,n)}},sW=(0,s_.default)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[{[`& .${sG.scrollButtons}`]:t.scrollButtons},{[`& .${sG.scrollButtons}`]:i.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,i.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>(0,eB.default)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${sG.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),sU=(0,s_.default)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.scroller,i.fixed&&t.fixed,i.hideScrollbar&&t.hideScrollbar,i.scrollableX&&t.scrollableX,i.scrollableY&&t.scrollableY]}})(({ownerState:e})=>(0,eB.default)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),sj=(0,s_.default)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.flexContainer,i.vertical&&t.flexContainerVertical,i.centered&&t.centered]}})(({ownerState:e})=>(0,eB.default)({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),s$=(0,s_.default)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>(0,eB.default)({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),sK=(0,s_.default)(function(e){let{onChange:t}=e,i=(0,eH.default)(e,sM),r=eV.useRef(),n=eV.useRef(null),o=()=>{r.current=n.current.offsetHeight-n.current.clientHeight};return(0,iE.default)(()=>{let e=(0,ri.default)(()=>{let e=r.current;o(),e!==r.current&&t(r.current)}),i=(0,rr.default)(n.current);return i.addEventListener("resize",e),()=>{e.clear(),i.removeEventListener("resize",e)}},[t]),eV.useEffect(()=>{o(),t(r.current)},[t]),(0,eG.jsx)("div",(0,eB.default)({style:sR},i,{ref:n}))})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),sY={},sq=eV.forwardRef(function(e,t){let i,r,n=(0,ej.useDefaultProps)({props:e,name:"MuiTabs"}),o=te(),s=(0,iq.useRtl)(),{"aria-label":a,"aria-labelledby":l,action:u,centered:d=!1,children:h,className:c,component:p="div",allowScrollButtonsMobile:g=!1,indicatorColor:f="primary",onChange:m,orientation:v="horizontal",ScrollButtonComponent:y=sF,scrollButtons:C="auto",selectionFollowsFocus:w,slots:b={},slotProps:S={},TabIndicatorProps:x={},TabScrollButtonProps:_={},textColor:E="primary",value:T,variant:M="standard",visibleScrollbar:R=!1}=n,D=(0,eH.default)(n,sV),A="scrollable"===M,I="vertical"===v,P=I?"scrollTop":"scrollLeft",L=I?"top":"left",k=I?"bottom":"right",N=I?"clientHeight":"clientWidth",F=I?"height":"width",O=(0,eB.default)({},n,{component:p,allowScrollButtonsMobile:g,indicatorColor:f,orientation:v,vertical:I,scrollButtons:C,textColor:E,variant:M,visibleScrollbar:R,fixed:!A,hideScrollbar:A&&!R,scrollableX:A&&!I,scrollableY:A&&I,centered:d&&!A,scrollButtonsHideMobile:!g}),G=(e=>{let{vertical:t,fixed:i,hideScrollbar:r,scrollableX:n,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=e;return(0,eW.default)({root:["root",t&&"vertical"],scroller:["scroller",i&&"fixed",r&&"hideScrollbar",n&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},sO,l)})(O),V=iZ({elementType:b.StartScrollButtonIcon,externalSlotProps:S.startScrollButtonIcon,ownerState:O}),B=iZ({elementType:b.EndScrollButtonIcon,externalSlotProps:S.endScrollButtonIcon,ownerState:O}),[H,z]=eV.useState(!1),[W,U]=eV.useState(sY),[j,$]=eV.useState(!1),[K,Y]=eV.useState(!1),[q,X]=eV.useState(!1),[Z,Q]=eV.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,ee=eV.useRef(null),et=eV.useRef(null),ei=()=>{let e,t,i=ee.current;if(i){let t=i.getBoundingClientRect();e={clientWidth:i.clientWidth,scrollLeft:i.scrollLeft,scrollTop:i.scrollTop,scrollLeftNormalized:function(e,t){let i=e.scrollLeft;if("rtl"!==t)return i;switch(sE()){case"negative":return e.scrollWidth-e.clientWidth+i;case"reverse":return e.scrollWidth-e.clientWidth-i;default:return i}}(i,s?"rtl":"ltr"),scrollWidth:i.scrollWidth,top:t.top,bottom:t.bottom,left:t.left,right:t.right}}if(i&&!1!==T){let e=et.current.children;if(e.length>0){let i=e[J.get(T)];t=i?i.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},er=(0,tz.default)(()=>{let e,{tabsMeta:t,tabMeta:i}=ei(),r=0;if(I)e="top",i&&t&&(r=i.top-t.top+t.scrollTop);else if(e=s?"right":"left",i&&t){let n=s?t.scrollLeftNormalized+t.clientWidth-t.scrollWidth:t.scrollLeft;r=(s?-1:1)*(i[e]-t[e]+n)}let n={[e]:r,[F]:i?i[F]:0};if(isNaN(W[e])||isNaN(W[F]))U(n);else{let t=Math.abs(W[e]-n[e]),i=Math.abs(W[F]-n[F]);(t>=1||i>=1)&&U(n)}}),en=(e,{animation:t=!0}={})=>{t?function(e,t,i,r={},n=()=>{}){let{ease:o=sT,duration:s=300}=r,a=null,l=t[e],u=!1,d=r=>{if(u)return void n(Error("Animation cancelled"));null===a&&(a=r);let h=Math.min(1,(r-a)/s);(t[e]=o(h)*(i-l)+l,h>=1)?requestAnimationFrame(()=>{n(null)}):requestAnimationFrame(d)};l===i?n(Error("Element already at target position")):requestAnimationFrame(d)}(P,ee.current,e,{duration:o.transitions.duration.standard}):ee.current[P]=e},eo=e=>{let t=ee.current[P];I?t+=e:(t+=e*(s?-1:1),t*=s&&"reverse"===sE()?-1:1),en(t)},es=()=>{let e=ee.current[N],t=0,i=Array.from(et.current.children);for(let r=0;r<i.length;r+=1){let n=i[r];if(t+n[N]>e){0===r&&(t=e);break}t+=n[N]}return t},ea=eV.useCallback(e=>{Q({overflow:null,scrollbarWidth:e})},[]),el=(0,tz.default)(e=>{let{tabsMeta:t,tabMeta:i}=ei();i&&t&&(i[L]<t[L]?en(t[P]+(i[L]-t[L]),{animation:e}):i[k]>t[k]&&en(t[P]+(i[k]-t[k]),{animation:e}))}),eu=(0,tz.default)(()=>{A&&!1!==C&&X(!q)});eV.useEffect(()=>{let e,t,i=(0,ri.default)(()=>{ee.current&&er()}),r=(0,rr.default)(ee.current);return r.addEventListener("resize",i),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(i),Array.from(et.current.children).forEach(t=>{e.observe(t)})),"undefined"!=typeof MutationObserver&&(t=new MutationObserver(t=>{t.forEach(t=>{t.removedNodes.forEach(t=>{var i;null==(i=e)||i.unobserve(t)}),t.addedNodes.forEach(t=>{var i;null==(i=e)||i.observe(t)})}),i(),eu()})).observe(et.current,{childList:!0}),()=>{var n,o;i.clear(),r.removeEventListener("resize",i),null==(n=t)||n.disconnect(),null==(o=e)||o.disconnect()}},[er,eu]),eV.useEffect(()=>{let e=Array.from(et.current.children),t=e.length;if("undefined"!=typeof IntersectionObserver&&t>0&&A&&!1!==C){let i=e[0],r=e[t-1],n={root:ee.current,threshold:.99},o=new IntersectionObserver(e=>{$(!e[0].isIntersecting)},n);o.observe(i);let s=new IntersectionObserver(e=>{Y(!e[0].isIntersecting)},n);return s.observe(r),()=>{o.disconnect(),s.disconnect()}}},[A,C,q,null==h?void 0:h.length]),eV.useEffect(()=>{z(!0)},[]),eV.useEffect(()=>{er()}),eV.useEffect(()=>{el(sY!==W)},[el,W]),eV.useImperativeHandle(u,()=>({updateIndicator:er,updateScrollButtons:eu}),[er,eu]);let ed=(0,eG.jsx)(s$,(0,eB.default)({},x,{className:(0,ez.default)(G.indicator,x.className),ownerState:O,style:(0,eB.default)({},W,x.style)})),eh=0,ec=eV.Children.map(h,e=>{if(!eV.isValidElement(e))return null;let t=void 0===e.props.value?eh:e.props.value;J.set(t,eh);let i=t===T;return eh+=1,eV.cloneElement(e,(0,eB.default)({fullWidth:"fullWidth"===M,indicator:i&&!H&&ed,selected:i,selectionFollowsFocus:w,onChange:m,textColor:E,value:t},1!==eh||!1!==T||e.props.tabIndex?{}:{tabIndex:0}))}),ep=((i={}).scrollbarSizeListener=A?(0,eG.jsx)(sK,{onChange:ea,className:(0,ez.default)(G.scrollableX,G.hideScrollbar)}):null,i.scrollButtonStart=(r=A&&("auto"===C&&(j||K)||!0===C))?(0,eG.jsx)(y,(0,eB.default)({slots:{StartScrollButtonIcon:b.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:V},orientation:v,direction:s?"right":"left",onClick:()=>{eo(-1*es())},disabled:!j},_,{className:(0,ez.default)(G.scrollButtons,_.className)})):null,i.scrollButtonEnd=r?(0,eG.jsx)(y,(0,eB.default)({slots:{EndScrollButtonIcon:b.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:B},orientation:v,direction:s?"left":"right",onClick:()=>{eo(es())},disabled:!K},_,{className:(0,ez.default)(G.scrollButtons,_.className)})):null,i);return(0,eG.jsxs)(sW,(0,eB.default)({className:(0,ez.default)(G.root,c),ownerState:O,ref:t,as:p},D,{children:[ep.scrollButtonStart,ep.scrollbarSizeListener,(0,eG.jsxs)(sU,{className:G.scroller,ownerState:O,style:{overflow:Z.overflow,[I?`margin${s?"Left":"Right"}`:"marginBottom"]:R?void 0:-Z.scrollbarWidth},ref:ee,children:[(0,eG.jsx)(sj,{"aria-label":a,"aria-labelledby":l,"aria-orientation":"vertical"===v?"vertical":null,className:G.flexContainer,ownerState:O,onKeyDown:e=>{let t=et.current,i=(0,iY.default)(t).activeElement;if("tab"!==i.getAttribute("role"))return;let r="horizontal"===v?"ArrowLeft":"ArrowUp",n="horizontal"===v?"ArrowRight":"ArrowDown";switch("horizontal"===v&&s&&(r="ArrowRight",n="ArrowLeft"),e.key){case r:e.preventDefault(),sz(t,i,sH);break;case n:e.preventDefault(),sz(t,i,sB);break;case"Home":e.preventDefault(),sz(t,null,sB);break;case"End":e.preventDefault(),sz(t,null,sH)}},ref:et,role:"tablist",children:ec}),H&&ed]}),ep.scrollButtonEnd]}))});var sX=eU;function sZ(e){return(0,tr.default)("MuiTab",e)}let sQ=(0,ti.default)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),sJ=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],s0=(0,sX.default)(ir,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.label&&i.icon&&t.labelIcon,t[`textColor${(0,ig.default)(i.textColor)}`],i.fullWidth&&t.fullWidth,i.wrapped&&t.wrapped,{[`& .${sQ.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>(0,eB.default)({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:"top"===t.iconPosition||"bottom"===t.iconPosition?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${sQ.iconWrapper}`]:(0,eB.default)({},"top"===t.iconPosition&&{marginBottom:6},"bottom"===t.iconPosition&&{marginTop:6},"start"===t.iconPosition&&{marginRight:e.spacing(1)},"end"===t.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===t.textColor&&{color:"inherit",opacity:.6,[`&.${sQ.selected}`]:{opacity:1},[`&.${sQ.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"primary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${sQ.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${sQ.disabled}`]:{color:(e.vars||e).palette.text.disabled}},"secondary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${sQ.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${sQ.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),s1=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiTab"}),{className:r,disabled:n=!1,disableFocusRipple:o=!1,fullWidth:s,icon:a,iconPosition:l="top",indicator:u,label:d,onChange:h,onClick:c,onFocus:p,selected:g,selectionFollowsFocus:f,textColor:m="inherit",value:v,wrapped:y=!1}=i,C=(0,eH.default)(i,sJ),w=(0,eB.default)({},i,{disabled:n,disableFocusRipple:o,selected:g,icon:!!a,iconPosition:l,label:!!d,fullWidth:s,textColor:m,wrapped:y}),b=(e=>{let{classes:t,textColor:i,fullWidth:r,wrapped:n,icon:o,label:s,selected:a,disabled:l}=e,u={root:["root",o&&s&&"labelIcon",`textColor${(0,ig.default)(i)}`,r&&"fullWidth",n&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,eW.default)(u,sZ,t)})(w),S=a&&d&&eV.isValidElement(a)?eV.cloneElement(a,{className:(0,ez.default)(b.iconWrapper,a.props.className)}):a;return(0,eG.jsxs)(s0,(0,eB.default)({focusRipple:!o,className:(0,ez.default)(b.root,r),ref:t,role:"tab","aria-selected":g,disabled:n,onClick:e=>{!g&&h&&h(e,v),c&&c(e)},onFocus:e=>{f&&!g&&h&&h(e,v),p&&p(e)},ownerState:w,tabIndex:g?0:-1},C,{children:["top"===l||"start"===l?(0,eG.jsxs)(eV.Fragment,{children:[S,d]}):(0,eG.jsxs)(eV.Fragment,{children:[d,S]}),u]}))});var eU=eU,s2=eU;function s5(e){return(0,tr.default)("MuiCard",e)}(0,ti.default)("MuiCard",["root"]);let s3=["className","raised"],s4=(0,s2.default)(tm,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),s6=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiCard"}),{className:r,raised:n=!1}=i,o=(0,eH.default)(i,s3),s=(0,eB.default)({},i,{raised:n}),a=(e=>{let{classes:t}=e;return(0,eW.default)({root:["root"]},s5,t)})(s);return(0,eG.jsx)(s4,(0,eB.default)({className:(0,ez.default)(a.root,r),elevation:n?8:void 0,ref:t,ownerState:s},o))});var s8=eU;function s9(e){return(0,tr.default)("MuiCardContent",e)}(0,ti.default)("MuiCardContent",["root"]);let s7=["className","component"],ae=(0,s8.default)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),at=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiCardContent"}),{className:r,component:n="div"}=i,o=(0,eH.default)(i,s7),s=(0,eB.default)({},i,{component:n}),a=(e=>{let{classes:t}=e;return(0,eW.default)({root:["root"]},s9,t)})(s);return(0,eG.jsx)(ae,(0,eB.default)({as:n,className:(0,ez.default)(a.root,r),ownerState:s,ref:t},o))});var ai=e.i(17494);let ar=["ownerState"],an=["variants"],ao=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function as(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function aa(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}let al=(0,ai.default)();function au({defaultTheme:e,theme:t,themeId:i}){return 0===Object.keys(t).length?e:t[i]||t}function ad(e,t,i){let{ownerState:r}=t,n=(0,eH.default)(t,ar),o="function"==typeof e?e((0,eB.default)({ownerState:r},n)):e;if(Array.isArray(o))return o.flatMap(e=>ad(e,(0,eB.default)({ownerState:r},n),i));if(o&&"object"==typeof o&&Array.isArray(o.variants)){let{variants:e=[]}=o,t=(0,eH.default)(o,an);return e.forEach(e=>{let o=!0;if("function"==typeof e.props?o=e.props((0,eB.default)({ownerState:r},n,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&n[t]!==e.props[t]&&(o=!1)}),o){Array.isArray(t)||(t=[t]);let o="function"==typeof e.style?e.style((0,eB.default)({ownerState:r},n,r)):e.style;t.push(i?aa((0,o5.internal_serializeStyles)(o),i):o)}}),t}return i?aa((0,o5.internal_serializeStyles)(o),i):o}let ah=function(e={}){let{themeId:t,defaultTheme:i=al,rootShouldForwardProp:r=as,slotShouldForwardProp:n=as}=e,o=e=>(0,o3.default)((0,eB.default)({},e,{theme:au((0,eB.default)({},e,{defaultTheme:i,themeId:t}))}));return o.__mui_systemSx=!0,(e,s={})=>{var a;let l;(0,o5.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:u,slot:d,skipVariantsResolver:h,skipSx:c,overridesResolver:p=!(a=!d?d:d.charAt(0).toLowerCase()+d.slice(1))?null:(e,t)=>t[a]}=s,g=(0,eH.default)(s,ao),f=u&&u.startsWith("Mui")||d?"components":"custom",m=void 0!==h?h:d&&"Root"!==d&&"root"!==d||!1,v=c||!1,y=as;"Root"===d||"root"===d?y=r:d?y=n:"string"==typeof e&&e.charCodeAt(0)>96&&(y=void 0);let C=(0,o5.default)(e,(0,eB.default)({shouldForwardProp:y,label:l},g)),w=e=>"function"==typeof e&&e.__emotion_real!==e||(0,iU.isPlainObject)(e)?r=>{let n=au({theme:r.theme,defaultTheme:i,themeId:t});return ad(e,(0,eB.default)({},r,{theme:n}),n.modularCssLayers?f:void 0)}:e,b=(r,...n)=>{let s=w(r),a=n?n.map(w):[];u&&p&&a.push(e=>{let r=au((0,eB.default)({},e,{defaultTheme:i,themeId:t}));if(!r.components||!r.components[u]||!r.components[u].styleOverrides)return null;let n=r.components[u].styleOverrides,o={};return Object.entries(n).forEach(([t,i])=>{o[t]=ad(i,(0,eB.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),p(e,o)}),u&&!m&&a.push(e=>{var r;let n=au((0,eB.default)({},e,{defaultTheme:i,themeId:t}));return ad({variants:null==n||null==(r=n.components)||null==(r=r[u])?void 0:r.variants},(0,eB.default)({},e,{theme:n}),n.modularCssLayers?"theme":void 0)}),v||a.push(o);let l=a.length-n.length;if(Array.isArray(r)&&l>0){let e=Array(l).fill("");(s=[...r,...e]).raw=[...r.raw,...e]}let d=C(s,...a);return e.muiName&&(d.muiName=e.muiName),d};return C.withConfig&&(b.withConfig=C.withConfig),b}}();var ac=e8,ic=ic,ap=e.i(29396);let ag=["component","direction","spacing","divider","children","className","useFlexGap"],af=(0,ai.default)(),am=ah("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function av(e){return function({props:e,name:t,defaultTheme:i,themeId:r}){let n=(0,ac.default)(i);return r&&(n=n[r]||n),function(e){let{theme:t,name:i,props:r}=e;return t&&t.components&&t.components[i]&&t.components[i].defaultProps?(0,op.default)(t.components[i].defaultProps,r):r}({theme:n,name:t,props:e})}({props:e,name:"MuiStack",defaultTheme:af})}let ay=({ownerState:e,theme:t})=>{let i=(0,eB.default)({display:"flex",flexDirection:"column"},(0,oE.handleBreakpoints)({theme:t},(0,oE.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let r=(0,ap.createUnarySpacing)(t),n=Object.keys(t.breakpoints.values).reduce((t,i)=>(("object"==typeof e.spacing&&null!=e.spacing[i]||"object"==typeof e.direction&&null!=e.direction[i])&&(t[i]=!0),t),{}),o=(0,oE.resolveBreakpointValues)({values:e.direction,base:n}),s=(0,oE.resolveBreakpointValues)({values:e.spacing,base:n});"object"==typeof o&&Object.keys(o).forEach((e,t,i)=>{if(!o[e]){let r=t>0?o[i[t-1]]:"column";o[e]=r}}),i=(0,iU.default)(i,(0,oE.handleBreakpoints)({theme:t},s,(t,i)=>e.useFlexGap?{gap:(0,ap.getValue)(r,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[i?o[i]:e.direction]}`]:(0,ap.getValue)(r,t)}}))}return(0,oE.mergeBreakpointsInOrder)(t.breakpoints,i)},aC=function(e={}){let{createStyledComponent:t=am,useThemeProps:i=av,componentName:r="MuiStack"}=e,n=t(ay);return eV.forwardRef(function(e,t){let o,s=i(e),a=(0,ic.default)(s),{component:l="div",direction:u="column",spacing:d=0,divider:h,children:c,className:p,useFlexGap:g=!1}=a,f=(0,eH.default)(a,ag),m=(0,eW.default)({root:["root"]},e=>(0,tr.default)(r,e),{});return(0,eG.jsx)(n,(0,eB.default)({as:l,ownerState:{direction:u,spacing:d,useFlexGap:g},ref:t,className:o2(m.root,p)},f,{children:h?(o=eV.Children.toArray(c).filter(Boolean)).reduce((e,t,i)=>(e.push(t),i<o.length-1&&e.push(eV.cloneElement(h,{key:`separator-${i}`})),e),[]):c}))})}({createStyledComponent:(0,eU.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,ej.useDefaultProps)({props:e,name:"MuiStack"})});var aw=e.i(63449),ab=e.i(72502),aS=e.i(51516);let ax=({data:e,backgroundColor:t})=>{let{setTicker:i}=(0,sr.useAppContext)();return(0,eG.jsxs)(s6,{elevation:0,sx:{m:1,minWidth:240,maxWidth:240,cursor:"pointer",borderRadius:"16px",background:"var(--surface)",border:"1px solid var(--surface-border)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&:hover":{transform:"translateY(-6px)",borderColor:sm(t,.4),boxShadow:`0 12px 24px -10px ${sm(t,.3)}`,"& .card-accent":{height:"100%"}}},onClick:()=>{i(e.ticker)},children:[(0,eG.jsx)(st,{className:"card-accent",sx:{position:"absolute",top:0,left:0,width:"4px",height:"40px",background:t,transition:"all 0.3s ease",borderRadius:"0 4px 4px 0"}}),(0,eG.jsxs)(at,{sx:{p:3,"&:last-child":{pb:3}},children:[(0,eG.jsxs)(st,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5,children:[(0,eG.jsx)(ib,{variant:"h5",component:"div",sx:{fontWeight:800,color:"var(--text-main)",letterSpacing:"-0.02em"},children:e.ticker}),(0,eG.jsx)(st,{sx:{color:t,opacity:.8},children:t.includes("C805")?(0,eG.jsx)(aw.default,{}):t.includes("5000")?(0,eG.jsx)(ab.default,{}):(0,eG.jsx)(aS.default,{})})]}),(0,eG.jsx)(ib,{variant:"body2",sx:{mb:2.5,height:44,color:"var(--text-muted)",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.4,fontSize:"0.85rem"},title:e.name,children:e.name}),(0,eG.jsxs)(aC,{spacing:1.2,children:[(0,eG.jsxs)(st,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,eG.jsx)(ib,{variant:"caption",sx:{color:"var(--text-muted)",fontWeight:500},children:"Transactions"}),(0,eG.jsx)(ib,{variant:"subtitle2",sx:{color:"var(--text-main)",fontWeight:700},children:e.noOfTransactions})]}),(0,eG.jsxs)(st,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,eG.jsx)(ib,{variant:"caption",sx:{color:"var(--success)",opacity:.9,fontWeight:500},children:"Buys"}),(0,eG.jsx)(ib,{variant:"subtitle2",sx:{color:"var(--success)",fontWeight:700},children:e.noOfBuy})]}),(0,eG.jsxs)(st,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,eG.jsx)(ib,{variant:"caption",sx:{color:"var(--error)",opacity:.9,fontWeight:500},children:"Sells"}),(0,eG.jsx)(ib,{variant:"subtitle2",sx:{color:"var(--error)",fontWeight:700},children:e.noOfSell})]})]})]})]})};var a_=e.i(53835);function aE(e){let{children:t,value:i,index:r,...n}=e;return(0,eG.jsx)("div",{role:"tabpanel",hidden:i!==r,id:`vertical-tabpanel-${r}`,"aria-labelledby":`vertical-tab-${r}`,style:{width:"100%",minHeight:"400px"},...n,children:i===r&&(0,eG.jsx)(st,{sx:{p:{xs:1,md:3},display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:t})})}let aT=(0,eU.default)(sq)(({theme:e})=>({borderRight:"1px solid var(--surface-border)",minWidth:"160px",backgroundColor:"rgba(15, 23, 42, 0.2)","& .MuiTabs-indicator":{width:"4px",borderRadius:"0 4px 4px 0",left:0}})),aM=(0,eU.default)(s1)(({theme:e})=>({textTransform:"none",fontWeight:700,fontSize:"0.95rem",minHeight:"64px",padding:"0 24px",alignItems:"flex-start",textAlign:"left",color:"var(--text-muted)",transition:"all 0.2s ease","&.Mui-selected":{color:"var(--text-main)",backgroundColor:"rgba(255, 255, 255, 0.03)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.05)",color:"var(--text-main)"}})),aR=()=>{let{mostActiveDaysRange:e}=(0,sr.useAppContext)(),[t,i]=(0,eV.useState)(0),r=["#10b981","#ef4444","#6366f1"],{mostBuyStocks:n,mostSellStocks:o,mostActiveStocks:s}=(0,eV.useMemo)(()=>{let t=a_.default,i={},r=[];if(!t||0===t.length)return{mostBuyStocks:[],mostSellStocks:[],mostActiveStocks:[]};let n=t[0].Date,o=0;for(let s of(1e4!==e&&(o=new Date(n).setHours(0,0,0,0)-24*e*36e5),t)){if(o&&new Date(s.Date).setHours(0,0,0,0)<=o)break;i[s.Ticker]?i[s.Ticker]++:(i[s.Ticker]=1,r.push({ticker:s.Ticker,name:s.Name,noOfBuy:0,noOfSell:0,noOfTransactions:0,directionSymbols:[],transactionsDetails:[]}));let e=r.find(e=>e.ticker===s.Ticker);e&&("Buy"===s.Direction?e.noOfBuy++:"Sell"===s.Direction&&e.noOfSell++,e.noOfTransactions++,e.directionSymbols.unshift(s.Direction),e.transactionsDetails.push(s))}let s=r.length>15&&1!==e?15:r.length;return{mostBuyStocks:r.filter(e=>e.noOfBuy>0).sort((e,t)=>t.noOfBuy-e.noOfBuy).slice(0,s),mostSellStocks:r.filter(e=>e.noOfSell>0).sort((e,t)=>t.noOfSell-e.noOfSell).slice(0,s),mostActiveStocks:r.sort((e,t)=>t.noOfTransactions-e.noOfTransactions).slice(0,s)}},[e]),a=e=>({id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`});return(0,eG.jsxs)(st,{sx:{flexGrow:1,display:"flex",height:"100%",minHeight:400,background:"transparent"},children:[(0,eG.jsxs)(aT,{orientation:"vertical",variant:"scrollable",value:t,onChange:(e,t)=>{i(t)},"aria-label":"Most Active Stocks Tabs",TabIndicatorProps:{style:{background:r[t]}},children:[(0,eG.jsx)(aM,{label:"Most Buy",...a(0),sx:{color:0===t?r[0]:"var(--text-muted)"}}),(0,eG.jsx)(aM,{label:"Most Sell",...a(1),sx:{color:1===t?r[1]:"var(--text-muted)"}}),(0,eG.jsx)(aM,{label:"Most Active",...a(2),sx:{color:2===t?r[2]:"var(--text-muted)"}})]}),(0,eG.jsx)(aE,{value:t,index:0,children:n.map(e=>(0,eG.jsx)(ax,{data:e,backgroundColor:r[t]},e.ticker))}),(0,eG.jsx)(aE,{value:t,index:1,children:o.map(e=>(0,eG.jsx)(ax,{data:e,backgroundColor:r[t]},e.ticker))}),(0,eG.jsx)(aE,{value:t,index:2,children:s.map(e=>(0,eG.jsx)(ax,{data:e,backgroundColor:r[t]},e.ticker))})]})};var aD=e.i(20590),aA=e.i(95602),aI=e.i(93927),aP=function(e,t){return(aP=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function aL(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}aP(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var ak=function(){return(ak=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},aN=("function"==typeof SuppressedError&&SuppressedError,function(e,t){return(aN=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)});function aF(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}aN(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var aO=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},aG=new function(){this.browser=new aO,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(aG.wxa=!0,aG.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?aG.worker=!0:!aG.hasGlobalWindow||"Deno"in window?(aG.node=!0,aG.svgSupported=!0):(n=navigator.userAgent,s=(o=aG).browser,a=n.match(/Firefox\/([\d.]+)/),l=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),u=n.match(/Edge?\/([\d.]+)/),d=/micromessenger/i.test(n),a&&(s.firefox=!0,s.version=a[1]),l&&(s.ie=!0,s.version=l[1]),u&&(s.edge=!0,s.version=u[1],s.newEdge=+u[1].split(".")[0]>18),d&&(s.weChat=!0),o.svgSupported="undefined"!=typeof SVGRect,o.touchEventsSupported="ontouchstart"in window&&!s.ie&&!s.edge,o.pointerEventsSupported="onpointerdown"in window&&(s.edge||s.ie&&+s.version>=11),o.domSupported="undefined"!=typeof document,h=document.documentElement.style,o.transform3dSupported=(s.ie&&"transition"in h||s.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in h)&&!("OTransition"in h),o.transformSupported=o.transform3dSupported||s.ie&&+s.version>=9);var aV="sans-serif",aB="12px "+aV,aH=function(e){var t={};if("undefined"==typeof JSON)return t;for(var i=0;i<e.length;i++){var r=String.fromCharCode(i+32),n=(e.charCodeAt(i)-20)/100;t[r]=n}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),az={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(e,t){if(!c){var i=az.createCanvas();c=i&&i.getContext("2d")}if(c)return p!==t&&(p=c.font=t||aB),c.measureText(e);e=e||"",t=t||aB;var r=/((?:\d+)?\.?\d*)px/.exec(t),n=r&&+r[1]||12,o=0;if(t.indexOf("mono")>=0)o=n*e.length;else for(var s=0;s<e.length;s++){var a=aH[e[s]];o+=null==a?n:a*n}return{width:o}},loadImage:function(e,t,i){var r=new Image;return r.onload=t,r.onerror=i,r.src=e,r}};function aW(e){for(var t in az)e[t]&&(az[t]=e[t])}var aU=ls(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),aj=ls(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),a$=Object.prototype.toString,aK=Array.prototype,aY=aK.forEach,aq=aK.filter,aX=aK.slice,aZ=aK.map,aQ=(function(){}).constructor,aJ=aQ?aQ.prototype:null,a0="__proto__",a1=2311;function a2(){return a1++}function a5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof console&&console.error.apply(console,e)}function a3(e){if(null==e||"object"!=typeof e)return e;var t=e,i=a$.call(e);if("[object Array]"===i){if(!e[lP]){t=[];for(var r=0,n=e.length;r<n;r++)t[r]=a3(e[r])}}else if(aj[i]){if(!e[lP]){var o=e.constructor;if(o.from)t=o.from(e);else{t=new o(e.length);for(var r=0,n=e.length;r<n;r++)t[r]=e[r]}}}else if(!aU[i]&&!e[lP]&&!lw(e))for(var s in t={},e)e.hasOwnProperty(s)&&s!==a0&&(t[s]=a3(e[s]));return t}function a4(e,t,i){if(!lv(t)||!lv(e))return i?a3(t):e;for(var r in t)if(t.hasOwnProperty(r)&&r!==a0){var n=e[r],o=t[r];!(lv(o)&&lv(n))||lc(o)||lc(n)||lw(o)||lw(n)||ly(o)||ly(n)||o[lP]||n[lP]?!i&&r in e||(e[r]=a3(t[r])):a4(n,o,i)}return e}function a6(e,t){for(var i=e[0],r=1,n=e.length;r<n;r++)i=a4(i,e[r],t);return i}function a8(e,t){return Object.assign(e,t),e}function a9(e,t,i){for(var r=lu(t),n=0,o=r.length;n<o;n++){var s=r[n];(i?null!=t[s]:null==e[s])&&(e[s]=t[s])}return e}var a7=az.createCanvas;function le(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i}return -1}function lt(e,t){var i=e.prototype;function r(){}for(var n in r.prototype=t.prototype,e.prototype=new r,i)i.hasOwnProperty(n)&&(e.prototype[n]=i[n]);e.prototype.constructor=e,e.superClass=t}function li(e,t,i){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n];"constructor"!==o&&(i?null!=t[o]:null==e[o])&&(e[o]=t[o])}else a9(e,t,i)}function lr(e){return!!e&&"string"!=typeof e&&"number"==typeof e.length}function ln(e,t,i){if(e&&t)if(e.forEach&&e.forEach===aY)e.forEach(t,i);else if(e.length===+e.length)for(var r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e)}function lo(e,t,i){if(!e)return[];if(!t)return lR(e);if(e.map&&e.map===aZ)return e.map(t,i);for(var r=[],n=0,o=e.length;n<o;n++)r.push(t.call(i,e[n],n,e));return r}function ls(e,t,i,r){if(e&&t){for(var n=0,o=e.length;n<o;n++)i=t.call(r,i,e[n],n,e);return i}}function la(e,t,i){if(!e)return[];if(!t)return lR(e);if(e.filter&&e.filter===aq)return e.filter(t,i);for(var r=[],n=0,o=e.length;n<o;n++)t.call(i,e[n],n,e)&&r.push(e[n]);return r}function ll(e,t,i){if(e&&t){for(var r=0,n=e.length;r<n;r++)if(t.call(i,e[r],r,e))return e[r]}}function lu(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}var ld=aJ&&lp(aJ.bind)?aJ.call.bind(aJ.bind):function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return function(){return e.apply(t,i.concat(aX.call(arguments)))}};function lh(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return function(){return e.apply(this,t.concat(aX.call(arguments)))}}function lc(e){return Array.isArray?Array.isArray(e):"[object Array]"===a$.call(e)}function lp(e){return"function"==typeof e}function lg(e){return"string"==typeof e}function lf(e){return"[object String]"===a$.call(e)}function lm(e){return"number"==typeof e}function lv(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function ly(e){return!!aU[a$.call(e)]}function lC(e){return!!aj[a$.call(e)]}function lw(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function lb(e){return null!=e.colorStops}function lS(e){return null!=e.image}function lx(e){return"[object RegExp]"===a$.call(e)}function l_(e){return e!=e}function lE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,r=e.length;i<r;i++)if(null!=e[i])return e[i]}function lT(e,t){return null!=e?e:t}function lM(e,t,i){return null!=e?e:null!=t?t:i}function lR(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return aX.apply(e,t)}function lD(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function lA(e,t){if(!e)throw Error(t)}function lI(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var lP="__ec_primitive__";function lL(e){e[lP]=!0}function lk(e){return e[lP]}var lN=function(){function e(){this.data={}}return e.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},e.prototype.has=function(e){return this.data.hasOwnProperty(e)},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){return this.data[e]=t,this},e.prototype.keys=function(){return lu(this.data)},e.prototype.forEach=function(e){var t=this.data;for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},e}(),lF="function"==typeof Map,lO=function(){function e(t){var i=lc(t);this.data=lF?new Map:new lN;var r=this;function n(e,t){i?r.set(e,t):r.set(t,e)}t instanceof e?t.each(n):t&&ln(t,n)}return e.prototype.hasKey=function(e){return this.data.has(e)},e.prototype.get=function(e){return this.data.get(e)},e.prototype.set=function(e,t){return this.data.set(e,t),t},e.prototype.each=function(e,t){this.data.forEach(function(i,r){e.call(t,i,r)})},e.prototype.keys=function(){var e=this.data.keys();return lF?Array.from(e):e},e.prototype.removeKey=function(e){this.data.delete(e)},e}();function lG(e){return new lO(e)}function lV(e,t){for(var i=new e.constructor(e.length+t.length),r=0;r<e.length;r++)i[r]=e[r];for(var n=e.length,r=0;r<t.length;r++)i[r+n]=t[r];return i}function lB(e,t){var i;if(Object.create)i=Object.create(e);else{var r=function(){};r.prototype=e,i=new r}return t&&a8(i,t),i}function lH(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function lz(e,t){return e.hasOwnProperty(t)}function lW(){}var lU=180/Math.PI;e.s(["HashMap",()=>lO,"RADIAN_TO_DEGREE",()=>lU,"assert",()=>lA,"bind",()=>ld,"clone",()=>a3,"concatArray",()=>lV,"createCanvas",()=>a7,"createHashMap",()=>lG,"createObject",()=>lB,"curry",()=>lh,"defaults",()=>a9,"disableUserSelect",()=>lH,"each",()=>ln,"eqNaN",()=>l_,"extend",()=>a8,"filter",()=>la,"find",()=>ll,"guid",()=>a2,"hasOwn",()=>lz,"indexOf",()=>le,"inherits",()=>lt,"isArray",()=>lc,"isArrayLike",()=>lr,"isBuiltInObject",()=>ly,"isDom",()=>lw,"isFunction",()=>lp,"isGradientObject",()=>lb,"isImagePatternObject",()=>lS,"isNumber",()=>lm,"isObject",()=>lv,"isPrimitive",()=>lk,"isRegExp",()=>lx,"isString",()=>lg,"isStringSafe",()=>lf,"isTypedArray",()=>lC,"keys",()=>lu,"logError",()=>a5,"map",()=>lo,"merge",()=>a4,"mergeAll",()=>a6,"mixin",()=>li,"noop",()=>lW,"normalizeCssArray",()=>lD,"reduce",()=>ls,"retrieve",()=>lE,"retrieve2",()=>lT,"retrieve3",()=>lM,"setAsPrimitive",()=>lL,"slice",()=>lR,"trim",()=>lI],35520);var lj=function(e,t){return(lj=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function l$(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}lj(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function lK(e,t){return null==e&&(e=0),null==t&&(t=0),[e,t]}function lY(e,t){return e[0]=t[0],e[1]=t[1],e}function lq(e){return[e[0],e[1]]}function lX(e,t,i){return e[0]=t,e[1]=i,e}function lZ(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function lQ(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e}function lJ(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function l0(e){return Math.sqrt(l1(e))}function l1(e){return e[0]*e[0]+e[1]*e[1]}function l2(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function l5(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function l3(e,t){return e[0]*t[0]+e[1]*t[1]}function l4(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function l6(e,t){var i=l0(t);return 0===i?(e[0]=0,e[1]=0):(e[0]=t[0]/i,e[1]=t[1]/i),e}function l8(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function l9(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}function l7(e,t){return e[0]=-t[0],e[1]=-t[1],e}function ue(e,t,i,r){return e[0]=t[0]+r*(i[0]-t[0]),e[1]=t[1]+r*(i[1]-t[1]),e}function ut(e,t,i){var r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n+i[4],e[1]=i[1]*r+i[3]*n+i[5],e}function ui(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function ur(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}e.s(["add",()=>lZ,"applyTransform",()=>ut,"clone",()=>lq,"copy",()=>lY,"create",()=>lK,"dist",()=>l8,"distSquare",()=>l9,"distance",()=>l8,"distanceSquare",()=>l9,"div",()=>l5,"dot",()=>l3,"len",()=>l0,"lenSquare",()=>l1,"length",()=>l0,"lengthSquare",()=>l1,"lerp",()=>ue,"max",()=>ur,"min",()=>ui,"mul",()=>l2,"negate",()=>l7,"normalize",()=>l6,"scale",()=>l4,"scaleAndAdd",()=>lQ,"set",()=>lX,"sub",()=>lJ],48716);var un=function(e,t){this.target=e,this.topTarget=t&&t.topTarget},uo=function(){function e(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new un(t,e),"dragstart",e.event))},e.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,r=e.offsetY,n=i-this._x,o=r-this._y;this._x=i,this._y=r,t.drift(n,o,e),this.handler.dispatchToElement(new un(t,e),"drag",e.event);var s=this.handler.findHover(i,r,t).target,a=this._dropTarget;this._dropTarget=s,t!==s&&(a&&s!==a&&this.handler.dispatchToElement(new un(a,e),"dragleave",e.event),s&&s!==a&&this.handler.dispatchToElement(new un(s,e),"dragenter",e.event))}},e.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new un(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new un(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},e}(),us=function(){function e(e){e&&(this._$eventProcessor=e)}return e.prototype.on=function(e,t,i,r){this._$handlers||(this._$handlers={});var n=this._$handlers;if("function"==typeof t&&(r=i,i=t,t=null),!i||!e)return this;var o=this._$eventProcessor;null!=t&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),n[e]||(n[e]=[]);for(var s=0;s<n[e].length;s++)if(n[e][s].h===i)return this;var a={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},l=n[e].length-1,u=n[e][l];return u&&u.callAtLast?n[e].splice(l,0,a):n[e].push(a),this},e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},e.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var r=[],n=0,o=i[e].length;n<o;n++)i[e][n].h!==t&&r.push(i[e][n]);i[e]=r}i[e]&&0===i[e].length&&delete i[e]}else delete i[e];return this},e.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],n=this._$eventProcessor;if(r)for(var o=t.length,s=r.length,a=0;a<s;a++){var l=r[a];if(!n||!n.filter||null==l.query||n.filter(e,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,t[0]);break;case 2:l.h.call(l.ctx,t[0],t[1]);break;default:l.h.apply(l.ctx,t)}}return n&&n.afterTrigger&&n.afterTrigger(e),this},e.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],n=this._$eventProcessor;if(r)for(var o=t.length,s=t[o-1],a=r.length,l=0;l<a;l++){var u=r[l];if(!n||!n.filter||null==u.query||n.filter(e,u.query))switch(o){case 0:u.h.call(s);break;case 1:u.h.call(s,t[0]);break;case 2:u.h.call(s,t[0],t[1]);break;default:u.h.apply(s,t.slice(1,o-1))}}return n&&n.afterTrigger&&n.afterTrigger(e),this},e}(),ua=Math.log(2);function ul(e,t,i,r,n,o){var s=r+"-"+n,a=e.length;if(o.hasOwnProperty(s))return o[s];if(1===t){var l=Math.round(Math.log((1<<a)-1&~n)/ua);return e[i][l]}for(var u=r|1<<i,d=i+1;r&1<<d;)d++;for(var h=0,c=0,p=0;c<a;c++){var g=1<<c;!(g&n)&&(h+=(p%2?-1:1)*e[i][c]*ul(e,t-1,d,u,n|g,o),p++)}return o[s]=h,h}function uu(e,t){var i=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},n=ul(i,8,0,0,0,r);if(0!==n){for(var o=[],s=0;s<8;s++)for(var a=0;a<8;a++)null==o[a]&&(o[a]=0),o[a]+=((s+a)%2?-1:1)*ul(i,7,+(0===s),1<<s,1<<a,r)/n*t[s];return function(e,t,i){var r=t*o[6]+i*o[7]+1;e[0]=(t*o[0]+i*o[1]+o[2])/r,e[1]=(t*o[3]+i*o[4]+o[5])/r}}}var ud="___zrEVENTSAVED",uh=[];function uc(e,t,i,r,n){if(t.getBoundingClientRect&&aG.domSupported&&!up(t)){var o=t[ud]||(t[ud]={}),s=function(e,t,i){for(var r=i?"invTrans":"trans",n=t[r],o=t.srcCoords,s=[],a=[],l=!0,u=0;u<4;u++){var d=e[u].getBoundingClientRect(),h=2*u,c=d.left,p=d.top;s.push(c,p),l=l&&o&&c===o[h]&&p===o[h+1],a.push(e[u].offsetLeft,e[u].offsetTop)}return l&&n?n:(t.srcCoords=s,t[r]=i?uu(a,s):uu(s,a))}(function(e,t){var i=t.markers;if(i)return i;i=t.markers=[];for(var r=["left","right"],n=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),a=s.style,l=o%2,u=(o>>1)%2;a.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",n[u]+":0",r[1-l]+":auto",n[1-u]+":auto",""].join("!important;"),e.appendChild(s),i.push(s)}return i}(t,o),o,n);if(s)return s(e,i,r),!0}return!1}function up(e){return"CANVAS"===e.nodeName.toUpperCase()}var ug=/([&<>"'])/g,uf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function um(e){return null==e?"":(e+"").replace(ug,function(e,t){return uf[t]})}var uv=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,uy=[],uC=aG.browser.firefox&&39>+aG.browser.version.split(".")[0];function uw(e,t,i,r){return i=i||{},r?ub(e,t,i):uC&&null!=t.layerX&&t.layerX!==t.offsetX?(i.zrX=t.layerX,i.zrY=t.layerY):null!=t.offsetX?(i.zrX=t.offsetX,i.zrY=t.offsetY):ub(e,t,i),i}function ub(e,t,i){if(aG.domSupported&&e.getBoundingClientRect){var r=t.clientX,n=t.clientY;if(up(e)){var o=e.getBoundingClientRect();i.zrX=r-o.left,i.zrY=n-o.top;return}if(uc(uy,e,r,n)){i.zrX=uy[0],i.zrY=uy[1];return}}i.zrX=i.zrY=0}function uS(e){return e||window.event}function ux(e,t,i){if(null!=(t=uS(t)).zrX)return t;var r=t.type;if(r&&r.indexOf("touch")>=0){var n="touchend"!==r?t.targetTouches[0]:t.changedTouches[0];n&&uw(e,n,t,i)}else{uw(e,t,t,i);var o=function(e){var t=e.wheelDelta;if(t)return t;var i=e.deltaX,r=e.deltaY;return null==i||null==r?t:3*(0!==r?Math.abs(r):Math.abs(i))*(r>0?-1:r<0?1:i>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var s=t.button;return null==t.which&&void 0!==s&&uv.test(t.type)&&(t.which=1&s?1:2&s?3:4&s?2:0),t}function u_(e,t,i,r){e.addEventListener(t,i,r)}var uE=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function uT(e){return 2===e.which||3===e.which}var uM=function(){function e(){this._track=[]}return e.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(e,t,i){var r=e.touches;if(r){for(var n={points:[],touches:[],target:t,event:e},o=0,s=r.length;o<s;o++){var a=r[o],l=uw(i,a,{});n.points.push([l.zrX,l.zrY]),n.touches.push(a)}this._track.push(n)}},e.prototype._recognize=function(e){for(var t in uD)if(uD.hasOwnProperty(t)){var i=uD[t](this._track,e);if(i)return i}},e}();function uR(e){var t=e[1][0]-e[0][0],i=e[1][1]-e[0][1];return Math.sqrt(t*t+i*i)}var uD={pinch:function(e,t){var i=e.length;if(i){var r=(e[i-1]||{}).points,n=(e[i-2]||{}).points||r;if(n&&n.length>1&&r&&r.length>1){var o=uR(r)/uR(n);isFinite(o)||(o=1),t.pinchScale=o;var s=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}};function uA(){return[1,0,0,1,0,0]}function uI(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function uP(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function uL(e,t,i){var r=t[0]*i[0]+t[2]*i[1],n=t[1]*i[0]+t[3]*i[1],o=t[0]*i[2]+t[2]*i[3],s=t[1]*i[2]+t[3]*i[3],a=t[0]*i[4]+t[2]*i[5]+t[4],l=t[1]*i[4]+t[3]*i[5]+t[5];return e[0]=r,e[1]=n,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e}function uk(e,t,i){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+i[0],e[5]=t[5]+i[1],e}function uN(e,t,i,r){void 0===r&&(r=[0,0]);var n=t[0],o=t[2],s=t[4],a=t[1],l=t[3],u=t[5],d=Math.sin(i),h=Math.cos(i);return e[0]=n*h+a*d,e[1]=-n*d+a*h,e[2]=o*h+l*d,e[3]=-o*d+h*l,e[4]=h*(s-r[0])+d*(u-r[1])+r[0],e[5]=h*(u-r[1])-d*(s-r[0])+r[1],e}function uF(e,t,i){var r=i[0],n=i[1];return e[0]=t[0]*r,e[1]=t[1]*n,e[2]=t[2]*r,e[3]=t[3]*n,e[4]=t[4]*r,e[5]=t[5]*n,e}function uO(e,t){var i=t[0],r=t[2],n=t[4],o=t[1],s=t[3],a=t[5],l=i*s-o*r;return l?(l=1/l,e[0]=s*l,e[1]=-o*l,e[2]=-r*l,e[3]=i*l,e[4]=(r*a-s*n)*l,e[5]=(o*n-i*a)*l,e):null}function uG(e){var t=uA();return uP(t,e),t}e.s(["clone",()=>uG,"copy",()=>uP,"create",()=>uA,"identity",()=>uI,"invert",()=>uO,"mul",()=>uL,"rotate",()=>uN,"scale",()=>uF,"translate",()=>uk],99386);var uV=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},e.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},e.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},e.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},e.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},e.set=function(e,t,i){e.x=t,e.y=i},e.copy=function(e,t){e.x=t.x,e.y=t.y},e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.lenSquare=function(e){return e.x*e.x+e.y*e.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},e.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},e.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},e.scaleAndAdd=function(e,t,i,r){e.x=t.x+i.x*r,e.y=t.y+i.y*r},e.lerp=function(e,t,i,r){var n=1-r;e.x=n*t.x+r*i.x,e.y=n*t.y+r*i.y},e}(),uB=Math.min,uH=Math.max,uz=new uV,uW=new uV,uU=new uV,uj=new uV,u$=new uV,uK=new uV,uY=function(){function e(e,t,i,r){i<0&&(e+=i,i=-i),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=i,this.height=r}return e.prototype.union=function(e){var t=uB(e.x,this.x),i=uB(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=uH(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=uH(e.y+e.height,this.y+this.height)-i:this.height=e.height,this.x=t,this.y=i},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(e){var t=e.width/this.width,i=e.height/this.height,r=uA();return uk(r,r,[-this.x,-this.y]),uF(r,r,[t,i]),uk(r,r,[e.x,e.y]),r},e.prototype.intersect=function(t,i){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this.x,n=this.x+this.width,o=this.y,s=this.y+this.height,a=t.x,l=t.x+t.width,u=t.y,d=t.y+t.height,h=!(n<a||l<r||s<u||d<o);if(i){var c=1/0,p=0,g=Math.abs(n-a),f=Math.abs(l-r),m=Math.abs(s-u),v=Math.abs(d-o),y=Math.min(g,f),C=Math.min(m,v);n<a||l<r?y>p&&(p=y,g<f?uV.set(uK,-g,0):uV.set(uK,f,0)):y<c&&(c=y,g<f?uV.set(u$,g,0):uV.set(u$,-f,0)),s<u||d<o?C>p&&(p=C,m<v?uV.set(uK,0,-m):uV.set(uK,0,v)):y<c&&(c=y,m<v?uV.set(u$,0,m):uV.set(u$,0,-v))}return i&&uV.copy(i,h?u$:uK),h},e.prototype.contain=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},e.applyTransform=function(t,i,r){if(!r){t!==i&&e.copy(t,i);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var n=r[0],o=r[3],s=r[4],a=r[5];t.x=i.x*n+s,t.y=i.y*o+a,t.width=i.width*n,t.height=i.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}uz.x=uU.x=i.x,uz.y=uj.y=i.y,uW.x=uj.x=i.x+i.width,uW.y=uU.y=i.y+i.height,uz.transform(r),uj.transform(r),uW.transform(r),uU.transform(r),t.x=uB(uz.x,uW.x,uU.x,uj.x),t.y=uB(uz.y,uW.y,uU.y,uj.y);var l=uH(uz.x,uW.x,uU.x,uj.x),u=uH(uz.y,uW.y,uU.y,uj.y);t.width=l-t.x,t.height=u-t.y},e}(),uq="silent";function uX(){uE(this.event)}var uZ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return l$(t,e),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(us),uQ=function(e,t){this.x=e,this.y=t},uJ=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],u0=new uY(0,0,0,0),u1=function(e){function t(t,i,r,n,o){var s=e.call(this)||this;return s._hovered=new uQ(0,0),s.storage=t,s.painter=i,s.painterRoot=n,s._pointerSize=o,r=r||new uZ,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new uo(s),s}return l$(t,e),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(ln(uJ,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var t=e.zrX,i=e.zrY,r=u5(this,t,i),n=this._hovered,o=n.target;o&&!o.__zr&&(o=(n=this.findHover(n.x,n.y)).target);var s=this._hovered=r?new uQ(t,i):this.findHover(t,i),a=s.target,l=this.proxy;l.setCursor&&l.setCursor(a?a.cursor:"default"),o&&a!==o&&this.dispatchToElement(n,"mouseout",e),this.dispatchToElement(s,"mousemove",e),a&&a!==o&&this.dispatchToElement(s,"mouseover",e)},t.prototype.mouseout=function(e){var t=e.zrEventControl;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new uQ(0,0)},t.prototype.dispatch=function(e,t){var i=this[e];i&&i.call(this,t)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},t.prototype.dispatchToElement=function(e,t,i){var r=(e=e||{}).target;if(!r||!r.silent){for(var n,o="on"+t,s={type:t,event:i,target:(n=e).target,topTarget:n.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:uX};r&&(r[o]&&(s.cancelBubble=!!r[o].call(r,s)),r.trigger(t,s),r=r.__hostTarget?r.__hostTarget:r.parent,!s.cancelBubble););!s.cancelBubble&&(this.trigger(t,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(e){"function"==typeof e[o]&&e[o].call(e,s),e.trigger&&e.trigger(t,s)}))}},t.prototype.findHover=function(e,t,i){var r=this.storage.getDisplayList(),n=new uQ(e,t);if(u2(r,n,e,t,i),this._pointerSize&&!n.target){for(var o=[],s=this._pointerSize,a=s/2,l=new uY(e-a,t-a,s,s),u=r.length-1;u>=0;u--){var d=r[u];d===i||d.ignore||d.ignoreCoarsePointer||d.parent&&d.parent.ignoreCoarsePointer||(u0.copy(d.getBoundingRect()),d.transform&&u0.applyTransform(d.transform),u0.intersect(l)&&o.push(d))}if(o.length){for(var h=Math.PI/12,c=2*Math.PI,p=0;p<a;p+=4)for(var g=0;g<c;g+=h)if(u2(o,n,e+p*Math.cos(g),t+p*Math.sin(g),i),n.target)return n}}return n},t.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new uM);var i=this._gestureMgr;"start"===t&&i.clear();var r=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&i.clear(),r){var n=r.type;e.gestureEvent=n;var o=new uQ;o.target=r.target,this.dispatchToElement(o,n,r.event)}},t}(us);function u2(e,t,i,r,n){for(var o=e.length-1;o>=0;o--){var s=e[o],a=void 0;if(s!==n&&!s.ignore&&(a=function(e,t,i){if(e[e.rectHover?"rectContain":"contain"](t,i)){for(var r=e,n=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var s=r.getClipPath();if(s&&!s.contain(t,i))return!1}r.silent&&(n=!0),r=r.__hostTarget||r.parent}return!n||uq}return!1}(s,i,r))&&(t.topTarget||(t.topTarget=s),a!==uq)){t.target=s;break}}}function u5(e,t,i){var r=e.painter;return t<0||t>r.getWidth()||i<0||i>r.getHeight()}function u3(e,t,i,r){var n=t+1;if(n===i)return 1;if(0>r(e[n++],e[t])){for(;n<i&&0>r(e[n],e[n-1]);)n++;var o=e,s=t,a=n;for(a--;s<a;){var l=o[s];o[s++]=o[a],o[a--]=l}}else for(;n<i&&r(e[n],e[n-1])>=0;)n++;return n-t}function u4(e,t,i,r,n){for(r===t&&r++;r<i;r++){for(var o,s=e[r],a=t,l=r;a<l;)0>n(s,e[o=a+l>>>1])?l=o:a=o+1;var u=r-a;switch(u){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;u>0;)e[a+u]=e[a+u-1],u--}e[a]=s}}function u6(e,t,i,r,n,o){var s=0,a=0,l=1;if(o(e,t[i+n])>0){for(a=r-n;l<a&&o(e,t[i+n+l])>0;)s=l,(l=(l<<1)+1)<=0&&(l=a);l>a&&(l=a),s+=n,l+=n}else{for(a=n+1;l<a&&0>=o(e,t[i+n-l]);)s=l,(l=(l<<1)+1)<=0&&(l=a);l>a&&(l=a);var u=s;s=n-l,l=n-u}for(s++;s<l;){var d=s+(l-s>>>1);o(e,t[i+d])>0?s=d+1:l=d}return l}function u8(e,t,i,r,n,o){var s=0,a=0,l=1;if(0>o(e,t[i+n])){for(a=n+1;l<a&&0>o(e,t[i+n-l]);)s=l,(l=(l<<1)+1)<=0&&(l=a);l>a&&(l=a);var u=s;s=n-l,l=n-u}else{for(a=r-n;l<a&&o(e,t[i+n+l])>=0;)s=l,(l=(l<<1)+1)<=0&&(l=a);l>a&&(l=a),s+=n,l+=n}for(s++;s<l;){var d=s+(l-s>>>1);0>o(e,t[i+d])?l=d:s=d+1}return l}function u9(e,t,i,r){i||(i=0),r||(r=e.length);var n=r-i;if(!(n<2)){var o=0;if(n<32){o=u3(e,i,r,t),u4(e,i,r,i+o,t);return}var s=function(e,t){var i,r,n=7,o=0,s=[];function a(a){var l=i[a],u=r[a],d=i[a+1],h=r[a+1];r[a]=u+h,a===o-3&&(i[a+1]=i[a+2],r[a+1]=r[a+2]),o--;var c=u8(e[d],e,l,u,0,t);l+=c,0==(u-=c)||0!==(h=u6(e[l+u-1],e,d,h,h-1,t))&&(u<=h?function(i,r,o,a){var l,u,d,h=0;for(h=0;h<r;h++)s[h]=e[i+h];var c=0,p=o,g=i;if(e[g++]=e[p++],0==--a){for(h=0;h<r;h++)e[g+h]=s[c+h];return}if(1===r){for(h=0;h<a;h++)e[g+h]=e[p+h];e[g+a]=s[c];return}for(var f=n;;){l=0,u=0,d=!1;do if(0>t(e[p],s[c])){if(e[g++]=e[p++],u++,l=0,0==--a){d=!0;break}}else if(e[g++]=s[c++],l++,u=0,1==--r){d=!0;break}while((l|u)<f)if(d)break;do{if(0!==(l=u8(e[p],s,c,r,0,t))){for(h=0;h<l;h++)e[g+h]=s[c+h];if(g+=l,c+=l,(r-=l)<=1){d=!0;break}}if(e[g++]=e[p++],0==--a){d=!0;break}if(0!==(u=u6(s[c],e,p,a,0,t))){for(h=0;h<u;h++)e[g+h]=e[p+h];if(g+=u,p+=u,0==(a-=u)){d=!0;break}}if(e[g++]=s[c++],1==--r){d=!0;break}f--}while(l>=7||u>=7)if(d)break;f<0&&(f=0),f+=2}if((n=f)<1&&(n=1),1===r){for(h=0;h<a;h++)e[g+h]=e[p+h];e[g+a]=s[c]}else if(0===r)throw Error();else for(h=0;h<r;h++)e[g+h]=s[c+h]}(l,u,d,h):function(i,r,o,a){var l=0;for(l=0;l<a;l++)s[l]=e[o+l];var u=i+r-1,d=a-1,h=o+a-1,c=0,p=0;if(e[h--]=e[u--],0==--r){for(l=0,c=h-(a-1);l<a;l++)e[c+l]=s[l];return}if(1===a){for(h-=r,u-=r,p=h+1,c=u+1,l=r-1;l>=0;l--)e[p+l]=e[c+l];e[h]=s[d];return}for(var g=n;;){var f=0,m=0,v=!1;do if(0>t(s[d],e[u])){if(e[h--]=e[u--],f++,m=0,0==--r){v=!0;break}}else if(e[h--]=s[d--],m++,f=0,1==--a){v=!0;break}while((f|m)<g)if(v)break;do{if(0!=(f=r-u8(s[d],e,i,r,r-1,t))){for(h-=f,u-=f,r-=f,p=h+1,c=u+1,l=f-1;l>=0;l--)e[p+l]=e[c+l];if(0===r){v=!0;break}}if(e[h--]=s[d--],1==--a){v=!0;break}if(0!=(m=a-u6(e[u],s,0,a,a-1,t))){for(h-=m,d-=m,a-=m,p=h+1,c=d+1,l=0;l<m;l++)e[p+l]=s[c+l];if(a<=1){v=!0;break}}if(e[h--]=e[u--],0==--r){v=!0;break}g--}while(f>=7||m>=7)if(v)break;g<0&&(g=0),g+=2}if((n=g)<1&&(n=1),1===a){for(h-=r,u-=r,p=h+1,c=u+1,l=r-1;l>=0;l--)e[p+l]=e[c+l];e[h]=s[d]}else if(0===a)throw Error();else for(l=0,c=h-(a-1);l<a;l++)e[c+l]=s[l]}(l,u,d,h))}return i=[],r=[],{mergeRuns:function(){for(;o>1;){var e=o-2;if(e>=1&&r[e-1]<=r[e]+r[e+1]||e>=2&&r[e-2]<=r[e]+r[e-1])r[e-1]<r[e+1]&&e--;else if(r[e]>r[e+1])break;a(e)}},forceMergeRuns:function(){for(;o>1;){var e=o-2;e>0&&r[e-1]<r[e+1]&&e--,a(e)}},pushRun:function(e,t){i[o]=e,r[o]=t,o+=1}}}(e,t),a=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(n);do{if((o=u3(e,i,r,t))<a){var l=n;l>a&&(l=a),u4(e,i,i+l,i+o,t),o=l}s.pushRun(i,o),s.mergeRuns(),n-=o,i+=o}while(0!==n)s.forceMergeRuns()}}ln(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){u1.prototype[e]=function(t){var i,r,n=t.zrX,o=t.zrY,s=u5(this,n,o);if("mouseup"===e&&s||(r=(i=this.findHover(n,o)).target),"mousedown"===e)this._downEl=r,this._downPoint=[t.zrX,t.zrY],this._upEl=r;else if("mouseup"===e)this._upEl=r;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||l8(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}});var u7=!1;function de(){u7||(u7=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function dt(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var di=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=dt}return e.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},e.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return(e||!i.length)&&this.updateDisplayList(t),i},e.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,n=t.length;r<n;r++)this._updateAndAddDisplayable(t[r],null,e);i.length=this._displayListLen,u9(i,dt)},e.prototype._updateAndAddDisplayable=function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var n=r,o=e;n;)n.parent=o,n.updateTransform(),t.push(n),o=n,n=n.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),a=0;a<s.length;a++){var l=s[a];e.__dirty&&(l.__dirty|=1),this._updateAndAddDisplayable(l,t,i)}e.__dirty=0}else t&&t.length?e.__clipPaths=t:e.__clipPaths&&e.__clipPaths.length>0&&(e.__clipPaths=[]),isNaN(e.z)&&(de(),e.z=0),isNaN(e.z2)&&(de(),e.z2=0),isNaN(e.zlevel)&&(de(),e.zlevel=0),this._displayList[this._displayListLen++]=e;var u=e.getDecalElement&&e.getDecalElement();u&&this._updateAndAddDisplayable(u,t,i);var d=e.getTextGuideLine();d&&this._updateAndAddDisplayable(d,t,i);var h=e.getTextContent();h&&this._updateAndAddDisplayable(h,t,i)}},e.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},e.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);return}var r=le(this._roots,e);r>=0&&this._roots.splice(r,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();j=aG.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var dr={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e-t)/.4)))},elasticOut:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin(2*Math.PI*(e-t)/.4)+1)},elasticInOut:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),(e*=2)<1)?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e-t)/.4)):i*Math.pow(2,-10*(e-=1))*Math.sin(2*Math.PI*(e-t)/.4)*.5+1},backIn:function(e){return e*e*(2.70158*e-1.70158)},backOut:function(e){return--e*e*(2.70158*e+1.70158)+1},backInOut:function(e){return(e*=2)<1?e*e*(3.5949095*e-2.5949095)*.5:.5*((e-=2)*e*(3.5949095*e+2.5949095)+2)},bounceIn:function(e){return 1-dr.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*dr.bounceIn(2*e):.5*dr.bounceOut(2*e-1)+.5}},dn=Math.pow,ds=Math.sqrt,da=ds(3),dl=1/3,du=lK(),dd=lK(),dh=lK();function dc(e){return e>-1e-8&&e<1e-8}function dp(e){return e>1e-8||e<-1e-8}function dg(e,t,i,r,n){var o=1-n;return o*o*(o*e+3*n*t)+n*n*(n*r+3*o*i)}function df(e,t,i,r,n){var o=1-n;return 3*(((t-e)*o+2*(i-t)*n)*o+(r-i)*n*n)}function dm(e,t,i,r,n,o){var s=r+3*(t-i)-e,a=3*(i-2*t+e),l=3*(t-e),u=e-n,d=a*a-3*s*l,h=a*l-9*s*u,c=l*l-3*a*u,p=0;if(dc(d)&&dc(h))if(dc(a))o[0]=0;else{var g=-l/a;g>=0&&g<=1&&(o[p++]=g)}else{var f=h*h-4*d*c;if(dc(f)){var m=h/d,g=-a/s+m,v=-m/2;g>=0&&g<=1&&(o[p++]=g),v>=0&&v<=1&&(o[p++]=v)}else if(f>0){var y=ds(f),C=d*a+1.5*s*(-h+y),w=d*a+1.5*s*(-h-y),g=(-a-((C=C<0?-dn(-C,dl):dn(C,dl))+(w=w<0?-dn(-w,dl):dn(w,dl))))/(3*s);g>=0&&g<=1&&(o[p++]=g)}else{var b=Math.acos((2*d*a-3*s*h)/(2*ds(d*d*d)))/3,S=ds(d),x=Math.cos(b),g=(-a-2*S*x)/(3*s),v=(-a+S*(x+da*Math.sin(b)))/(3*s),_=(-a+S*(x-da*Math.sin(b)))/(3*s);g>=0&&g<=1&&(o[p++]=g),v>=0&&v<=1&&(o[p++]=v),_>=0&&_<=1&&(o[p++]=_)}}return p}function dv(e,t,i,r,n){var o=6*i-12*t+6*e,s=9*t+3*r-3*e-9*i,a=3*t-3*e,l=0;if(dc(s)){if(dp(o)){var u=-a/o;u>=0&&u<=1&&(n[l++]=u)}}else{var d=o*o-4*s*a;if(dc(d))n[0]=-o/(2*s);else if(d>0){var h=ds(d),u=(-o+h)/(2*s),c=(-o-h)/(2*s);u>=0&&u<=1&&(n[l++]=u),c>=0&&c<=1&&(n[l++]=c)}}return l}function dy(e,t,i,r,n,o){var s=(t-e)*n+e,a=(i-t)*n+t,l=(r-i)*n+i,u=(a-s)*n+s,d=(l-a)*n+a,h=(d-u)*n+u;o[0]=e,o[1]=s,o[2]=u,o[3]=h,o[4]=h,o[5]=d,o[6]=l,o[7]=r}function dC(e,t,i,r,n,o,s,a,l,u,d){var h,c,p,g,f,m=.005,v=1/0;du[0]=l,du[1]=u;for(var y=0;y<1;y+=.05)dd[0]=dg(e,i,n,s,y),dd[1]=dg(t,r,o,a,y),(g=l9(du,dd))<v&&(h=y,v=g);v=1/0;for(var C=0;C<32&&!(m<1e-4);C++)c=h-m,p=h+m,dd[0]=dg(e,i,n,s,c),dd[1]=dg(t,r,o,a,c),g=l9(dd,du),c>=0&&g<v?(h=c,v=g):(dh[0]=dg(e,i,n,s,p),dh[1]=dg(t,r,o,a,p),f=l9(dh,du),p<=1&&f<v?(h=p,v=f):m*=.5);return d&&(d[0]=dg(e,i,n,s,h),d[1]=dg(t,r,o,a,h)),ds(v)}function dw(e,t,i,r){var n=1-r;return n*(n*e+2*r*t)+r*r*i}function db(e,t,i,r){return 2*((1-r)*(t-e)+r*(i-t))}function dS(e,t,i){var r=e+i-2*t;return 0===r?.5:(e-t)/r}function dx(e,t,i,r,n){var o=(t-e)*r+e,s=(i-t)*r+t,a=(s-o)*r+o;n[0]=e,n[1]=o,n[2]=a,n[3]=a,n[4]=s,n[5]=i}function d_(e,t,i,r,n,o,s,a,l){var u,d=.005,h=1/0;du[0]=s,du[1]=a;for(var c=0;c<1;c+=.05){dd[0]=dw(e,i,n,c),dd[1]=dw(t,r,o,c);var p=l9(du,dd);p<h&&(u=c,h=p)}h=1/0;for(var g=0;g<32&&!(d<1e-4);g++){var f=u-d,m=u+d;dd[0]=dw(e,i,n,f),dd[1]=dw(t,r,o,f);var p=l9(dd,du);if(f>=0&&p<h)u=f,h=p;else{dh[0]=dw(e,i,n,m),dh[1]=dw(t,r,o,m);var v=l9(dh,du);m<=1&&v<h?(u=m,h=v):d*=.5}}return l&&(l[0]=dw(e,i,n,u),l[1]=dw(t,r,o,u)),ds(h)}var dE=/cubic-bezier\(([0-9,\.e ]+)\)/;function dT(e){var t=e&&dE.exec(e);if(t){var i=t[1].split(","),r=+lI(i[0]),n=+lI(i[1]),o=+lI(i[2]),s=+lI(i[3]);if(isNaN(r+n+o+s))return;var a=[];return function(e){return e<=0?0:e>=1?1:dm(0,r,o,1,e,a)&&dg(0,n,s,1,a[0])}}}var dM=function(){function e(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||lW,this.ondestroy=e.ondestroy||lW,this.onrestart=e.onrestart||lW,e.easing&&this.setEasing(e.easing)}return e.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var i=this._life,r=e-this._startTime-this._pausedTime,n=r/i;n<0&&(n=0),n=Math.min(n,1);var o=this.easingFunc,s=o?o(n):n;if(this.onframe(s),1===n)if(!this.loop)return!0;else this._startTime=e-r%i,this._pausedTime=0,this.onrestart();return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(e){this.easing=e,this.easingFunc=lp(e)?e:dr[e]||dT(e)},e}(),dR=function(e){this.value=e},dD=function(){function e(){this._len=0}return e.prototype.insert=function(e){var t=new dR(e);return this.insertEntry(t),t},e.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},e.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),dA=function(){function e(e){this._list=new dD,this._maxSize=10,this._map={},this._maxSize=e}return e.prototype.put=function(e,t){var i=this._list,r=this._map,n=null;if(null==r[e]){var o=i.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var a=i.head;i.remove(a),delete r[a.key],n=a.value,this._lastRemovedEntry=a}s?s.value=t:s=new dR(t),s.key=e,i.insertEntry(s),r[e]=s}return n},e.prototype.get=function(e){var t=this._map[e],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),dI={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function dP(e){return(e=Math.round(e))<0?0:e>255?255:e}function dL(e){return e<0?0:e>1?1:e}function dk(e){return e.length&&"%"===e.charAt(e.length-1)?dP(parseFloat(e)/100*255):dP(parseInt(e,10))}function dN(e){return e.length&&"%"===e.charAt(e.length-1)?dL(parseFloat(e)/100):dL(parseFloat(e))}function dF(e,t,i){return(i<0?i+=1:i>1&&(i-=1),6*i<1)?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function dO(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e}function dG(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var dV=new dA(20),dB=null;function dH(e,t){dB&&dG(dB,t),dB=dV.put(e,dB||t.slice())}function dz(e,t){if(e){t=t||[];var i=dV.get(e);if(i)return dG(t,i);var r=(e+="").replace(/ /g,"").toLowerCase();if(r in dI)return dG(t,dI[r]),dH(e,t),t;var n=r.length;if("#"===r.charAt(0)){if(4===n||5===n){var o=parseInt(r.slice(1,4),16);return o>=0&&o<=4095?(dO(t,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===n?parseInt(r.slice(4),16)/15:1),dH(e,t),t):void dO(t,0,0,0,1)}if(7===n||9===n){var o=parseInt(r.slice(1,7),16);return o>=0&&o<=0xffffff?(dO(t,(0xff0000&o)>>16,(65280&o)>>8,255&o,9===n?parseInt(r.slice(7),16)/255:1),dH(e,t),t):void dO(t,0,0,0,1)}return}var s=r.indexOf("("),a=r.indexOf(")");if(-1!==s&&a+1===n){var l=r.substr(0,s),u=r.substr(s+1,a-(s+1)).split(","),d=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?dO(t,+u[0],+u[1],+u[2],1):dO(t,0,0,0,1);d=dN(u.pop());case"rgb":if(u.length>=3)return dO(t,dk(u[0]),dk(u[1]),dk(u[2]),3===u.length?d:dN(u[3])),dH(e,t),t;return void dO(t,0,0,0,1);case"hsla":if(4!==u.length)return void dO(t,0,0,0,1);return u[3]=dN(u[3]),dW(u,t),dH(e,t),t;case"hsl":if(3!==u.length)return void dO(t,0,0,0,1);return dW(u,t),dH(e,t),t;default:return}}dO(t,0,0,0,1)}}function dW(e,t){var i=(parseFloat(e[0])%360+360)%360/360,r=dN(e[1]),n=dN(e[2]),o=n<=.5?n*(r+1):n+r-n*r,s=2*n-o;return dO(t=t||[],dP(255*dF(s,o,i+1/3)),dP(255*dF(s,o,i)),dP(255*dF(s,o,i-1/3)),1),4===e.length&&(t[3]=e[3]),t}function dU(e,t){var i=dz(e);if(i){for(var r=0;r<3;r++)t<0?i[r]=i[r]*(1-t)|0:i[r]=(255-i[r])*t+i[r]|0,i[r]>255?i[r]=255:i[r]<0&&(i[r]=0);return dX(i,4===i.length?"rgba":"rgb")}}function dj(e){var t=dz(e);if(t)return(0x1000000+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function d$(e,t,i){if(t&&t.length&&e>=0&&e<=1){i=i||[];var r,n,o,s,a=e*(t.length-1),l=Math.floor(a),u=Math.ceil(a),d=t[l],h=t[u],c=a-l;return i[0]=dP((r=d[0],r+(h[0]-r)*c)),i[1]=dP((n=d[1],n+(h[1]-n)*c)),i[2]=dP((o=d[2],o+(h[2]-o)*c)),i[3]=dL((s=d[3],s+(h[3]-s)*c)),i}}function dK(e,t,i){if(t&&t.length&&e>=0&&e<=1){var r,n,o,s,a=e*(t.length-1),l=Math.floor(a),u=Math.ceil(a),d=dz(t[l]),h=dz(t[u]),c=a-l,p=dX([dP((r=d[0],r+(h[0]-r)*c)),dP((n=d[1],n+(h[1]-n)*c)),dP((o=d[2],o+(h[2]-o)*c)),dL((s=d[3],s+(h[3]-s)*c))],"rgba");return i?{color:p,leftIndex:l,rightIndex:u,value:a}:p}}function dY(e,t,i,r){var n,o=dz(e);if(e)return o=function(e){if(e){var t,i,r=e[0]/255,n=e[1]/255,o=e[2]/255,s=Math.min(r,n,o),a=Math.max(r,n,o),l=a-s,u=(a+s)/2;if(0===l)t=0,i=0;else{i=u<.5?l/(a+s):l/(2-a-s);var d=((a-r)/6+l/2)/l,h=((a-n)/6+l/2)/l,c=((a-o)/6+l/2)/l;r===a?t=c-h:n===a?t=1/3+d-c:o===a&&(t=2/3+h-d),t<0&&(t+=1),t>1&&(t-=1)}var p=[360*t,i,u];return null!=e[3]&&p.push(e[3]),p}}(o),null!=t&&(o[0]=(n=Math.round(n=t))<0?0:n>360?360:n),null!=i&&(o[1]=dN(i)),null!=r&&(o[2]=dN(r)),dX(dW(o),"rgba")}function dq(e,t){var i=dz(e);if(i&&null!=t)return i[3]=dL(t),dX(i,"rgba")}function dX(e,t){if(e&&e.length){var i=e[0]+","+e[1]+","+e[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(i+=","+e[3]),t+"("+i+")"}}function dZ(e,t){var i=dz(e);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*t:0}function dQ(){return dX([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}var dJ=new dA(100);function d0(e){if(lg(e)){var t=dJ.get(e);return t||(t=dU(e,-.1),dJ.put(e,t)),t}if(lb(e)){var i=a8({},e);return i.colorStops=lo(e.colorStops,function(e){return{offset:e.offset,color:dU(e.color,-.1)}}),i}return e}e.s(["fastLerp",()=>d$,"fastMapToColor",()=>d$,"lerp",()=>dK,"lift",()=>dU,"liftColor",()=>d0,"lum",()=>dZ,"mapToColor",()=>dK,"modifyAlpha",()=>dq,"modifyHSL",()=>dY,"parse",()=>dz,"random",()=>dQ,"stringify",()=>dX,"toHex",()=>dj],14670);var d1=e.i(67034),d2=Math.round;function d5(e){var t;if(e&&"transparent"!==e){if("string"==typeof e&&e.indexOf("rgba")>-1){var i=dz(e);i&&(e="rgb("+i[0]+","+i[1]+","+i[2]+")",t=i[3])}}else e="none";return{color:e,opacity:null==t?1:t}}function d3(e){return e<1e-4&&e>-1e-4}function d4(e){return d2(1e3*e)/1e3}function d6(e){return d2(1e4*e)/1e4}var d8={left:"start",right:"end",center:"middle",middle:"middle"};function d9(e){return e&&!!e.image}function d7(e){return d9(e)||e&&!!e.svgElement}function he(e){return"linear"===e.type}function ht(e){return"radial"===e.type}function hi(e){return e&&("linear"===e.type||"radial"===e.type)}function hr(e){return"url(#"+e+")"}function hn(e){var t=e.getGlobalScale();return Math.max(Math.ceil(Math.log(Math.max(t[0],t[1]))/Math.log(10)),1)}function ho(e){var t=e.x||0,i=e.y||0,r=(e.rotation||0)*lU,n=lT(e.scaleX,1),o=lT(e.scaleY,1),s=e.skewX||0,a=e.skewY||0,l=[];return(t||i)&&l.push("translate("+t+"px,"+i+"px)"),r&&l.push("rotate("+r+")"),(1!==n||1!==o)&&l.push("scale("+n+","+o+")"),(s||a)&&l.push("skew("+d2(s*lU)+"deg, "+d2(a*lU)+"deg)"),l.join(" ")}var hs=aG.hasGlobalWindow&&lp(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:void 0!==d1.Buffer?function(e){return d1.Buffer.from(e).toString("base64")}:function(e){return null},ha=Array.prototype.slice;function hl(e,t,i,r){for(var n,o=t.length,s=0;s<o;s++)e[s]=(n=t[s],(i[s]-n)*r+n);return e}function hu(e,t,i,r){for(var n=t.length,o=0;o<n;o++)e[o]=t[o]+i[o]*r;return e}function hd(e,t,i,r){for(var n=t.length,o=n&&t[0].length,s=0;s<n;s++){e[s]||(e[s]=[]);for(var a=0;a<o;a++)e[s][a]=t[s][a]+i[s][a]*r}return e}function hh(e){if(lr(e)){var t=e.length;if(lr(e[0])){for(var i=[],r=0;r<t;r++)i.push(ha.call(e[r]));return i}return ha.call(e)}return e}function hc(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=null==e[3]?1:e[3],"rgba("+e.join(",")+")"}function hp(e){return 4===e||5===e}function hg(e){return 1===e||2===e}var hf=[0,0,0,0],hm=function(){function e(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(e,t,i){this._needsSort=!0;var r=this.keyframes,n=r.length,o=!1,s=6,a=t;if(lr(t)){var l=lr(t&&t[0])?2:1;s=l,(1!==l||lm(t[0]))&&(2!==l||lm(t[0][0]))||(o=!0)}else if(lm(t)&&t==t)s=0;else if(lg(t))if(isNaN(+t)){var u=dz(t);u&&(a=u,s=3)}else s=0;else if(lb(t)){var d=a8({},a);d.colorStops=lo(t.colorStops,function(e){return{offset:e.offset,color:dz(e.color)}}),he(t)?s=4:ht(t)&&(s=5),a=d}0===n?this.valType=s:(s!==this.valType||6===s)&&(o=!0),this.discrete=this.discrete||o;var h={time:e,value:a,rawValue:t,percent:0};return i&&(h.easing=i,h.easingFunc=lp(i)?i:dr[i]||dT(i)),r.push(h),h},e.prototype.prepare=function(e,t){var i=this.keyframes;this._needsSort&&i.sort(function(e,t){return e.time-t.time});for(var r=this.valType,n=i.length,o=i[n-1],s=this.discrete,a=hg(r),l=hp(r),u=0;u<n;u++){var d=i[u],h=d.value,c=o.value;d.percent=d.time/e,!s&&(a&&u!==n-1?function(e,t,i){if(e.push&&t.push){var r=e.length,n=t.length;if(r!==n)if(r>n)e.length=n;else for(var o=r;o<n;o++)e.push(1===i?t[o]:ha.call(t[o]));for(var s=e[0]&&e[0].length,o=0;o<e.length;o++)if(1===i)isNaN(e[o])&&(e[o]=t[o]);else for(var a=0;a<s;a++)isNaN(e[o][a])&&(e[o][a]=t[o][a])}}(h,c,r):l&&function(e,t){for(var i=e.length,r=t.length,n=i>r?t:e,o=Math.min(i,r),s=n[o-1]||{color:[0,0,0,0],offset:0},a=o;a<Math.max(i,r);a++)n.push({offset:s.offset,color:s.color.slice()})}(h.colorStops,c.colorStops))}if(!s&&5!==r&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;for(var p=i[0].value,u=0;u<n;u++)0===r?i[u].additiveValue=i[u].value-p:3===r?i[u].additiveValue=hu([],i[u].value,p,-1):hg(r)&&(i[u].additiveValue=1===r?hu([],i[u].value,p,-1):hd([],i[u].value,p,-1))}},e.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,r,n,o=null!=this._additiveTrack,s=o?"additiveValue":"value",a=this.valType,l=this.keyframes,u=l.length,d=this.propName,h=3===a,c=this._lastFr,p=Math.min;if(1===u)r=n=l[0];else{if(t<0)i=0;else if(t<this._lastFrP){for(i=p(c+1,u-1);i>=0&&!(l[i].percent<=t);i--);i=p(i,u-2)}else{for(i=c;i<u&&!(l[i].percent>t);i++);i=p(i-1,u-2)}n=l[i+1],r=l[i]}if(r&&n){this._lastFr=i,this._lastFrP=t;var g=n.percent-r.percent,f=0===g?1:p((t-r.percent)/g,1);n.easingFunc&&(f=n.easingFunc(f));var m=o?this._additiveValue:h?hf:e[d];if((hg(a)||h)&&!m&&(m=this._additiveValue=[]),this.discrete)e[d]=f<1?r.rawValue:n.rawValue;else if(hg(a))1===a?hl(m,r[s],n[s],f):function(e,t,i,r){for(var n=t.length,o=n&&t[0].length,s=0;s<n;s++){e[s]||(e[s]=[]);for(var a,l=0;l<o;l++)e[s][l]=(a=t[s][l],(i[s][l]-a)*r+a)}}(m,r[s],n[s],f);else if(hp(a)){var v,y,C,w,b,S=r[s],x=n[s],_=4===a;(e[d]={type:_?"linear":"radial",x:(v=S.x,(x.x-v)*f+v),y:(y=S.y,(x.y-y)*f+y),colorStops:lo(S.colorStops,function(e,t){var i,r=x.colorStops[t];return{offset:(i=e.offset,(r.offset-i)*f+i),color:hc(hl([],e.color,r.color,f))}}),global:x.global},_)?(e[d].x2=(C=S.x2,(x.x2-C)*f+C),e[d].y2=(w=S.y2,(x.y2-w)*f+w)):e[d].r=(b=S.r,(x.r-b)*f+b)}else if(h)hl(m,r[s],n[s],f),o||(e[d]=hc(m));else{var E,T=(E=r[s],(n[s]-E)*f+E);o?this._additiveValue=T:e[d]=T}o&&this._addToTarget(e)}}},e.prototype._addToTarget=function(e){var t=this.valType,i=this.propName,r=this._additiveValue;0===t?e[i]=e[i]+r:3===t?(dz(e[i],hf),hu(hf,hf,r,1),e[i]=hc(hf)):1===t?hu(e[i],e[i],r,1):2===t&&hd(e[i],e[i],r,1)},e}(),hv=function(){function e(e,t,i,r){(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r)?a5("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=i)}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(e){this._target=e},e.prototype.when=function(e,t,i){return this.whenWithKeys(e,t,lu(t),i)},e.prototype.whenWithKeys=function(e,t,i,r){for(var n=this._tracks,o=0;o<i.length;o++){var s=i[o],a=n[s];if(!a){a=n[s]=new hm(s);var l=void 0,u=this._getAdditiveTrack(s);if(u){var d=u.keyframes,h=d[d.length-1];l=h&&h.value,3===u.valType&&l&&(l=hc(l))}else l=this._target[s];if(null==l)continue;e>0&&a.addKeyframe(0,hh(l),r),this._trackKeys.push(s)}a.addKeyframe(e,hh(t[s]),r)}return this._maxTime=Math.max(this._maxTime,e),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},e.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},e.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var n=i[r].getTrack(e);n&&(t=n)}return t},e.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,i=[],r=this._maxTime||0,n=0;n<this._trackKeys.length;n++){var o=this._trackKeys[n],s=this._tracks[o],a=this._getAdditiveTrack(o),l=s.keyframes,u=l.length;if(s.prepare(r,a),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=l[u-1];d&&(t._target[s.propName]=d.rawValue),s.setFinished()}else i.push(s)}if(i.length||this._force){var h=new dM({life:r,loop:this._loop,delay:this._delay||0,onframe:function(e){t._started=2;var r=t._additiveAnimators;if(r){for(var n=!1,o=0;o<r.length;o++)if(r[o]._clip){n=!0;break}n||(t._additiveAnimators=null)}for(var o=0;o<i.length;o++)i[o].step(t._target,e);var s=t._onframeCbs;if(s)for(var o=0;o<s.length;o++)s[o](t._target,e)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},e.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},e.prototype.delay=function(e){return this._delay=e,this},e.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},e.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},e.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(e){return this._tracks[e]},e.prototype.getTracks=function(){var e=this;return lo(this._trackKeys,function(t){return e._tracks[t]})},e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,n=0;n<e.length;n++){var o=i[e[n]];o&&!o.isFinished()&&(t?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}for(var s=!0,n=0;n<r.length;n++)if(!i[r[n]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(e,t,i){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var n=t[r],o=this._tracks[n];if(!(!o||o.isFinished())){var s=o.keyframes,a=s[i?0:s.length-1];a&&(e[n]=hh(a.rawValue))}}}},e.prototype.__changeFinalValue=function(e,t){t=t||lu(e);for(var i=0;i<t.length;i++){var r=t[i],n=this._tracks[r];if(n){var o=n.keyframes;if(o.length>1){var s=o.pop();n.addKeyframe(s.time,e[r]),n.prepare(this._maxTime,n.getAdditiveTrack())}}}},e}();function hy(){return new Date().getTime()}var hC=function(e){function t(t){var i=e.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(t=t||{}).stage||{},i}return l$(t,e),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();t&&this.addClip(t)},t.prototype.removeClip=function(e){if(e.animation){var t=e.prev,i=e.next;t?t.next=i:this._head=i,i?i.prev=t:this._tail=t,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},t.prototype.update=function(e){for(var t=hy()-this._pausedTime,i=t-this._time,r=this._head;r;){var n=r.next;r.step(t,i)&&(r.ondestroy(),this.removeClip(r)),r=n}this._time=t,!e&&(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,j(function t(){e._running&&(j(t),e._paused||e.update())})},t.prototype.start=function(){this._running||(this._time=hy(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=hy(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=hy()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var t=e.next;e.prev=e.next=e.animation=null,e=t}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,t){t=t||{},this.start();var i=new hv(e,t.loop);return this.addAnimator(i),i},t}(us),hw=aG.domSupported,hb=(f={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},m=lo(g=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],function(e){var t=e.replace("mouse","pointer");return f.hasOwnProperty(t)?t:e}),{mouse:g,touch:["touchstart","touchend","touchmove"],pointer:m}),hS=["mousemove","mouseup"],hx=["pointermove","pointerup"],h_=!1;function hE(e){var t=e.pointerType;return"pen"===t||"touch"===t}function hT(e){e&&(e.zrByTouch=!0)}function hM(e,t){for(var i=t,r=!1;i&&9!==i.nodeType&&!(r=i.domBelongToZr||i!==t&&i===e.painterRoot);)i=i.parentNode;return r}var hR=function(e,t){this.stopPropagation=lW,this.stopImmediatePropagation=lW,this.preventDefault=lW,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},hD={mousedown:function(e){e=ux(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=ux(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=ux(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){hM(this,(e=ux(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){h_=!0,e=ux(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){h_||(e=ux(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){hT(e=ux(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),hD.mousemove.call(this,e),hD.mousedown.call(this,e)},touchmove:function(e){hT(e=ux(this.dom,e)),this.handler.processGesture(e,"change"),hD.mousemove.call(this,e)},touchend:function(e){hT(e=ux(this.dom,e)),this.handler.processGesture(e,"end"),hD.mouseup.call(this,e),new Date-this.__lastTouchMoment<300&&hD.click.call(this,e)},pointerdown:function(e){hD.mousedown.call(this,e)},pointermove:function(e){hE(e)||hD.mousemove.call(this,e)},pointerup:function(e){hD.mouseup.call(this,e)},pointerout:function(e){hE(e)||hD.mouseout.call(this,e)}};ln(["click","dblclick","contextmenu"],function(e){hD[e]=function(t){t=ux(this.dom,t),this.trigger(e,t)}});var hA={pointermove:function(e){hE(e)||hA.mousemove.call(this,e)},pointerup:function(e){hA.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function hI(e,t,i,r){e.mounted[t]=i,e.listenerOpts[t]=r,u_(e.domTarget,t,i,r)}function hP(e){var t,i,r,n=e.mounted;for(var o in n)n.hasOwnProperty(o)&&(t=e.domTarget,i=n[o],r=e.listenerOpts[o],t.removeEventListener(o,i,r));e.mounted={}}var hL=function(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t},hk=function(e){function t(t,i){var r,n,o=e.call(this)||this;return o.__pointerCapturing=!1,o.dom=t,o.painterRoot=i,o._localHandlerScope=new hL(t,hD),hw&&(o._globalHandlerScope=new hL(document,hA)),n=(r=o._localHandlerScope).domHandlers,aG.pointerEventsSupported?ln(hb.pointer,function(e){hI(r,e,function(t){n[e].call(o,t)})}):(aG.touchEventsSupported&&ln(hb.touch,function(e){hI(r,e,function(t){n[e].call(o,t),r.touching=!0,null!=r.touchTimer&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)})}),ln(hb.mouse,function(e){hI(r,e,function(t){t=uS(t),r.touching||n[e].call(o,t)})})),o}return l$(t,e),t.prototype.dispose=function(){hP(this._localHandlerScope),hw&&hP(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,hw&&this.__pointerCapturing^e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?function(e,t){aG.pointerEventsSupported?ln(hx,i):aG.touchEventsSupported||ln(hS,i);function i(i){hI(t,i,function(r){if(!hM(e,(r=uS(r)).target)){var n;n=r,r=ux(e.dom,new hR(e,n),!0),t.domHandlers[i].call(e,r)}},{capture:!0})}}(this,t):hP(t)}},t}(us),hN=1;aG.hasGlobalWindow&&(hN=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var hF=hN,hO="#333",hG="#ccc";function hV(e){return e>5e-5||e<-5e-5}var hB=[],hH=[],hz=uA(),hW=Math.abs,hU=function(){var e;function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return hV(this.rotation)||hV(this.x)||hV(this.y)||hV(this.scaleX-1)||hV(this.scaleY-1)||hV(this.skewX)||hV(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;if(!(t||e)){i&&(uI(i),this.invTransform=null);return}i=i||uA(),t?this.getLocalTransform(i):uI(i),e&&(t?uL(i,e,i):uP(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)},t.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(hB);var i=hB[0]<0?-1:1,r=hB[1]<0?-1:1,n=((hB[0]-i)*t+i)/hB[0]||0,o=((hB[1]-r)*t+r)/hB[1]||0;e[0]*=n,e[1]*=n,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||uA(),uO(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),n=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(n),t=Math.sqrt(t),this.skewX=n,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||uA(),uL(hH,e.invTransform,t),t=hH);var i=this.originX,r=this.originY;(i||r)&&(hz[4]=i,hz[5]=r,uL(hH,t,hz),hH[4]-=i,hH[5]-=r,t=hH),this.setLocalTransform(t)}},t.prototype.getGlobalScale=function(e){var t=this.transform;return(e=e||[],t)?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1])):(e[0]=1,e[1]=1),e},t.prototype.transformCoordToLocal=function(e,t){var i=[e,t],r=this.invTransform;return r&&ut(i,i,r),i},t.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],r=this.transform;return r&&ut(i,i,r),i},t.prototype.getLineScale=function(){var e=this.transform;return e&&hW(e[0]-1)>1e-10&&hW(e[3]-1)>1e-10?Math.sqrt(hW(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){h$(this,e)},t.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,r=e.originY||0,n=e.scaleX,o=e.scaleY,s=e.anchorX,a=e.anchorY,l=e.rotation||0,u=e.x,d=e.y,h=e.skewX?Math.tan(e.skewX):0,c=e.skewY?Math.tan(-e.skewY):0;if(i||r||s||a){var p=i+s,g=r+a;t[4]=-p*n-h*g*o,t[5]=-g*o-c*p*n}else t[4]=t[5]=0;return t[0]=n,t[3]=o,t[1]=c*n,t[2]=h*o,l&&uN(t,t,l),t[4]+=i+u,t[5]+=r+d,t},t.initDefaultProps=void((e=t.prototype).scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0),t}(),hj=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function h$(e,t){for(var i=0;i<hj.length;i++){var r=hj[i];e[r]=t[r]}}var hK={};function hY(e,t){var i=hK[t=t||aB];i||(i=hK[t]=new dA(500));var r=i.get(e);return null==r&&(r=az.measureText(e,t).width,i.put(e,r)),r}function hq(e,t,i,r){var n=hY(e,t),o=hJ(t);return new uY(hZ(0,n,i),hQ(0,o,r),n,o)}function hX(e,t,i,r){var n=((e||"")+"").split("\n");if(1===n.length)return hq(n[0],t,i,r);for(var o=new uY(0,0,0,0),s=0;s<n.length;s++){var a=hq(n[s],t,i,r);0===s?o.copy(a):o.union(a)}return o}function hZ(e,t,i){return"right"===i?e-=t:"center"===i&&(e-=t/2),e}function hQ(e,t,i){return"middle"===i?e-=t/2:"bottom"===i&&(e-=t),e}function hJ(e){return hY("å›½",e)}function h0(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function h1(e,t,i){var r=t.position||"inside",n=null!=t.distance?t.distance:5,o=i.height,s=i.width,a=o/2,l=i.x,u=i.y,d="left",h="top";if(r instanceof Array)l+=h0(r[0],i.width),u+=h0(r[1],i.height),d=null,h=null;else switch(r){case"left":l-=n,u+=a,d="right",h="middle";break;case"right":l+=n+s,u+=a,h="middle";break;case"top":l+=s/2,u-=n,d="center",h="bottom";break;case"bottom":l+=s/2,u+=o+n,d="center";break;case"inside":l+=s/2,u+=a,d="center",h="middle";break;case"insideLeft":l+=n,u+=a,h="middle";break;case"insideRight":l+=s-n,u+=a,d="right",h="middle";break;case"insideTop":l+=s/2,u+=n,d="center";break;case"insideBottom":l+=s/2,u+=o-n,d="center",h="bottom";break;case"insideTopLeft":l+=n,u+=n;break;case"insideTopRight":l+=s-n,u+=n,d="right";break;case"insideBottomLeft":l+=n,u+=o-n,h="bottom";break;case"insideBottomRight":l+=s-n,u+=o-n,d="right",h="bottom"}return(e=e||{}).x=l,e.y=u,e.align=d,e.verticalAlign=h,e}var h2="__zr_normal__",h5=hj.concat(["ignore"]),h3=ls(hj,function(e,t){return e[t]=!0,e},{ignore:!1}),h4={},h6=new uY(0,0,0,0),h8=function(){function e(e){this.id=a2(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return e.prototype._init=function(e){this.attr(e)},e.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,n=t.innerTransformable,o=void 0,s=void 0,a=!1;n.parent=r?this:null;var l=!1;if(n.copyTransform(t),null!=i.position){i.layoutRect?h6.copy(i.layoutRect):h6.copy(this.getBoundingRect()),r||h6.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(h4,i,h6):h1(h4,i,h6),n.x=h4.x,n.y=h4.y,o=h4.align,s=h4.verticalAlign;var u=i.origin;if(u&&null!=i.rotation){var d=void 0,h=void 0;"center"===u?(d=.5*h6.width,h=.5*h6.height):(d=h0(u[0],h6.width),h=h0(u[1],h6.height)),l=!0,n.originX=-n.x+d+(r?0:h6.x),n.originY=-n.y+h+(r?0:h6.y)}}null!=i.rotation&&(n.rotation=i.rotation);var c=i.offset;c&&(n.x+=c[0],n.y+=c[1],l||(n.originX=-c[0],n.originY=-c[1]));var p=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),f=void 0,m=void 0,v=void 0;p&&this.canBeInsideText()?(f=i.insideFill,m=i.insideStroke,(null==f||"auto"===f)&&(f=this.getInsideTextFill()),(null==m||"auto"===m)&&(m=this.getInsideTextStroke(f),v=!0)):(f=i.outsideFill,m=i.outsideStroke,(null==f||"auto"===f)&&(f=this.getOutsideFill()),(null==m||"auto"===m)&&(m=this.getOutsideStroke(f),v=!0)),((f=f||"#000")!==g.fill||m!==g.stroke||v!==g.autoStroke||o!==g.align||s!==g.verticalAlign)&&(a=!0,g.fill=f,g.stroke=m,g.autoStroke=v,g.align=o,g.verticalAlign=s,t.setDefaultTextStyle(g)),t.__dirty|=1,a&&t.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(e){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?hG:hO},e.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof t&&dz(t);i||(i=[255,255,255,1]);for(var r=i[3],n=this.__zr.isDarkMode(),o=0;o<3;o++)i[o]=i[o]*r+255*!n*(1-r);return i[3]=1,dX(i,"rgba")},e.prototype.traverse=function(e,t){},e.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},a8(this.extra,t)):this[e]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(lv(e))for(var i=lu(e),r=0;r<i.length;r++){var n=i[r];this.attrKV(n,e[n])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],n=r.__fromStateTransition;if(!r.getLoop()&&(!n||n===h2)){var o=r.targetName,s=o?t[o]:t;r.saveTo(s)}}},e.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,h5)},e.prototype._savePrimaryToNormal=function(e,t,i){for(var r=0;r<i.length;r++){var n=i[r];null==e[n]||n in t||(t[n]=this[n])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(e){return this.states[e]},e.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},e.prototype.clearStates=function(e){this.useState(h2,!1,e)},e.prototype.useState=function(e,t,i,r){var n,o=e===h2;if(this.hasState()||!o){var s=this.currentStates,a=this.stateTransition;if(!(le(s,e)>=0)||!t&&1!==s.length){if(this.stateProxy&&!o&&(n=this.stateProxy(e)),n||(n=this.states&&this.states[e]),!n&&!o)return void a5("State "+e+" not exists.");o||this.saveCurrentToNormalState(n);var l=!!(n&&n.hoverLayer||r);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,n,this._normalState,t,!i&&!this.__inHover&&a&&a.duration>0,a);var u=this._textContent,d=this._textGuide;return u&&u.useState(e,t,i,l),d&&d.useState(e,t,i,l),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),n}}},e.prototype.useStates=function(e,t,i){if(e.length){var r=[],n=this.currentStates,o=e.length,s=o===n.length;if(s){for(var a=0;a<o;a++)if(e[a]!==n[a]){s=!1;break}}if(!s){for(var a=0;a<o;a++){var l=e[a],u=void 0;this.stateProxy&&(u=this.stateProxy(l,e)),u||(u=this.states[l]),u&&r.push(u)}var d=r[o-1],h=!!(d&&d.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0);var c=this._mergeStates(r),p=this.stateTransition;this.saveCurrentToNormalState(c),this._applyStateObj(e.join(","),c,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,f=this._textGuide;g&&g.useStates(e,t,h),f&&f.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}}else this.clearStates()},e.prototype.isSilent=function(){for(var e=this.silent,t=this.parent;!e&&t;){if(t.silent){e=!0;break}t=t.parent}return e},e.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(e){var t=le(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},e.prototype.replaceState=function(e,t,i){var r=this.currentStates.slice(),n=le(r,e),o=le(r,t)>=0;n>=0?o?r.splice(n,1):r[n]=t:i&&!o&&r.push(t),this.useStates(r)},e.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},e.prototype._mergeStates=function(e){for(var t,i={},r=0;r<e.length;r++){var n=e[r];a8(i,n),n.textConfig&&a8(t=t||{},n.textConfig)}return t&&(i.textConfig=t),i},e.prototype._applyStateObj=function(e,t,i,r,n,o){var s=!(t&&r);t&&t.textConfig?(this.textConfig=a8({},r?this.textConfig:i.textConfig),a8(this.textConfig,t.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var a={},l=!1,u=0;u<h5.length;u++){var d=h5[u],h=n&&h3[d];t&&null!=t[d]?h?(l=!0,a[d]=t[d]):this[d]=t[d]:s&&null!=i[d]&&(h?(l=!0,a[d]=i[d]):this[d]=i[d])}if(!n)for(var u=0;u<this.animators.length;u++){var c=this.animators[u],p=c.targetName;c.getLoop()||c.__changeFinalValue(p?(t||i)[p]:t||i)}l&&this._transitionState(e,a,o)},e.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},e.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},e.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new hU,this._attachComponent(e),this._textContent=e,this.markRedraw())},e.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),a8(this.textConfig,e),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=1;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},e.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},e.prototype.animate=function(e,t,i){var r=new hv(e?this[e]:this,t,i);return e&&(r.targetName=e),this.addAnimator(r,e),r},e.prototype.addAnimator=function(e,t){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var t=r.animators,i=le(t,e);i>=0&&t.splice(i,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},e.prototype.updateDuringAnimation=function(e){this.markRedraw()},e.prototype.stopAnimation=function(e,t){for(var i=this.animators,r=i.length,n=[],o=0;o<r;o++){var s=i[o];e&&e!==s.scope?n.push(s):s.stop(t)}return this.animators=n,this},e.prototype.animateTo=function(e,t,i){h9(this,e,t,i)},e.prototype.animateFrom=function(e,t,i){h9(this,e,t,i,!0)},e.prototype._transitionState=function(e,t,i,r){for(var n=h9(this,t,i,r),o=0;o<n.length;o++)n[o].__fromStateTransition=e},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;function i(e,i,r,n){Object.defineProperty(t,e,{get:function(){return this[i]||o(this,this[i]=[]),this[i]},set:function(e){this[r]=e[0],this[n]=e[1],this[i]=e,o(this,e)}});function o(e,t){Object.defineProperty(t,0,{get:function(){return e[r]},set:function(t){e[r]=t}}),Object.defineProperty(t,1,{get:function(){return e[n]},set:function(t){e[n]=t}})}}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=1,Object.defineProperty&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),e}();function h9(e,t,i,r,n){var o=[];!function e(t,i,r,n,o,s,a,l){for(var u=lu(n),d=o.duration,h=o.delay,c=o.additive,p=o.setToFinal,g=!lv(s),f=t.animators,m=[],v=0;v<u.length;v++){var y=u[v],C=n[y];if(null!=C&&null!=r[y]&&(g||s[y]))if(!lv(C)||lr(C)||lb(C))m.push(y);else{if(i){l||(r[y]=C,t.updateDuringAnimation(i));continue}e(t,y,r[y],C,o,s&&s[y],a,l)}else l||(r[y]=C,t.updateDuringAnimation(i),m.push(y))}var w=m.length;if(!c&&w)for(var b=0;b<f.length;b++){var S=f[b];if(S.targetName===i&&S.stopTracks(m)){var x=le(f,S);f.splice(x,1)}}if(o.force||(w=(m=la(m,function(e){var t,i;return!((t=n[e])===(i=r[e])||lr(t)&&lr(i)&&function(e,t){var i=e.length;if(i!==t.length)return!1;for(var r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}(t,i))})).length),w>0||o.force&&!a.length){var _=void 0,E=void 0,T=void 0;if(l){E={},p&&(_={});for(var b=0;b<w;b++){var y=m[b];E[y]=r[y],p?_[y]=n[y]:r[y]=n[y]}}else if(p){T={};for(var b=0;b<w;b++){var y=m[b];T[y]=hh(r[y]),function(e,t,i){if(lr(t[i]))if(lr(e[i])||(e[i]=[]),lC(t[i])){var r=t[i].length;e[i].length!==r&&(e[i]=new t[i].constructor(r),h7(e[i],t[i],r))}else{var n=t[i],o=e[i],s=n.length;if(lr(n[0]))for(var a=n[0].length,l=0;l<s;l++)o[l]?h7(o[l],n[l],a):o[l]=Array.prototype.slice.call(n[l]);else h7(o,n,s);o.length=n.length}else e[i]=t[i]}(r,n,y)}}var S=new hv(r,!1,!1,c?la(f,function(e){return e.targetName===i}):null);S.targetName=i,o.scope&&(S.scope=o.scope),p&&_&&S.whenWithKeys(0,_,m),T&&S.whenWithKeys(0,T,m),S.whenWithKeys(null==d?500:d,l?E:n,m).delay(h||0),t.addAnimator(S,i),a.push(S)}}(e,"",e,t,i=i||{},r,o,n);var s=o.length,a=!1,l=i.done,u=i.aborted,d=function(){a=!0,--s<=0&&(a?l&&l():u&&u())},h=function(){--s<=0&&(a?l&&l():u&&u())};!s&&l&&l(),o.length>0&&i.during&&o[0].during(function(e,t){i.during(t)});for(var c=0;c<o.length;c++){var p=o[c];p.done(d),p.aborted(h),i.force&&p.duration(i.duration),p.start(i.easing)}return o}function h7(e,t,i){for(var r=0;r<i;r++)e[r]=t[r]}li(h8,us),li(h8,hU);var ce=function(e){function t(t){var i=e.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return l$(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var t=this._children,i=0;i<t.length;i++)if(t[i].name===e)return t[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var i=this._children,r=i.indexOf(t);r>=0&&(i.splice(r,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,t){var i=le(this._children,e);return i>=0&&this.replaceAt(t,i),this},t.prototype.replaceAt=function(e,t){var i=this._children,r=i[t];if(e&&e!==this&&e.parent!==this&&e!==r){i[t]=e,r.parent=null;var n=this.__zr;n&&r.removeSelfFromZr(n),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},t.prototype.remove=function(e){var t=this.__zr,i=this._children,r=le(i,e);return r<0||(i.splice(r,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,t=this.__zr,i=0;i<e.length;i++){var r=e[i];t&&r.removeSelfFromZr(t),r.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,t){for(var i=this._children,r=0;r<i.length;r++){var n=i[r];e.call(t,n,r)}return this},t.prototype.traverse=function(e,t){for(var i=0;i<this._children.length;i++){var r=this._children[i],n=e.call(t,r);r.isGroup&&!n&&r.traverse(e,t)}return this},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(t)},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(t)},t.prototype.getBoundingRect=function(e){for(var t=new uY(0,0,0,0),i=e||this._children,r=[],n=null,o=0;o<i.length;o++){var s=i[o];if(!s.ignore&&!s.invisible){var a=s.getBoundingRect(),l=s.getLocalTransform(r);l?(uY.applyTransform(t,a,l),(n=n||t.clone()).union(t)):(n=n||a.clone()).union(a)}}return n||t},t}(h8);ce.prototype.type="group";var ct={},ci={},cr=function(){function e(e,t,i){var r,n=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var o=new di,s=i.renderer||"canvas";ct[s]||(s=lu(ct)[0]),i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var a=new ct[s](t,o,i,e),l=i.ssr||a.ssrOnly;this.storage=o,this.painter=a;var u=aG.node||aG.worker||l?null:new hk(a.getViewportRoot(),a.root),d=i.useCoarsePointer;(null==d||"auto"===d?aG.touchEventsSupported:!!d)&&(r=lT(i.pointerSize,44)),this.handler=new u1(o,a,u,a.root,r),this.animation=new hC({stage:{update:l?null:function(){return n._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(e){!this._disposed&&e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},e.prototype.remove=function(e){!this._disposed&&e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},e.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return .4>dZ(e,1);if(e.colorStops){for(var t=e.colorStops,i=0,r=t.length,n=0;n<r;n++)i+=dZ(t[n].color,1);return(i/=r)<.4}return!1}(e))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(e){this._darkMode=e},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(e){var t,i=hy();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=hy();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){!this._disposed&&(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},e.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},e.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},e.prototype.on=function(e,t,i){return this._disposed||this.handler.on(e,t,i),this},e.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},e.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},e.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof ce&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){if(!this._disposed){var e;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,e=this.id,delete ci[e]}},e}();function cn(e,t){var i=new cr(a2(),e,t);return ci[i.id]=i,i}function co(e){e.dispose()}function cs(){for(var e in ci)ci.hasOwnProperty(e)&&ci[e].dispose();ci={}}function ca(e){return ci[e]}function cl(e,t){ct[e]=t}function cu(e){if("function"==typeof $)return $(e)}function cd(e){$=e}function ch(e,t,i,r){var n=t[0],o=t[1],s=i[0],a=i[1],l=o-n,u=a-s;if(0===l)return 0===u?s:(s+a)/2;if(r){if(l>0){if(e<=n)return s;else if(e>=o)return a}else if(e>=n)return s;else if(e<=o)return a}else{if(e===n)return s;if(e===o)return a}return(e-n)/l*u+s}function cc(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return lg(e)?e.replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function cp(e,t,i){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),i?e:+e}function cg(e){return e.sort(function(e,t){return e-t}),e}function cf(e){if(isNaN(e*=1))return 0;if(e>1e-14){for(var t=1,i=0;i<15;i++,t*=10)if(Math.round(e*t)/t===e)return i}return cm(e)}function cm(e){var t=e.toString().toLowerCase(),i=t.indexOf("e"),r=i>0?+t.slice(i+1):0,n=i>0?i:t.length,o=t.indexOf(".");return Math.max(0,(o<0?0:n-1-o)-r)}function cv(e,t){var i=Math.log,r=Math.LN10,n=Math.min(Math.max(-Math.floor(i(e[1]-e[0])/r)+Math.round(i(Math.abs(t[1]-t[0]))/r),0),20);return isFinite(n)?n:20}function cy(e,t,i){return e[t]&&cC(e,i)[t]||0}function cC(e,t){var i=ls(e,function(e,t){return e+(isNaN(t)?0:t)},0);if(0===i)return[];for(var r=Math.pow(10,t),n=lo(e,function(e){return(isNaN(e)?0:e)/i*r*100}),o=100*r,s=lo(n,function(e){return Math.floor(e)}),a=ls(s,function(e,t){return e+t},0),l=lo(n,function(e,t){return e-s[t]});a<o;){for(var u=-1/0,d=null,h=0,c=l.length;h<c;++h)l[h]>u&&(u=l[h],d=h);++s[d],l[d]=0,++a}return lo(s,function(e){return e/r})}function cw(e){var t=2*Math.PI;return(e%t+t)%t}function cb(e){return e>-1e-4&&e<1e-4}e.s(["dispose",()=>co,"disposeAll",()=>cs,"getElementSSRData",()=>cu,"getInstance",()=>ca,"init",()=>cn,"registerPainter",()=>cl,"registerSSRDataGetter",()=>cd,"version",()=>"5.6.1"],24e3);var cS=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function cx(e){if(e instanceof Date)return e;if(lg(e)){var t=cS.exec(e);if(!t)return new Date(NaN);if(!t[8])return new Date(+t[1],(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0);var i=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(i-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],(t[2]||1)-1,+t[3]||1,i,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return null==e?new Date(NaN):new Date(Math.round(e))}function c_(e){return Math.pow(10,cE(e))}function cE(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function cT(e,t){var i=cE(e),r=Math.pow(10,i),n=e/r;return e=(t?n<1.5?1:n<2.5?2:n<4?3:n<7?5:10:n<1?1:n<2?2:n<3?3:n<5?5:10)*r,i>=-20?+e.toFixed(i<0?-i:0):e}function cM(e,t){var i=(e.length-1)*t+1,r=Math.floor(i),n=+e[r-1],o=i-r;return o?n+o*(e[r]-n):n}function cR(e){e.sort(function(e,t){return!function e(t,i,r){return t.interval[r]<i.interval[r]||t.interval[r]===i.interval[r]&&(t.close[r]-i.close[r]==(r?-1:1)||!r&&e(t,i,1))}(e,t,0)?1:-1});for(var t=-1/0,i=1,r=0;r<e.length;){for(var n=e[r].interval,o=e[r].close,s=0;s<2;s++)n[s]<=t&&(n[s]=t,o[s]=s?1:1-i),t=n[s],i=o[s];n[0]===n[1]&&o[0]*o[1]!=1?e.splice(r,1):r++}return e}function cD(e){var t=parseFloat(e);return t==e&&(0!==t||!lg(e)||0>=e.indexOf("x"))?t:NaN}function cA(e){return!isNaN(cD(e))}function cI(){return Math.round(9*Math.random())}function cP(e,t){return null==e?t:null==t?e:e*t/function e(t,i){return 0===i?t:e(i,t%i)}(e,t)}var cL="series\0",ck="\0_ec_\0";function cN(e){return e instanceof Array?e:null==e?[]:[e]}function cF(e,t,i){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,n=i.length;r<n;r++){var o=i[r];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var cO=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function cG(e){return!lv(e)||lc(e)||e instanceof Date?e:e.value}function cV(e,t,i){var r,n,o,s,a,l,u,d,h,c,p,g,f="normalMerge"===i,m="replaceMerge"===i,v="replaceAll"===i;e=e||[],t=(t||[]).slice();var y=lG();ln(t,function(e,i){if(!lv(e)){t[i]=null;return}});var C=function(e,t,i){var r=[];if("replaceAll"===i)return r;for(var n=0;n<e.length;n++){var o=e[n];o&&null!=o.id&&t.set(o.id,n),r.push({existing:"replaceMerge"===i||cU(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}(e,y,i);return(f||m)&&(r=C,n=e,o=y,ln(s=t,function(e,t){if(e&&null!=e.id){var i=cH(e.id),a=o.get(i);if(null!=a){var l=r[a];lA(!l.newOption,'Duplicated option on id "'+i+'".'),l.newOption=e,l.existing=n[a],s[t]=null}}})),f&&(a=C,ln(l=t,function(e,t){if(e&&null!=e.name)for(var i=0;i<a.length;i++){var r=a[i].existing;if(!a[i].newOption&&r&&(null==r.id||null==e.id)&&!cU(e)&&!cU(r)&&cB("name",r,e)){a[i].newOption=e,l[t]=null;return}}})),f||m?(u=C,d=t,h=m,ln(d,function(e){if(e){for(var t,i=0;(t=u[i])&&(t.newOption||cU(t.existing)||t.existing&&null!=e.id&&!cB("id",e,t.existing));)i++;t?(t.newOption=e,t.brandNew=h):u.push({newOption:e,brandNew:h,existing:null,keyInfo:null}),i++}})):v&&(c=C,ln(t,function(e){c.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})),p=C,g=lG(),ln(p,function(e){var t=e.existing;t&&g.set(t.id,e)}),ln(p,function(e){var t=e.newOption;lA(!t||null==t.id||!g.get(t.id)||g.get(t.id)===e,"id duplicates: "+(t&&t.id)),t&&null!=t.id&&g.set(t.id,e),e.keyInfo||(e.keyInfo={})}),ln(p,function(e,t){var i=e.existing,r=e.newOption,n=e.keyInfo;if(lv(r)){if(n.name=null!=r.name?cH(r.name):i?i.name:cL+t,i)n.id=cH(i.id);else if(null!=r.id)n.id=cH(r.id);else{var o=0;do n.id="\0"+n.name+"\0"+o++;while(g.get(n.id))}g.set(n.id,e)}}),C}function cB(e,t,i){var r=cz(t[e],null),n=cz(i[e],null);return null!=r&&null!=n&&r===n}function cH(e){return cz(e,"")}function cz(e,t){return null==e?t:lg(e)?e:lm(e)||lf(e)?e+"":t}function cW(e){var t=e.name;return!!(t&&t.indexOf(cL))}function cU(e){return e&&null!=e.id&&0===cH(e.id).indexOf(ck)}function cj(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?lc(t.dataIndex)?lo(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?lc(t.name)?lo(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function c$(){var e="__ec_inner_"+cK++;return function(t){return t[e]||(t[e]={})}}var cK=cI();function cY(e,t,i){var r=cq(t,i),n=r.mainTypeSpecified,o=r.queryOptionMap,s=r.others,a=i?i.defaultMainType:null;return!n&&a&&o.set(a,{}),o.each(function(t,r){var n=cQ(e,r,t,{useDefault:a===r,enableAll:!i||null==i.enableAll||i.enableAll,enableNone:!i||null==i.enableNone||i.enableNone});s[r+"Models"]=n.models,s[r+"Model"]=n.models[0]}),s}function cq(e,t){if(lg(e)){var i,r={};r[e+"Index"]=0,i=r}else i=e;var n=lG(),o={},s=!1;return ln(i,function(e,i){if("dataIndex"===i||"dataIndexInside"===i){o[i]=e;return}var r=i.match(/^(\w+)(Index|Id|Name)$/)||[],a=r[1],l=(r[2]||"").toLowerCase();!a||!l||t&&t.includeMainTypes&&0>le(t.includeMainTypes,a)||(s=s||!!a,(n.get(a)||n.set(a,{}))[l]=e)}),{mainTypeSpecified:s,queryOptionMap:n,others:o}}var cX={useDefault:!0,enableAll:!1,enableNone:!1},cZ={useDefault:!1,enableAll:!0,enableNone:!0};function cQ(e,t,i,r){r=r||cX;var n=i.index,o=i.id,s=i.name,a={models:null,specified:null!=n||null!=o||null!=s};if(!a.specified){var l=void 0;return a.models=r.useDefault&&(l=e.getComponent(t))?[l]:[],a}return"none"===n||!1===n?(lA(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),a.models=[]):("all"===n&&(lA(r.enableAll,'`"all"` is not a valid value on index option.'),n=o=s=null),a.models=e.queryComponents({mainType:t,index:n,id:o,name:s})),a}function cJ(e,t,i){e.setAttribute?e.setAttribute(t,i):e[t]=i}function c0(e,t){var i=lG(),r=[];return ln(e,function(e){var n=t(e);(i.get(n)||(r.push(n),i.set(n,[]))).push(e)}),{keys:r,buckets:i}}function c1(e,t,i,r,n){var o=null==t||"auto"===t;if(null==r)return r;if(lm(r)){var s,a=(r-(s=i||0))*n+s;return cp(a,o?Math.max(cf(i||0),cf(r)):t)}if(lg(r))return n<1?i:r;for(var l=[],u=Math.max(i?i.length:0,r.length),d=0;d<u;++d){var h=e.getDimensionInfo(d);if(h&&"ordinal"===h.type)l[d]=(n<1&&i?i:r)[d];else{var c=i&&i[d]?i[d]:0,p=r[d],a=(p-c)*n+c;l[d]=cp(a,o?Math.max(cf(c),cf(p)):t)}}return l}var c2="___EC__COMPONENT__CONTAINER___",c5="___EC__EXTENDED_CLASS___";function c3(e){var t={main:"",sub:""};if(e){var i=e.split(".");t.main=i[0]||"",t.sub=i[1]||""}return t}function c4(e,t){e.$constructor=e,e.extend=function(e){var t,i,r=this;return lp(t=r)&&/^class\s/.test(Function.prototype.toString.call(t))?i=function(e){function t(){return e.apply(this,arguments)||this}return aF(t,e),t}(r):lt(i=function(){(e.$constructor||r).apply(this,arguments)},this),a8(i.prototype,e),i[c5]=!0,i.extend=this.extend,i.superCall=c9,i.superApply=c7,i.superClass=r,i}}function c6(e,t){e.extend=t.extend}var c8=Math.round(10*Math.random());function c9(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,i)}function c7(e,t,i){return this.superClass.prototype[t].apply(e,i)}function pe(e){var t={};e.registerClass=function(e){var i=e.type||e.prototype.type;if(i){lA(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i),'componentType "'+i+'" illegal'),e.prototype.type=i;var r,n,o=c3(i);o.sub?o.sub!==c2&&(((n=t[(r=o).main])&&n[c2]||((n=t[r.main]={})[c2]=!0),n)[o.sub]=e):t[o.main]=e}return e},e.getClass=function(e,i,r){var n=t[e];if(n&&n[c2]&&(n=i?n[i]:null),r&&!n)throw Error(i?"Component "+e+"."+(i||"")+" is used but not imported.":e+".type should be specified.");return n},e.getClassesByMainType=function(e){var i=c3(e),r=[],n=t[i.main];return n&&n[c2]?ln(n,function(e,t){t!==c2&&r.push(e)}):r.push(n),r},e.hasClass=function(e){return!!t[c3(e).main]},e.getAllClassMainTypes=function(){var e=[];return ln(t,function(t,i){e.push(i)}),e},e.hasSubTypes=function(e){var i=t[c3(e).main];return i&&i[c2]}}function pt(e,t){for(var i=0;i<e.length;i++)e[i][1]||(e[i][1]=e[i][0]);return t=t||!1,function(i,r,n){for(var o={},s=0;s<e.length;s++){var a=e[s][1];if(!(r&&le(r,a)>=0||n&&0>le(n,a))){var l=i.getShallow(a,t);null!=l&&(o[e[s][0]]=l)}}return o}}var pi=pt([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),pr=function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return pi(this,e,t)},e}(),pn=new dA(50);function po(e,t,i,r,n){if(!e)return t;if("string"!=typeof e)return e;if(t&&t.__zrImageSrc===e||!i)return t;var o=pn.get(e),s={hostEl:i,cb:r,cbPayload:n};return o?pa(t=o.image)||o.pending.push(s):((t=az.loadImage(e,ps,ps)).__zrImageSrc=e,pn.put(e,t.__cachedImgObj={image:t,pending:[s]})),t}function ps(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var i=e.pending[t],r=i.cb;r&&r(this,i.cbPayload),i.hostEl.dirty()}e.pending.length=0}function pa(e){return e&&e.width&&e.height}var pl=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function pu(e,t,i,r,n){var o={};return pd(o,e,t,i,r,n),o.text}function pd(e,t,i,r,n,o){if(!i){e.text="",e.isTruncated=!1;return}var s=(t+"").split("\n");o=ph(i,r,n,o);for(var a=!1,l={},u=0,d=s.length;u<d;u++)pc(l,s[u],o),s[u]=l.textLine,a=a||l.isTruncated;e.text=s.join("\n"),e.isTruncated=a}function ph(e,t,i,r){var n=a8({},r=r||{});n.font=t,i=lT(i,"..."),n.maxIterations=lT(r.maxIterations,2);var o=n.minChar=lT(r.minChar,0);n.cnCharWidth=hY("å›½",t);var s=n.ascCharWidth=hY("a",t);n.placeholder=lT(r.placeholder,"");for(var a=e=Math.max(0,e-1),l=0;l<o&&a>=s;l++)a-=s;var u=hY(i,t);return u>a&&(i="",u=0),a=e-u,n.ellipsis=i,n.ellipsisWidth=u,n.contentWidth=a,n.containerWidth=e,n}function pc(e,t,i){var r=i.containerWidth,n=i.font,o=i.contentWidth;if(!r){e.textLine="",e.isTruncated=!1;return}var s=hY(t,n);if(s<=r){e.textLine=t,e.isTruncated=!1;return}for(var a=0;;a++){if(s<=o||a>=i.maxIterations){t+=i.ellipsis;break}var l=0===a?function(e,t,i,r){for(var n=0,o=0,s=e.length;o<s&&n<t;o++){var a=e.charCodeAt(o);n+=0<=a&&a<=127?i:r}return o}(t,o,i.ascCharWidth,i.cnCharWidth):s>0?Math.floor(t.length*o/s):0;s=hY(t=t.substr(0,l),n)}""===t&&(t=i.placeholder),e.textLine=t,e.isTruncated=!0}var pp=function(){},pg=function(e){this.tokens=[],e&&(this.tokens=e)},pf=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1};function pm(e,t,i,r,n){var o,s,a=""===t,l=n&&i.rich[n]||{},u=e.lines,d=l.font||i.font,h=!1;if(r){var c=l.padding,p=c?c[1]+c[3]:0;if(null!=l.width&&"auto"!==l.width){var g=h0(l.width,r.width)+p;u.length>0&&g+r.accumWidth>r.width&&(o=t.split("\n"),h=!0),r.accumWidth=g}else{var f=py(t,d,r.width,r.breakAll,r.accumWidth);r.accumWidth=f.accumWidth+p,s=f.linesWidths,o=f.lines}}else o=t.split("\n");for(var m=0;m<o.length;m++){var v=o[m],y=new pp;if(y.styleName=n,y.text=v,y.isLineHolder=!v&&!a,"number"==typeof l.width?y.width=l.width:y.width=s?s[m]:hY(v,d),m||h)u.push(new pg([y]));else{var C=(u[u.length-1]||(u[0]=new pg)).tokens,w=C.length;1===w&&C[0].isLineHolder?C[0]=y:(v||!w||a)&&C.push(y)}}}var pv=ls(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function py(e,t,i,r,n){for(var o=[],s=[],a="",l="",u=0,d=0,h=0;h<e.length;h++){var c=e.charAt(h);if("\n"===c){l&&(a+=l,d+=u),o.push(a),s.push(d),a="",l="",u=0,d=0;continue}var p=hY(c,t),g=!r&&!function(e){var t;return(!((t=e.charCodeAt(0))>=32)||!(t<=591))&&(!(t>=880)||!(t<=4351))&&(!(t>=4608)||!(t<=5119))&&(!(t>=7680)||!(t<=8303))||!!pv[e]}(c);if(o.length?d+p>i:n+d+p>i){d?(a||l)&&(g?(a||(a=l,l="",d=u=0),o.push(a),s.push(d-u),l+=c,u+=p,a="",d=u):(l&&(a+=l,l="",u=0),o.push(a),s.push(d),a=c,d=p)):g?(o.push(l),s.push(u),l=c,u=p):(o.push(c),s.push(p));continue}d+=p,g?(l+=c,u+=p):(l&&(a+=l,l="",u=0),a+=c)}return o.length||a||(a=e,l="",u=0),l&&(a+=l),a&&(o.push(a),s.push(d)),1===o.length&&(d+=n),{accumWidth:d,lines:o,linesWidths:s}}var pC="__zr_style_"+Math.round(10*Math.random()),pw={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},pb={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};pw[pC]=!0;var pS=["z","z2","invisible"],px=["invisible"],p_=function(e){var t;function i(t){return e.call(this,t)||this}return l$(i,e),i.prototype._init=function(t){for(var i=lu(t),r=0;r<i.length;r++){var n=i[r];"style"===n?this.useStyle(t[n]):e.prototype.attrKV.call(this,n,t[n])}this.style||this.useStyle({})},i.prototype.beforeBrush=function(){},i.prototype.afterBrush=function(){},i.prototype.innerBeforeBrush=function(){},i.prototype.innerAfterBrush=function(){},i.prototype.shouldBePainted=function(e,t,i,r){var n,o,s,a=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(n=this,o=e,s=t,pE.copy(n.getBoundingRect()),n.transform&&pE.applyTransform(n.transform),pT.width=o,pT.height=s,!pE.intersect(pT))||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths){for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1}if(r&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},i.prototype.contain=function(e,t){return this.rectContain(e,t)},i.prototype.traverse=function(e,t){e.call(t,this)},i.prototype.rectContain=function(e,t){var i=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(i[0],i[1])},i.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform,i=this.getBoundingRect(),r=this.style,n=r.shadowBlur||0,o=r.shadowOffsetX||0,s=r.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new uY(0,0,0,0)),t?uY.applyTransform(e,i,t):e.copy(i),(n||o||s)&&(e.width+=2*n+Math.abs(o),e.height+=2*n+Math.abs(s),e.x=Math.min(e.x,e.x+o-n),e.y=Math.min(e.y,e.y+s-n));var a=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-a),e.y=Math.floor(e.y-a),e.width=Math.ceil(e.width+1+2*a),e.height=Math.ceil(e.height+1+2*a))}return e},i.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new uY(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},i.prototype.getPrevPaintRect=function(){return this._prevPaintRect},i.prototype.animateStyle=function(e){return this.animate("style",e)},i.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},i.prototype.attrKV=function(t,i){"style"!==t?e.prototype.attrKV.call(this,t,i):this.style?this.setStyle(i):this.useStyle(i)},i.prototype.setStyle=function(e,t){return"string"==typeof e?this.style[e]=t:a8(this.style,e),this.dirtyStyle(),this},i.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},i.prototype.dirty=function(){this.dirtyStyle()},i.prototype.styleChanged=function(){return!!(2&this.__dirty)},i.prototype.styleUpdated=function(){this.__dirty&=-3},i.prototype.createStyle=function(e){return lB(pw,e)},i.prototype.useStyle=function(e){e[pC]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},i.prototype.isStyleObject=function(e){return e[pC]},i.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,i,pS)},i.prototype._applyStateObj=function(t,i,r,n,o,s){e.prototype._applyStateObj.call(this,t,i,r,n,o,s);var a,l=!(i&&n);if(i&&i.style?o?n?a=i.style:(a=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(a,i.style)):(a=this._mergeStyle(this.createStyle(),n?this.style:r.style),this._mergeStyle(a,i.style)):l&&(a=r.style),a)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var d=lu(u),h=0;h<d.length;h++){var c=d[h];c in a&&(a[c]=a[c],this.style[c]=u[c])}for(var p=lu(a),h=0;h<p.length;h++){var c=p[h];this.style[c]=this.style[c]}this._transitionState(t,{style:a},s,this.getAnimationStyleProps())}else this.useStyle(a);for(var g=this.__inHover?px:pS,h=0;h<g.length;h++){var c=g[h];i&&null!=i[c]?this[c]=i[c]:l&&null!=r[c]&&(this[c]=r[c])}},i.prototype._mergeStates=function(t){for(var i,r=e.prototype._mergeStates.call(this,t),n=0;n<t.length;n++){var o=t[n];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(r.style=i),r},i.prototype._mergeStyle=function(e,t){return a8(e,t),e},i.prototype.getAnimationStyleProps=function(){return pb},i.initDefaultProps=void((t=i.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=3),i}(h8),pE=new uY(0,0,0,0),pT=new uY(0,0,0,0),pM=Math.min,pR=Math.max,pD=Math.sin,pA=Math.cos,pI=2*Math.PI,pP=lK(),pL=lK(),pk=lK();function pN(e,t,i){if(0!==e.length){for(var r=e[0],n=r[0],o=r[0],s=r[1],a=r[1],l=1;l<e.length;l++)n=pM(n,(r=e[l])[0]),o=pR(o,r[0]),s=pM(s,r[1]),a=pR(a,r[1]);t[0]=n,t[1]=s,i[0]=o,i[1]=a}}function pF(e,t,i,r,n,o){n[0]=pM(e,i),n[1]=pM(t,r),o[0]=pR(e,i),o[1]=pR(t,r)}var pO=[],pG=[],pV={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},pB=[],pH=[],pz=[],pW=[],pU=[],pj=[],p$=Math.min,pK=Math.max,pY=Math.cos,pq=Math.sin,pX=Math.abs,pZ=Math.PI,pQ=2*pZ,pJ="undefined"!=typeof Float32Array,p0=[];function p1(e){return Math.round(e/pZ*1e8)/1e8%2*pZ}function p2(e,t){var i=p1(e[0]);i<0&&(i+=pQ);var r=i-e[0],n=e[1];n+=r,!t&&n-i>=pQ?n=i+pQ:t&&i-n>=pQ?n=i-pQ:!t&&i>n?n=i+(pQ-p1(i-n)):t&&i<n&&(n=i-(pQ-p1(n-i))),e[0]=i,e[1]=n}var p5=function(){var e;function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,t,i){(i=i||0)>0&&(this._ux=pX(i/hF/e)||0,this._uy=pX(i/hF/t)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(pV.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},t.prototype.lineTo=function(e,t){var i=pX(e-this._xi),r=pX(t-this._yi),n=i>this._ux||r>this._uy;if(this.addData(pV.L,e,t),this._ctx&&n&&this._ctx.lineTo(e,t),n)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var o=i*i+r*r;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,t,i,r,n,o){return this._drawPendingPt(),this.addData(pV.C,e,t,i,r,n,o),this._ctx&&this._ctx.bezierCurveTo(e,t,i,r,n,o),this._xi=n,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,t,i,r){return this._drawPendingPt(),this.addData(pV.Q,e,t,i,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,r),this._xi=i,this._yi=r,this},t.prototype.arc=function(e,t,i,r,n,o){this._drawPendingPt(),p0[0]=r,p0[1]=n,p2(p0,o),r=p0[0];var s=(n=p0[1])-r;return this.addData(pV.A,e,t,i,i,r,s,0,+!o),this._ctx&&this._ctx.arc(e,t,i,r,n,o),this._xi=pY(n)*i+e,this._yi=pq(n)*i+t,this},t.prototype.arcTo=function(e,t,i,r,n){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,r,n),this},t.prototype.rect=function(e,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,r),this.addData(pV.R,e,t,i,r),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(pV.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&e.closePath(),this._xi=t,this._yi=i,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&pJ&&(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,r=this._len,n=0;n<t;n++)i+=e[n].len();pJ&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i));for(var n=0;n<t;n++)for(var o=e[n].data,s=0;s<o.length;s++)this.data[r++]=o[s];this._len=r},t.prototype.addData=function(e,t,i,r,n,o,s,a,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var d=0;d<arguments.length;d++)u[this._len++]=arguments[d]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,pJ&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){pz[0]=pz[1]=pU[0]=pU[1]=Number.MAX_VALUE,pW[0]=pW[1]=pj[0]=pj[1]=-Number.MAX_VALUE;var e,t=this.data,i=0,r=0,n=0,o=0;for(e=0;e<this._len;){var s=t[e++],a=1===e;switch(a&&(i=t[e],r=t[e+1],n=i,o=r),s){case pV.M:i=n=t[e++],r=o=t[e++],pU[0]=n,pU[1]=o,pj[0]=n,pj[1]=o;break;case pV.L:pF(i,r,t[e],t[e+1],pU,pj),i=t[e++],r=t[e++];break;case pV.C:!function(e,t,i,r,n,o,s,a,l,u){var d=dv(e,i,n,s,pO);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var c=dg(e,i,n,s,pO[h]);l[0]=pM(c,l[0]),u[0]=pR(c,u[0])}d=dv(t,r,o,a,pG);for(var h=0;h<d;h++){var p=dg(t,r,o,a,pG[h]);l[1]=pM(p,l[1]),u[1]=pR(p,u[1])}l[0]=pM(e,l[0]),u[0]=pR(e,u[0]),l[0]=pM(s,l[0]),u[0]=pR(s,u[0]),l[1]=pM(t,l[1]),u[1]=pR(t,u[1]),l[1]=pM(a,l[1]),u[1]=pR(a,u[1])}(i,r,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],pU,pj),i=t[e++],r=t[e++];break;case pV.Q:!function(e,t,i,r,n,o,s,a){var l=pR(pM(dS(e,i,n),1),0),u=pR(pM(dS(t,r,o),1),0),d=dw(e,i,n,l),h=dw(t,r,o,u);s[0]=pM(e,n,d),s[1]=pM(t,o,h),a[0]=pR(e,n,d),a[1]=pR(t,o,h)}(i,r,t[e++],t[e++],t[e],t[e+1],pU,pj),i=t[e++],r=t[e++];break;case pV.A:var l=t[e++],u=t[e++],d=t[e++],h=t[e++],c=t[e++],p=t[e++]+c;e+=1;var g=!t[e++];a&&(n=pY(c)*d+l,o=pq(c)*h+u),function(e,t,i,r,n,o,s,a,l){var u=Math.abs(n-o);if(u%pI<1e-4&&u>1e-4){a[0]=e-i,a[1]=t-r,l[0]=e+i,l[1]=t+r;return}if(pP[0]=pA(n)*i+e,pP[1]=pD(n)*r+t,pL[0]=pA(o)*i+e,pL[1]=pD(o)*r+t,ui(a,pP,pL),ur(l,pP,pL),(n%=pI)<0&&(n+=pI),(o%=pI)<0&&(o+=pI),n>o&&!s?o+=pI:n<o&&s&&(n+=pI),s){var d=o;o=n,n=d}for(var h=0;h<o;h+=Math.PI/2)h>n&&(pk[0]=pA(h)*i+e,pk[1]=pD(h)*r+t,ui(a,pk,a),ur(l,pk,l))}(l,u,d,h,c,p,g,pU,pj),i=pY(p)*d+l,r=pq(p)*h+u;break;case pV.R:pF(n=i=t[e++],o=r=t[e++],n+t[e++],o+t[e++],pU,pj);break;case pV.Z:i=n,r=o}ui(pz,pz,pU),ur(pW,pW,pj)}return 0===e&&(pz[0]=pz[1]=pW[0]=pW[1]=0),new uY(pz[0],pz[1],pW[0]-pz[0],pW[1]-pz[1])},t.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,r=this._uy,n=0,o=0,s=0,a=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,d=0,h=0;h<t;){var c=e[h++],p=1===h;p&&(n=e[h],o=e[h+1],s=n,a=o);var g=-1;switch(c){case pV.M:n=s=e[h++],o=a=e[h++];break;case pV.L:var f=e[h++],m=e[h++],v=f-n,y=m-o;(pX(v)>i||pX(y)>r||h===t-1)&&(g=Math.sqrt(v*v+y*y),n=f,o=m);break;case pV.C:var C=e[h++],w=e[h++],f=e[h++],m=e[h++],b=e[h++],S=e[h++];g=function(e,t,i,r,n,o,s,a,l){for(var u=e,d=t,h=0,c=1;c<=10;c++){var p=.1*c,g=dg(e,i,n,s,p),f=dg(t,r,o,a,p),m=g-u,v=f-d;h+=Math.sqrt(m*m+v*v),u=g,d=f}return h}(n,o,C,w,f,m,b,S,0),n=b,o=S;break;case pV.Q:var C=e[h++],w=e[h++],f=e[h++],m=e[h++];g=function(e,t,i,r,n,o,s){for(var a=e,l=t,u=0,d=1;d<=10;d++){var h=.1*d,c=dw(e,i,n,h),p=dw(t,r,o,h),g=c-a,f=p-l;u+=Math.sqrt(g*g+f*f),a=c,l=p}return u}(n,o,C,w,f,m,0),n=f,o=m;break;case pV.A:var x=e[h++],_=e[h++],E=e[h++],T=e[h++],M=e[h++],R=e[h++],D=R+M;h+=1,p&&(s=pY(M)*E+x,a=pq(M)*T+_),g=pK(E,T)*p$(pQ,Math.abs(R)),n=pY(D)*E+x,o=pq(D)*T+_;break;case pV.R:s=n=e[h++],a=o=e[h++],g=2*e[h++]+2*e[h++];break;case pV.Z:var v=s-n,y=a-o;g=Math.sqrt(v*v+y*y),n=s,o=a}g>=0&&(l[d++]=g,u+=g)}return this._pathLen=u,u},t.prototype.rebuildPath=function(e,t){var i,r,n,o,s,a,l,u,d,h,c=this.data,p=this._ux,g=this._uy,f=this._len,m=t<1,v=0,y=0,C=0;if(!m||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=t*this._pathLen))r:for(var w=0;w<f;){var b=c[w++],S=1===w;switch(S&&(n=c[w],o=c[w+1],i=n,r=o),b!==pV.L&&C>0&&(e.lineTo(d,h),C=0),b){case pV.M:i=n=c[w++],r=o=c[w++],e.moveTo(n,o);break;case pV.L:s=c[w++],a=c[w++];var x=pX(s-n),_=pX(a-o);if(x>p||_>g){if(m){var E=l[y++];if(v+E>u){var T=(u-v)/E;e.lineTo(n*(1-T)+s*T,o*(1-T)+a*T);break r}v+=E}e.lineTo(s,a),n=s,o=a,C=0}else{var M=x*x+_*_;M>C&&(d=s,h=a,C=M)}break;case pV.C:var R=c[w++],D=c[w++],A=c[w++],I=c[w++],P=c[w++],L=c[w++];if(m){var E=l[y++];if(v+E>u){var T=(u-v)/E;dy(n,R,A,P,T,pB),dy(o,D,I,L,T,pH),e.bezierCurveTo(pB[1],pH[1],pB[2],pH[2],pB[3],pH[3]);break r}v+=E}e.bezierCurveTo(R,D,A,I,P,L),n=P,o=L;break;case pV.Q:var R=c[w++],D=c[w++],A=c[w++],I=c[w++];if(m){var E=l[y++];if(v+E>u){var T=(u-v)/E;dx(n,R,A,T,pB),dx(o,D,I,T,pH),e.quadraticCurveTo(pB[1],pH[1],pB[2],pH[2]);break r}v+=E}e.quadraticCurveTo(R,D,A,I),n=A,o=I;break;case pV.A:var k=c[w++],N=c[w++],F=c[w++],O=c[w++],G=c[w++],V=c[w++],B=c[w++],H=!c[w++],z=F>O?F:O,W=pX(F-O)>.001,U=G+V,j=!1;if(m){var E=l[y++];v+E>u&&(U=G+V*(u-v)/E,j=!0),v+=E}if(W&&e.ellipse?e.ellipse(k,N,F,O,B,G,U,H):e.arc(k,N,z,G,U,H),j)break r;S&&(i=pY(G)*F+k,r=pq(G)*O+N),n=pY(U)*F+k,o=pq(U)*O+N;break;case pV.R:i=n=c[w],r=o=c[w+1],s=c[w++],a=c[w++];var $=c[w++],K=c[w++];if(m){var E=l[y++];if(v+E>u){var Y=u-v;e.moveTo(s,a),e.lineTo(s+p$(Y,$),a),(Y-=$)>0&&e.lineTo(s+$,a+p$(Y,K)),(Y-=K)>0&&e.lineTo(s+pK($-Y,0),a+K),(Y-=$)>0&&e.lineTo(s,a+pK(K-Y,0));break r}v+=E}e.rect(s,a,$,K);break;case pV.Z:if(m){var E=l[y++];if(v+E>u){var T=(u-v)/E;e.lineTo(n*(1-T)+i*T,o*(1-T)+r*T);break r}v+=E}e.closePath(),n=i,o=r}}},t.prototype.clone=function(){var e=new t,i=this.data;return e.data=i.slice?i.slice():Array.prototype.slice.call(i),e._len=this._len,e},t.CMD=pV,t.initDefaultProps=void((e=t.prototype)._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0),t}();function p3(e,t,i,r,n,o,s){if(0===n)return!1;var a=0,l=e;if(s>t+n&&s>r+n||s<t-n&&s<r-n||o>e+n&&o>i+n||o<e-n&&o<i-n)return!1;if(e===i)return Math.abs(o-e)<=n/2;a=(t-r)/(e-i);var u=a*o-s+(l=(e*r-i*t)/(e-i));return u*u/(a*a+1)<=n/2*n/2}function p4(e,t,i,r,n,o,s,a,l){return 0!==s&&(!(l>t+s)||!(l>r+s)||!(l>o+s))&&(!(l<t-s)||!(l<r-s)||!(l<o-s))&&(!(a>e+s)||!(a>i+s)||!(a>n+s))&&(!(a<e-s)||!(a<i-s)||!(a<n-s))&&d_(e,t,i,r,n,o,a,l,null)<=s/2}var p6=2*Math.PI;function p8(e){return(e%=p6)<0&&(e+=p6),e}var p9=2*Math.PI;function p7(e,t,i,r,n,o){if(o>t&&o>r||o<t&&o<r||r===t)return 0;var s=(o-t)/(r-t),a=r<t?1:-1;(1===s||0===s)&&(a=r<t?.5:-.5);var l=s*(i-e)+e;return l===n?1/0:l>n?a:0}var ge=p5.CMD,gt=2*Math.PI,gi=[-1,-1,-1],gr=[-1,-1];function gn(e,t,i,r,n){for(var o,s,a=e.data,l=e.len(),u=0,d=0,h=0,c=0,p=0,g=0;g<l;){var f,m,v,y,C,w,b,S,x=a[g++],_=1===g;switch(x===ge.M&&g>1&&!i&&(u+=p7(d,h,c,p,r,n)),_&&(d=a[g],h=a[g+1],c=d,p=h),x){case ge.M:c=a[g++],p=a[g++],d=c,h=p;break;case ge.L:if(i){if(p3(d,h,a[g],a[g+1],t,r,n))return!0}else u+=p7(d,h,a[g],a[g+1],r,n)||0;d=a[g++],h=a[g++];break;case ge.C:if(i){if(f=d,m=h,v=a[g++],y=a[g++],C=a[g++],w=a[g++],b=a[g],S=a[g+1],0!==t&&(!(n>m+t)||!(n>y+t)||!(n>w+t)||!(n>S+t))&&(!(n<m-t)||!(n<y-t)||!(n<w-t)||!(n<S-t))&&(!(r>f+t)||!(r>v+t)||!(r>C+t)||!(r>b+t))&&(!(r<f-t)||!(r<v-t)||!(r<C-t)||!(r<b-t))&&dC(f,m,v,y,C,w,b,S,r,n,null)<=t/2)return!0}else u+=function(e,t,i,r,n,o,s,a,l,u){if(u>t&&u>r&&u>o&&u>a||u<t&&u<r&&u<o&&u<a)return 0;var d=dm(t,r,o,a,u,gi);if(0===d)return 0;for(var h=0,c=-1,p=void 0,g=void 0,f=0;f<d;f++){var m=gi[f],v=0===m||1===m?.5:1;dg(e,i,n,s,m)<l||(c<0&&(c=dv(t,r,o,a,gr),gr[1]<gr[0]&&c>1&&function(){var e=gr[0];gr[0]=gr[1],gr[1]=e}(),p=dg(t,r,o,a,gr[0]),c>1&&(g=dg(t,r,o,a,gr[1]))),2===c?m<gr[0]?h+=p<t?v:-v:m<gr[1]?h+=g<p?v:-v:h+=a<g?v:-v:m<gr[0]?h+=p<t?v:-v:h+=a<p?v:-v)}return h}(d,h,a[g++],a[g++],a[g++],a[g++],a[g],a[g+1],r,n)||0;d=a[g++],h=a[g++];break;case ge.Q:if(i){if(p4(d,h,a[g++],a[g++],a[g],a[g+1],t,r,n))return!0}else u+=function(e,t,i,r,n,o,s,a){if(a>t&&a>r&&a>o||a<t&&a<r&&a<o)return 0;var l=function(e,t,i,r,n){var o=e-2*t+i,s=2*(t-e),a=e-r,l=0;if(dc(o)){if(dp(s)){var u=-a/s;u>=0&&u<=1&&(n[l++]=u)}}else{var d=s*s-4*o*a;if(dc(d)){var u=-s/(2*o);u>=0&&u<=1&&(n[l++]=u)}else if(d>0){var h=ds(d),u=(-s+h)/(2*o),c=(-s-h)/(2*o);u>=0&&u<=1&&(n[l++]=u),c>=0&&c<=1&&(n[l++]=c)}}return l}(t,r,o,a,gi);if(0===l)return 0;var u=dS(t,r,o);if(u>=0&&u<=1){for(var d=0,h=dw(t,r,o,u),c=0;c<l;c++){var p=0===gi[c]||1===gi[c]?.5:1,g=dw(e,i,n,gi[c]);g<s||(gi[c]<u?d+=h<t?p:-p:d+=o<h?p:-p)}return d}var p=0===gi[0]||1===gi[0]?.5:1,g=dw(e,i,n,gi[0]);return g<s?0:o<t?p:-p}(d,h,a[g++],a[g++],a[g],a[g+1],r,n)||0;d=a[g++],h=a[g++];break;case ge.A:var E=a[g++],T=a[g++],M=a[g++],R=a[g++],D=a[g++],A=a[g++];g+=1;var I=!!(1-a[g++]);o=Math.cos(D)*M+E,s=Math.sin(D)*R+T,_?(c=o,p=s):u+=p7(d,h,o,s,r,n);var P=(r-E)*R/M+E;if(i){if(function(e,t,i,r,n,o,s,a,l){if(0===s)return!1;var u=Math.sqrt((a-=e)*a+(l-=t)*l);if(u-s>i||u+s<i)return!1;if(Math.abs(r-n)%p9<1e-4)return!0;if(o){var d=r;r=p8(n),n=p8(d)}else r=p8(r),n=p8(n);r>n&&(n+=p9);var h=Math.atan2(l,a);return h<0&&(h+=p9),h>=r&&h<=n||h+p9>=r&&h+p9<=n}(E,T,R,D,D+A,I,t,P,n))return!0}else u+=function(e,t,i,r,n,o,s,a){if((a-=t)>i||a<-i)return 0;var l=Math.sqrt(i*i-a*a);gi[0]=-l,gi[1]=l;var u=Math.abs(r-n);if(u<1e-4)return 0;if(u>=gt-1e-4){r=0,n=gt;var d=o?1:-1;return s>=gi[0]+e&&s<=gi[1]+e?d:0}if(r>n){var h=r;r=n,n=h}r<0&&(r+=gt,n+=gt);for(var c=0,p=0;p<2;p++){var g=gi[p];if(g+e>s){var f=Math.atan2(a,g),d=o?1:-1;f<0&&(f=gt+f),(f>=r&&f<=n||f+gt>=r&&f+gt<=n)&&(f>Math.PI/2&&f<1.5*Math.PI&&(d=-d),c+=d)}}return c}(E,T,R,D,D+A,I,P,n);d=Math.cos(D+A)*M+E,h=Math.sin(D+A)*R+T;break;case ge.R:c=d=a[g++],p=h=a[g++];var L=a[g++],k=a[g++];if(o=c+L,s=p+k,i){if(p3(c,p,o,p,t,r,n)||p3(o,p,o,s,t,r,n)||p3(o,s,c,s,t,r,n)||p3(c,s,c,p,t,r,n))return!0}else u+=p7(o,p,o,s,r,n),u+=p7(c,s,c,p,r,n);break;case ge.Z:if(i){if(p3(d,h,c,p,t,r,n))return!0}else u+=p7(d,h,c,p,r,n);d=c,h=p}}return i||1e-4>Math.abs(h-p)||(u+=p7(d,h,c,p,r,n)||0),0!==u}var go=a9({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},pw),gs={style:a9({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},pb.style)},ga=hj.concat(["invisible","culling","z","z2","zlevel","parent"]),gl=function(e){var t;function i(t){return e.call(this,t)||this}return l$(i,e),i.prototype.update=function(){var t=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var n=this._decalEl=this._decalEl||new i;n.buildPath===i.prototype.buildPath&&(n.buildPath=function(e){t.buildPath(e,t.shape)}),n.silent=!0;var o=n.style;for(var s in r)o[s]!==r[s]&&(o[s]=r[s]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var a=0;a<ga.length;++a)n[ga[a]]=this[ga[a]];n.__dirty|=1}else this._decalEl&&(this._decalEl=null)},i.prototype.getDecalElement=function(){return this._decalEl},i.prototype._init=function(t){var i=lu(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var n=0;n<i.length;n++){var o=i[n],s=t[o];"style"===o?this.style?a8(this.style,s):this.useStyle(s):"shape"===o?a8(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},i.prototype.getDefaultStyle=function(){return null},i.prototype.getDefaultShape=function(){return{}},i.prototype.canBeInsideText=function(){return this.hasFill()},i.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(lg(e)){var t=dZ(e,0);return t>.5?hO:t>.2?"#eee":hG}else if(e)return hG}return hO},i.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if(lg(t)){var i=this.__zr;if(!!(i&&i.isDarkMode())==.4>dZ(e,0))return t}},i.prototype.buildPath=function(e,t,i){},i.prototype.pathUpdated=function(){this.__dirty&=-5},i.prototype.getUpdatedPathProxy=function(e){return this.path||this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},i.prototype.createPathProxy=function(){this.path=new p5(!1)},i.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0},i.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},i.prototype.getBoundingRect=function(){var e=this._rect,t=this.style,i=!e;if(i){var r=!1;this.path||(r=!0,this.createPathProxy());var n=this.path;(r||4&this.__dirty)&&(n.beginPath(),this.buildPath(n,this.shape,!1),this.pathUpdated()),e=n.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||i){o.copy(e);var s=t.strokeNoScale?this.getLineScale():1,a=t.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;a=Math.max(a,null==l?4:l)}s>1e-10&&(o.width+=a/s,o.height+=a/s,o.x-=a/s/2,o.y-=a/s/2)}return o}return e},i.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),n=this.style;if(e=i[0],t=i[1],r.contain(e,t)){var o=this.path;if(this.hasStroke()){var s=n.lineWidth,a=n.strokeNoScale?this.getLineScale():1;if(a>1e-10&&(this.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),gn(o,s/a,!0,e,t)))return!0}if(this.hasFill())return gn(o,0,!1,e,t)}return!1},i.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},i.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},i.prototype.animateShape=function(e){return this.animate("shape",e)},i.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},i.prototype.attrKV=function(t,i){"shape"===t?this.setShape(i):e.prototype.attrKV.call(this,t,i)},i.prototype.setShape=function(e,t){var i=this.shape;return i||(i=this.shape={}),"string"==typeof e?i[e]=t:a8(i,e),this.dirtyShape(),this},i.prototype.shapeChanged=function(){return!!(4&this.__dirty)},i.prototype.createStyle=function(e){return lB(go,e)},i.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.shape&&!i.shape&&(i.shape=a8({},this.shape))},i.prototype._applyStateObj=function(t,i,r,n,o,s){e.prototype._applyStateObj.call(this,t,i,r,n,o,s);var a,l=!(i&&n);if(i&&i.shape?o?n?a=i.shape:(a=a8({},r.shape),a8(a,i.shape)):(a=a8({},n?this.shape:r.shape),a8(a,i.shape)):l&&(a=r.shape),a)if(o){this.shape=a8({},this.shape);for(var u={},d=lu(a),h=0;h<d.length;h++){var c=d[h];"object"==typeof a[c]?this.shape[c]=a[c]:u[c]=a[c]}this._transitionState(t,{shape:u},s)}else this.shape=a,this.dirtyShape()},i.prototype._mergeStates=function(t){for(var i,r=e.prototype._mergeStates.call(this,t),n=0;n<t.length;n++){var o=t[n];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(r.shape=i),r},i.prototype.getAnimationStyleProps=function(){return gs},i.prototype.isZeroArea=function(){return!1},i.extend=function(e){var t=function(t){function i(i){var r=t.call(this,i)||this;return e.init&&e.init.call(r,i),r}return l$(i,t),i.prototype.getDefaultStyle=function(){return a3(e.style)},i.prototype.getDefaultShape=function(){return a3(e.shape)},i}(i);for(var r in e)"function"==typeof e[r]&&(t.prototype[r]=e[r]);return t},i.initDefaultProps=void((t=i.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=7),i}(p_),gu=a9({strokeFirst:!0,font:aB,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},go),gd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l$(t,e),t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return lB(gu,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var t=e.text;null!=t?t+="":t="";var i=hX(t,e.font,e.textAlign,e.textBaseline);if(i.x+=e.x||0,i.y+=e.y||0,this.hasStroke()){var r=e.lineWidth;i.x-=r/2,i.y-=r/2,i.width+=r,i.height+=r}this._rect=i}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(p_);gd.prototype.type="tspan";var gh=a9({x:0,y:0},pw),gc={style:a9({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},pb.style)},gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l$(t,e),t.prototype.createStyle=function(e){return lB(gh,e)},t.prototype._getSize=function(e){var t,i=this.style,r=i[e];if(null!=r)return r;var n=(t=i.image)&&"string"!=typeof t&&t.width&&t.height?i.image:this.__image;if(!n)return 0;var o="width"===e?"height":"width",s=i[o];return null==s?n[e]:n[e]/n[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return gc},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new uY(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(p_);gp.prototype.type="image";var gg=Math.round;function gf(e,t,i){if(t){var r=t.x1,n=t.x2,o=t.y1,s=t.y2;e.x1=r,e.x2=n,e.y1=o,e.y2=s;var a=i&&i.lineWidth;return a&&(gg(2*r)===gg(2*n)&&(e.x1=e.x2=gv(r,a,!0)),gg(2*o)===gg(2*s)&&(e.y1=e.y2=gv(o,a,!0))),e}}function gm(e,t,i){if(t){var r=t.x,n=t.y,o=t.width,s=t.height;e.x=r,e.y=n,e.width=o,e.height=s;var a=i&&i.lineWidth;return a&&(e.x=gv(r,a,!0),e.y=gv(n,a,!0),e.width=Math.max(gv(r+o,a,!1)-e.x,+(0!==o)),e.height=Math.max(gv(n+s,a,!1)-e.y,+(0!==s))),e}}function gv(e,t,i){if(!t)return e;var r=gg(2*e);return(r+gg(t))%2==0?r/2:(r+(i?1:-1))/2}var gy=function(){this.x=0,this.y=0,this.width=0,this.height=0},gC={},gw=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultShape=function(){return new gy},t.prototype.buildPath=function(e,t){if(this.subPixelOptimize){var i,r,n,o,s,a,l,u,d,h,c,p,g,f,m,v=gm(gC,t,this.style);p=v.x,g=v.y,f=v.width,m=v.height,v.r=t.r,t=v}else p=t.x,g=t.y,f=t.width,m=t.height;t.r?(l=(i=t).x,u=i.y,d=i.width,h=i.height,c=i.r,d<0&&(l+=d,d=-d),h<0&&(u+=h,h=-h),"number"==typeof c?r=n=o=s=c:c instanceof Array?1===c.length?r=n=o=s=c[0]:2===c.length?(r=o=c[0],n=s=c[1]):3===c.length?(r=c[0],n=s=c[1],o=c[2]):(r=c[0],n=c[1],o=c[2],s=c[3]):r=n=o=s=0,r+n>d&&(a=r+n,r*=d/a,n*=d/a),o+s>d&&(a=o+s,o*=d/a,s*=d/a),n+o>h&&(a=n+o,n*=h/a,o*=h/a),r+s>h&&(a=r+s,r*=h/a,s*=h/a),e.moveTo(l+r,u),e.lineTo(l+d-n,u),0!==n&&e.arc(l+d-n,u+n,n,-Math.PI/2,0),e.lineTo(l+d,u+h-o),0!==o&&e.arc(l+d-o,u+h-o,o,0,Math.PI/2),e.lineTo(l+s,u+h),0!==s&&e.arc(l+s,u+h-s,s,Math.PI/2,Math.PI),e.lineTo(l,u+r),0!==r&&e.arc(l+r,u+r,r,Math.PI,1.5*Math.PI)):e.rect(p,g,f,m)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(gl);gw.prototype.type="rect";var gb={fill:"#000"},gS={style:a9({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},pb.style)},gx=function(e){function t(t){var i=e.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=gb,i.attr(t),i}return l$(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},t.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,gA(e=this.style),ln(e.rich,gA),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new uY(0,0,0,0),t=this._children,i=[],r=null,n=0;n<t.length;n++){var o=t[n],s=o.getBoundingRect(),a=o.getLocalTransform(i);a?(e.copy(s),e.applyTransform(a),(r=r||e.clone()).union(e)):(r=r||s.clone()).union(s)}this._rect=r||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||gb},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,t){if(!t)return e;var i=t.rich,r=e.rich||i&&{};return a8(e,t),i&&r?(this._mergeRich(r,i),e.rich=r):r&&(e.rich=r),e},t.prototype._mergeRich=function(e,t){for(var i=lu(t),r=0;r<i.length;r++){var n=i[r];e[n]=e[n]||{},a8(e[n],t[n])}},t.prototype.getAnimationStyleProps=function(){return gS},t.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return t&&t instanceof e||(t=new e),this._children[this._childCursor++]=t,t.__zr=this.__zr,t.parent=this,t},t.prototype._updatePlainTexts=function(){var e=this.style,t=e.font||aB,i=e.padding,r=function(e,t){null!=e&&(e+="");var i,r=t.overflow,n=t.padding,o=t.font,s=hJ(o),a=lT(t.lineHeight,s),l=!!t.backgroundColor,u="truncate"===t.lineOverflow,d=!1,h=t.width,c=(i=null!=h&&("break"===r||"breakAll"===r)?e?py(e,t.font,h,"breakAll"===r,0).lines:[]:e?e.split("\n"):[]).length*a,p=lT(t.height,c);if(c>p&&u){var g=Math.floor(p/a);d=d||i.length>g,i=i.slice(0,g)}if(e&&"truncate"===r&&null!=h)for(var f=ph(h,o,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),m={},v=0;v<i.length;v++)pc(m,i[v],f),i[v]=m.textLine,d=d||m.isTruncated;for(var y=p,C=0,v=0;v<i.length;v++)C=Math.max(hY(i[v],o),C);null==h&&(h=C);var w=C;return n&&(y+=n[0]+n[2],w+=n[1]+n[3],h+=n[1]+n[3]),l&&(w=h),{lines:i,height:p,outerWidth:w,outerHeight:y,lineHeight:a,calculatedLineHeight:s,contentWidth:C,contentHeight:c,width:h,isTruncated:d}}(gk(e),e),n=gN(e),o=!!e.backgroundColor,s=r.outerHeight,a=r.outerWidth,l=r.contentWidth,u=r.lines,d=r.lineHeight,h=this._defaultStyle;this.isTruncated=!!r.isTruncated;var c=e.x||0,p=e.y||0,g=e.align||h.align||"left",f=e.verticalAlign||h.verticalAlign||"top",m=c,v=hQ(p,r.contentHeight,f);if(n||i){var y=hZ(c,a,g),C=hQ(p,s,f);n&&this._renderBackground(e,e,y,C,a,s)}v+=d/2,i&&(m=gL(c,g,i),"top"===f?v+=i[0]:"bottom"===f&&(v-=i[2]));for(var w=0,b=!1,S=gP("fill"in e?e.fill:(b=!0,h.fill)),x=gI("stroke"in e?e.stroke:o||h.autoStroke&&!b?null:(w=2,h.stroke)),_=e.textShadowBlur>0,E=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),T=r.calculatedLineHeight,M=0;M<u.length;M++){var R=this._getOrCreateChild(gd),D=R.createStyle();R.useStyle(D),D.text=u[M],D.x=m,D.y=v,D.textAlign=g,D.textBaseline="middle",D.opacity=e.opacity,D.strokeFirst=!0,_&&(D.shadowBlur=e.textShadowBlur||0,D.shadowColor=e.textShadowColor||"transparent",D.shadowOffsetX=e.textShadowOffsetX||0,D.shadowOffsetY=e.textShadowOffsetY||0),D.stroke=x,D.fill=S,x&&(D.lineWidth=e.lineWidth||w,D.lineDash=e.lineDash,D.lineDashOffset=e.lineDashOffset||0),D.font=t,gR(D,e),v+=d,E&&R.setBoundingRect(new uY(hZ(D.x,l,D.textAlign),hQ(D.y,T,D.textBaseline),l,T))}},t.prototype._updateRichTexts=function(){var e=this.style,t=function(e,t){var i,r=new pf;if(null!=e&&(e+=""),!e)return r;for(var n=t.width,o=t.height,s=t.overflow,a=("break"===s||"breakAll"===s)&&null!=n?{width:n,accumWidth:0,breakAll:"breakAll"===s}:null,l=pl.lastIndex=0;null!=(i=pl.exec(e));){var u=i.index;u>l&&pm(r,e.substring(l,u),t,a),pm(r,i[2],t,a,i[1]),l=pl.lastIndex}l<e.length&&pm(r,e.substring(l,e.length),t,a);var d=[],h=0,c=0,p=t.padding,g="truncate"===s,f="truncate"===t.lineOverflow,m={};function v(e,t,i){e.width=t,e.lineHeight=i,h+=i,c=Math.max(c,t)}e:for(var y=0;y<r.lines.length;y++){for(var C=r.lines[y],w=0,b=0,S=0;S<C.tokens.length;S++){var x=C.tokens[S],_=x.styleName&&t.rich[x.styleName]||{},E=x.textPadding=_.padding,T=E?E[1]+E[3]:0,M=x.font=_.font||t.font;x.contentHeight=hJ(M);var R=lT(_.height,x.contentHeight);if(x.innerHeight=R,E&&(R+=E[0]+E[2]),x.height=R,x.lineHeight=lM(_.lineHeight,t.lineHeight,R),x.align=_&&_.align||t.align,x.verticalAlign=_&&_.verticalAlign||"middle",f&&null!=o&&h+x.lineHeight>o){var D=r.lines.length;S>0?(C.tokens=C.tokens.slice(0,S),v(C,b,w),r.lines=r.lines.slice(0,y+1)):r.lines=r.lines.slice(0,y),r.isTruncated=r.isTruncated||r.lines.length<D;break e}var A=_.width,I=null==A||"auto"===A;if("string"==typeof A&&"%"===A.charAt(A.length-1))x.percentWidth=A,d.push(x),x.contentWidth=hY(x.text,M);else{if(I){var P=_.backgroundColor,L=P&&P.image;L&&pa(L=function(e){if("string"!=typeof e)return e;var t=pn.get(e);return t&&t.image}(L))&&(x.width=Math.max(x.width,L.width*R/L.height))}var k=g&&null!=n?n-b:null;null!=k&&k<x.width?!I||k<T?(x.text="",x.width=x.contentWidth=0):(pd(m,x.text,k-T,M,t.ellipsis,{minChar:t.truncateMinChar}),x.text=m.text,r.isTruncated=r.isTruncated||m.isTruncated,x.width=x.contentWidth=hY(x.text,M)):x.contentWidth=hY(x.text,M)}x.width+=T,b+=x.width,_&&(w=Math.max(w,x.lineHeight))}v(C,b,w)}r.outerWidth=r.width=lT(n,c),r.outerHeight=r.height=lT(o,h),r.contentHeight=h,r.contentWidth=c,p&&(r.outerWidth+=p[1]+p[3],r.outerHeight+=p[0]+p[2]);for(var y=0;y<d.length;y++){var x=d[y],N=x.percentWidth;x.width=parseInt(N,10)/100*r.width}return r}(gk(e),e),i=t.width,r=t.outerWidth,n=t.outerHeight,o=e.padding,s=e.x||0,a=e.y||0,l=this._defaultStyle,u=e.align||l.align,d=e.verticalAlign||l.verticalAlign;this.isTruncated=!!t.isTruncated;var h=hZ(s,r,u),c=hQ(a,n,d),p=h,g=c;o&&(p+=o[3],g+=o[0]);var f=p+i;gN(e)&&this._renderBackground(e,e,h,c,r,n);for(var m=!!e.backgroundColor,v=0;v<t.lines.length;v++){for(var y=t.lines[v],C=y.tokens,w=C.length,b=y.lineHeight,S=y.width,x=0,_=p,E=f,T=w-1,M=void 0;x<w&&(!(M=C[x]).align||"left"===M.align);)this._placeToken(M,e,b,g,_,"left",m),S-=M.width,_+=M.width,x++;for(;T>=0&&"right"===(M=C[T]).align;)this._placeToken(M,e,b,g,E,"right",m),S-=M.width,E-=M.width,T--;for(_+=(i-(_-p)-(f-E)-S)/2;x<=T;)M=C[x],this._placeToken(M,e,b,g,_+M.width/2,"center",m),_+=M.width,x++;g+=b}},t.prototype._placeToken=function(e,t,i,r,n,o,s){var a=t.rich[e.styleName]||{};a.text=e.text;var l=e.verticalAlign,u=r+i/2;"top"===l?u=r+e.height/2:"bottom"===l&&(u=r+i-e.height/2),!e.isLineHolder&&gN(a)&&this._renderBackground(a,t,"right"===o?n-e.width:"center"===o?n-e.width/2:n,u-e.height/2,e.width,e.height);var d=!!a.backgroundColor,h=e.textPadding;h&&(n=gL(n,o,h),u-=e.height/2-h[0]-e.innerHeight/2);var c=this._getOrCreateChild(gd),p=c.createStyle();c.useStyle(p);var g=this._defaultStyle,f=!1,m=0,v=gP("fill"in a?a.fill:"fill"in t?t.fill:(f=!0,g.fill)),y=gI("stroke"in a?a.stroke:"stroke"in t?t.stroke:d||s||g.autoStroke&&!f?null:(m=2,g.stroke)),C=a.textShadowBlur>0||t.textShadowBlur>0;p.text=e.text,p.x=n,p.y=u,C&&(p.shadowBlur=a.textShadowBlur||t.textShadowBlur||0,p.shadowColor=a.textShadowColor||t.textShadowColor||"transparent",p.shadowOffsetX=a.textShadowOffsetX||t.textShadowOffsetX||0,p.shadowOffsetY=a.textShadowOffsetY||t.textShadowOffsetY||0),p.textAlign=o,p.textBaseline="middle",p.font=e.font||aB,p.opacity=lM(a.opacity,t.opacity,1),gR(p,a),y&&(p.lineWidth=lM(a.lineWidth,t.lineWidth,m),p.lineDash=lT(a.lineDash,t.lineDash),p.lineDashOffset=t.lineDashOffset||0,p.stroke=y),v&&(p.fill=v);var w=e.contentWidth,b=e.contentHeight;c.setBoundingRect(new uY(hZ(p.x,w,p.textAlign),hQ(p.y,b,p.textBaseline),w,b))},t.prototype._renderBackground=function(e,t,i,r,n,o){var s,a,l=e.backgroundColor,u=e.borderWidth,d=e.borderColor,h=l&&l.image,c=l&&!h,p=e.borderRadius,g=this;if(c||e.lineHeight||u&&d){(s=this._getOrCreateChild(gw)).useStyle(s.createStyle()),s.style.fill=null;var f=s.shape;f.x=i,f.y=r,f.width=n,f.height=o,f.r=p,s.dirtyShape()}if(c){var m=s.style;m.fill=l||null,m.fillOpacity=lT(e.fillOpacity,1)}else if(h){(a=this._getOrCreateChild(gp)).onload=function(){g.dirtyStyle()};var v=a.style;v.image=l.image,v.x=i,v.y=r,v.width=n,v.height=o}if(u&&d){var m=s.style;m.lineWidth=u,m.stroke=d,m.strokeOpacity=lT(e.strokeOpacity,1),m.lineDash=e.borderDash,m.lineDashOffset=e.borderDashOffset||0,s.strokeContainThreshold=0,s.hasFill()&&s.hasStroke()&&(m.strokeFirst=!0,m.lineWidth*=2)}var y=(s||a).style;y.shadowBlur=e.shadowBlur||0,y.shadowColor=e.shadowColor||"transparent",y.shadowOffsetX=e.shadowOffsetX||0,y.shadowOffsetY=e.shadowOffsetY||0,y.opacity=lM(e.opacity,t.opacity,1)},t.makeFont=function(e){var t="";return gD(e)&&(t=[e.fontStyle,e.fontWeight,gM(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),t&&lI(t)||e.textFont||e.font},t}(p_),g_={left:!0,right:1,center:1},gE={top:1,bottom:1,middle:1},gT=["fontStyle","fontWeight","fontSize","fontFamily"];function gM(e){return"string"==typeof e&&(-1!==e.indexOf("px")||-1!==e.indexOf("rem")||-1!==e.indexOf("em"))?e:isNaN(+e)?"12px":e+"px"}function gR(e,t){for(var i=0;i<gT.length;i++){var r=gT[i],n=t[r];null!=n&&(e[r]=n)}}function gD(e){return null!=e.fontSize||e.fontFamily||e.fontWeight}function gA(e){if(e){e.font=gx.makeFont(e);var t=e.align;"middle"===t&&(t="center"),e.align=null==t||g_[t]?t:"left";var i=e.verticalAlign;"center"===i&&(i="middle"),e.verticalAlign=null==i||gE[i]?i:"top",e.padding&&(e.padding=lD(e.padding))}}function gI(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function gP(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function gL(e,t,i){return"right"===t?e-i[1]:"center"===t?e+i[3]/2-i[1]/2:e+i[3]}function gk(e){var t=e.text;return null!=t&&(t+=""),t}function gN(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var gF=c$(),gO=function(e,t,i,r){if(r){var n=gF(r);n.dataIndex=i,n.dataType=t,n.seriesIndex=e,n.ssrType="chart","group"===r.type&&r.traverse(function(r){var n=gF(r);n.seriesIndex=e,n.dataIndex=i,n.dataType=t,n.ssrType="chart"})}},gG=1,gV={},gB=c$(),gH=c$(),gz=["emphasis","blur","select"],gW=["normal","emphasis","blur","select"],gU="highlight",gj="downplay",g$="select",gK="unselect",gY="toggleSelect";function gq(e){return null!=e&&"none"!==e}function gX(e,t,i){e.onHoverStateChange&&(e.hoverState||0)!==i&&e.onHoverStateChange(t),e.hoverState=i}function gZ(e){gX(e,"emphasis",2)}function gQ(e){2===e.hoverState&&gX(e,"normal",0)}function gJ(e){gX(e,"blur",1)}function g0(e){1===e.hoverState&&gX(e,"normal",0)}function g1(e){e.selected=!0}function g2(e){e.selected=!1}function g5(e,t,i){t(e,i),e.isGroup&&e.traverse(function(e){t(e,i)})}function g3(e,t){switch(t){case"emphasis":e.hoverState=2;break;case"normal":e.hoverState=0;break;case"blur":e.hoverState=1;break;case"select":e.selected=!0}}function g4(e,t){var i,r,n,o,s,a=this.states[e];if(this.style){if("emphasis"===e)return function(e,t,i,r){var n=i&&le(i,"select")>=0,o=!1;if(e instanceof gl){var s=gB(e),a=n&&s.selectFill||s.normalFill,l=n&&s.selectStroke||s.normalStroke;if(gq(a)||gq(l)){var u=(r=r||{}).style||{};"inherit"===u.fill?(o=!0,r=a8({},r),(u=a8({},u)).fill=a):!gq(u.fill)&&gq(a)?(o=!0,r=a8({},r),(u=a8({},u)).fill=d0(a)):!gq(u.stroke)&&gq(l)&&(o||(r=a8({},r),u=a8({},u)),u.stroke=d0(l)),r.style=u}}if(r&&null==r.z2){o||(r=a8({},r));var d=e.z2EmphasisLift;r.z2=e.z2+(null!=d?d:10)}return r}(this,0,t,a);else if("blur"===e)return i=a,r=le(this.currentStates,e)>=0,n=this.style.opacity,o=r?null:function(e,t,i,r){for(var n=e.style,o={},s=0;s<t.length;s++){var a=t[s],l=n[a];o[a]=null==l?r&&r[a]:l}for(var s=0;s<e.animators.length;s++){var u=e.animators[s];u.__fromStateTransition&&0>u.__fromStateTransition.indexOf(i)&&"style"===u.targetName&&u.saveTo(o,t)}return o}(this,["opacity"],e,{opacity:1}),null==(s=(i=i||{}).style||{}).opacity&&(i=a8({},i),s=a8({opacity:r?n:.1*o.opacity},s),i.style=s),i;else if("select"===e){var l=a;if(l&&null==l.z2){l=a8({},l);var u=this.z2SelectLift;l.z2=this.z2+(null!=u?u:9)}return l}}return a}function g6(e){e.stateProxy=g4;var t=e.getTextContent(),i=e.getTextGuideLine();t&&(t.stateProxy=g4),i&&(i.stateProxy=g4)}function g8(e,t){ft(e,t)||e.__highByOuter||g5(e,gZ)}function g9(e,t){ft(e,t)||e.__highByOuter||g5(e,gQ)}function g7(e,t){e.__highByOuter|=1<<(t||0),g5(e,gZ)}function fe(e,t){(e.__highByOuter&=~(1<<(t||0)))||g5(e,gQ)}function ft(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function fi(e){var t=e.getModel(),i=[],r=[];t.eachComponent(function(t,n){var o=gH(n),s="series"===t,a=s?e.getViewOfSeriesModel(n):e.getViewOfComponentModel(n);s||r.push(a),o.isBlured&&(a.group.traverse(function(e){g0(e)}),s&&i.push(n)),o.isBlured=!1}),ln(r,function(e){e&&e.toggleBlurSeries&&e.toggleBlurSeries(i,!1,t)})}function fr(e,t,i,r){var n=r.getModel();function o(e,t){for(var i=0;i<t.length;i++){var r=e.getItemGraphicEl(t[i]);r&&g5(r,g0)}}if((i=i||"coordinateSystem",null!=e)&&t&&"none"!==t){var s=n.getSeriesByIndex(e),a=s.coordinateSystem;a&&a.master&&(a=a.master);var l=[];n.eachSeries(function(e){var n=s===e,u=e.coordinateSystem;u&&u.master&&(u=u.master);var d=u&&a?u===a:n;if(!("series"===i&&!n||"coordinateSystem"===i&&!d||"series"===t&&n)){if(r.getViewOfSeriesModel(e).group.traverse(function(e){e.__highByOuter&&n&&"self"===t||gJ(e)}),lr(t))o(e.getData(),t);else if(lv(t))for(var h=lu(t),c=0;c<h.length;c++)o(e.getData(h[c]),t[h[c]]);l.push(e),gH(e).isBlured=!0}}),n.eachComponent(function(e,t){if("series"!==e){var i=r.getViewOfComponentModel(t);i&&i.toggleBlurSeries&&i.toggleBlurSeries(l,!0,n)}})}}function fn(e,t,i){if(null!=e&&null!=t){var r=i.getModel().getComponent(e,t);if(r){gH(r).isBlured=!0;var n=i.getViewOfComponentModel(r);n&&n.focusBlurEnabled&&n.group.traverse(function(e){gJ(e)})}}}function fo(e,t,i,r){var n,o={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==t||null==i)return o;var s=r.getModel().getComponent(e,t);if(!s)return o;var a=r.getViewOfComponentModel(s);if(!a||!a.findHighDownDispatchers)return o;for(var l=a.findHighDownDispatchers(i),u=0;u<l.length;u++)if("self"===gF(l[u]).focus){n=!0;break}return{focusSelf:n,dispatchers:l}}function fs(e){ln(e.getAllData(),function(t){var i=t.data,r=t.type;i.eachItemGraphicEl(function(t,i){e.isSelected(i,r)?g5(t,g1):g5(t,g2)})})}function fa(e,t,i){fp(e,!0),g5(e,g6),fu(e,t,i)}function fl(e,t,i,r){r?fp(e,!1):fa(e,t,i)}function fu(e,t,i){var r=gF(e);null!=t?(r.focus=t,r.blurScope=i):r.focus&&(r.focus=null)}var fd=["emphasis","blur","select"],fh={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function fc(e,t,i,r){i=i||"itemStyle";for(var n=0;n<fd.length;n++){var o=fd[n],s=t.getModel([o,i]);e.ensureState(o).style=r?r(s):s[fh[i]]()}}function fp(e,t){var i=!1===t;e.highDownSilentOnTouch&&(e.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!i||e.__highDownDispatcher)&&(e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!i)}function fg(e){return!!(e&&e.__highDownDispatcher)}function ff(e){var t=e.type;return t===g$||t===gK||t===gY}function fm(e){var t=e.type;return t===gU||t===gj}var fv=c$();function fy(e,t,i,r,n){if(t&&t.ecModel){var o,s=t.ecModel.getUpdatePayload();o=s&&s.animation}var a=t&&t.isAnimationEnabled(),l="update"===e;if(!a)return null;var u=void 0,d=void 0,h=void 0;return r?(u=lT(r.duration,200),d=lT(r.easing,"cubicOut"),h=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),d=t.getShallow(l?"animationEasingUpdate":"animationEasing"),h=t.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(u=o.duration),null!=o.easing&&(d=o.easing),null!=o.delay&&(h=o.delay)),lp(h)&&(h=h(i,n)),lp(u)&&(u=u(i)),{duration:u||0,delay:h,easing:d}}function fC(e,t,i,r,n,o,s){var a,l=!1;lp(n)?(s=o,o=n,n=null):lv(n)&&(o=n.cb,s=n.during,l=n.isFrom,a=n.removeOpt,n=n.dataIndex);var u="leave"===e;u||t.stopAnimation("leave");var d=fy(e,r,n,u?a||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,n):null);if(d&&d.duration>0){var h={duration:d.duration,delay:d.delay||0,easing:d.easing,done:o,force:!!o||!!s,setToFinal:!u,scope:e,during:s};l?t.animateFrom(i,h):t.animateTo(i,h)}else t.stopAnimation(),l||t.attr(i),s&&s(1),o&&o()}function fw(e,t,i,r,n,o){fC("update",e,t,i,r,n,o)}function fb(e,t,i,r,n,o){fC("enter",e,t,i,r,n,o)}function fS(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++)if("leave"===e.animators[t].scope)return!0;return!1}function fx(e,t,i,r,n,o){fS(e)||fC("leave",e,t,i,r,n,o)}function f_(e,t,i,r){e.removeTextContent(),e.removeTextGuideLine(),fx(e,{style:{opacity:0}},t,i,r)}function fE(e,t,i){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(e){e.isGroup||f_(e,t,i,r)}):f_(e,t,i,r)}function fT(e){fv(e).oldStyle=e.style}var fM={};function fR(e,t){for(var i=0;i<gz.length;i++){var r=gz[i],n=t[r],o=e.ensureState(r);o.style=o.style||{},o.style.text=n}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function fD(e,t,i){var r,n=e.labelFetcher,o=e.labelDataIndex,s=e.labelDimIndex,a=t.normal;n&&(r=n.getFormattedLabel(o,"normal",null,s,a&&a.get("formatter"),null!=i?{interpolatedValue:i}:null)),null==r&&(r=lp(e.defaultText)?e.defaultText(o,e,i):e.defaultText);for(var l={normal:r},u=0;u<gz.length;u++){var d=gz[u],h=t[d];l[d]=lT(n?n.getFormattedLabel(o,d,null,s,h&&h.get("formatter")):null,r)}return l}function fA(e,t,i,r){i=i||fM;for(var n=e instanceof gx,o=!1,s=0;s<gW.length;s++){var a=t[gW[s]];if(a&&a.getShallow("show")){o=!0;break}}var l=n?e:e.getTextContent();if(o){!n&&(l||(l=new gx,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=fD(i,t),d=t.normal,h=!!d.getShallow("show"),c=fP(d,r&&r.normal,i,!1,!n);c.text=u.normal,n||e.setTextConfig(fL(d,i,!1));for(var s=0;s<gz.length;s++){var p=gz[s],a=t[p];if(a){var g=l.ensureState(p),f=!!lT(a.getShallow("show"),h);f!==h&&(g.ignore=!f),g.style=fP(a,r&&r[p],i,!0,!n),g.style.text=u[p],n||(e.ensureState(p).textConfig=fL(a,i,!0))}}l.silent=!!d.getShallow("silent"),null!=l.style.x&&(c.x=l.style.x),null!=l.style.y&&(c.y=l.style.y),l.ignore=!h,l.useStyle(c),l.dirty(),i.enableTextSetter&&(fV(l).setLabelText=function(e){var r=fD(i,t,e);fR(l,r)})}else l&&(l.ignore=!0);e.dirty()}function fI(e,t){t=t||"label";for(var i={normal:e.getModel(t)},r=0;r<gz.length;r++){var n=gz[r];i[n]=e.getModel([n,t])}return i}function fP(e,t,i,r,n){var o={};return function(e,t,i,r,n){i=i||fM;var o,s=t.ecModel,a=s&&s.option.textStyle,l=function(e){for(var t;e&&e!==e.ecModel;){var i=(e.option||fM).rich;if(i){t=t||{};for(var r=lu(i),n=0;n<r.length;n++)t[r[n]]=1}e=e.parentModel}return t}(t);if(l){for(var u in o={},l)if(l.hasOwnProperty(u)){var d=t.getModel(["rich",u]);fO(o[u]={},d,a,i,r,n,!1,!0)}}o&&(e.rich=o);var h=t.get("overflow");h&&(e.overflow=h);var c=t.get("minMargin");null!=c&&(e.margin=c),fO(e,t,a,i,r,n,!0,!1)}(o,e,i,r,n),t&&a8(o,t),o}function fL(e,t,i){t=t||{};var r,n={},o=e.getShallow("rotate"),s=lT(e.getShallow("distance"),i?null:5),a=e.getShallow("offset");return"outside"===(r=e.getShallow("position")||(i?null:"inside"))&&(r=t.defaultOutsidePosition||"top"),null!=r&&(n.position=r),null!=a&&(n.offset=a),null!=o&&(n.rotation=o*=Math.PI/180),null!=s&&(n.distance=s),n.outsideFill="inherit"===e.get("color")?t.inheritColor||null:"auto",n}var fk=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],fN=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],fF=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function fO(e,t,i,r,n,o,s,a){i=!n&&i||fM;var l=r&&r.inheritColor,u=t.getShallow("color"),d=t.getShallow("textBorderColor"),h=lT(t.getShallow("opacity"),i.opacity);("inherit"===u||"auto"===u)&&(u=l||null),("inherit"===d||"auto"===d)&&(d=l||null),o||(u=u||i.color,d=d||i.textBorderColor),null!=u&&(e.fill=u),null!=d&&(e.stroke=d);var c=lT(t.getShallow("textBorderWidth"),i.textBorderWidth);null!=c&&(e.lineWidth=c);var p=lT(t.getShallow("textBorderType"),i.textBorderType);null!=p&&(e.lineDash=p);var g=lT(t.getShallow("textBorderDashOffset"),i.textBorderDashOffset);null!=g&&(e.lineDashOffset=g),n||null!=h||a||(h=r&&r.defaultOpacity),null!=h&&(e.opacity=h),n||o||null!=e.fill||!r.inheritColor||(e.fill=r.inheritColor);for(var f=0;f<fk.length;f++){var m=fk[f],v=lT(t.getShallow(m),i[m]);null!=v&&(e[m]=v)}for(var f=0;f<fN.length;f++){var m=fN[f],v=t.getShallow(m);null!=v&&(e[m]=v)}if(null==e.verticalAlign){var y=t.getShallow("baseline");null!=y&&(e.verticalAlign=y)}if(!s||!r.disableBox){for(var f=0;f<fF.length;f++){var m=fF[f],v=t.getShallow(m);null!=v&&(e[m]=v)}var C=t.getShallow("borderType");null!=C&&(e.borderDash=C),("auto"===e.backgroundColor||"inherit"===e.backgroundColor)&&l&&(e.backgroundColor=l),("auto"===e.borderColor||"inherit"===e.borderColor)&&l&&(e.borderColor=l)}}function fG(e,t){var i=t&&t.getModel("textStyle");return lI([e.fontStyle||i&&i.getShallow("fontStyle")||"",e.fontWeight||i&&i.getShallow("fontWeight")||"",(e.fontSize||i&&i.getShallow("fontSize")||12)+"px",e.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}var fV=c$();function fB(e,t,i,r){if(e){var n=fV(e);n.prevValue=n.value,n.value=i;var o=t.normal;n.valueAnimation=o.get("valueAnimation"),n.valueAnimation&&(n.precision=o.get("precision"),n.defaultInterpolatedText=r,n.statesModels=t)}}function fH(e,t,i,r,n){var o=fV(e);if(o.valueAnimation&&o.prevValue!==o.value){var s=o.defaultInterpolatedText,a=lT(o.interpolatedValue,o.prevValue),l=o.value;e.percent=0,(null==o.prevValue?fb:fw)(e,{percent:1},r,t,null,function(r){var u=c1(i,o.precision,a,l,r);o.interpolatedValue=1===r?null:u,fR(e,fD({labelDataIndex:t,labelFetcher:n,defaultText:s?s(u):u+""},o.statesModels,u))})}}var fz=["textStyle","color"],fW=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],fU=new gx,fj=function(){function e(){}return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(fz):null)},e.prototype.getFont=function(){return fG({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<fW.length;i++)t[fW[i]]=this.getShallow(fW[i]);return fU.useStyle(t),fU.update(),fU.getBoundingRect()},e}(),f$=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],fK=pt(f$),fY=function(){function e(){}return e.prototype.getLineStyle=function(e){return fK(this,e)},e}(),fq=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],fX=pt(fq),fZ=function(){function e(){}return e.prototype.getItemStyle=function(e,t){return fX(this,e,t)},e}(),fQ=function(){function e(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return e.prototype.init=function(e,t,i){for(var r=[],n=3;n<arguments.length;n++)r[n-3]=arguments[n]},e.prototype.mergeOption=function(e,t){a4(this.option,e,!0)},e.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var i=this.option,r=null==i?i:i[e];if(null==r&&!t){var n=this.parentModel;n&&(r=n.getShallow(e))}return r},e.prototype.getModel=function(t,i){var r=null!=t,n=r?this.parsePath(t):null;return new e(r?this._doGet(n):this.option,i=i||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(n)),this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){return new this.constructor(a3(this.option))},e.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},e.prototype.resolveParentPath=function(e){return e},e.prototype.isAnimationEnabled=function(){if(!aG.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;else if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&(!e[r]||null!=(i=i&&"object"==typeof i?i[e[r]]:null));r++);return null==i&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},e}();c4(fQ),v=["__\0is_clz",c8++].join("_"),fQ.prototype[v]=!0,fQ.isInstance=function(e){return!!(e&&e[v])},li(fQ,fY),li(fQ,fZ),li(fQ,pr),li(fQ,fj);var fJ=Math.round(10*Math.random());function f0(e){return[e||"",fJ++].join("_")}function f1(e,t){return a4(a4({},e,!0),t,!0)}var f2={},f5={},f3=aG.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||"EN").toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function f4(e,t){f5[e=e.toUpperCase()]=new fQ(t),f2[e]=t}f4("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),f4("ZH",{time:{month:["ä¸€æœˆ","äºŒæœˆ","ä¸‰æœˆ","å››æœˆ","äº”æœˆ","å…­æœˆ","ä¸ƒæœˆ","å…«æœˆ","ä¹æœˆ","åæœˆ","åä¸€æœˆ","åäºŒæœˆ"],monthAbbr:["1æœˆ","2æœˆ","3æœˆ","4æœˆ","5æœˆ","6æœˆ","7æœˆ","8æœˆ","9æœˆ","10æœˆ","11æœˆ","12æœˆ"],dayOfWeek:["æ˜ŸæœŸæ—¥","æ˜ŸæœŸä¸€","æ˜ŸæœŸäºŒ","æ˜ŸæœŸä¸‰","æ˜ŸæœŸå››","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­"],dayOfWeekAbbr:["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"]},legend:{selector:{all:"å…¨é€‰",inverse:"åé€‰"}},toolbox:{brush:{title:{rect:"çŸ©å½¢é€‰æ‹©",polygon:"åœˆé€‰",lineX:"æ¨ªå‘é€‰æ‹©",lineY:"çºµå‘é€‰æ‹©",keep:"ä¿æŒé€‰æ‹©",clear:"æ¸…é™¤é€‰æ‹©"}},dataView:{title:"æ•°æ®è§†å›¾",lang:["æ•°æ®è§†å›¾","å…³é—­","åˆ·æ–°"]},dataZoom:{title:{zoom:"åŒºåŸŸç¼©æ”¾",back:"åŒºåŸŸç¼©æ”¾è¿˜åŽŸ"}},magicType:{title:{line:"åˆ‡æ¢ä¸ºæŠ˜çº¿å›¾",bar:"åˆ‡æ¢ä¸ºæŸ±çŠ¶å›¾",stack:"åˆ‡æ¢ä¸ºå †å ",tiled:"åˆ‡æ¢ä¸ºå¹³é“º"}},restore:{title:"è¿˜åŽŸ"},saveAsImage:{title:"ä¿å­˜ä¸ºå›¾ç‰‡",lang:["å³é”®å¦å­˜ä¸ºå›¾ç‰‡"]}},series:{typeNames:{pie:"é¥¼å›¾",bar:"æŸ±çŠ¶å›¾",line:"æŠ˜çº¿å›¾",scatter:"æ•£ç‚¹å›¾",effectScatter:"æ¶Ÿæ¼ªæ•£ç‚¹å›¾",radar:"é›·è¾¾å›¾",tree:"æ ‘å›¾",treemap:"çŸ©å½¢æ ‘å›¾",boxplot:"ç®±åž‹å›¾",candlestick:"Kçº¿å›¾",k:"Kçº¿å›¾",heatmap:"çƒ­åŠ›å›¾",map:"åœ°å›¾",parallel:"å¹³è¡Œåæ ‡å›¾",lines:"çº¿å›¾",graph:"å…³ç³»å›¾",sankey:"æ¡‘åŸºå›¾",funnel:"æ¼æ–—å›¾",gauge:"ä»ªè¡¨ç›˜å›¾",pictorialBar:"è±¡å½¢æŸ±å›¾",themeRiver:"ä¸»é¢˜æ²³æµå›¾",sunburst:"æ—­æ—¥å›¾",custom:"è‡ªå®šä¹‰å›¾è¡¨",chart:"å›¾è¡¨"}},aria:{general:{withTitle:"è¿™æ˜¯ä¸€ä¸ªå…³äºŽâ€œ{title}â€çš„å›¾è¡¨ã€‚",withoutTitle:"è¿™æ˜¯ä¸€ä¸ªå›¾è¡¨ï¼Œ"},series:{single:{prefix:"",withName:"å›¾è¡¨ç±»åž‹æ˜¯{seriesType}ï¼Œè¡¨ç¤º{seriesName}ã€‚",withoutName:"å›¾è¡¨ç±»åž‹æ˜¯{seriesType}ã€‚"},multiple:{prefix:"å®ƒç”±{seriesCount}ä¸ªå›¾è¡¨ç³»åˆ—ç»„æˆã€‚",withName:"ç¬¬{seriesId}ä¸ªç³»åˆ—æ˜¯ä¸€ä¸ªè¡¨ç¤º{seriesName}çš„{seriesType}ï¼Œ",withoutName:"ç¬¬{seriesId}ä¸ªç³»åˆ—æ˜¯ä¸€ä¸ª{seriesType}ï¼Œ",separator:{middle:"ï¼›",end:"ã€‚"}}},data:{allData:"å…¶æ•°æ®æ˜¯â€”â€”",partialData:"å…¶ä¸­ï¼Œå‰{displayCnt}é¡¹æ˜¯â€”â€”",withName:"{name}çš„æ•°æ®æ˜¯{value}",withoutName:"{value}",separator:{middle:"ï¼Œ",end:""}}}});var f6={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},f8="{yyyy}-{MM}-{dd}",f9={year:"{yyyy}",month:"{yyyy}-{MM}",day:f8,hour:f8+" "+f6.hour,minute:f8+" "+f6.minute,second:f8+" "+f6.second,millisecond:f6.none},f7=["year","month","day","hour","minute","second","millisecond"],me=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function mt(e,t){return e+="","0000".substr(0,t-e.length)+e}function mi(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function mr(e,t,i,r){var n=cx(e),o=n[ms(i)](),s=n[ma(i)]()+1,a=Math.floor((s-1)/3)+1,l=n[ml(i)](),u=n["get"+(i?"UTC":"")+"Day"](),d=n[mu(i)](),h=(d-1)%12+1,c=n[md(i)](),p=n[mh(i)](),g=n[mc(i)](),f=d>=12?"pm":"am",m=f.toUpperCase(),v=(r instanceof fQ?r:f5[r||f3]||f5.EN).getModel("time"),y=v.get("month"),C=v.get("monthAbbr"),w=v.get("dayOfWeek"),b=v.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,f+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,mt(o%100+"",2)).replace(/{Q}/g,a+"").replace(/{MMMM}/g,y[s-1]).replace(/{MMM}/g,C[s-1]).replace(/{MM}/g,mt(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,mt(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,w[u]).replace(/{ee}/g,b[u]).replace(/{e}/g,u+"").replace(/{HH}/g,mt(d,2)).replace(/{H}/g,d+"").replace(/{hh}/g,mt(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,mt(c,2)).replace(/{m}/g,c+"").replace(/{ss}/g,mt(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,mt(g,3)).replace(/{S}/g,g+"")}function mn(e,t){var i=cx(e),r=i[ma(t)]()+1,n=i[ml(t)](),o=i[mu(t)](),s=i[md(t)](),a=i[mh(t)](),l=0===i[mc(t)](),u=l&&0===a,d=u&&0===s,h=d&&0===o,c=h&&1===n;if(c&&1===r)return"year";if(c)return"month";if(h)return"day";if(d)return"hour";if(u)return"minute";else if(l)return"second";else return"millisecond"}function mo(e,t,i){var r=lm(e)?cx(e):e;switch(t=t||mn(e,i)){case"year":return r[ms(i)]();case"half-year":return+(r[ma(i)]()>=6);case"quarter":return Math.floor((r[ma(i)]()+1)/4);case"month":return r[ma(i)]();case"day":return r[ml(i)]();case"half-day":return r[mu(i)]()/24;case"hour":return r[mu(i)]();case"minute":return r[md(i)]();case"second":return r[mh(i)]();case"millisecond":return r[mc(i)]()}}function ms(e){return e?"getUTCFullYear":"getFullYear"}function ma(e){return e?"getUTCMonth":"getMonth"}function ml(e){return e?"getUTCDate":"getDate"}function mu(e){return e?"getUTCHours":"getHours"}function md(e){return e?"getUTCMinutes":"getMinutes"}function mh(e){return e?"getUTCSeconds":"getSeconds"}function mc(e){return e?"getUTCMilliseconds":"getMilliseconds"}function mp(e){return e?"setUTCMonth":"setMonth"}function mg(e){return e?"setUTCDate":"setDate"}function mf(e){return e?"setUTCHours":"setHours"}function mm(e){return e?"setUTCMinutes":"setMinutes"}function mv(e){return e?"setUTCSeconds":"setSeconds"}function my(e){return e?"setUTCMilliseconds":"setMilliseconds"}function mC(e){if(!cA(e))return lg(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function mw(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}function mb(e,t,i){function r(e){return e&&lI(e)?e:"-"}function n(e){return!!(null!=e&&!isNaN(e)&&isFinite(e))}var o="time"===t,s=e instanceof Date;if(o||s){var a=o?cx(e):e;if(!isNaN(+a))return mr(a,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",i);if(s)return"-"}if("ordinal"===t)return lf(e)?r(e):lm(e)&&n(e)?e+"":"-";var l=cD(e);return n(l)?mC(l):lf(e)?r(e):"boolean"==typeof e?e+"":"-"}var mS=["a","b","c","d","e","f","g"],mx=function(e,t){return"{"+e+(null==t?"":t)+"}"};function m_(e,t,i){lc(t)||(t=[t]);var r=t.length;if(!r)return"";for(var n=t[0].$vars||[],o=0;o<n.length;o++){var s=mS[o];e=e.replace(mx(s),mx(s,0))}for(var a=0;a<r;a++)for(var l=0;l<n.length;l++){var u=t[a][n[l]];e=e.replace(mx(mS[l],a),i?um(u):u)}return e}function mE(e,t){var i=lg(e)?{color:e,extraCssText:t}:e||{},r=i.color,n=i.type;t=i.extraCssText;var o=i.renderMode||"html";return r?"html"===o?"subItem"===n?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+um(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+um(r)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(i.markerId||"markerX")+"|}  ",style:"subItem"===n?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}function mT(e,t,i){("week"===e||"month"===e||"quarter"===e||"half-year"===e||"year"===e)&&(e="MM-dd\nyyyy");var r=cx(t),n=i?"getUTC":"get",o=r[n+"FullYear"](),s=r[n+"Month"]()+1,a=r[n+"Date"](),l=r[n+"Hours"](),u=r[n+"Minutes"](),d=r[n+"Seconds"](),h=r[n+"Milliseconds"]();return e.replace("MM",mt(s,2)).replace("M",s).replace("yyyy",o).replace("yy",mt(o%100+"",2)).replace("dd",mt(a,2)).replace("d",a).replace("hh",mt(l,2)).replace("h",l).replace("mm",mt(u,2)).replace("m",u).replace("ss",mt(d,2)).replace("s",d).replace("SSS",mt(h,3))}function mM(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}function mR(e,t){return t=t||"transparent",lg(e)?e:lv(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function mD(e,t){if("_blank"===t||"blank"===t){var i=window.open();i.opener=null,i.location.href=e}else window.open(e,t)}var mA=["left","right","top","bottom","width","height"],mI=[["width","left","right"],["height","top","bottom"]];function mP(e,t,i,r,n){var o=0,s=0;null==r&&(r=1/0),null==n&&(n=1/0);var a=0;t.eachChild(function(l,u){var d,h,c=l.getBoundingRect(),p=t.childAt(u+1),g=p&&p.getBoundingRect();if("horizontal"===e){var f=c.width+(g?-g.x+c.x:0);(d=o+f)>r||l.newline?(o=0,d=f,s+=a+i,a=c.height):a=Math.max(a,c.height)}else{var m=c.height+(g?-g.y+c.y:0);(h=s+m)>n||l.newline?(o+=a+i,s=0,h=m,a=c.width):a=Math.max(a,c.width)}l.newline||(l.x=o,l.y=s,l.markRedraw(),"horizontal"===e?o=d+i:s=h+i)})}function mL(e,t,i){i=lD(i||0);var r=t.width,n=t.height,o=cc(e.left,r),s=cc(e.top,n),a=cc(e.right,r),l=cc(e.bottom,n),u=cc(e.width,r),d=cc(e.height,n),h=i[2]+i[0],c=i[1]+i[3],p=e.aspect;switch(isNaN(u)&&(u=r-a-c-o),isNaN(d)&&(d=n-l-h-s),null!=p&&(isNaN(u)&&isNaN(d)&&(p>r/n?u=.8*r:d=.8*n),isNaN(u)&&(u=p*d),isNaN(d)&&(d=u/p)),isNaN(o)&&(o=r-a-u-c),isNaN(s)&&(s=n-l-d-h),e.left||e.right){case"center":o=r/2-u/2-i[3];break;case"right":o=r-u-c}switch(e.top||e.bottom){case"middle":case"center":s=n/2-d/2-i[0];break;case"bottom":s=n-d-h}o=o||0,s=s||0,isNaN(u)&&(u=r-c-o-(a||0)),isNaN(d)&&(d=n-h-s-(l||0));var g=new uY(o+i[3],s+i[0],u,d);return g.margin=i,g}function mk(e,t,i,r,n,o){var s,a=!n||!n.hv||n.hv[0],l=!n||!n.hv||n.hv[1],u=n&&n.boundingMode||"all";if((o=o||e).x=e.x,o.y=e.y,!a&&!l)return!1;if("raw"===u)s="group"===e.type?new uY(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(s=e.getBoundingRect(),e.needLocalTransform()){var d=e.getLocalTransform();(s=s.clone()).applyTransform(d)}var h=mL(a9({width:s.width,height:s.height},t),i,r),c=a?h.x-s.x:0,p=l?h.y-s.y:0;return"raw"===u?(o.x=c,o.y=p):(o.x+=c,o.y+=p),o===e&&e.markRedraw(),!0}function mN(e){var t=e.layoutMode||e.constructor.layoutMode;return lv(t)?t:t?{type:t}:null}function mF(e,t,i){var r=i&&i.ignoreSize;lc(r)||(r=[r,r]);var n=s(mI[0],0),o=s(mI[1],1);function s(i,n){var o={},s=0,u={},d=0;if(ln(i,function(t){u[t]=e[t]}),ln(i,function(e){a(t,e)&&(o[e]=u[e]=t[e]),l(o,e)&&s++,l(u,e)&&d++}),r[n])return l(t,i[1])?u[i[2]]=null:l(t,i[2])&&(u[i[1]]=null),u;if(2===d||!s)return u;if(s>=2)return o;for(var h=0;h<i.length;h++){var c=i[h];if(!a(o,c)&&a(e,c)){o[c]=e[c];break}}return o}function a(e,t){return e.hasOwnProperty(t)}function l(e,t){return null!=e[t]&&"auto"!==e[t]}function u(e,t,i){ln(e,function(e){t[e]=i[e]})}u(mI[0],e,n),u(mI[1],e,o)}function mO(e){return mG({},e)}function mG(e,t){return t&&e&&ln(mA,function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e}lh(mP,"vertical"),lh(mP,"horizontal");var mV=c$(),mB=function(e){var t;function i(t,i,r){var n=e.call(this,t,i,r)||this;return n.uid=f0("ec_cpt_model"),n}return aF(i,e),i.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i)},i.prototype.mergeDefaultAndTheme=function(e,t){var i=mN(this),r=i?mO(e):{};a4(e,t.getTheme().get(this.mainType)),a4(e,this.getDefaultOption()),i&&mF(e,r,i)},i.prototype.mergeOption=function(e,t){a4(this.option,e,!0);var i=mN(this);i&&mF(this.option,e,i)},i.prototype.optionUpdated=function(e,t){},i.prototype.getDefaultOption=function(){var e=this.constructor;if(!(e&&e[c5]))return e.defaultOption;var t=mV(this);if(!t.defaultOption){for(var i=[],r=e;r;){var n=r.prototype.defaultOption;n&&i.push(n),r=r.superClass}for(var o={},s=i.length-1;s>=0;s--)o=a4(o,i[s],!0);t.defaultOption=o}return t.defaultOption},i.prototype.getReferringComponents=function(e,t){return cQ(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)},t)},i.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},i.prototype.getZLevelKey=function(){return""},i.prototype.setZLevel=function(e){this.option.zlevel=e},i.protoInitialize=void((t=i.prototype).type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0),i}(fQ);c6(mB,fQ),pe(mB),y={},mB.registerSubTypeDefaulter=function(e,t){y[c3(e).main]=t},mB.determineSubType=function(e,t){var i=t.type;if(!i){var r=c3(e).main;mB.hasSubTypes(e)&&y[r]&&(i=y[r](t))}return i};var mH=function(e){var t=[];return ln(mB.getClassesByMainType(e),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=lo(t,function(e){return c3(e).main}),"dataset"!==e&&0>=le(t,"dataset")&&t.unshift("dataset"),t};function mz(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}mB.topologicalTravel=function(e,t,i,r){if(e.length){var n,o,s,a=(o={},s=[],ln(n=t,function(e){var t,i,r,a=mz(o,e),l=(t=a.originalDeps=mH(e),i=n,r=[],ln(t,function(e){le(i,e)>=0&&r.push(e)}),r);a.entryCount=l.length,0===a.entryCount&&s.push(e),ln(l,function(t){0>le(a.predecessor,t)&&a.predecessor.push(t);var i=mz(o,t);0>le(i.successor,t)&&i.successor.push(e)})}),{graph:o,noEntryList:s}),l=a.graph,u=a.noEntryList,d={};for(ln(e,function(e){d[e]=!0});u.length;){var h=u.pop(),c=l[h],p=!!d[h];p&&(i.call(r,h,c.originalDeps.slice()),delete d[h]),ln(c.successor,p?f:g)}ln(d,function(){throw Error("")})}function g(e){l[e].entryCount--,0===l[e].entryCount&&u.push(e)}function f(e){d[e]=!0,g(e)}};var mW="";"undefined"!=typeof navigator&&(mW=navigator.platform||"");var mU="rgba(0, 0, 0, 0.2)";let mj={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:mU,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:mU,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:mU,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:mU,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:mU,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:mU,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:mW.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var m$=lG(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),mK="original",mY="arrayRows",mq="objectRows",mX="keyedColumns",mZ="typedArray",mQ="unknown",mJ="column",m0=c$();function m1(e,t,i){var r,n,o={},s=m5(t);if(!s||!e)return o;var a=[],l=[],u=m0(t.ecModel).datasetMap,d=s.uid+"_"+i.seriesLayoutBy;ln(e=e.slice(),function(t,i){var s=lv(t)?t:e[i]={name:t};"ordinal"===s.type&&null==r&&(r=i,n=p(s)),o[s.name]=[]});var h=u.get(d)||u.set(d,{categoryWayDim:n,valueWayDim:0});function c(e,t,i){for(var r=0;r<i;r++)e.push(t+r)}function p(e){var t=e.dimsDef;return t?t.length:1}return ln(e,function(e,t){var i=e.name,n=p(e);if(null==r){var s=h.valueWayDim;c(o[i],s,n),c(l,s,n),h.valueWayDim+=n}else if(r===t)c(o[i],0,n),c(a,0,n);else{var s=h.categoryWayDim;c(o[i],s,n),c(l,s,n),h.categoryWayDim+=n}}),a.length&&(o.itemName=a),l.length&&(o.seriesName=l),o}function m2(e,t,i){var r,n={};if(!m5(e))return n;var o=t.sourceFormat,s=t.dimensionsDefine;(o===mq||o===mX)&&ln(s,function(e,t){(lv(e)?e.name:e)==="name"&&(r=t)});var a=function(){for(var e={},n={},a=[],l=0,u=Math.min(5,i);l<u;l++){var d=m4(t.data,o,t.seriesLayoutBy,s,t.startIndex,l);a.push(d);var h=3===d;if(h&&null==e.v&&l!==r&&(e.v=l),null!=e.n&&e.n!==e.v&&(h||3!==a[e.n])||(e.n=l),c(e)&&3!==a[e.n])return e;h||(2===d&&null==n.v&&l!==r&&(n.v=l),(null==n.n||n.n===n.v)&&(n.n=l))}function c(e){return null!=e.v&&null!=e.n}return c(e)?e:c(n)?n:null}();if(a){n.value=[a.v];var l=null!=r?r:a.n;n.itemName=[l],n.seriesName=[l]}return n}function m5(e){if(!e.get("data",!0))return cQ(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},cX).models[0]}function m3(e,t){return m4(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function m4(e,t,i,r,n,o){var s,a,l;if(lC(e))return 3;if(r){var u=r[o];lv(u)?(a=u.name,l=u.type):lg(u)&&(a=u)}if(null!=l)return"ordinal"===l?1:3;if(t===mY)if("row"===i){for(var d=e[o],h=0;h<(d||[]).length&&h<5;h++)if(null!=(s=f(d[n+h])))return s}else for(var h=0;h<e.length&&h<5;h++){var c=e[n+h];if(c&&null!=(s=f(c[o])))return s}else if(t===mq){if(!a)return 3;for(var h=0;h<e.length&&h<5;h++){var p=e[h];if(p&&null!=(s=f(p[a])))return s}}else if(t===mX){if(!a)return 3;var d=e[a];if(!d||lC(d))return 3;for(var h=0;h<d.length&&h<5;h++)if(null!=(s=f(d[h])))return s}else if(t===mK)for(var h=0;h<e.length&&h<5;h++){var p=e[h],g=cG(p);if(!lc(g))return 3;if(null!=(s=f(g[o])))return s}function f(e){var t=lg(e);return null!=e&&Number.isFinite(Number(e))&&""!==e?t?2:3:t&&"-"!==e?1:void 0}return 3}var m6=lG(),m8=c$(),m9=c$(),m7=function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,i){return vt(this,m8,cN(this.get("color",!0)),this.get("colorLayer",!0),e,t,i)},e.prototype.clearColorPalette=function(){var e,t;e=this,(t=m8)(e).paletteIdx=0,t(e).paletteNameMap={}},e}();function ve(e,t,i,r){var n=cN(e.get(["aria","decal","decals"]));return vt(e,m9,n,null,t,i,r)}function vt(e,t,i,r,n,o,s){var a=t(o=o||e),l=a.paletteIdx||0,u=a.paletteNameMap=a.paletteNameMap||{};if(u.hasOwnProperty(n))return u[n];var d=null!=s&&r?function(e,t){for(var i=e.length,r=0;r<i;r++)if(e[r].length>t)return e[r];return e[i-1]}(r,s):i;if((d=d||i)&&d.length){var h=d[l];return n&&(u[n]=h),a.paletteIdx=(l+1)%d.length,h}}function vi(e){}function vr(e){throw Error(e)}var vn="\0_ec_inner",vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.init=function(e,t,i,r,n,o){r=r||{},this.option=null,this._theme=new fQ(r),this._locale=new fQ(n),this._optionManager=o},t.prototype.setOption=function(e,t,i){var r=vl(t);this._optionManager.setOption(e,i,r),this._resetOption(null,r)},t.prototype.resetOption=function(e,t){return this._resetOption(e,vl(t))},t.prototype._resetOption=function(e,t){var i=!1,r=this._optionManager;if(!e||"recreate"===e){var n=r.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(n,t)):q(this,n),i=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=r.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,t))}if(!e||"recreate"===e||"media"===e){var s=r.getMediaOption(this);s.length&&ln(s,function(e){i=!0,this._mergeOption(e,t)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,t){var i=this.option,r=this._componentsMap,n=this._componentsCount,o=[],s=lG(),a=t&&t.replaceMergeMainTypeMap;m0(this).datasetMap=lG(),ln(e,function(e,t){null!=e&&(mB.hasClass(t)?t&&(o.push(t),s.set(t,!0)):i[t]=null==i[t]?a3(e):a4(i[t],e,!0))}),a&&a.each(function(e,t){mB.hasClass(t)&&!s.get(t)&&(o.push(t),s.set(t,!0))}),mB.topologicalTravel(o,mB.getAllClassMainTypes(),function(t){var o,s=function(e,t,i){var r=m6.get(t);if(!r)return i;var n=r(e);return n?i.concat(n):i}(this,t,cN(e[t])),l=r.get(t),u=l?a&&a.get(t)?"replaceMerge":"normalMerge":"replaceAll",d=cV(l,s,u);ln(d,function(e){var i,r,n,o,s=e.newOption;lv(s)&&(e.keyInfo.mainType=t,e.keyInfo.subType=(i=t,r=s,n=e.existing,o=mB,r.type?r.type:n?n.subType:o.determineSubType(i,r)))}),i[t]=null,r.set(t,null),n.set(t,0);var h=[],c=[],p=0;ln(d,function(e,i){var r=e.existing,n=e.newOption;if(n){var s="series"===t,a=mB.getClass(t,e.keyInfo.subType,!s);if(!a)return;if("tooltip"===t){if(o)return;o=!0}if(r&&r.constructor===a)r.name=e.keyInfo.name,r.mergeOption(n,this),r.optionUpdated(n,!1);else{var l=a8({componentIndex:i},e.keyInfo);a8(r=new a(n,this,this,l),l),e.brandNew&&(r.__requireNewView=!0),r.init(n,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(h.push(r.option),c.push(r),p++):(h.push(void 0),c.push(void 0))},this),i[t]=h,r.set(t,c),n.set(t,p),"series"===t&&K(this)},this),this._seriesIndices||K(this)},t.prototype.getOption=function(){var e=a3(this.option);return ln(e,function(t,i){if(mB.hasClass(i)){for(var r=cN(t),n=r.length,o=!1,s=n-1;s>=0;s--)r[s]&&!cU(r[s])?o=!0:(r[s]=null,!o&&n--);r.length=n,e[i]=r}}),delete e[vn],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,t){var i=this._componentsMap.get(e);if(i){var r=i[t||0];if(r)return r;if(null==t){for(var n=0;n<i.length;n++)if(i[n])return i[n]}}},t.prototype.queryComponents=function(e){var t,i=e.mainType;if(!i)return[];var r=e.index,n=e.id,o=e.name,s=this._componentsMap.get(i);return s&&s.length?(null!=r?(t=[],ln(cN(r),function(e){s[e]&&t.push(s[e])})):t=null!=n?vs("id",n,s):null!=o?vs("name",o,s):la(s,function(e){return!!e}),va(t,e)):[]},t.prototype.findComponents=function(e){var t,i,r,n,o,s=e.query,a=e.mainType,l=(t=s,i=a+"Index",r=a+"Id",n=a+"Name",t&&(null!=t[i]||null!=t[r]||null!=t[n])?{mainType:a,index:t[i],id:t[r],name:t[n]}:null);return o=va(l?this.queryComponents(l):la(this._componentsMap.get(a),function(e){return!!e}),e),e.filter?la(o,e.filter):o},t.prototype.eachComponent=function(e,t,i){var r=this._componentsMap;if(lp(e))r.each(function(i,r){for(var n=0;i&&n<i.length;n++){var o=i[n];o&&e.call(t,r,o,o.componentIndex)}});else for(var n=lg(e)?r.get(e):lv(e)?this.findComponents(e):null,o=0;n&&o<n.length;o++){var s=n[o];s&&t.call(i,s,s.componentIndex)}},t.prototype.getSeriesByName=function(e){var t=cz(e,null);return la(this._componentsMap.get("series"),function(e){return!!e&&null!=t&&e.name===t})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return la(this._componentsMap.get("series"),function(t){return!!t&&t.subType===e})},t.prototype.getSeries=function(){return la(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,t){Y(this),ln(this._seriesIndices,function(i){var r=this._componentsMap.get("series")[i];e.call(t,r,i)},this)},t.prototype.eachRawSeries=function(e,t){ln(this._componentsMap.get("series"),function(i){i&&e.call(t,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,t,i){Y(this),ln(this._seriesIndices,function(r){var n=this._componentsMap.get("series")[r];n.subType===e&&t.call(i,n,r)},this)},t.prototype.eachRawSeriesByType=function(e,t,i){return ln(this.getSeriesByType(e),t,i)},t.prototype.isSeriesFiltered=function(e){return Y(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,t){Y(this);var i=[];ln(this._seriesIndices,function(r){var n=this._componentsMap.get("series")[r];e.call(t,n,r)&&i.push(r)},this),this._seriesIndices=i,this._seriesIndicesMap=lG(i)},t.prototype.restoreData=function(e){K(this);var t=this._componentsMap,i=[];t.each(function(e,t){mB.hasClass(t)&&i.push(t)}),mB.topologicalTravel(i,mB.getAllClassMainTypes(),function(i){ln(t.get(i),function(t){t&&("series"!==i||!function(e,t){if(t){var i=t.seriesIndex,r=t.seriesId,n=t.seriesName;return null!=i&&e.componentIndex!==i||null!=r&&e.id!==r||null!=n&&e.name!==n}}(t,e))&&t.restoreData()})})},t.internalField=void(K=function(e){var t=e._seriesIndices=[];ln(e._componentsMap.get("series"),function(e){e&&t.push(e.componentIndex)}),e._seriesIndicesMap=lG(t)},Y=function(e){},q=function(e,t){e.option={},e.option[vn]=1,e._componentsMap=lG({series:[]}),e._componentsCount=lG();var i,r,n,o=t.aria;lv(o)&&null==o.enabled&&(o.enabled=!0),i=t,r=e._theme.option,n=i.color&&!i.colorLayer,ln(r,function(e,t){("colorLayer"!==t||!n)&&(mB.hasClass(t)||("object"==typeof e?i[t]=i[t]?a4(i[t],e,!1):a3(e):null==i[t]&&(i[t]=e)))}),a4(t,mj,!1),e._mergeOption(t,null)}),t}(fQ);function vs(e,t,i){if(lc(t)){var r=lG();return ln(t,function(e){null!=e&&null!=cz(e,null)&&r.set(e,!0)}),la(i,function(t){return t&&r.get(t[e])})}var n=cz(t,null);return la(i,function(t){return t&&null!=n&&t[e]===n})}function va(e,t){return t.hasOwnProperty("subType")?la(e,function(e){return e&&e.subType===t.subType}):e}function vl(e){var t=lG();return e&&ln(cN(e.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}li(vo,m7);var vu=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];let vd=function(e){ln(vu,function(t){this[t]=ld(e[t],e)},this)};var vh={},vc=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(e,t){var i=[];ln(vh,function(r,n){var o=r.create(e,t);i=i.concat(o||[])}),this._coordinateSystems=i},e.prototype.update=function(e,t){ln(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(e,t){vh[e]=t},e.get=function(e){return vh[e]},e}(),vp=/^(min|max)?(.+)$/,vg=function(){function e(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,t,i){e&&(ln(cN(e.series),function(e){e&&e.data&&lC(e.data)&&lL(e.data)}),ln(cN(e.dataset),function(e){e&&e.source&&lC(e.source)&&lL(e.source)})),e=a3(e);var r=this._optionBackup,n=function(e,t,i){var r,n,o=[],s=e.baseOption,a=e.timeline,l=e.options,u=e.media,d=!!e.media,h=!!(l||a||s&&s.timeline);function c(e){ln(t,function(t){t(e,i)})}return s?(n=s).timeline||(n.timeline=a):((h||d)&&(e.options=e.media=null),n=e),d&&lc(u)&&ln(u,function(e){e&&e.option&&(e.query?o.push(e):r||(r=e))}),c(n),ln(l,function(e){return c(e)}),ln(o,function(e){return c(e.option)}),{baseOption:n,timelineOptions:l||[],mediaDefault:r,mediaList:o}}(e,t,!r);this._newBaseOption=n.baseOption,r?(n.timelineOptions.length&&(r.timelineOptions=n.timelineOptions),n.mediaList.length&&(r.mediaList=n.mediaList),n.mediaDefault&&(r.mediaDefault=n.mediaDefault)):this._optionBackup=n},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],a3(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(t=a3(i[r.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(e){var t,i,r=this._api.getWidth(),n=this._api.getHeight(),o=this._mediaList,s=this._mediaDefault,a=[],l=[];if(!o.length&&!s)return l;for(var u=0,d=o.length;u<d;u++)(function(e,t,i){var r={width:t,height:i,aspectratio:t/i},n=!0;return ln(e,function(e,t){var i=t.match(vp);if(i&&i[1]&&i[2]){var o,s,a,l=i[1];o=r[i[2].toLowerCase()],s=e,("min"===(a=l)?o>=s:"max"===a?o<=s:o===s)||(n=!1)}}),n})(o[u].query,r,n)&&a.push(u);return!a.length&&s&&(a=[-1]),a.length&&(t=a,i=this._currentMediaIndices,t.join(",")!==i.join(","))&&(l=lo(a,function(e){return a3(-1===e?s.option:o[e].option)})),this._currentMediaIndices=a,l},e}(),vf=lv,vm=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function vv(e){var t=e&&e.itemStyle;if(t)for(var i=0,r=vm.length;i<r;i++){var n=vm[i],o=t.normal,s=t.emphasis;o&&o[n]&&(e[n]=e[n]||{},e[n].normal?a4(e[n].normal,o[n]):e[n].normal=o[n],o[n]=null),s&&s[n]&&(e[n]=e[n]||{},e[n].emphasis?a4(e[n].emphasis,s[n]):e[n].emphasis=s[n],s[n]=null)}}function vy(e,t,i){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,n=e[t].emphasis;r&&(i?(e[t].normal=e[t].emphasis=null,a9(e[t],r)):e[t]=r),n&&(e.emphasis=e.emphasis||{},e.emphasis[t]=n,n.focus&&(e.emphasis.focus=n.focus),n.blurScope&&(e.emphasis.blurScope=n.blurScope))}}function vC(e){vy(e,"itemStyle"),vy(e,"lineStyle"),vy(e,"areaStyle"),vy(e,"label"),vy(e,"labelLine"),vy(e,"upperLabel"),vy(e,"edgeLabel")}function vw(e,t){var i=vf(e)&&e[t],r=vf(i)&&i.textStyle;if(r)for(var n=0,o=cO.length;n<o;n++){var s=cO[n];r.hasOwnProperty(s)&&(i[s]=r[s])}}function vb(e){e&&(vC(e),vw(e,"label"),e.emphasis&&vw(e.emphasis,"label"))}function vS(e){return lc(e)?e:e?[e]:[]}function vx(e){return(lc(e)?e[0]:e)||{}}function v_(e){e&&ln(vE,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var vE=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],vT=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],vM=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function vR(e){var t=e&&e.itemStyle;if(t)for(var i=0;i<vM.length;i++){var r=vM[i][1],n=vM[i][0];null!=t[r]&&(t[n]=t[r])}}function vD(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function vA(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function vI(e,t){var i;ln(vS(e.series),function(e){vf(e)&&function(e){if(vf(e)){vv(e),vC(e),vw(e,"label"),vw(e,"upperLabel"),vw(e,"edgeLabel"),e.emphasis&&(vw(e.emphasis,"label"),vw(e.emphasis,"upperLabel"),vw(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(vv(t),vb(t));var i=e.markLine;i&&(vv(i),vb(i));var r=e.markArea;r&&vb(r);var n=e.data;if("graph"===e.type){n=n||e.nodes;var o=e.links||e.edges;if(o&&!lC(o))for(var s=0;s<o.length;s++)vb(o[s]);ln(e.categories,function(e){vC(e)})}if(n&&!lC(n))for(var s=0;s<n.length;s++)vb(n[s]);if((t=e.markPoint)&&t.data)for(var a=t.data,s=0;s<a.length;s++)vb(a[s]);if((i=e.markLine)&&i.data)for(var l=i.data,s=0;s<l.length;s++)lc(l[s])?(vb(l[s][0]),vb(l[s][1])):vb(l[s]);"gauge"===e.type?(vw(e,"axisLabel"),vw(e,"title"),vw(e,"detail")):"treemap"===e.type?(vy(e.breadcrumb,"itemStyle"),ln(e.levels,function(e){vC(e)})):"tree"===e.type&&vC(e.leaves)}}(e)}),i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"],t&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),ln(i,function(t){ln(vS(e[t]),function(e){e&&(vw(e,"axisLabel"),vw(e.axisPointer,"label"))})}),ln(vS(e.parallel),function(e){var t=e&&e.parallelAxisDefault;vw(t,"axisLabel"),vw(t&&t.axisPointer,"label")}),ln(vS(e.calendar),function(e){vy(e,"itemStyle"),vw(e,"dayLabel"),vw(e,"monthLabel"),vw(e,"yearLabel")}),ln(vS(e.radar),function(e){vw(e,"name"),e.name&&null==e.axisName&&(e.axisName=e.name,delete e.name),null!=e.nameGap&&null==e.axisNameGap&&(e.axisNameGap=e.nameGap,delete e.nameGap)}),ln(vS(e.geo),function(e){vf(e)&&(vb(e),ln(vS(e.regions),function(e){vb(e)}))}),ln(vS(e.timeline),function(e){vb(e),vy(e,"label"),vy(e,"itemStyle"),vy(e,"controlStyle",!0);var t=e.data;lc(t)&&ln(t,function(e){lv(e)&&(vy(e,"label"),vy(e,"itemStyle"))})}),ln(vS(e.toolbox),function(e){vy(e,"iconStyle"),ln(e.feature,function(e){vy(e,"iconStyle")})}),vw(vx(e.axisPointer),"label"),vw(vx(e.tooltip).axisPointer,"label"),e.series=cN(e.series),ln(e.series,function(e){if(lv(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t){null!=e.clockWise&&(e.clockwise=e.clockWise),vD(e.label);var i=e.data;if(i&&!lC(i))for(var r=0;r<i.length;r++)vD(i[r]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},e.emphasis.scaleSize=null)}else if("gauge"===t){var n=function(e,t){for(var i=t.split(","),r=e,n=0;n<i.length&&null!=(r=r&&r[i[n]]);n++);return r}(e,"pointer.color");null!=n&&function(e,t,i,r){for(var n,o=t.split(","),s=e,a=0;a<o.length-1;a++)null==s[n=o[a]]&&(s[n]={}),s=s[n];null==s[o[a]]&&(s[o[a]]=i)}(e,"itemStyle.color",n)}else if("bar"===t){vR(e),vR(e.backgroundStyle),vR(e.emphasis);var i=e.data;if(i&&!lC(i))for(var r=0;r<i.length;r++)"object"==typeof i[r]&&(vR(i[r]),vR(i[r]&&i[r].emphasis))}else if("sunburst"===t){var o=e.highlightPolicy;o&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=o)),vA(e),function e(t,i){if(t)for(var r=0;r<t.length;r++)i(t[r]),t[r]&&e(t[r].children,i)}(e.data,vA)}else"graph"===t||"sankey"===t?e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency")):"map"===t&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&a9(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),v_(e)}}),e.dataRange&&(e.visualMap=e.dataRange),ln(vT,function(t){var i=e[t];i&&(lc(i)||(i=[i]),ln(i,function(e){v_(e)}))})}function vP(e){ln(e,function(t,i){var r=[],n=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],s=t.data,a=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";s.modify(o,function(o,u,d){var h,c,p=s.get(t.stackedDimension,d);if(isNaN(p))return n;a?c=s.getRawIndex(d):h=s.get(t.stackedByDimension,d);for(var g=NaN,f=i-1;f>=0;f--){var m=e[f];if(a||(c=m.data.rawIndexOf(m.stackedByDimension,h)),c>=0){var v=m.data.getByRawIndex(m.stackResultDimension,c);if("all"===l||"positive"===l&&v>0||"negative"===l&&v<0||"samesign"===l&&p>=0&&v>0||"samesign"===l&&p<=0&&v<0){p=function(e,t){var i=Math.max(cf(e),cf(t)),r=e+t;return i>20?r:cp(r,i)}(p,v),g=v;break}}}return r[0]=p,r[1]=g,r})})}var vL=function(e){this.data=e.data||(e.sourceFormat===mX?{}:[]),this.sourceFormat=e.sourceFormat||mQ,this.seriesLayoutBy=e.seriesLayoutBy||mJ,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var i=0;i<t.length;i++){var r=t[i];null==r.type&&1===m3(this,i)&&(r.type="ordinal")}};function vk(e){return e instanceof vL}function vN(e,t,i){i=i||vO(e);var r=t.seriesLayoutBy,n=function(e,t,i,r,n){if(!e)return{dimensionsDefine:vG(n),startIndex:s,dimensionsDetectedCount:o};if(t===mY){var o,s;"auto"===r||null==r?vV(function(e){null!=e&&"-"!==e&&(lg(e)?null==s&&(s=1):s=0)},i,e,10):s=lm(r)?r:+!!r,n||1!==s||(n=[],vV(function(e,t){n[t]=null!=e?e+"":""},i,e,1/0)),o=n?n.length:"row"===i?e.length:e[0]?e[0].length:null}else if(t===mq)n||(n=function(e){for(var t,i=0;i<e.length&&!(t=e[i++]););if(t)return lu(t)}(e));else if(t===mX)n||(n=[],ln(e,function(e,t){n.push(t)}));else if(t===mK){var a=cG(e[0]);o=lc(a)&&a.length||1}return{startIndex:s,dimensionsDefine:vG(n),dimensionsDetectedCount:o}}(e,i,r,t.sourceHeader,t.dimensions);return new vL({data:e,sourceFormat:i,seriesLayoutBy:r,dimensionsDefine:n.dimensionsDefine,startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount,metaRawOption:a3(t)})}function vF(e){return new vL({data:e,sourceFormat:lC(e)?mZ:mK})}function vO(e){var t=mQ;if(lC(e))t=mZ;else if(lc(e)){0===e.length&&(t=mY);for(var i=0,r=e.length;i<r;i++){var n=e[i];if(null!=n){if(lc(n)||lC(n)){t=mY;break}else if(lv(n)){t=mq;break}}}}else if(lv(e)){for(var o in e)if(lz(e,o)&&lr(e[o])){t=mX;break}}return t}function vG(e){if(e){var t=lG();return lo(e,function(e,i){var r={name:(e=lv(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var n=t.get(r.name);return n?r.name+="-"+n.count++:t.set(r.name,{count:1}),r})}}function vV(e,t,i,r){if("row"===t)for(var n=0;n<i.length&&n<r;n++)e(i[n]?i[n][0]:null,n);else for(var o=i[0]||[],n=0;n<o.length&&n<r;n++)e(o[n],n)}function vB(e){var t=e.sourceFormat;return t===mq||t===mX}var vH=function(){var e;function t(e,t){var i=vk(e)?e:vF(e);this._source=i;var r=this._data=i.data;i.sourceFormat===mZ&&(this._offset=0,this._dimSize=t,this._data=r),ee(this,r,i)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,t){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=void((e=t.prototype).pure=!1,e.persistent=!0),t.internalField=function(){ee=function(e,n,o){var s=o.sourceFormat,a=o.seriesLayoutBy,l=o.startIndex,u=o.dimensionsDefine;a8(e,J[vY(s,a)]),s===mZ?(e.getItem=t,e.count=r,e.fillStorage=i):(e.getItem=ld(function(e,t){return vW[vY(e,t)]}(s,a),null,n,l,u),e.count=ld(function(e,t){return vj[vY(e,t)]}(s,a),null,n,l,u))};var e,t=function(e,t){e-=this._offset,t=t||[];for(var i=this._data,r=this._dimSize,n=r*e,o=0;o<r;o++)t[o]=i[n+o];return t},i=function(e,t,i,r){for(var n=this._data,o=this._dimSize,s=0;s<o;s++){for(var a=r[s],l=null==a[0]?1/0:a[0],u=null==a[1]?-1/0:a[1],d=t-e,h=i[s],c=0;c<d;c++){var p=n[c*o+s];h[e+c]=p,p<l&&(l=p),p>u&&(u=p)}a[0]=l,a[1]=u}},r=function(){return this._data?this._data.length/this._dimSize:0};function n(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}(e={})[mY+"_"+mJ]={pure:!0,appendData:n},e[mY+"_row"]={pure:!0,appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[mq]={pure:!0,appendData:n},e[mX]={pure:!0,appendData:function(e){var t=this._data;ln(e,function(e,i){for(var r=t[i]||(t[i]=[]),n=0;n<(e||[]).length;n++)r.push(e[n])})}},e[mK]={appendData:n},e[mZ]={persistent:!1,pure:!0,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},J=e}(),t}(),vz=function(e,t,i,r){return e[r]},vW=((X={})[mY+"_"+mJ]=function(e,t,i,r){return e[r+t]},X[mY+"_row"]=function(e,t,i,r,n){r+=t;for(var o=n||[],s=0;s<e.length;s++){var a=e[s];o[s]=a?a[r]:null}return o},X[mq]=vz,X[mX]=function(e,t,i,r,n){for(var o=n||[],s=0;s<i.length;s++){var a=e[i[s].name];o[s]=a?a[r]:null}return o},X[mK]=vz,X),vU=function(e,t,i){return e.length},vj=((Z={})[mY+"_"+mJ]=function(e,t,i){return Math.max(0,e.length-t)},Z[mY+"_row"]=function(e,t,i){var r=e[0];return r?Math.max(0,r.length-t):0},Z[mq]=vU,Z[mX]=function(e,t,i){var r=e[i[0].name];return r?r.length:0},Z[mK]=vU,Z),v$=function(e,t,i){return e[t]},vK=((Q={})[mY]=v$,Q[mq]=function(e,t,i){return e[i]},Q[mX]=v$,Q[mK]=function(e,t,i){var r=cG(e);return r instanceof Array?r[t]:r},Q[mZ]=v$,Q);function vY(e,t){return e===mY?e+"_"+t:e}function vq(e,t,i){if(e){var r=e.getRawDataItem(t);if(null!=r){var n=e.getStore(),o=n.getSource().sourceFormat;if(null!=i){var s=e.getDimensionIndex(i),a=n.getDimensionProperty(s);return vK[o](r,s,a)}var l=r;return o===mK&&(l=cG(r)),l}}}var vX=/\{@(.+?)\}/g,vZ=function(){function e(){}return e.prototype.getDataParams=function(e,t){var i=this.getData(t),r=this.getRawValue(e,t),n=i.getRawIndex(e),o=i.getName(e),s=i.getRawDataItem(e),a=i.getItemVisual(e,"style"),l=a&&a[i.getItemVisual(e,"drawType")||"fill"],u=a&&a.stroke,d=this.mainType,h="series"===d,c=i.userOutput&&i.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:n,data:s,dataType:t,value:r,color:l,borderColor:u,dimensionNames:c?c.fullDimensions:null,encode:c?c.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(e,t,i,r,n,o){t=t||"normal";var s=this.getData(i),a=this.getDataParams(e,i);return(o&&(a.value=o.interpolatedValue),null!=r&&lc(a.value)&&(a.value=a.value[r]),n||(n=s.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),lp(n))?(a.status=t,a.dimensionIndex=r,n(a)):lg(n)?m_(n,a).replace(vX,function(t,i){var r=i.length,n=i;"["===n.charAt(0)&&"]"===n.charAt(r-1)&&(n=+n.slice(1,r-1));var a=vq(s,e,n);if(o&&lc(o.interpolatedValue)){var l=s.getDimensionIndex(n);l>=0&&(a=o.interpolatedValue[l])}return null!=a?a+"":""}):void 0},e.prototype.getRawValue=function(e,t){return vq(this.getData(t),e)},e.prototype.formatTooltip=function(e,t,i){},e}();function vQ(e){var t,i;return lv(e)?e.type&&(i=e):t=e,{text:t,frag:i}}function vJ(e){return new v0(e)}var v0=function(){function e(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return e.prototype.perform=function(e){var t,i,r,n,o=this._upstream,s=e&&e.skip;if(this._dirty&&o){var a=this.context;a.data=a.outputData=o.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!s&&(r=this._plan(this.context));var l=((t=this._modBy)>=1||(t=1),t),u=this._modDataCount||0,d=((i=e&&e.modBy)>=1||(i=1),i),h=e&&e.modDataCount||0;(l!==d||u!==h)&&(r="reset"),(this._dirty||"reset"===r)&&(this._dirty=!1,n=this._doReset(s)),this._modBy=d,this._modDataCount=h;var c=e&&e.step;if(o?this._dueEnd=o._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,g=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!s&&(n||p<g)){var f=this._progress;if(lc(f))for(var m=0;m<f.length;m++)this._doProgress(f[m],p,g,d,h);else this._doProgress(f,p,g,d,h)}this._dueIndex=g;var v=null!=this._settedOutputEnd?this._settedOutputEnd:g;this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,i,r,n){v1.reset(t,i,r,n),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:v1.next},this.context)},e.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(i=t.forceFirstProgress,t=t.progress),lc(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var t,i,r=this._downstream;return r&&r.dirty(),i},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},e}(),v1=function(){var e,t,i,r,n,o={reset:function(l,u,d,h){t=l,e=u,i=d,n=Math.ceil((r=h)/i),o.next=i>1&&r>0?a:s}};return o;function s(){return t<e?t++:null}function a(){var o=t%n*i+Math.ceil(t/n),s=t>=e?null:o<r?o:t;return t++,s}}();function v2(e,t){var i=t&&t.type;return"ordinal"===i?e:("time"!==i||lm(e)||null==e||"-"===e||(e=+cx(e)),null==e||""===e?NaN:Number(e))}var v5=lG({number:function(e){return parseFloat(e)},time:function(e){return+cx(e)},trim:function(e){return lg(e)?lI(e):e}}),v3={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},v4=function(){function e(e,t){lm(t)||vr(""),this._opFn=v3[e],this._rvalFloat=cD(t)}return e.prototype.evaluate=function(e){return lm(e)?this._opFn(e,this._rvalFloat):this._opFn(cD(e),this._rvalFloat)},e}(),v6=function(){function e(e,t){var i="desc"===e;this._resultLT=i?1:-1,null==t&&(t=i?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return e.prototype.evaluate=function(e,t){var i=lm(e)?e:cD(e),r=lm(t)?t:cD(t),n=isNaN(i),o=isNaN(r);if(n&&(i=this._incomparable),o&&(r=this._incomparable),n&&o){var s=lg(e),a=lg(t);s&&(i=a?e:0),a&&(r=s?t:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},e}(),v8=function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=cD(t)}return e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i!==this._rvalTypeof&&("number"===i||"number"===this._rvalTypeof)&&(t=cD(e)===this._rvalFloat)}return this._isEQ?t:!t},e}(),v9=function(){function e(){}return e.prototype.getRawData=function(){throw Error("not supported")},e.prototype.getRawDataItem=function(e){throw Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(e){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(e,t){},e.prototype.retrieveValueFromItem=function(e,t){},e.prototype.convertValue=function(e,t){return v2(e,t)},e}();function v7(e){return yn(e.sourceFormat)||vr(""),e.data}function ye(e){var t=e.sourceFormat,i=e.data;if(yn(t)||vr(""),t===mY){for(var r=[],n=0,o=i.length;n<o;n++)r.push(i[n].slice());return r}if(t===mq){for(var r=[],n=0,o=i.length;n<o;n++)r.push(a8({},i[n]));return r}}function yt(e,t,i){if(null!=i){if(lm(i)||!isNaN(i)&&!lz(t,i))return e[i];else if(lz(t,i))return t[i]}}function yi(e){return a3(e)}var yr=lG();function yn(e){return e===mY||e===mq}var yo="undefined",ys=typeof Uint32Array===yo?Array:Uint32Array,ya=typeof Uint16Array===yo?Array:Uint16Array,yl=typeof Int32Array===yo?Array:Int32Array,yu=typeof Float64Array===yo?Array:Float64Array,yd={float:yu,int:yl,ordinal:Array,number:Array,time:yu};function yh(e){return e>65535?ys:ya}function yc(){return[1/0,-1/0]}function yp(e,t,i,r,n){var o=yd[i||"float"];if(n){var s=e[t],a=s&&s.length;if(a!==r){for(var l=new o(r),u=0;u<a;u++)l[u]=s[u];e[t]=l}}else e[t]=new o(r)}var yg=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=lG()}return e.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),n=this.defaultDimValueGetter=et[r.sourceFormat];this._dimValueGetter=i||n,this._rawExtent=[],vB(r),this._dimensions=lo(t,function(e){return{type:e.type,property:e.property}}),this._initDataFromProvider(0,e.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,r=this._dimensions,n=i.get(e);if(null!=n){if(r[n].type===t)return n}else n=r.length;return r[n]={type:t},i.set(e,n),this._chunks[n]=new yd[t||"float"](this._rawCount),this._rawExtent[n]=yc(),n},e.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],r=this._dimensions[e],n=this._rawExtent,o=r.ordinalOffset||0,s=i.length;0===o&&(n[e]=yc());for(var a=n[e],l=o;l<s;l++){var u=i[l]=t.parseAndCollect(i[l]);isNaN(u)||(a[0]=Math.min(u,a[0]),a[1]=Math.max(u,a[1]))}r.ordinalMeta=t,r.ordinalOffset=s,r.type="ordinal"},e.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},e.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},e.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},e.prototype.appendValues=function(e,t){for(var i=this._chunks,r=this._dimensions,n=r.length,o=this._rawExtent,s=this.count(),a=s+Math.max(e.length,t||0),l=0;l<n;l++){var u=r[l];yp(i,l,u.type,a,!0)}for(var d=[],h=s;h<a;h++)for(var c=h-s,p=0;p<n;p++){var u=r[p],g=et.arrayRows.call(this,e[c]||d,u.property,c,p);i[p][h]=g;var f=o[p];g<f[0]&&(f[0]=g),g>f[1]&&(f[1]=g)}return this._rawCount=this._count=a,{start:s,end:a}},e.prototype._initDataFromProvider=function(e,t,i){for(var r=this._provider,n=this._chunks,o=this._dimensions,s=o.length,a=this._rawExtent,l=lo(o,function(e){return e.property}),u=0;u<s;u++){var d=o[u];a[u]||(a[u]=yc()),yp(n,u,d.type,t,i)}if(r.fillStorage)r.fillStorage(e,t,n,a);else for(var h=[],c=e;c<t;c++){h=r.getItem(c,h);for(var p=0;p<s;p++){var g=n[p],f=this._dimValueGetter(h,l[p],c,p);g[c]=f;var m=a[p];f<m[0]&&(m[0]=f),f>m[1]&&(m[1]=f)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(e,t){var i=[],r=[];if(null==t){t=e,e=[];for(var n=0;n<this._dimensions.length;n++)r.push(n)}else r=e;for(var n=0,o=r.length;n<o;n++)i.push(this.get(r[n],t));return i},e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},e.prototype.getSum=function(e){var t=this._chunks[e],i=0;if(t)for(var r=0,n=this.count();r<n;r++){var o=this.get(e,r);isNaN(o)||(i+=o)}return i},e.prototype.getMedian=function(e){var t=[];this.each([e],function(e){isNaN(e)||t.push(e)});var i=t.sort(function(e,t){return e-t}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return -1;if(!this._indices)return e;var t=this._indices,i=t[e];if(null!=i&&i<this._count&&i===e)return e;for(var r=0,n=this._count-1;r<=n;){var o=(r+n)/2|0;if(t[o]<e)r=o+1;else{if(!(t[o]>e))return o;n=o-1}}return -1},e.prototype.indicesOfNearest=function(e,t,i){var r=this._chunks[e],n=[];if(!r)return n;null==i&&(i=1/0);for(var o=1/0,s=-1,a=0,l=0,u=this.count();l<u;l++){var d=t-r[this.getRawIndex(l)],h=Math.abs(d);h<=i&&((h<o||h===o&&d>=0&&s<0)&&(o=h,s=d,a=0),d===s&&(n[a++]=l))}return n.length=a,n},e.prototype.getIndices=function(){var e,t=this._indices;if(t){var i=t.constructor,r=this._count;if(i===Array){e=new i(r);for(var n=0;n<r;n++)e[n]=t[n]}else e=new i(t.buffer,0,r)}else{var i=yh(this._rawCount);e=new i(this.count());for(var n=0;n<e.length;n++)e[n]=n}return e},e.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),n=new(yh(i._rawCount))(r),o=[],s=e.length,a=0,l=e[0],u=i._chunks,d=0;d<r;d++){var h=void 0,c=i.getRawIndex(d);if(0===s)h=t(d);else if(1===s)h=t(u[l][c],d);else{for(var p=0;p<s;p++)o[p]=u[e[p]][c];o[p]=d,h=t.apply(null,o)}h&&(n[a++]=c)}return a<r&&(i._indices=n),i._count=a,i._extent=[],i._updateGetRawIdx(),i},e.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var r=lu(e),n=r.length;if(!n)return this;var o=t.count(),s=new(yh(t._rawCount))(o),a=0,l=r[0],u=e[l][0],d=e[l][1],h=t._chunks,c=!1;if(!t._indices){var p=0;if(1===n){for(var g=h[r[0]],f=0;f<i;f++){var m=g[f];(m>=u&&m<=d||isNaN(m))&&(s[a++]=p),p++}c=!0}else if(2===n){for(var g=h[r[0]],v=h[r[1]],y=e[r[1]][0],C=e[r[1]][1],f=0;f<i;f++){var m=g[f],w=v[f];(m>=u&&m<=d||isNaN(m))&&(w>=y&&w<=C||isNaN(w))&&(s[a++]=p),p++}c=!0}}if(!c)if(1===n)for(var f=0;f<o;f++){var b=t.getRawIndex(f),m=h[r[0]][b];(m>=u&&m<=d||isNaN(m))&&(s[a++]=b)}else for(var f=0;f<o;f++){for(var S=!0,b=t.getRawIndex(f),x=0;x<n;x++){var _=r[x],m=h[_][b];(m<e[_][0]||m>e[_][1])&&(S=!1)}S&&(s[a++]=t.getRawIndex(f))}return a<o&&(t._indices=s),t._count=a,t._extent=[],t._updateGetRawIdx(),t},e.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},e.prototype.modify=function(e,t){this._updateDims(this,e,t)},e.prototype._updateDims=function(e,t,i){for(var r=e._chunks,n=[],o=t.length,s=e.count(),a=[],l=e._rawExtent,u=0;u<t.length;u++)l[t[u]]=yc();for(var d=0;d<s;d++){for(var h=e.getRawIndex(d),c=0;c<o;c++)a[c]=r[t[c]][h];a[o]=d;var p=i&&i.apply(null,a);if(null!=p){"object"!=typeof p&&(n[0]=p,p=n);for(var u=0;u<p.length;u++){var g=t[u],f=p[u],m=l[g],v=r[g];v&&(v[h]=f),f<m[0]&&(m[0]=f),f>m[1]&&(m[1]=f)}}}},e.prototype.lttbDownSample=function(e,t){var i,r,n,o=this.clone([e],!0),s=o._chunks[e],a=this.count(),l=0,u=Math.floor(1/t),d=this.getRawIndex(0),h=new(yh(this._rawCount))(Math.min((Math.ceil(a/u)+2)*2,a));h[l++]=d;for(var c=1;c<a-1;c+=u){for(var p=Math.min(c+u,a-1),g=Math.min(c+2*u,a),f=(g+p)/2,m=0,v=p;v<g;v++){var y=this.getRawIndex(v),C=s[y];isNaN(C)||(m+=C)}m/=g-p;var w=c,b=Math.min(c+u,a),S=c-1,x=s[d];i=-1,n=w;for(var _=-1,E=0,v=w;v<b;v++){var y=this.getRawIndex(v),C=s[y];if(isNaN(C)){E++,_<0&&(_=y);continue}(r=Math.abs((S-f)*(C-x)-(S-v)*(m-x)))>i&&(i=r,n=y)}E>0&&E<b-w&&(h[l++]=Math.min(_,n),n=Math.max(_,n)),h[l++]=n,d=n}return h[l++]=this.getRawIndex(a-1),o._count=l,o._indices=h,o.getRawIndex=this._getRawIdx,o},e.prototype.minmaxDownSample=function(e,t){for(var i=this.clone([e],!0),r=i._chunks,n=Math.floor(1/t),o=r[e],s=this.count(),a=new(yh(this._rawCount))(2*Math.ceil(s/n)),l=0,u=0;u<s;u+=n){var d=u,h=o[this.getRawIndex(d)],c=u,p=o[this.getRawIndex(c)],g=n;u+n>s&&(g=s-u);for(var f=0;f<g;f++){var m=o[this.getRawIndex(u+f)];m<h&&(h=m,d=u+f),m>p&&(p=m,c=u+f)}var v=this.getRawIndex(d),y=this.getRawIndex(c);d<c?(a[l++]=v,a[l++]=y):(a[l++]=y,a[l++]=v)}return i._count=l,i._indices=a,i._updateGetRawIdx(),i},e.prototype.downSample=function(e,t,i,r){for(var n=this.clone([e],!0),o=n._chunks,s=[],a=Math.floor(1/t),l=o[e],u=this.count(),d=n._rawExtent[e]=yc(),h=new(yh(this._rawCount))(Math.ceil(u/a)),c=0,p=0;p<u;p+=a){a>u-p&&(s.length=a=u-p);for(var g=0;g<a;g++){var f=this.getRawIndex(p+g);s[g]=l[f]}var m=i(s),v=this.getRawIndex(Math.min(p+r(s,m)||0,u-1));l[v]=m,m<d[0]&&(d[0]=m),m>d[1]&&(d[1]=m),h[c++]=v}return n._count=c,n._indices=h,n._updateGetRawIdx(),n},e.prototype.each=function(e,t){if(this._count)for(var i=e.length,r=this._chunks,n=0,o=this.count();n<o;n++){var s=this.getRawIndex(n);switch(i){case 0:t(n);break;case 1:t(r[e[0]][s],n);break;case 2:t(r[e[0]][s],r[e[1]][s],n);break;default:for(var a=0,l=[];a<i;a++)l[a]=r[e[a]][s];l[a]=n,t.apply(null,l)}}},e.prototype.getDataExtent=function(e){var t,i=this._chunks[e],r=yc();if(!i)return r;var n=this.count();if(!this._indices)return this._rawExtent[e].slice();if(t=this._extent[e])return t.slice();for(var o=(t=r)[0],s=t[1],a=0;a<n;a++){var l=i[this.getRawIndex(a)];l<o&&(o=l),l>s&&(s=l)}return t=[o,s],this._extent[e]=t,t},e.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,n=0;n<r.length;n++)i.push(r[n][t]);return i},e.prototype.clone=function(t,i){var r=new e,n=this._chunks,o=t&&ls(t,function(e,t){return e[t]=!0,e},{});if(o)for(var s=0;s<n.length;s++)r._chunks[s]=o[s]?function(e){var t=e.constructor;return t===Array?e.slice():new t(e)}(n[s]):n[s];else r._chunks=n;return this._copyCommonProps(r),i||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=a3(this._extent),e._rawExtent=a3(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(e){return e},e.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function e(e,t,i,r){return v2(e[r],this._dimensions[r])}et={arrayRows:e,objectRows:function(e,t,i,r){return v2(e[t],this._dimensions[r])},keyedColumns:e,original:function(e,t,i,r){var n=e&&(null==e.value?e:e.value);return v2(n instanceof Array?n[r]:n,this._dimensions[r])},typedArray:function(e,t,i,r){return e[r]}}}(),e}(),yf=function(){function e(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,i=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length;if(yv(i)){var o=void 0,s=void 0,a=void 0;if(n){var l=r[0];l.prepareSource(),o=(a=l.getSource()).data,s=a.sourceFormat,t=[l._getVersionSign()]}else s=lC(o=i.get("data",!0))?mZ:mK,t=[];var u=this._getSourceMetaRawOption()||{},d=a&&a.metaRawOption||{},h=lT(u.seriesLayoutBy,d.seriesLayoutBy)||null,c=lT(u.sourceHeader,d.sourceHeader),p=lT(u.dimensions,d.dimensions);e=h!==d.seriesLayoutBy||!!c!=!!d.sourceHeader||p?[vN(o,{seriesLayoutBy:h,sourceHeader:c,dimensions:p},s)]:[]}else if(n){var g=this._applyTransform(r);e=g.sourceList,t=g.upstreamSignList}else e=[vN(i.get("source",!0),this._getSourceMetaRawOption(),null)],t=[];this._setLocalSource(e,t)},e.prototype._applyTransform=function(e){var t,i,r=this._sourceHost,n=r.get("transform",!0),o=r.get("fromTransformResult",!0);null!=o&&1!==e.length&&yy("");var s=[],a=[];return(ln(e,function(e){e.prepareSource();var t=e.getSource(o||0);null==o||t||yy(""),s.push(t),a.push(e._getVersionSign())}),n)?i=function(e,t,i){var r=cN(e),n=r.length;n||vr("");for(var o=0;o<n;o++)t=function(e,t,i,r){t.length||vr(""),lv(e)||vr("");var n=e.type,o=yr.get(n);o||vr("");var s=lo(t,function(e){return function(e,t){var i=new v9,r=e.data,n=i.sourceFormat=e.sourceFormat,o=e.startIndex;e.seriesLayoutBy!==mJ&&vr("");var s=[],a={},l=e.dimensionsDefine;if(l)ln(l,function(e,t){var i=e.name,r={index:t,name:i,displayName:e.displayName};s.push(r),null!=i&&(lz(a,i)&&vr(""),a[i]=r)});else for(var u=0;u<e.dimensionsDetectedCount||0;u++)s.push({index:u});var d=vW[vY(n,mJ)];t.__isBuiltIn&&(i.getRawDataItem=function(e){return d(r,o,s,e)},i.getRawData=ld(v7,null,e)),i.cloneRawData=ld(ye,null,e),i.count=ld(vj[vY(n,mJ)],null,r,o,s);var h=vK[n];i.retrieveValue=function(e,t){return c(d(r,o,s,e),t)};var c=i.retrieveValueFromItem=function(e,t){if(null!=e){var i=s[t];if(i)return h(e,t,i.name)}};return i.getDimensionInfo=ld(yt,null,s,a),i.cloneAllDimensionInfo=ld(yi,null,s),i}(e,o)});return lo(cN(o.transform({upstream:s[0],upstreamList:s,config:a3(e.config)})),function(e,i){lv(e)||vr(""),e.data||vr(""),yn(vO(e.data))||vr("");var r,n=t[0];if(n&&0===i&&!e.dimensions){var o=n.startIndex;o&&(e.data=n.data.slice(0,o).concat(e.data)),r={seriesLayoutBy:mJ,sourceHeader:o,dimensions:n.metaRawOption.dimensions}}else r={seriesLayoutBy:mJ,sourceHeader:0,dimensions:e.dimensions};return vN(e.data,r,null)})}(r[o],t,0,0),o!==n-1&&(t.length=Math.max(t.length,1));return t}(n,s,{datasetIndex:r.componentIndex}):null!=o&&(i=[new vL({data:(t=s[0]).data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:a3(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})]),{sourceList:i,upstreamSignList:a}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},e.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},e.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},e.prototype._innerGetDataStore=function(e,t,i){var r=this._storeList,n=r[0];n||(n=r[0]={});var o=n[i];if(!o){var s=this._getUpstreamSourceManagers()[0];yv(this._sourceHost)&&s?o=s._innerGetDataStore(e,t,i):(o=new yg).initData(new vH(t,e.length),e),n[i]=o}return o},e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(yv(e)){var t=m5(e);return t?[t.getSourceManager()]:[]}return lo(e.get("transform",!0)||e.get("fromTransformResult",!0)?cQ(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},cX).models:[],function(e){return e.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var e,t,i,r=this._sourceHost;return yv(r)?(e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),i=r.get("dimensions",!0)):this._getUpstreamSourceManagers().length||(e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),i=r.get("dimensions",!0)),{seriesLayoutBy:e,sourceHeader:t,dimensions:i}},e}();function ym(e){e.option.transform&&lL(e.option.transform)}function yv(e){return"series"===e.mainType}function yy(e){throw Error(e)}function yC(e){var t=e.lineHeight;return null==t?"line-height:1":"line-height:"+um(t+"")+"px"}function yw(e,t){var i=e.color||"#6e7079",r=e.fontSize||12,n=e.fontWeight||"400",o=e.color||"#464646",s=e.fontSize||14,a=e.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+um(r+"")+"px;color:"+um(i)+";font-weight:"+um(n+""),valueStyle:"font-size:"+um(s+"")+"px;color:"+um(o)+";font-weight:"+um(a+"")}:{nameStyle:{fontSize:r,fill:i,fontWeight:n},valueStyle:{fontSize:s,fill:o,fontWeight:a}}}var yb=[0,10,20,30],yS=["","\n","\n\n","\n\n\n"];function yx(e,t){return t.type=e,t}function y_(e){return"section"===e.type}function yE(e,t,i,r){var n,o=t.noHeader,s={html:yb[n=function e(t){if(y_(t)){var i=0,r=t.blocks.length,n=r>1||r>0&&!t.noHeader;return ln(t.blocks,function(t){var r=e(t);r>=i&&(i=r+ +(n&&(!r||y_(t)&&!t.noHeader)))}),i}return 0}(t)],richText:yS[n]},a=[],l=t.blocks||[];lA(!l||lc(l)),l=l||[];var u=e.orderMode;if(t.sortBlocks&&u){l=l.slice();var d={valueAsc:"asc",valueDesc:"desc"};if(lz(d,u)){var h=new v6(d[u],null);l.sort(function(e,t){return h.evaluate(e.sortParam,t.sortParam)})}else"seriesDesc"===u&&l.reverse()}ln(l,function(i,n){var o=t.valueFormatter,l=(y_(i)?yE:yT)(o?a8(a8({},e),{valueFormatter:o}):e,i,n>0?s.html:0,r);null!=l&&a.push(l)});var c="richText"===e.renderMode?a.join(s.richText):yR(r,a.join(""),o?i:s.html);if(o)return c;var p=mb(t.header,"ordinal",e.useUTC),g=yw(r,e.renderMode).nameStyle,f=yC(r);return"richText"===e.renderMode?yD(e,p,g)+s.richText+c:yR(r,'<div style="'+g+";"+f+';">'+um(p)+"</div>"+c,i)}function yT(e,t,i,r){var n=e.renderMode,o=t.noName,s=t.noValue,a=!t.markerType,l=t.name,u=e.useUTC,d=t.valueFormatter||e.valueFormatter||function(e){return lo(e=lc(e)?e:[e],function(e,t){return mb(e,lc(b)?b[t]:b,u)})};if(!o||!s){var h,c,p,g,f,m,v,y,C=a?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",n),w=o?"":mb(l,"ordinal",u),b=t.valueType,S=s?[]:d(t.value,t.dataIndex),x=!a||!o,_=!a&&o,E=yw(r,n),T=E.nameStyle,M=E.valueStyle;return"richText"===n?(a?"":C)+(o?"":yD(e,w,T))+(s?"":(h=e,c=S,p=x,g=_,f=[M],p&&f.push({padding:[0,0,0,g?10:20],align:"right"}),h.markupStyleCreator.wrapRichTextStyle(lc(c)?c.join("  "):c,f))):yR(r,(a?"":C)+(o?"":'<span style="'+T+";"+(a?"":"margin-left:2px")+'">'+um(w)+"</span>")+(s?"":(m=S,v=x,y=_,'<span style="'+(v?"float:right;margin-left:"+(y?"10px":"20px"):"")+";"+M+'">'+lo(m=lc(m)?m:[m],function(e){return um(e)}).join("&nbsp;&nbsp;")+"</span>")),i)}}function yM(e,t,i,r,n,o){if(e)return(y_(e)?yE:yT)({useUTC:n,renderMode:i,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter},e,0,o)}function yR(e,t,i){return'<div style="margin: '+i+"px 0 0;"+yC(e)+';">'+t+'<div style="clear:both"></div></div>'}function yD(e,t,i){return e.markupStyleCreator.wrapRichTextStyle(t,i)}function yA(e,t){return mR(e.getData().getItemVisual(t,"style")[e.visualDrawType])}function yI(e,t){var i=e.get("padding");return null!=i?i:"richText"===t?[8,10]:10}var yP=function(){function e(){this.richTextStyles={},this._nextStyleNameId=cI()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,i){var r="richText"===i?this._generateStyleName():null,n=mE({color:t,type:e,renderMode:i,markerId:r});return lg(n)?n:(this.richTextStyles[r]=n.style,n.content)},e.prototype.wrapRichTextStyle=function(e,t){var i={};lc(t)?ln(t,function(e){return a8(i,e)}):a8(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},e}();function yL(e){var t,i,r,n,o=e.series,s=e.dataIndex,a=e.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),d=u.length,h=o.getRawValue(s),c=lc(h),p=yA(o,s);if(d>1||c&&!d){var g=function(e,t,i,r,n){var o=t.getData(),s=ls(e,function(e,t,i){var r=o.getDimensionInfo(i);return e||r&&!1!==r.tooltip&&null!=r.displayName},!1),a=[],l=[],u=[];function d(e,t){var i=o.getDimensionInfo(t);i&&!1!==i.otherDims.tooltip&&(s?u.push(yx("nameValue",{markerType:"subItem",markerColor:n,name:i.displayName,value:e,valueType:i.type})):(a.push(e),l.push(i.type)))}return r.length?ln(r,function(e){d(vq(o,i,e),e)}):ln(e,d),{inlineValues:a,inlineValueTypes:l,blocks:u}}(h,o,s,u,p);t=g.inlineValues,i=g.inlineValueTypes,r=g.blocks,n=g.inlineValues[0]}else if(d){var f=l.getDimensionInfo(u[0]);n=t=vq(l,s,u[0]),i=f.type}else n=t=c?h[0]:h;var m=cW(o),v=m&&o.name||"",y=l.getName(s),C=a?v:y;return yx("section",{header:v,noHeader:a||!m,sortParam:n,blocks:[yx("nameValue",{markerType:"item",markerColor:p,name:C,noName:!lI(C),value:t,valueType:i,dataIndex:s})].concat(r||[])})}var yk=c$();function yN(e,t){return e.getName(t)||e.getId(t)}var yF="__universalTransitionEnabled",yO=function(e){var t;function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return aF(i,e),i.prototype.init=function(e,t,i){this.seriesIndex=this.componentIndex,this.dataTask=vJ({count:yV,reset:yB}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i),(yk(this).sourceManager=new yf(this)).prepareSource();var r=this.getInitialData(e,i);yz(r,this),this.dataTask.context.data=r,yk(this).dataBeforeProcessed=r,yG(this),this._initSelectedMapFromData(r)},i.prototype.mergeDefaultAndTheme=function(e,t){var i=mN(this),r=i?mO(e):{},n=this.subType;mB.hasClass(n)&&(n+="Series"),a4(e,t.getTheme().get(this.subType)),a4(e,this.getDefaultOption()),cF(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&mF(e,r,i)},i.prototype.mergeOption=function(e,t){e=a4(this.option,e,!0),this.fillDataTextStyle(e.data);var i=mN(this);i&&mF(this.option,e,i);var r=yk(this).sourceManager;r.dirty(),r.prepareSource();var n=this.getInitialData(e,t);yz(n,this),this.dataTask.dirty(),this.dataTask.context.data=n,yk(this).dataBeforeProcessed=n,yG(this),this._initSelectedMapFromData(n)},i.prototype.fillDataTextStyle=function(e){if(e&&!lC(e))for(var t=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&cF(e[i],"label",t)},i.prototype.getInitialData=function(e,t){},i.prototype.appendData=function(e){this.getRawData().appendData(e.data)},i.prototype.getData=function(e){var t=yU(this);if(!t)return yk(this).data;var i=t.context.data;return null!=e&&i.getLinkedData?i.getLinkedData(e):i},i.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},i.prototype.setData=function(e){var t=yU(this);if(t){var i=t.context;i.outputData=e,t!==this.dataTask&&(i.data=e)}yk(this).data=e},i.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return lG(e)},i.prototype.getSourceManager=function(){return yk(this).sourceManager},i.prototype.getSource=function(){return this.getSourceManager().getSource()},i.prototype.getRawData=function(){return yk(this).dataBeforeProcessed},i.prototype.getColorBy=function(){return this.get("colorBy")||"series"},i.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},i.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},i.prototype.formatTooltip=function(e,t,i){return yL({series:this,dataIndex:e,multipleSeries:t})},i.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(aG.node&&!(e&&e.ssr))return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},i.prototype.restoreData=function(){this.dataTask.dirty()},i.prototype.getColorFromPalette=function(e,t,i){var r=this.ecModel,n=m7.prototype.getColorFromPalette.call(this,e,t,i);return n||(n=r.getColorFromPalette(e,t,i)),n},i.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},i.prototype.getProgressive=function(){return this.get("progressive")},i.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},i.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},i.prototype.unselect=function(e,t){var i=this.option.selectedMap;if(i){var r=this.option.selectedMode,n=this.getData(t);if("series"===r||"all"===i){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<e.length;o++){var s=yN(n,e[o]);i[s]=!1,this._selectedDataIndicesMap[s]=-1}}},i.prototype.toggleSelect=function(e,t){for(var i=[],r=0;r<e.length;r++)i[0]=e[r],this.isSelected(e[r],t)?this.unselect(i,t):this.select(i,t)},i.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,t=lu(e),i=[],r=0;r<t.length;r++){var n=e[t[r]];n>=0&&i.push(n)}return i},i.prototype.isSelected=function(e,t){var i=this.option.selectedMap;if(!i)return!1;var r=this.getData(t);return("all"===i||i[yN(r,e)])&&!r.getItemModel(e).get(["select","disabled"])},i.prototype.isUniversalTransitionEnabled=function(){if(this[yF])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},i.prototype._innerSelect=function(e,t){var i,r,n=this.option,o=n.selectedMode,s=t.length;if(o&&s){if("series"===o)n.selectedMap="all";else if("multiple"===o){lv(n.selectedMap)||(n.selectedMap={});for(var a=n.selectedMap,l=0;l<s;l++){var u=t[l],d=yN(e,u);a[d]=!0,this._selectedDataIndicesMap[d]=e.getRawIndex(u)}}else if("single"===o||!0===o){var h=t[s-1],d=yN(e,h);(i={})[d]=!0,n.selectedMap=i,this._selectedDataIndicesMap=((r={})[d]=e.getRawIndex(h),r)}}},i.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var t=[];e.hasItemOption&&e.each(function(i){var r=e.getRawDataItem(i);r&&r.selected&&t.push(i)}),t.length>0&&this._innerSelect(e,t)}},i.registerClass=function(e){return mB.registerClass(e)},i.protoInitialize=void((t=i.prototype).type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"),i}(mB);function yG(e){var t,i,r,n=e.name;cW(e)||(e.name=(i=(t=e.getRawData()).mapDimensionsAll("seriesName"),r=[],ln(i,function(e){var i=t.getDimensionInfo(e);i.displayName&&r.push(i.displayName)}),r.join(" ")||n))}function yV(e){return e.model.getRawData().count()}function yB(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),yH}function yH(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function yz(e,t){ln(lV(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(i){e.wrapMethod(i,lh(yW,t))})}function yW(e,t){var i=yU(e);return i&&i.setOutputEnd((t||this).count()),t}function yU(e){var t=(e.ecModel||{}).scheduler,i=t&&t.getPipeline(e.uid);if(i){var r=i.currentTask;if(r){var n=r.agentStubMap;n&&(r=n.get(e.uid))}return r}}li(yO,vZ),li(yO,m7),c6(yO,mB);var yj=function(){function e(){this.group=new ce,this.uid=f0("viewComponent")}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,i,r){},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,i,r){},e.prototype.updateLayout=function(e,t,i,r){},e.prototype.updateVisual=function(e,t,i,r){},e.prototype.toggleBlurSeries=function(e,t,i){},e.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},e}();function y$(){var e=c$();return function(t){var i=e(t),r=t.pipelineContext,n=!!i.large,o=!!i.progressiveRender,s=i.large=!!(r&&r.large),a=i.progressiveRender=!!(r&&r.progressiveRender);return(n!==s||o!==a)&&"reset"}}c4(yj),pe(yj);var yK=p5.CMD,yY=[[],[],[]],yq=Math.sqrt,yX=Math.atan2;function yZ(e,t){if(t){var i,r,n,o,s,a,l=e.data,u=e.len(),d=yK.M,h=yK.C,c=yK.L,p=yK.R,g=yK.A,f=yK.Q;for(n=0,o=0;n<u;){switch(i=l[n++],o=n,r=0,i){case d:case c:r=1;break;case h:r=3;break;case f:r=2;break;case g:var m=t[4],v=t[5],y=yq(t[0]*t[0]+t[1]*t[1]),C=yq(t[2]*t[2]+t[3]*t[3]),w=yX(-t[1]/C,t[0]/y);l[n]*=y,l[n++]+=m,l[n]*=C,l[n++]+=v,l[n++]*=y,l[n++]*=C,l[n++]+=w,l[n++]+=w,n+=2,o=n;break;case p:a[0]=l[n++],a[1]=l[n++],ut(a,a,t),l[o++]=a[0],l[o++]=a[1],a[0]+=l[n++],a[1]+=l[n++],ut(a,a,t),l[o++]=a[0],l[o++]=a[1]}for(s=0;s<r;s++){var b=yY[s];b[0]=l[n++],b[1]=l[n++],ut(b,b,t),l[o++]=b[0],l[o++]=b[1]}}e.increaseVersion()}}var yQ=Math.sqrt,yJ=Math.sin,y0=Math.cos,y1=Math.PI;function y2(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function y5(e,t){return(e[0]*t[0]+e[1]*t[1])/(y2(e)*y2(t))}function y3(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y5(e,t))}function y4(e,t,i,r,n,o,s,a,l,u,d){var h=y1/180*l,c=y0(h)*(e-i)/2+yJ(h)*(t-r)/2,p=-1*yJ(h)*(e-i)/2+y0(h)*(t-r)/2,g=c*c/(s*s)+p*p/(a*a);g>1&&(s*=yQ(g),a*=yQ(g));var f=(n===o?-1:1)*yQ((s*s*(a*a)-s*s*(p*p)-a*a*(c*c))/(s*s*(p*p)+a*a*(c*c)))||0,m=f*s*p/a,v=-(f*a)*c/s,y=(e+i)/2+y0(h)*m-yJ(h)*v,C=(t+r)/2+yJ(h)*m+y0(h)*v,w=y3([1,0],[(c-m)/s,(p-v)/a]),b=[(c-m)/s,(p-v)/a],S=[(-1*c-m)/s,(-1*p-v)/a],x=y3(b,S);if(-1>=y5(b,S)&&(x=y1),y5(b,S)>=1&&(x=0),x<0){var _=Math.round(x/y1*1e6)/1e6;x=2*y1+_%2*y1}d.addData(u,y,C,s,a,w,x,h,o)}var y6=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,y8=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,y9=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l$(t,e),t.prototype.applyTransform=function(e){},t}(gl);function y7(e){return null!=e.setData}function Ce(e,t){var i=function(e){var t,i=new p5;if(!e)return i;var r=0,n=0,o=0,s=0,a=p5.CMD,l=e.match(y6);if(!l)return i;for(var u=0;u<l.length;u++){for(var d=l[u],h=d.charAt(0),c=void 0,p=d.match(y8)||[],g=p.length,f=0;f<g;f++)p[f]=parseFloat(p[f]);for(var m=0;m<g;){var v=void 0,y=void 0,C=void 0,w=void 0,b=void 0,S=void 0,x=void 0,_=r,E=n,T=void 0,M=void 0;switch(h){case"l":r+=p[m++],n+=p[m++],c=a.L,i.addData(c,r,n);break;case"L":r=p[m++],n=p[m++],c=a.L,i.addData(c,r,n);break;case"m":r+=p[m++],n+=p[m++],c=a.M,i.addData(c,r,n),o=r,s=n,h="l";break;case"M":r=p[m++],n=p[m++],c=a.M,i.addData(c,r,n),o=r,s=n,h="L";break;case"h":r+=p[m++],c=a.L,i.addData(c,r,n);break;case"H":r=p[m++],c=a.L,i.addData(c,r,n);break;case"v":n+=p[m++],c=a.L,i.addData(c,r,n);break;case"V":n=p[m++],c=a.L,i.addData(c,r,n);break;case"C":c=a.C,i.addData(c,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),r=p[m-2],n=p[m-1];break;case"c":c=a.C,i.addData(c,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n),r+=p[m-2],n+=p[m-1];break;case"S":v=r,y=n,T=i.len(),M=i.data,t===a.C&&(v+=r-M[T-4],y+=n-M[T-3]),c=a.C,_=p[m++],E=p[m++],r=p[m++],n=p[m++],i.addData(c,v,y,_,E,r,n);break;case"s":v=r,y=n,T=i.len(),M=i.data,t===a.C&&(v+=r-M[T-4],y+=n-M[T-3]),c=a.C,_=r+p[m++],E=n+p[m++],r+=p[m++],n+=p[m++],i.addData(c,v,y,_,E,r,n);break;case"Q":_=p[m++],E=p[m++],r=p[m++],n=p[m++],c=a.Q,i.addData(c,_,E,r,n);break;case"q":_=p[m++]+r,E=p[m++]+n,r+=p[m++],n+=p[m++],c=a.Q,i.addData(c,_,E,r,n);break;case"T":v=r,y=n,T=i.len(),M=i.data,t===a.Q&&(v+=r-M[T-4],y+=n-M[T-3]),r=p[m++],n=p[m++],c=a.Q,i.addData(c,v,y,r,n);break;case"t":v=r,y=n,T=i.len(),M=i.data,t===a.Q&&(v+=r-M[T-4],y+=n-M[T-3]),r+=p[m++],n+=p[m++],c=a.Q,i.addData(c,v,y,r,n);break;case"A":C=p[m++],w=p[m++],b=p[m++],S=p[m++],x=p[m++],_=r,E=n,r=p[m++],y4(_,E,r,n=p[m++],S,x,C,w,b,c=a.A,i);break;case"a":C=p[m++],w=p[m++],b=p[m++],S=p[m++],x=p[m++],_=r,E=n,r+=p[m++],y4(_,E,r,n+=p[m++],S,x,C,w,b,c=a.A,i)}}("z"===h||"Z"===h)&&(c=a.Z,i.addData(c),r=o,n=s),t=c}return i.toStatic(),i}(e),r=a8({},t);return r.buildPath=function(e){if(y7(e)){e.setData(i.data);var t=e.getContext();t&&e.rebuildPath(t,1)}else{var t=e;i.rebuildPath(t,1)}},r.applyTransform=function(e){yZ(i,e),this.dirtyShape()},r}function Ct(e,t){t=t||{};var i=new gl;return e.shape&&i.setShape(e.shape),i.setStyle(e.style),t.bakeTransform?yZ(i.path,e.getComputedTransform()):t.toLocal?i.setLocalTransform(e.getComputedTransform()):i.copyTransform(e),i.buildPath=e.buildPath,i.applyTransform=i.applyTransform,i.z=e.z,i.z2=e.z2,i.zlevel=e.zlevel,i}var Ci=function(){this.cx=0,this.cy=0,this.r=0},Cr=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultShape=function(){return new Ci},t.prototype.buildPath=function(e,t){e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI)},t}(gl);Cr.prototype.type="circle";var Cn=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Co=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultShape=function(){return new Cn},t.prototype.buildPath=function(e,t){var i=t.cx,r=t.cy,n=t.rx,o=t.ry,s=.5522848*n,a=.5522848*o;e.moveTo(i-n,r),e.bezierCurveTo(i-n,r-a,i-s,r-o,i,r-o),e.bezierCurveTo(i+s,r-o,i+n,r-a,i+n,r),e.bezierCurveTo(i+n,r+a,i+s,r+o,i,r+o),e.bezierCurveTo(i-s,r+o,i-n,r+a,i-n,r),e.closePath()},t}(gl);Co.prototype.type="ellipse";var Cs=Math.PI,Ca=2*Cs,Cl=Math.sin,Cu=Math.cos,Cd=Math.acos,Ch=Math.atan2,Cc=Math.abs,Cp=Math.sqrt,Cg=Math.max,Cf=Math.min;function Cm(e,t,i,r,n,o,s){var a=e-i,l=t-r,u=(s?o:-o)/Cp(a*a+l*l),d=u*l,h=-u*a,c=e+d,p=t+h,g=i+d,f=r+h,m=(c+g)/2,v=(p+f)/2,y=g-c,C=f-p,w=y*y+C*C,b=n-o,S=c*f-g*p,x=(C<0?-1:1)*Cp(Cg(0,b*b*w-S*S)),_=(S*C-y*x)/w,E=(-S*y-C*x)/w,T=(S*C+y*x)/w,M=(-S*y+C*x)/w,R=_-m,D=E-v,A=T-m,I=M-v;return R*R+D*D>A*A+I*I&&(_=T,E=M),{cx:_,cy:E,x0:-d,y0:-h,x1:_*(n/b-1),y1:E*(n/b-1)}}var Cv=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Cy=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultShape=function(){return new Cv},t.prototype.buildPath=function(e,t){!function(e,t){var i,r=Cg(t.r,0),n=Cg(t.r0||0,0),o=r>0,s=n>0;if(o||s){if(o||(r=n,n=0),n>r){var a=r;r=n,n=a}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var d=t.cx,h=t.cy,c=!!t.clockwise,p=Cc(u-l),g=p>Ca&&p%Ca;if(g>1e-4&&(p=g),r>1e-4)if(p>Ca-1e-4)e.moveTo(d+r*Cu(l),h+r*Cl(l)),e.arc(d,h,r,l,u,!c),n>1e-4&&(e.moveTo(d+n*Cu(u),h+n*Cl(u)),e.arc(d,h,n,u,l,c));else{var f=void 0,m=void 0,v=void 0,y=void 0,C=void 0,w=void 0,b=void 0,S=void 0,x=void 0,_=void 0,E=void 0,T=void 0,M=void 0,R=void 0,D=void 0,A=void 0,I=r*Cu(l),P=r*Cl(l),L=n*Cu(u),k=n*Cl(u),N=p>1e-4;if(N){var F=t.cornerRadius;F&&(f=(i=function(e){var t;if(lc(e)){var i=e.length;if(!i)return e;t=1===i?[e[0],e[0],0,0]:2===i?[e[0],e[0],e[1],e[1]]:3===i?e.concat(e[2]):e}else t=[e,e,e,e];return t}(F))[0],m=i[1],v=i[2],y=i[3]);var O=Cc(r-n)/2;if(C=Cf(O,v),w=Cf(O,y),b=Cf(O,f),S=Cf(O,m),E=x=Cg(C,w),T=_=Cg(b,S),(x>1e-4||_>1e-4)&&(M=r*Cu(u),R=r*Cl(u),D=n*Cu(l),A=n*Cl(l),p<Cs)){var G=function(e,t,i,r,n,o,s,a){var l=i-e,u=r-t,d=s-n,h=a-o,c=h*l-d*u;if(!(c*c<1e-4))return c=(d*(t-o)-h*(e-n))/c,[e+c*l,t+c*u]}(I,P,D,A,M,R,L,k);if(G){var V=I-G[0],B=P-G[1],H=M-G[0],z=R-G[1],W=1/Cl(Cd((V*H+B*z)/(Cp(V*V+B*B)*Cp(H*H+z*z)))/2),U=Cp(G[0]*G[0]+G[1]*G[1]);E=Cf(x,(r-U)/(W+1)),T=Cf(_,(n-U)/(W-1))}}}if(N)if(E>1e-4){var j=Cf(v,E),$=Cf(y,E),K=Cm(D,A,I,P,r,j,c),Y=Cm(M,R,L,k,r,$,c);e.moveTo(d+K.cx+K.x0,h+K.cy+K.y0),E<x&&j===$?e.arc(d+K.cx,h+K.cy,E,Ch(K.y0,K.x0),Ch(Y.y0,Y.x0),!c):(j>0&&e.arc(d+K.cx,h+K.cy,j,Ch(K.y0,K.x0),Ch(K.y1,K.x1),!c),e.arc(d,h,r,Ch(K.cy+K.y1,K.cx+K.x1),Ch(Y.cy+Y.y1,Y.cx+Y.x1),!c),$>0&&e.arc(d+Y.cx,h+Y.cy,$,Ch(Y.y1,Y.x1),Ch(Y.y0,Y.x0),!c))}else e.moveTo(d+I,h+P),e.arc(d,h,r,l,u,!c);else e.moveTo(d+I,h+P);if(n>1e-4&&N)if(T>1e-4){var j=Cf(f,T),$=Cf(m,T),K=Cm(L,k,M,R,n,-$,c),Y=Cm(I,P,D,A,n,-j,c);e.lineTo(d+K.cx+K.x0,h+K.cy+K.y0),T<_&&j===$?e.arc(d+K.cx,h+K.cy,T,Ch(K.y0,K.x0),Ch(Y.y0,Y.x0),!c):($>0&&e.arc(d+K.cx,h+K.cy,$,Ch(K.y0,K.x0),Ch(K.y1,K.x1),!c),e.arc(d,h,n,Ch(K.cy+K.y1,K.cx+K.x1),Ch(Y.cy+Y.y1,Y.cx+Y.x1),c),j>0&&e.arc(d+Y.cx,h+Y.cy,j,Ch(Y.y1,Y.x1),Ch(Y.y0,Y.x0),!c))}else e.lineTo(d+L,h+k),e.arc(d,h,n,u,l,c);else e.lineTo(d+L,h+k)}else e.moveTo(d,h);e.closePath()}}}(e,t)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(gl);Cy.prototype.type="sector";var CC=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Cw=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultShape=function(){return new CC},t.prototype.buildPath=function(e,t){var i=t.cx,r=t.cy,n=2*Math.PI;e.moveTo(i+t.r,r),e.arc(i,r,t.r,0,n,!1),e.moveTo(i+t.r0,r),e.arc(i,r,t.r0,0,n,!0)},t}(gl);function Cb(e,t,i){var r=t.smooth,n=t.points;if(n&&n.length>=2){if(r){var o=function(e,t,i,r){var n,o,s,a,l=[],u=[],d=[],h=[];if(r){s=[1/0,1/0],a=[-1/0,-1/0];for(var c=0,p=e.length;c<p;c++)ui(s,s,e[c]),ur(a,a,e[c]);ui(s,s,r[0]),ur(a,a,r[1])}for(var c=0,p=e.length;c<p;c++){var g=e[c];if(i)n=e[c?c-1:p-1],o=e[(c+1)%p];else if(0===c||c===p-1){l.push(lq(e[c]));continue}else n=e[c-1],o=e[c+1];lJ(u,o,n),l4(u,u,t);var f=l8(g,n),m=l8(g,o),v=f+m;0!==v&&(f/=v,m/=v),l4(d,u,-f),l4(h,u,m);var y=lZ([],g,d),C=lZ([],g,h);r&&(ur(y,y,s),ui(y,y,a),ur(C,C,s),ui(C,C,a)),l.push(y),l.push(C)}return i&&l.push(l.shift()),l}(n,r,i,t.smoothConstraint);e.moveTo(n[0][0],n[0][1]);for(var s=n.length,a=0;a<(i?s:s-1);a++){var l=o[2*a],u=o[2*a+1],d=n[(a+1)%s];e.bezierCurveTo(l[0],l[1],u[0],u[1],d[0],d[1])}}else{e.moveTo(n[0][0],n[0][1]);for(var a=1,h=n.length;a<h;a++)e.lineTo(n[a][0],n[a][1])}i&&e.closePath()}}Cw.prototype.type="ring";var CS=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Cx=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultShape=function(){return new CS},t.prototype.buildPath=function(e,t){Cb(e,t,!0)},t}(gl);Cx.prototype.type="polygon";var C_=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},CE=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new C_},t.prototype.buildPath=function(e,t){Cb(e,t,!1)},t}(gl);CE.prototype.type="polyline";var CT={},CM=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},CR=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new CM},t.prototype.buildPath=function(e,t){if(this.subPixelOptimize){var i,r,n,o,s=gf(CT,t,this.style);i=s.x1,r=s.y1,n=s.x2,o=s.y2}else i=t.x1,r=t.y1,n=t.x2,o=t.y2;var a=t.percent;0!==a&&(e.moveTo(i,r),a<1&&(n=i*(1-a)+n*a,o=r*(1-a)+o*a),e.lineTo(n,o))},t.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},t}(gl);CR.prototype.type="line";var CD=[],CA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function CI(e,t,i){var r=e.cpx2,n=e.cpy2;return null!=r||null!=n?[(i?df:dg)(e.x1,e.cpx1,e.cpx2,e.x2,t),(i?df:dg)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(i?db:dw)(e.x1,e.cpx1,e.x2,t),(i?db:dw)(e.y1,e.cpy1,e.y2,t)]}var CP=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new CA},t.prototype.buildPath=function(e,t){var i=t.x1,r=t.y1,n=t.x2,o=t.y2,s=t.cpx1,a=t.cpy1,l=t.cpx2,u=t.cpy2,d=t.percent;0!==d&&(e.moveTo(i,r),null==l||null==u?(d<1&&(dx(i,s,n,d,CD),s=CD[1],n=CD[2],dx(r,a,o,d,CD),a=CD[1],o=CD[2]),e.quadraticCurveTo(s,a,n,o)):(d<1&&(dy(i,s,l,n,d,CD),s=CD[1],l=CD[2],n=CD[3],dy(r,a,u,o,d,CD),a=CD[1],u=CD[2],o=CD[3]),e.bezierCurveTo(s,a,l,u,n,o)))},t.prototype.pointAt=function(e){return CI(this.shape,e,!1)},t.prototype.tangentAt=function(e){var t=CI(this.shape,e,!0);return l6(t,t)},t}(gl);CP.prototype.type="bezier-curve";var CL=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Ck=function(e){function t(t){return e.call(this,t)||this}return l$(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new CL},t.prototype.buildPath=function(e,t){var i=t.cx,r=t.cy,n=Math.max(t.r,0),o=t.startAngle,s=t.endAngle,a=t.clockwise,l=Math.cos(o),u=Math.sin(o);e.moveTo(l*n+i,u*n+r),e.arc(i,r,n,o,s,!a)},t}(gl);Ck.prototype.type="arc";var CN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return l$(t,e),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,t=this.shapeChanged(),i=0;i<e.length;i++)t=t||e[i].shapeChanged();t&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(t[0],t[1],e[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,t){for(var i=t.paths||[],r=0;r<i.length;r++)i[r].buildPath(e,i[r].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),gl.prototype.getBoundingRect.call(this)},t}(gl),CF=function(){function e(e){this.colorStops=e||[]}return e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},e}(),CO=function(e){function t(t,i,r,n,o,s){var a=e.call(this,o)||this;return a.x=null==t?0:t,a.y=null==i?0:i,a.x2=null==r?1:r,a.y2=null==n?0:n,a.type="linear",a.global=s||!1,a}return l$(t,e),t}(CF),CG=function(e){function t(t,i,r,n,o){var s=e.call(this,n)||this;return s.x=null==t?.5:t,s.y=null==i?.5:i,s.r=null==r?.5:r,s.type="radial",s.global=o||!1,s}return l$(t,e),t}(CF),CV=[0,0],CB=[0,0],CH=new uV,Cz=new uV,CW=function(){function e(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new uV;for(var i=0;i<2;i++)this._axes[i]=new uV;e&&this.fromBoundingRect(e,t)}return e.prototype.fromBoundingRect=function(e,t){var i=this._corners,r=this._axes,n=e.x,o=e.y,s=n+e.width,a=o+e.height;if(i[0].set(n,o),i[1].set(s,o),i[2].set(s,a),i[3].set(n,a),t)for(var l=0;l<4;l++)i[l].transform(t);uV.sub(r[0],i[1],i[0]),uV.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize();for(var l=0;l<2;l++)this._origin[l]=r[l].dot(i[0])},e.prototype.intersect=function(e,t){var i=!0,r=!t;return(CH.set(1/0,1/0),Cz.set(0,0),!this._intersectCheckOneSide(this,e,CH,Cz,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,CH,Cz,r,-1)&&(i=!1,r))?i:(r||uV.copy(t,i?CH:Cz),i)},e.prototype._intersectCheckOneSide=function(e,t,i,r,n,o){for(var s=!0,a=0;a<2;a++){var l=this._axes[a];if(this._getProjMinMaxOnAxis(a,e._corners,CV),this._getProjMinMaxOnAxis(a,t._corners,CB),CV[1]<CB[0]||CV[0]>CB[1]){if(s=!1,n)return s;var u=Math.abs(CB[0]-CV[1]),d=Math.abs(CV[0]-CB[1]);Math.min(u,d)>r.len()&&(u<d?uV.scale(r,l,-u*o):uV.scale(r,l,d*o))}else if(i){var u=Math.abs(CB[0]-CV[1]),d=Math.abs(CV[0]-CB[1]);Math.min(u,d)<i.len()&&(u<d?uV.scale(i,l,u*o):uV.scale(i,l,-d*o))}}return s},e.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var r=this._axes[e],n=this._origin,o=t[0].dot(r)+n[e],s=o,a=o,l=1;l<t.length;l++){var u=t[l].dot(r)+n[e];s=Math.min(u,s),a=Math.max(u,a)}i[0]=s,i[1]=a},e}(),CU=[],Cj=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return l$(t,e),t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,t){t=t||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],t)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new uY(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var i=this._displayables[t],r=i.getBoundingRect().clone();i.needLocalTransform()&&r.applyTransform(i.getLocalTransform(CU)),e.union(r)}this._rect=e}return this._rect},t.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(i[0],i[1])){for(var r=0;r<this._displayables.length;r++)if(this._displayables[r].contain(e,t))return!0}return!1},t}(p_),C$=Math.max,CK=Math.min,CY={};function Cq(e){return gl.extend(e)}var CX=function(e,t){var i=Ce(e,t),r=y9;function n(e){var t=r.call(this,e)||this;return t.applyTransform=i.applyTransform,t.buildPath=i.buildPath,t}return l$(n,r),n};function CZ(e,t){return CX(e,t)}function CQ(e,t){CY[e]=t}function CJ(e){if(CY.hasOwnProperty(e))return CY[e]}function C0(e,t,i,r){var n=new y9(Ce(e,t));return i&&("center"===r&&(i=C2(i,n.getBoundingRect())),C3(n,i)),n}function C1(e,t,i){var r=new gp({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===i){var n={width:e.width,height:e.height};r.setStyle(C2(t,n))}}});return r}function C2(e,t){var i,r=t.width/t.height,n=e.height*r;return i=n<=e.width?e.height:(n=e.width)/r,{x:e.x+e.width/2-n/2,y:e.y+e.height/2-i/2,width:n,height:i}}var C5=function(e,t){for(var i=[],r=e.length,n=0;n<r;n++){var o=e[n];i.push(o.getUpdatedPathProxy(!0))}var s=new gl(t);return s.createPathProxy(),s.buildPath=function(e){if(y7(e)){e.appendPath(i);var t=e.getContext();t&&e.rebuildPath(t,1)}},s};function C3(e,t){if(e.applyTransform){var i=e.getBoundingRect().calculateTransform(t);e.applyTransform(i)}}function C4(e,t){return gf(e,e,{lineWidth:t}),e}function C6(e){return gm(e.shape,e.shape,e.style),e}var C8=gv;function C9(e,t){for(var i=uI([]);e&&e!==t;)uL(i,e.getLocalTransform(),i),e=e.parent;return i}function C7(e,t,i){return t&&!lr(t)&&(t=hU.getLocalTransform(t)),i&&(t=uO([],t)),ut([],e,t)}function we(e,t,i){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),n=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===e?-r:"right"===e?r:0,"top"===e?-n:"bottom"===e?n:0];return Math.abs((o=C7(o,t,i))[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function wt(e,t,i){if(e&&t){var r,n=(r={},e.traverse(function(e){!e.isGroup&&e.anid&&(r[e.anid]=e)}),r);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=n[e.anid];if(t){var r=o(e);e.attr(o(t)),fw(e,r,i,gF(e).dataIndex)}}})}function o(e){var t={x:e.x,y:e.y,rotation:e.rotation};return null!=e.shape&&(t.shape=a8({},e.shape)),t}}function wi(e,t){return lo(e,function(e){var i=e[0];i=CK(i=C$(i,t.x),t.x+t.width);var r=e[1];return[i,r=CK(r=C$(r,t.y),t.y+t.height)]})}function wr(e,t){var i=C$(e.x,t.x),r=CK(e.x+e.width,t.x+t.width),n=C$(e.y,t.y),o=CK(e.y+e.height,t.y+t.height);if(r>=i&&o>=n)return{x:i,y:n,width:r-i,height:o-n}}function wn(e,t,i){var r=a8({rectHover:!0},t),n=r.style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(n.image=e.slice(8),a9(n,i),new gp(r)):C0(e.replace("path://",""),r,i,"center")}function wo(e,t,i,r,n){for(var o=0,s=n[n.length-1];o<n.length;o++){var a=n[o];if(ws(e,t,i,r,a[0],a[1],s[0],s[1]))return!0;s=a}}function ws(e,t,i,r,n,o,s,a){var l,u=i-e,d=r-t,h=s-n,c=a-o,p=h*d-u*c;if((l=p)<=1e-6&&l>=-1e-6)return!1;var g=e-n,f=t-o,m=(g*d-u*f)/p;if(m<0||m>1)return!1;var v=(g*c-h*f)/p;return!(v<0)&&!(v>1)}function wa(e){var t=e.itemTooltipOption,i=e.componentModel,r=e.itemName,n=lg(t)?{formatter:t}:t,o=i.mainType,s=i.componentIndex,a={componentType:o,name:r,$vars:["name"]};a[o+"Index"]=s;var l=e.formatterParamsExtra;l&&ln(lu(l),function(e){lz(a,e)||(a[e]=l[e],a.$vars.push(e))});var u=gF(e.el);u.componentMainType=o,u.componentIndex=s,u.tooltipConfig={name:r,option:a9({content:r,encodeHTMLContent:!0,formatterParams:a},n)}}function wl(e,t){var i;e.isGroup&&(i=t(e)),i||e.traverse(t)}function wu(e,t){if(e)if(lc(e))for(var i=0;i<e.length;i++)wl(e[i],t);else wl(e,t)}CY.circle=Cr,CY.ellipse=Co,CY.sector=Cy,CY.ring=Cw,CY.polygon=Cx,CY.polyline=CE,CY.rect=gw,CY.line=CR,CY.bezierCurve=CP,CY.arc=Ck,e.s(["applyTransform",()=>C7,"clipPointsByRect",()=>wi,"clipRectByRect",()=>wr,"createIcon",()=>wn,"extendPath",()=>CZ,"extendShape",()=>Cq,"getShapeClass",()=>CJ,"getTransform",()=>C9,"groupTransition",()=>wt,"lineLineIntersect",()=>ws,"linePolygonIntersect",()=>wo,"makeImage",()=>C1,"makePath",()=>C0,"mergePath",()=>C5,"registerShape",()=>CQ,"resizePath",()=>C3,"setTooltipConfig",()=>wa,"subPixelOptimize",()=>C8,"subPixelOptimizeLine",()=>C4,"subPixelOptimizeRect",()=>C6,"transformDirection",()=>we,"traverseElements",()=>wu],97505);var wd=c$(),wh=y$(),wc=function(){function e(){this.group=new ce,this.uid=f0("viewChart"),this.renderTask=vJ({plan:wf,reset:wm}),this.renderTask.context={view:this}}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,i,r){},e.prototype.highlight=function(e,t,i,r){var n=e.getData(r&&r.dataType);n&&wg(n,r,"emphasis")},e.prototype.downplay=function(e,t,i,r){var n=e.getData(r&&r.dataType);n&&wg(n,r,"normal")},e.prototype.remove=function(e,t){this.group.removeAll()},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,i,r){this.render(e,t,i,r)},e.prototype.updateLayout=function(e,t,i,r){this.render(e,t,i,r)},e.prototype.updateVisual=function(e,t,i,r){this.render(e,t,i,r)},e.prototype.eachRendered=function(e){wu(this.group,e)},e.markUpdateMethod=function(e,t){wd(e).updateMethod=t},e.protoInitialize=void(e.prototype.type="chart"),e}();function wp(e,t,i){e&&fg(e)&&("emphasis"===t?g7:fe)(e,i)}function wg(e,t,i){var r,n,o=cj(e,t),s=t&&null!=t.highlightKey?(null==(n=gV[r=t.highlightKey])&&gG<=32&&(n=gV[r]=gG++),n):null;null!=o?ln(cN(o),function(t){wp(e.getItemGraphicEl(t),i,s)}):e.eachItemGraphicEl(function(e){wp(e,i,s)})}function wf(e){return wh(e.model)}function wm(e){var t=e.model,i=e.ecModel,r=e.api,n=e.payload,o=t.pipelineContext.progressiveRender,s=e.view,a=n&&wd(n).updateMethod,l=o?"incrementalPrepareRender":a&&s[a]?a:"render";return"render"!==l&&s[l](t,i,r,n),wv[l]}c4(wc,["dispose"]),pe(wc);var wv={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},wy="\0__throttleOriginMethod",wC="\0__throttleRate",ww="\0__throttleType";function wb(e,t,i){var r,n,o,s,a,l=0,u=0,d=null;function h(){u=new Date().getTime(),d=null,e.apply(o,s||[])}t=t||0;var c=function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];r=new Date().getTime(),o=this,s=e;var p=a||t,g=a||i;a=null,n=r-(g?l:u)-p,clearTimeout(d),g?d=setTimeout(h,p):n>=0?h():d=setTimeout(h,-n),l=r};return c.clear=function(){d&&(clearTimeout(d),d=null)},c.debounceNextCall=function(e){a=e},c}function wS(e,t,i,r){var n=e[t];if(n){var o=n[wy]||n,s=n[ww];if(n[wC]!==i||s!==r){if(null==i||!r)return e[t]=o;(n=e[t]=wb(o,i,"debounce"===r))[wy]=o,n[ww]=r,n[wC]=i}return n}}function w_(e,t){var i=e[t];i&&i[wy]&&(i.clear&&i.clear(),e[t]=i[wy])}var wE=c$(),wT={itemStyle:pt(fq,!0),lineStyle:pt(f$,!0)},wM={lineStyle:"stroke",itemStyle:"fill"};function wR(e,t){var i=e.visualStyleMapper||wT[t];return i||(console.warn("Unknown style type '"+t+"'."),wT.itemStyle)}function wD(e,t){var i=e.visualDrawType||wM[t];return i||(console.warn("Unknown style type '"+t+"'."),"fill")}var wA=new fQ,wI=Math.PI,wP=function(){function e(e,t,i,r){this._stageTaskMap=lG(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return e.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(e){var t=e.overallTask;t&&t.dirty()})},e.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,n=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,o=r&&r.modDataCount,s=null!=o?Math.ceil(o/n):null;return{step:n,modBy:s,modDataCount:o}}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},e.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),r=e.getData().count(),n=i.progressiveEnabled&&t.incrementalPrepareRender&&r>=i.threshold,o=e.get("large")&&r>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?r:null;e.pipelineContext=i.context={progressiveRender:n,modDataCount:s,large:o}},e.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=lG();e.eachSeries(function(e){var r=e.getProgressive(),n=e.uid;i.set(n,{id:n,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:r&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),t._pipe(e,e.dataTask)})},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;ln(this._allHandlers,function(r){var n=e.get(r.uid)||e.set(r.uid,{});lA(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,n,t,i),r.overallReset&&this._createOverallStageTask(r,n,t,i)},this)},e.prototype.prepareView=function(e,t,i,r){var n=e.renderTask,o=n.context;o.model=t,o.ecModel=i,o.api=r,n.__block=!e.incrementalPrepareRender,this._pipe(t,n)},e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},e.prototype._performStageTasks=function(e,t,i,r){r=r||{};var n=!1,o=this;function s(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}ln(e,function(e,a){if(!r.visualType||r.visualType===e.visualType){var l=o._stageTaskMap.get(e.uid),u=l.seriesTaskMap,d=l.overallTask;if(d){var h,c=d.agentStubMap;c.each(function(e){s(r,e)&&(e.dirty(),h=!0)}),h&&d.dirty(),o.updatePayload(d,i);var p=o.getPerformArgs(d,r.block);c.each(function(e){e.perform(p)}),d.perform(p)&&(n=!0)}else u&&u.each(function(a,l){s(r,a)&&a.dirty();var u=o.getPerformArgs(a,r.block);u.skip=!e.performRawSeries&&t.isSeriesFiltered(a.context.model),o.updatePayload(a,i),a.perform(u)&&(n=!0)})}}),this.unfinished=n||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(e){t=e.dataTask.perform()||t}),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},e.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,i,r){var n=this,o=t.seriesTaskMap,s=t.seriesTaskMap=lG(),a=e.seriesType,l=e.getTargetSeries;function u(t){var a=t.uid,l=s.set(a,o&&o.get(a)||vJ({plan:wO,reset:wG,count:wH}));l.context={model:t,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:n},n._pipe(t,l)}e.createOnAllSeries?i.eachRawSeries(u):a?i.eachRawSeriesByType(a,u):l&&l(i,r).each(u)},e.prototype._createOverallStageTask=function(e,t,i,r){var n=this,o=t.overallTask=t.overallTask||vJ({reset:wL});o.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:n};var s=o.agentStubMap,a=o.agentStubMap=lG(),l=e.seriesType,u=e.getTargetSeries,d=!0,h=!1;function c(e){var t=e.uid,i=a.set(t,s&&s.get(t)||(h=!0,vJ({reset:wk,onDirty:wF})));i.context={model:e,overallProgress:d},i.agent=o,i.__block=d,n._pipe(e,i)}lA(!e.createOnAllSeries,""),l?i.eachRawSeriesByType(l,c):u?u(i,r).each(c):(d=!1,ln(i.getSeries(),c)),h&&o.dirty()},e.prototype._pipe=function(e,t){var i=e.uid,r=this._pipelineMap.get(i);r.head||(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},e.wrapStageHandler=function(e,t){return lp(e)&&(e={overallReset:e,seriesType:function(e){ei=null;try{e(wz,wW)}catch(e){}return ei}(e)}),e.uid=f0("stageHandler"),t&&(e.visualType=t),e},e}();function wL(e){e.overallReset(e.ecModel,e.api,e.payload)}function wk(e){return e.overallProgress&&wN}function wN(){this.agent.dirty(),this.getDownstream().dirty()}function wF(){this.agent&&this.agent.dirty()}function wO(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function wG(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=cN(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?lo(t,function(e,t){return wB(t)}):wV}var wV=wB(0);function wB(e){return function(t,i){var r=i.data,n=i.resetDefines[e];if(n&&n.dataEach)for(var o=t.start;o<t.end;o++)n.dataEach(r,o);else n&&n.progress&&n.progress(t,r)}}function wH(e){return e.data.count()}var wz={},wW={};function wU(e,t){for(var i in t.prototype)e[i]=lW}wU(wz,vo),wU(wW,vd),wz.eachSeriesByType=wz.eachRawSeriesByType=function(e){ei=e},wz.eachComponent=function(e){"series"===e.mainType&&e.subType&&(ei=e.subType)};var wj=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],w$="#B9B8CE",wK="#100C2A",wY=function(){return{axisLine:{lineStyle:{color:w$}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},wq=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],wX={darkMode:!0,color:wq,backgroundColor:wK,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:w$},pageTextStyle:{color:w$}},textStyle:{color:w$},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:w$}},dataZoom:{borderColor:"#71708A",textStyle:{color:w$},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:w$}},timeline:{lineStyle:{color:w$},label:{color:w$},controlStyle:{color:w$,borderColor:w$}},calendar:{itemStyle:{color:wK},dayLabel:{color:w$},monthLabel:{color:w$},yearLabel:{color:w$}},timeAxis:wY(),logAxis:wY(),valueAxis:wY(),categoryAxis:wY(),line:{symbol:"circle"},graph:{color:wq},gauge:{title:{color:w$},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:w$},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};wX.categoryAxis.splitLine.show=!1;var wZ=function(){function e(){}return e.prototype.normalizeQuery=function(e){var t={},i={},r={};if(lg(e)){var n=c3(e);t.mainType=n.main||null,t.subType=n.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};ln(e,function(e,n){for(var a=!1,l=0;l<o.length;l++){var u=o[l],d=n.lastIndexOf(u);if(d>0&&d===n.length-u.length){var h=n.slice(0,d);"data"!==h&&(t.mainType=h,t[u.toLowerCase()]=e,a=!0)}}s.hasOwnProperty(n)&&(i[n]=e,a=!0),a||(r[n]=e)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},e.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,n=i.packedEvent,o=i.model,s=i.view;if(!o||!s)return!0;var a=t.cptQuery,l=t.dataQuery;return u(a,o,"mainType")&&u(a,o,"subType")&&u(a,o,"index","componentIndex")&&u(a,o,"name")&&u(a,o,"id")&&u(l,n,"name")&&u(l,n,"dataIndex")&&u(l,n,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,r,n));function u(e,t,i,r){return null==e[i]||t[r||i]===e[i]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),wQ=["symbol","symbolSize","symbolRotate","symbolOffset"],wJ=wQ.concat(["symbolKeepAspect"]);function w0(e,t,i){switch(i){case"color":return e.getItemVisual(t,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,i)}}function w1(e,t){switch(t){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function w2(e,t,i,r){switch(i){case"color":e.ensureUniqueItemVisual(t,"style")[e.getVisual("drawType")]=r,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,i,r)}}function w5(e,t){ln([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(i){t(i[0],function(t,r,n){var o,s;t=a8({},t),n.dispatchAction(a8(t,{type:i[1],seriesIndex:(o=t,s=[],r.eachComponent({mainType:"series",subType:e,query:o},function(e){s.push(e.seriesIndex)}),s)}))})})}function w3(e,t,i,r,n){var o=e+t;i.isSilent(o)||r.eachComponent({mainType:"series",subType:"pie"},function(e){for(var t=e.seriesIndex,r=e.option.selectedMap,s=n.selected,a=0;a<s.length;a++)if(s[a].seriesIndex===t){var l=e.getData(),u=cj(l,n.fromActionPayload);i.trigger(o,{type:o,seriesId:e.id,name:lc(u)?l.getName(u[0]):l.getName(u),selected:lg(r)?r:a8({},r)})}})}function w4(e,t,i){for(var r;e&&(!t(e)||(r=e,!i));)e=e.__hostTarget||e.parent;return r}var w6=Math.round(9*Math.random()),w8="function"==typeof Object.defineProperty,w9=function(){function e(){this._id="__ec_inner_"+w6++}return e.prototype.get=function(e){return this._guard(e)[this._id]},e.prototype.set=function(e,t){var i=this._guard(e);return w8?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},e.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},e.prototype.has=function(e){return!!this._guard(e)[this._id]},e.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},e}(),w7=gl.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,r=t.cy,n=t.width/2,o=t.height/2;e.moveTo(i,r-o),e.lineTo(i+n,r+o),e.lineTo(i-n,r+o),e.closePath()}}),be=gl.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,r=t.cy,n=t.width/2,o=t.height/2;e.moveTo(i,r-o),e.lineTo(i+n,r),e.lineTo(i,r+o),e.lineTo(i-n,r),e.closePath()}}),bt=gl.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var i=t.x,r=t.y,n=t.width/5*3,o=Math.max(n,t.height),s=n/2,a=s*s/(o-s),l=r-o+s+a,u=Math.asin(a/s),d=Math.cos(u)*s,h=Math.sin(u),c=Math.cos(u),p=.6*s,g=.7*s;e.moveTo(i-d,l+a),e.arc(i,l,s,Math.PI-u,2*Math.PI+u),e.bezierCurveTo(i+d-h*p,l+a+c*p,i,r-g,i,r),e.bezierCurveTo(i,r-g,i-d+h*p,l+a+c*p,i-d,l+a),e.closePath()}}),bi=gl.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var i=t.height,r=t.width,n=t.x,o=t.y,s=r/3*2;e.moveTo(n,o),e.lineTo(n+s,o+i),e.lineTo(n,o+i/4*3),e.lineTo(n-s,o+i),e.lineTo(n,o),e.closePath()}}),br={line:function(e,t,i,r,n){n.x1=e,n.y1=t+r/2,n.x2=e+i,n.y2=t+r/2},rect:function(e,t,i,r,n){n.x=e,n.y=t,n.width=i,n.height=r},roundRect:function(e,t,i,r,n){n.x=e,n.y=t,n.width=i,n.height=r,n.r=Math.min(i,r)/4},square:function(e,t,i,r,n){var o=Math.min(i,r);n.x=e,n.y=t,n.width=o,n.height=o},circle:function(e,t,i,r,n){n.cx=e+i/2,n.cy=t+r/2,n.r=Math.min(i,r)/2},diamond:function(e,t,i,r,n){n.cx=e+i/2,n.cy=t+r/2,n.width=i,n.height=r},pin:function(e,t,i,r,n){n.x=e+i/2,n.y=t+r/2,n.width=i,n.height=r},arrow:function(e,t,i,r,n){n.x=e+i/2,n.y=t+r/2,n.width=i,n.height=r},triangle:function(e,t,i,r,n){n.cx=e+i/2,n.cy=t+r/2,n.width=i,n.height=r}},bn={};ln({line:CR,rect:gw,roundRect:gw,square:gw,circle:Cr,diamond:be,pin:bt,arrow:bi,triangle:w7},function(e,t){bn[t]=new e});var bo=gl.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,i){var r=h1(e,t,i),n=this.shape;return n&&"pin"===n.symbolType&&"inside"===t.position&&(r.y=i.y+.4*i.height),r},buildPath:function(e,t,i){var r=t.symbolType;if("none"!==r){var n=bn[r];n||(n=bn[r="rect"]),br[r](t.x,t.y,t.width,t.height,n.shape),n.buildPath(e,n.shape,i)}}});function bs(e,t){if("image"!==this.type){var i=this.style;this.__isEmptyBrush?(i.stroke=e,i.fill=t||"#fff",i.lineWidth=2):"line"===this.shape.symbolType?i.stroke=e:i.fill=e,this.markRedraw()}}function ba(e,t,i,r,n,o,s){var a,l=0===e.indexOf("empty");return l&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(a=0===e.indexOf("image://")?C1(e.slice(8),new uY(t,i,r,n),s?"center":"cover"):0===e.indexOf("path://")?C0(e.slice(7),{},new uY(t,i,r,n),s?"center":"cover"):new bo({shape:{symbolType:e,x:t,y:i,width:r,height:n}})).__isEmptyBrush=l,a.setColor=bs,o&&a.setColor(o),a}function bl(e){return lc(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function bu(e,t){if(null!=e)return lc(e)||(e=[e,e]),[cc(e[0],t[0])||0,cc(lT(e[1],e[0]),t[1])||0]}function bd(e){return isFinite(e)}function bh(e,t,i){for(var r,n,o,s,a,l,u,d,h,c,p="radial"===t.type?(o=Math.min(r=i.width,n=i.height),s=null==t.x?.5:t.x,a=null==t.y?.5:t.y,l=null==t.r?.5:t.r,t.global||(s=s*r+i.x,a=a*n+i.y,l*=o),s=bd(s)?s:.5,a=bd(a)?a:.5,l=l>=0&&bd(l)?l:.5,e.createRadialGradient(s,a,0,s,a,l)):(u=null==t.x?0:t.x,d=null==t.x2?1:t.x2,h=null==t.y?0:t.y,c=null==t.y2?0:t.y2,t.global||(u=u*i.width+i.x,d=d*i.width+i.x,h=h*i.height+i.y,c=c*i.height+i.y),u=bd(u)?u:0,d=bd(d)?d:1,h=bd(h)?h:0,c=bd(c)?c:0,e.createLinearGradient(u,h,d,c)),g=t.colorStops,f=0;f<g.length;f++)p.addColorStop(g[f].offset,g[f].color);return p}function bc(e){return parseInt(e,10)}function bp(e,t,i){var r=["width","height"][t],n=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(null!=i[r]&&"auto"!==i[r])return parseFloat(i[r]);var a=document.defaultView.getComputedStyle(e);return(e[n]||bc(a[r])||bc(e.style[r]))-(bc(a[o])||0)-(bc(a[s])||0)|0}function bg(e){var t,i,r=e.style,n=r.lineDash&&r.lineWidth>0&&(t=r.lineDash,i=r.lineWidth,t&&"solid"!==t&&i>0?"dashed"===t?[4*i,2*i]:"dotted"===t?[i]:lm(t)?[t]:lc(t)?t:null:null),o=r.lineDashOffset;if(n){var s=r.strokeNoScale&&e.getLineScale?e.getLineScale():1;s&&1!==s&&(n=lo(n,function(e){return e/s}),o/=s)}return[n,o]}var bf=new p5(!0);function bm(e){var t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0}function bv(e){return"string"==typeof e&&"none"!==e}function by(e){var t=e.fill;return null!=t&&"none"!==t}function bC(e,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var i=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=i}else e.fill()}function bw(e,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var i=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=i}else e.stroke()}function bb(e,t,i){var r=po(t.image,t.__image,i);if(pa(r)){var n=e.createPattern(r,t.repeat||"repeat");if("function"==typeof DOMMatrix&&n&&n.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*lU),o.scaleSelf(t.scaleX||1,t.scaleY||1),n.setTransform(o)}return n}}var bS=["shadowBlur","shadowOffsetX","shadowOffsetY"],bx=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function b_(e,t,i,r,n){var o=!1;if(!r&&t===(i=i||{}))return!1;if(r||t.opacity!==i.opacity){bM(e,n),o=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?pw.opacity:s}(r||t.blend!==i.blend)&&(o||(bM(e,n),o=!0),e.globalCompositeOperation=t.blend||pw.blend);for(var a=0;a<bS.length;a++){var l=bS[a];(r||t[l]!==i[l])&&(o||(bM(e,n),o=!0),e[l]=e.dpr*(t[l]||0))}return(r||t.shadowColor!==i.shadowColor)&&(o||(bM(e,n),o=!0),e.shadowColor=t.shadowColor||pw.shadowColor),o}function bE(e,t,i,r,n){var o=bR(t,n.inHover),s=r?null:i&&bR(i,n.inHover)||{};if(o===s)return!1;var a=b_(e,o,s,r,n);if((r||o.fill!==s.fill)&&(a||(bM(e,n),a=!0),bv(o.fill)&&(e.fillStyle=o.fill)),(r||o.stroke!==s.stroke)&&(a||(bM(e,n),a=!0),bv(o.stroke)&&(e.strokeStyle=o.stroke)),(r||o.opacity!==s.opacity)&&(a||(bM(e,n),a=!0),e.globalAlpha=null==o.opacity?1:o.opacity),t.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==l&&(a||(bM(e,n),a=!0),e.lineWidth=l)}for(var u=0;u<bx.length;u++){var d=bx[u],h=d[0];(r||o[h]!==s[h])&&(a||(bM(e,n),a=!0),e[h]=o[h]||d[1])}return a}function bT(e,t){var i=t.transform,r=e.dpr||1;i?e.setTransform(r*i[0],r*i[1],r*i[2],r*i[3],r*i[4],r*i[5]):e.setTransform(r,0,0,r,0,0)}function bM(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function bR(e,t){return t&&e.__hoverStyle||e.style}function bD(e,t){bA(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function bA(e,t,i,r){var n,o=t.transform;if(!t.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1)){t.__dirty&=-2,t.__isRendered=!1;return}var s=t.__clipPaths,a=i.prevElClipPaths,l=!1,u=!1;if(!a||function(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!0;return!1}(s,a)){if(a&&a.length&&(bM(e,i),e.restore(),u=l=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),s&&s.length){bM(e,i),e.save();for(var d=!1,h=0;h<s.length;h++){var c=s[h];d=d||c.isZeroArea(),bT(e,c),e.beginPath(),c.buildPath(e,c.shape),e.clip()}i.allClipped=d,l=!0}i.prevElClipPaths=s}if(i.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var p=i.prevEl;p||(u=l=!0);var g=t instanceof gl&&t.autoBatch&&(v=by(m=t.style),y=bm(m),!(m.lineDash||!(v^y)||v&&"string"!=typeof m.fill||y&&"string"!=typeof m.stroke||m.strokePercent<1||m.strokeOpacity<1||m.fillOpacity<1));!l&&(C=p.transform,o&&C?o[0]===C[0]&&o[1]===C[1]&&o[2]===C[2]&&o[3]===C[3]&&o[4]===C[4]&&o[5]===C[5]:+(!o&&!C))?g||bM(e,i):(bM(e,i),bT(e,t));var f=bR(t,i.inHover);if(t instanceof gl)1!==i.lastDrawType&&(u=!0,i.lastDrawType=1),bE(e,t,p,u,i),g&&(i.batchFill||i.batchStroke)||e.beginPath(),function(e,t,i,r){var n,o,s,a=bm(i),l=by(i),u=i.strokePercent,d=u<1,h=!t.path;(!t.silent||d)&&h&&t.createPathProxy();var c=t.path||bf,p=t.__dirty;if(!r){var g=i.fill,f=i.stroke,m=l&&!!g.colorStops,v=a&&!!f.colorStops,y=l&&!!g.image,C=a&&!!f.image,w=void 0,b=void 0,S=void 0,x=void 0,_=void 0;(m||v)&&(_=t.getBoundingRect()),m&&(w=p?bh(e,g,_):t.__canvasFillGradient,t.__canvasFillGradient=w),v&&(b=p?bh(e,f,_):t.__canvasStrokeGradient,t.__canvasStrokeGradient=b),y&&(S=p||!t.__canvasFillPattern?bb(e,g,t):t.__canvasFillPattern,t.__canvasFillPattern=S),C&&(x=p||!t.__canvasStrokePattern?bb(e,f,t):t.__canvasStrokePattern,t.__canvasStrokePattern=S),m?e.fillStyle=w:y&&(S?e.fillStyle=S:l=!1),v?e.strokeStyle=b:C&&(x?e.strokeStyle=x:a=!1)}var E=t.getGlobalScale();c.setScale(E[0],E[1],t.segmentIgnoreThreshold),e.setLineDash&&i.lineDash&&(o=(n=bg(t))[0],s=n[1]);var T=!0;(h||4&p)&&(c.setDPR(e.dpr),d?c.setContext(null):(c.setContext(e),T=!1),c.reset(),t.buildPath(c,t.shape,r),c.toStatic(),t.pathUpdated()),T&&c.rebuildPath(e,d?u:1),o&&(e.setLineDash(o),e.lineDashOffset=s),!r&&(i.strokeFirst?(a&&bw(e,i),l&&bC(e,i)):(l&&bC(e,i),a&&bw(e,i))),o&&e.setLineDash([])}(e,t,f,g),g&&(i.batchFill=f.fill||"",i.batchStroke=f.stroke||"");else if(t instanceof gd){3!==i.lastDrawType&&(u=!0,i.lastDrawType=3),bE(e,t,p,u,i);var m,v,y,C,w,b=f.text;if(null!=b&&(b+=""),b){e.font=f.font||aB,e.textAlign=f.textAlign,e.textBaseline=f.textBaseline;var S=void 0,x=void 0;e.setLineDash&&f.lineDash&&(S=(w=bg(t))[0],x=w[1]),S&&(e.setLineDash(S),e.lineDashOffset=x),f.strokeFirst?(bm(f)&&e.strokeText(b,f.x,f.y),by(f)&&e.fillText(b,f.x,f.y)):(by(f)&&e.fillText(b,f.x,f.y),bm(f)&&e.strokeText(b,f.x,f.y)),S&&e.setLineDash([])}}else t instanceof gp?(2!==i.lastDrawType&&(u=!0,i.lastDrawType=2),n=u,b_(e,bR(t,i.inHover),p&&bR(p,i.inHover),n,i),function(e,t,i){var r=t.__image=po(i.image,t.__image,t,t.onload);if(r&&pa(r)){var n=i.x||0,o=i.y||0,s=t.getWidth(),a=t.getHeight(),l=r.width/r.height;if(null==s&&null!=a?s=a*l:null==a&&null!=s?a=s/l:null==s&&null==a&&(s=r.width,a=r.height),i.sWidth&&i.sHeight){var u=i.sx||0,d=i.sy||0;e.drawImage(r,u,d,i.sWidth,i.sHeight,n,o,s,a)}else if(i.sx&&i.sy){var u=i.sx,d=i.sy,h=s-u,c=a-d;e.drawImage(r,u,d,h,c,n,o,s,a)}else e.drawImage(r,n,o,s,a)}}(e,t,f)):t.getTemporalDisplayables&&(4!==i.lastDrawType&&(u=!0,i.lastDrawType=4),function(e,t,i){var r,n,o=t.getDisplayables(),s=t.getTemporalDisplayables();e.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover};for(r=t.getCursor(),n=o.length;r<n;r++){var l=o[r];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),bA(e,l,a,r===n-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,d=s.length;u<d;u++){var l=s[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),bA(e,l,a,u===d-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}(e,t,i));g&&r&&bM(e,i),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),i.prevEl=t,t.__dirty=0,t.__isRendered=!0}var bI=new w9,bP=new dA(100),bL=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function bk(e,t){if("none"===e)return null;var i=t.getDevicePixelRatio(),r=t.getZr(),n="svg"===r.painter.type;e.dirty&&bI.delete(e);var o=bI.get(e);if(o)return o;var s=a9(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===s.backgroundColor&&(s.backgroundColor=null);var a={repeat:"repeat"};return function(e){for(var t,o,a=[i],l=!0,u=0;u<bL.length;++u){var d=s[bL[u]];if(null!=d&&!lc(d)&&!lg(d)&&!lm(d)&&"boolean"!=typeof d){l=!1;break}a.push(d)}if(l){t=a.join(",")+(n?"-svg":"");var h=bP.get(t);h&&(n?e.svgElement=h:e.image=h)}var c=function e(t){if(!t||0===t.length)return[[0,0]];if(lm(t)){var i=Math.ceil(t);return[[i,i]]}for(var r=!0,n=0;n<t.length;++n)if(!lm(t[n])){r=!1;break}if(r)return e([t]);for(var o=[],n=0;n<t.length;++n)if(lm(t[n])){var i=Math.ceil(t[n]);o.push([i,i])}else{var i=lo(t[n],function(e){return Math.ceil(e)});i.length%2==1?o.push(i.concat(i)):o.push(i)}return o}(s.dashArrayX),p=function(e){if(!e||"object"==typeof e&&0===e.length)return[0,0];if(lm(e)){var t=Math.ceil(e);return[t,t]}var i=lo(e,function(e){return Math.ceil(e)});return e.length%2?i.concat(i):i}(s.dashArrayY),g=function e(t){if(!t||0===t.length)return[["rect"]];if(lg(t))return[[t]];for(var i=!0,r=0;r<t.length;++r)if(!lg(t[r])){i=!1;break}if(i)return e([t]);for(var n=[],r=0;r<t.length;++r)lg(t[r])?n.push([t[r]]):n.push(t[r]);return n}(s.symbol),f=lo(c,function(e){return bN(e)}),m=bN(p),v=!n&&az.createCanvas(),y=n&&{tag:"g",attrs:{},key:"dcl",children:[]},C=function(){for(var e=1,t=0,i=f.length;t<i;++t)e=cP(e,f[t]);for(var r=1,t=0,i=g.length;t<i;++t)r=cP(r,g[t].length);e*=r;var n=m*f.length*g.length;return{width:Math.max(1,Math.min(e,s.maxTileWidth)),height:Math.max(1,Math.min(n,s.maxTileHeight))}}();v&&(v.width=C.width*i,v.height=C.height*i,o=v.getContext("2d")),function(){o&&(o.clearRect(0,0,v.width,v.height),s.backgroundColor&&(o.fillStyle=s.backgroundColor,o.fillRect(0,0,v.width,v.height)));for(var e=0,t=0;t<p.length;++t)e+=p[t];if(!(e<=0))for(var a=-m,l=0,u=0,d=0;a<C.height;){if(l%2==0){for(var h=u/2%g.length,f=0,w=0,b=0;f<2*C.width;){for(var S=0,t=0;t<c[d].length;++t)S+=c[d][t];if(S<=0)break;if(w%2==0){var x=(1-s.symbolSize)*.5,_=f+c[d][w]*x,E=a+p[l]*x,T=c[d][w]*s.symbolSize,M=p[l]*s.symbolSize,R=b/2%g[h].length;!function(e,t,a,l,u){var d=n?1:i,h=ba(u,e*d,t*d,a*d,l*d,s.color,s.symbolKeepAspect);if(n){var c=r.painter.renderOneToVNode(h);c&&y.children.push(c)}else bD(o,h)}(_,E,T,M,g[h][R])}f+=c[d][w],++b,++w===c[d].length&&(w=0)}++d===c.length&&(d=0)}a+=p[l],++u,++l===p.length&&(l=0)}}(),l&&bP.put(t,v||y),e.image=v,e.svgElement=y,e.svgWidth=C.width,e.svgHeight=C.height}(a),a.rotation=s.rotation,a.scaleX=a.scaleY=n?1:1/i,bI.set(e,a),e.dirty=!1,a}function bN(e){for(var t=0,i=0;i<e.length;++i)t+=e[i];return e.length%2==1?2*t:t}var bF=new us,bO={},bG="5.6.0",bV={zrender:"5.6.1"},bB={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},bH="__flagInMainProcess",bz="__pendingUpdate",bW="__needsUpdateStatus",bU=/^[a-zA-Z0-9_]+$/,bj="__connectUpdateStatus";function b$(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return this.isDisposed()?void b0(this.id):bY(this,e,t)}}function bK(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return bY(this,e,t)}}function bY(e,t,i){return i[0]=i[0]&&i[0].toLowerCase(),us.prototype[t].apply(e,i)}var bq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t}(us),bX=bq.prototype;bX.on=bK("on"),bX.off=bK("off");var bZ=function(e){function t(t,i,r){var n=e.call(this,new wZ)||this;n._chartsViews=[],n._chartsMap={},n._componentsViews=[],n._componentsMap={},n._pendingActions=[],r=r||{},lg(i)&&(i=b6[i]),n._dom=t,r.ssr&&($=function(e){var t=gF(e),i=t.dataIndex;if(null!=i){var r=lG();return r.set("series_index",t.seriesIndex),r.set("data_index",i),t.ssrType&&r.set("ssr_type",t.ssrType),r}});var o=n._zr=cn(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:lT(r.useDirtyRect,!1),useCoarsePointer:lT(r.useCoarsePointer,"auto"),pointerSize:r.pointerSize});n._ssr=r.ssr,n._throttledZrFlush=wb(ld(o.flush,o),17),(i=a3(i))&&vI(i,!0),n._theme=i,n._locale=function(e){if(!lg(e))return a4(a3(e),a3(f2.EN),!1);var t=f2[e.toUpperCase()]||{};return"ZH"===e||"EN"===e?a3(t):a4(a3(t),a3(f2.EN),!1)}(r.locale||f3),n._coordSysMgr=new vc;var s=n._api=ev(n);function a(e,t){return e.__prio-t.__prio}return u9(b4,a),u9(b5,a),n._scheduler=new wP(n,s,b5,b4),n._messageCenter=new bq,n._initEvents(),n.resize=ld(n.resize,n),o.animation.on("frame",n._onframe,n),ec(o,n),ep(o,n),lL(n),n}return aF(t,e),t.prototype._onframe=function(){if(!this._disposed){ew(this);var e=this._scheduler;if(this[bz]){var t=this[bz].silent;this[bH]=!0;try{er(this),es.update.call(this,null,this[bz].updateParams)}catch(e){throw this[bH]=!1,this[bz]=null,e}this._zr.flush(),this[bH]=!1,this[bz]=null,ed.call(this,t),eh.call(this,t)}else if(e.unfinished){var i=1,r=this._model,n=this._api;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(r),e.performDataProcessorTasks(r),el(this,r),e.performVisualTasks(r),em(this,this._model,n,"remain",{}),i-=new Date-o}while(i>0&&e.unfinished)e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,t,i){if(!this[bH]){if(this._disposed)return void b0(this.id);if(lv(t)&&(i=t.lazyUpdate,r=t.silent,n=t.replaceMerge,o=t.transition,t=t.notMerge),this[bH]=!0,!this._model||t){var r,n,o,s=new vg(this._api),a=this._theme,l=this._model=new vo;l.scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,a,this._locale,s)}this._model.setOption(e,{replaceMerge:n},b3);var u={seriesTransition:o,optionChanged:!0};if(i)this[bz]={silent:r,updateParams:u},this[bH]=!1,this.getZr().wakeUp();else{try{er(this),es.update.call(this,null,u)}catch(e){throw this[bz]=null,this[bH]=!1,e}this._ssr||this._zr.flush(),this[bz]=null,this[bH]=!1,ed.call(this,r),eh.call(this,r)}}},t.prototype.setTheme=function(){vi("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||aG.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return e=e||{},this._zr.painter.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return e=e||{},this._zr.painter.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if(aG.svgSupported){var e=this._zr;return ln(e.storage.getDisplayList(),function(e){e.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(this._disposed)return void b0(this.id);var t=(e=e||{}).excludeComponents,i=this._model,r=[],n=this;ln(t,function(e){i.eachComponent({mainType:e},function(e){var t=n._componentsMap[e.__viewId];t.group.ignore||(r.push(t),t.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return ln(r,function(e){e.group.ignore=!1}),o},t.prototype.getConnectedDataURL=function(e){if(this._disposed)return void b0(this.id);var t="svg"===e.type,i=this.group,r=Math.min,n=Math.max,o=1/0;if(!b7[i])return this.getDataURL(e);var s=o,a=o,l=-o,u=-o,d=[],h=e&&e.pixelRatio||this.getDevicePixelRatio();ln(b9,function(o,h){if(o.group===i){var c=t?o.getZr().painter.getSvgDom().innerHTML:o.renderToCanvas(a3(e)),p=o.getDom().getBoundingClientRect();s=r(p.left,s),a=r(p.top,a),l=n(p.right,l),u=n(p.bottom,u),d.push({dom:c,left:p.left,top:p.top})}}),s*=h,a*=h,l*=h,u*=h;var c=l-s,p=u-a,g=az.createCanvas(),f=cn(g,{renderer:t?"svg":"canvas"});if(f.resize({width:c,height:p}),!t)return e.connectedBackgroundColor&&f.add(new gw({shape:{x:0,y:0,width:c,height:p},style:{fill:e.connectedBackgroundColor}})),ln(d,function(e){var t=new gp({style:{x:e.left*h-s,y:e.top*h-a,image:e.dom}});f.add(t)}),f.refreshImmediately(),g.toDataURL("image/"+(e&&e.type||"png"));var m="";return ln(d,function(e){var t=e.left-s,i=e.top-a;m+='<g transform="translate('+t+","+i+')">'+e.dom+"</g>"}),f.painter.getSvgRoot().innerHTML=m,e.connectedBackgroundColor&&f.painter.setBackgroundColor(e.connectedBackgroundColor),f.refreshImmediately(),f.painter.toDataURL()},t.prototype.convertToPixel=function(e,t){return ea(this,"convertToPixel",e,t)},t.prototype.convertFromPixel=function(e,t){return ea(this,"convertFromPixel",e,t)},t.prototype.containPixel=function(e,t){var i;return this._disposed?void b0(this.id):(ln(cY(this._model,e),function(e,r){r.indexOf("Models")>=0&&ln(e,function(e){var n=e.coordinateSystem;if(n&&n.containPoint)i=i||!!n.containPoint(t);else if("seriesModels"===r){var o=this._chartsMap[e.__viewId];o&&o.containPoint&&(i=i||o.containPoint(t,e))}},this)},this),!!i)},t.prototype.getVisual=function(e,t){var i=cY(this._model,e,{defaultMainType:"series"}),r=i.seriesModel.getData(),n=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?r.indexOfRawIndex(i.dataIndex):null;return null!=n?w0(r,n,t):w1(r,t)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e,t,i,r=this;ln(bJ,function(e){var t=function(t){var i,n=r.getModel(),o=t.target;if("globalout"===e?i={}:o&&w4(o,function(e){var t=gF(e);if(t&&null!=t.dataIndex){var r=t.dataModel||n.getSeriesByIndex(t.seriesIndex);return i=r&&r.getDataParams(t.dataIndex,t.dataType,o)||{},!0}if(t.eventData)return i=a8({},t.eventData),!0},!0),i){var s=i.componentType,a=i.componentIndex;("markLine"===s||"markPoint"===s||"markArea"===s)&&(s="series",a=i.seriesIndex);var l=s&&null!=a&&n.getComponent(s,a),u=l&&r["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];i.event=t,i.type=e,r._$eventProcessor.eventInfo={targetEl:o,packedEvent:i,model:l,view:u},r.trigger(e,i)}};t.zrEventfulCallAtLast=!0,r._zr.on(e,t,r)}),ln(b2,function(e,t){r._messageCenter.on(t,function(e){this.trigger(t,e)},r)}),ln(["selectchanged"],function(e){r._messageCenter.on(e,function(t){this.trigger(e,t)},r)}),e=this._messageCenter,t=this,i=this._api,e.on("selectchanged",function(e){var r=i.getModel();e.isFromClick?(w3("map","selectchanged",t,r,e),w3("pie","selectchanged",t,r,e)):"select"===e.fromAction?(w3("map","selected",t,r,e),w3("pie","selected",t,r,e)):"unselect"===e.fromAction&&(w3("map","unselected",t,r,e),w3("pie","unselected",t,r,e))})},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed?b0(this.id):this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed)return void b0(this.id);this._disposed=!0,this.getDom()&&cJ(this.getDom(),Si,"");var e=this._api,t=this._model;ln(this._componentsViews,function(i){i.dispose(t,e)}),ln(this._chartsViews,function(i){i.dispose(t,e)}),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete b9[this.id]},t.prototype.resize=function(e){if(!this[bH]){if(this._disposed)return void b0(this.id);this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var i=t.resetOption("media"),r=e&&e.silent;this[bz]&&(null==r&&(r=this[bz].silent),i=!0,this[bz]=null),this[bH]=!0;try{i&&er(this),es.update.call(this,{type:"resize",animation:a8({duration:0},e&&e.animation)})}catch(e){throw this[bH]=!1,e}this[bH]=!1,ed.call(this,r),eh.call(this,r)}}},t.prototype.showLoading=function(e,t){if(this._disposed)return void b0(this.id);if(lv(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),b8[e]){var i=b8[e](this._api,t),r=this._zr;this._loadingFX=i,r.add(i)}},t.prototype.hideLoading=function(){this._disposed?b0(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var t=a8({},e);return t.type=b2[e.type],t},t.prototype.dispatchAction=function(e,t){if(this._disposed)return void b0(this.id);if((lv(t)||(t={silent:!!t}),b1[e.type])&&this._model){if(this[bH])return void this._pendingActions.push(e);var i=t.silent;eu.call(this,e,i);var r=t.flush;r?this._zr.flush():!1!==r&&aG.browser.weChat&&this._throttledZrFlush(),ed.call(this,i),eh.call(this,i)}},t.prototype.updateLabelLayout=function(){bF.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed)return void b0(this.id);var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){function e(e){e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()})}function t(e){for(var t=[],i=e.currentStates,r=0;r<i.length;r++){var n=i[r];"emphasis"!==n&&"blur"!==n&&"select"!==n&&t.push(n)}e.selected&&e.states.select&&t.push("select"),2===e.hoverState&&e.states.emphasis?t.push("emphasis"):1===e.hoverState&&e.states.blur&&t.push("blur"),e.useStates(t)}function i(e,t){if(!e.preventAutoZ){var i=e.get("z")||0,r=e.get("zlevel")||0;t.eachRendered(function(e){return function e(t,i,r,n){var o=t.getTextContent(),s=t.getTextGuideLine();if(t.isGroup)for(var a=t.childrenRef(),l=0;l<a.length;l++)n=Math.max(e(a[l],i,r,n),n);else t.z=i,t.zlevel=r,n=Math.max(t.z2,n);if(o&&(o.z=i,o.zlevel=r,isFinite(n)&&(o.z2=n+2)),s){var u=t.textGuideLineConfig;s.z=i,s.zlevel=r,isFinite(n)&&(s.z2=n+(u&&u.showAbove?1:-1))}return n}(e,i,r,-1/0),!0})}}function r(e,t){t.eachRendered(function(e){if(!fS(e)){var t=e.getTextContent(),i=e.getTextGuideLine();e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),i&&i.stateTransition&&(i.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null)}})}function n(e,i){var r=e.getModel("stateAnimation"),n=e.isAnimationEnabled(),o=r.get("duration"),s=o>0?{duration:o,delay:r.get("delay"),easing:r.get("easing")}:null;i.eachRendered(function(e){if(e.states&&e.states.emphasis&&!fS(e)){if(e instanceof gl&&((i=gB(e)).normalFill=e.style.fill,i.normalStroke=e.style.stroke,i.selectFill=(r=e.states.select||{}).style&&r.style.fill||null,i.selectStroke=r.style&&r.style.stroke||null),e.__dirty){var i,r,o=e.prevStates;o&&e.useStates(o)}if(n){e.stateTransition=s;var a=e.getTextContent(),l=e.getTextGuideLine();a&&(a.stateTransition=s),l&&(l.stateTransition=s)}e.__dirty&&t(e)}})}er=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),en(e,!0),en(e,!1),t.plan()},en=function(e,t){for(var i=e._model,r=e._scheduler,n=t?e._componentsViews:e._chartsViews,o=t?e._componentsMap:e._chartsMap,s=e._zr,a=e._api,l=0;l<n.length;l++)n[l].__alive=!1;function u(e){var l=e.__requireNewView;e.__requireNewView=!1;var u="_ec_"+e.id+"_"+e.type,d=!l&&o[u];if(!d){var h=c3(e.type);(d=new(t?yj.getClass(h.main,h.sub):wc.getClass(h.sub))).init(i,a),o[u]=d,n.push(d),s.add(d.group)}e.__viewId=d.__id=u,d.__alive=!0,d.__model=e,d.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},t||r.prepareView(d,e,i,a)}t?i.eachComponent(function(e,t){"series"!==e&&u(t)}):i.eachSeries(u);for(var l=0;l<n.length;){var d=n[l];d.__alive?l++:(t||d.renderTask.dispose(),s.remove(d.group),d.dispose(i,a),n.splice(l,1),o[d.__id]===d&&delete o[d.__id],d.__id=d.group.__ecComponentInfo=null)}},eo=function(e,t,i,r,n){var o,s=e._model;if(s.setUpdatePayload(i),!r)return void ln([].concat(e._componentsViews).concat(e._chartsViews),d);var a={};a[r+"Id"]=i[r+"Id"],a[r+"Index"]=i[r+"Index"],a[r+"Name"]=i[r+"Name"];var l={mainType:r,query:a};n&&(l.subType=n);var u=i.excludeSeriesId;function d(r){r&&r.__alive&&r[t]&&r[t](r.__model,s,e._api,i)}null!=u&&(o=lG(),ln(cN(u),function(e){var t=cz(e,null);null!=t&&o.set(t,!0)})),s&&s.eachComponent(l,function(t){if(!(o&&null!=o.get(t.id))){if(fm(i))if(t instanceof yO)i.type!==gU||i.notBlur||t.get(["emphasis","disabled"])||function(e,t,i){var r=e.seriesIndex,n=e.getData(t.dataType);if(n){var o=cj(n,t);o=(lc(o)?o[0]:o)||0;var s=n.getItemGraphicEl(o);if(!s)for(var a=n.count(),l=0;!s&&l<a;)s=n.getItemGraphicEl(l++);if(s){var u=gF(s);fr(r,u.focus,u.blurScope,i)}else{var d=e.get(["emphasis","focus"]),h=e.get(["emphasis","blurScope"]);null!=d&&fr(r,d,h,i)}}}(t,i,e._api);else{var r=fo(t.mainType,t.componentIndex,i.name,e._api),n=r.focusSelf,s=r.dispatchers;i.type===gU&&n&&!i.notBlur&&fn(t.mainType,t.componentIndex,e._api),s&&ln(s,function(e){i.type===gU?g7(e):fe(e)})}else if(ff(i)&&t instanceof yO){if(e._api,ff(i)){var a=i.dataType,l=cj(t.getData(a),i);lc(l)||(l=[l]),t[i.type===gY?"toggleSelect":i.type===g$?"select":"unselect"](l,a)}fs(t),eC(e)}}},e),s&&s.eachComponent(l,function(t){o&&null!=o.get(t.id)||d(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},e)},es={prepareAndUpdate:function(e){er(this),es.update.call(this,e,{optionChanged:null!=e.newOption})},update:function(t,i){var r=this._model,n=this._api,o=this._zr,s=this._coordSysMgr,a=this._scheduler;if(r){r.setUpdatePayload(t),a.restoreData(r,t),a.performSeriesTasks(r),s.create(r,n),a.performDataProcessorTasks(r,t),el(this,r),s.update(r,n),e(r),a.performVisualTasks(r,t),eg(this,r,n,t,i);var l=r.get("backgroundColor")||"transparent",u=r.get("darkMode");o.setBackgroundColor(l),null!=u&&"auto"!==u&&o.setDarkMode(u),bF.trigger("afterupdate",r,n)}},updateTransform:function(t){var i=this,r=this._model,n=this._api;if(r){r.setUpdatePayload(t);var o=[];r.eachComponent(function(e,s){if("series"!==e){var a=i.getViewOfComponentModel(s);if(a&&a.__alive)if(a.updateTransform){var l=a.updateTransform(s,r,n,t);l&&l.update&&o.push(a)}else o.push(a)}});var s=lG();r.eachSeries(function(e){var o=i._chartsMap[e.__viewId];if(o.updateTransform){var a=o.updateTransform(e,r,n,t);a&&a.update&&s.set(e.uid,1)}else s.set(e.uid,1)}),e(r),this._scheduler.performVisualTasks(r,t,{setDirty:!0,dirtyMap:s}),em(this,r,n,t,{},s),bF.trigger("afterupdate",r,n)}},updateView:function(t){var i=this._model;i&&(i.setUpdatePayload(t),wc.markUpdateMethod(t,"updateView"),e(i),this._scheduler.performVisualTasks(i,t,{setDirty:!0}),eg(this,i,this._api,t,{}),bF.trigger("afterupdate",i,this._api))},updateVisual:function(t){var i=this,r=this._model;r&&(r.setUpdatePayload(t),r.eachSeries(function(e){e.getData().clearAllVisual()}),wc.markUpdateMethod(t,"updateVisual"),e(r),this._scheduler.performVisualTasks(r,t,{visualType:"visual",setDirty:!0}),r.eachComponent(function(e,n){if("series"!==e){var o=i.getViewOfComponentModel(n);o&&o.__alive&&o.updateVisual(n,r,i._api,t)}}),r.eachSeries(function(e){i._chartsMap[e.__viewId].updateVisual(e,r,i._api,t)}),bF.trigger("afterupdate",r,this._api))},updateLayout:function(e){es.update.call(this,e)}},ea=function(e,t,i,r){if(e._disposed)return void b0(e.id);for(var n,o=e._model,s=e._coordSysMgr.getCoordinateSystems(),a=cY(o,i),l=0;l<s.length;l++){var u=s[l];if(u[t]&&null!=(n=u[t](o,a,r)))return n}},el=function(e,t){var i=e._chartsMap,r=e._scheduler;t.eachSeries(function(e){r.updateStreamModes(e,i[e.__viewId])})},eu=function(e,t){var i,r=this,n=this.getModel(),o=e.type,s=e.escapeConnect,a=b1[o],l=a.actionInfo,u=(l.update||"update").split(":"),d=u.pop(),h=null!=u[0]&&c3(u[0]);this[bH]=!0;var c=[e],p=!1;e.batch&&(p=!0,c=lo(e.batch,function(t){return(t=a9(a8({},t),e)).batch=null,t}));var g=[],f=ff(e),m=fm(e);if(m&&fi(this._api),ln(c,function(t){if((i=(i=a.action(t,r._model,r._api))||a8({},t)).type=l.event||i.type,g.push(i),m){var n=cq(e),o=n.queryOptionMap;eo(r,d,t,n.mainTypeSpecified?o.keys()[0]:"series"),eC(r)}else f?(eo(r,d,t,"series"),eC(r)):h&&eo(r,d,t,h.main,h.sub)}),"none"!==d&&!m&&!f&&!h)try{this[bz]?(er(this),es.update.call(this,e),this[bz]=null):es[d].call(this,e)}catch(e){throw this[bH]=!1,e}if(i=p?{type:l.event||o,escapeConnect:s,batch:g}:g[0],this[bH]=!1,!t){var v=this._messageCenter;if(v.trigger(i.type,i),f){var y,C={type:"selectchanged",escapeConnect:s,selected:(y=[],n.eachSeries(function(e){ln(e.getAllData(),function(t){t.data;var i=t.type,r=e.getSelectedDataIndices();if(r.length>0){var n={dataIndex:r,seriesIndex:e.seriesIndex};null!=i&&(n.dataType=i),y.push(n)}})}),y),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e};v.trigger(C.type,C)}}},ed=function(e){for(var t=this._pendingActions;t.length;){var i=t.shift();eu.call(this,i,e)}},eh=function(e){e||this.trigger("updated")},ec=function(e,t){e.on("rendered",function(i){t.trigger("rendered",i),!e.animation.isFinished()||t[bz]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")})},ep=function(e,t){e.on("mouseover",function(e){var i,r,n,o,s,a=w4(e.target,fg);a&&(i=t._api,o=(n=fo((r=gF(a)).componentMainType,r.componentIndex,r.componentHighDownName,i)).dispatchers,s=n.focusSelf,o?(s&&fn(r.componentMainType,r.componentIndex,i),ln(o,function(t){return g8(t,e)})):(fr(r.seriesIndex,r.focus,r.blurScope,i),"self"===r.focus&&fn(r.componentMainType,r.componentIndex,i),g8(a,e)),eC(t))}).on("mouseout",function(e){var i,r,n,o=w4(e.target,fg);o&&(fi(i=t._api),(n=fo((r=gF(o)).componentMainType,r.componentIndex,r.componentHighDownName,i).dispatchers)?ln(n,function(t){return g9(t,e)}):g9(o,e),eC(t))}).on("click",function(e){var i=w4(e.target,function(e){return null!=gF(e).dataIndex},!0);if(i){var r=i.selected?"unselect":"select",n=gF(i);t._api.dispatchAction({type:r,dataType:n.dataType,dataIndexInside:n.dataIndex,seriesIndex:n.seriesIndex,isFromClick:!0})}})},eg=function(e,t,i,r,n){!function(e){var t=[],i=[],r=!1;if(e.eachComponent(function(e,n){var o=n.get("zlevel")||0,s=n.get("z")||0,a=n.getZLevelKey();r=r||!!a,("series"===e?i:t).push({zlevel:o,z:s,idx:n.componentIndex,type:e,key:a})}),r){var n,o,s=t.concat(i);u9(s,function(e,t){return e.zlevel===t.zlevel?e.z-t.z:e.zlevel-t.zlevel}),ln(s,function(t){var i=e.getComponent(t.type,t.idx),r=t.zlevel,s=t.key;null!=n&&(r=Math.max(n,r)),s?(r===n&&s!==o&&r++,o=s):o&&(r===n&&r++,o=""),n=r,i.setZLevel(r)})}}(t),ef(e,t,i,r,n),ln(e._chartsViews,function(e){e.__alive=!1}),em(e,t,i,r,n),ln(e._chartsViews,function(e){e.__alive||e.remove(t,i)})},ef=function(e,t,o,s,a,l){ln(l||e._componentsViews,function(e){var a=e.__model;r(a,e),e.render(a,t,o,s),i(a,e),n(a,e)})},em=function(e,t,o,s,a,l){var u,d,h,c,p=e._scheduler;a=a8(a||{},{updatedSeries:t.getSeries()}),bF.trigger("series:beforeupdate",t,o,a);var g=!1;t.eachSeries(function(t){var i,n,o,a=e._chartsMap[t.__viewId];a.__alive=!0;var u=a.renderTask;p.updatePayload(u,s),r(t,a),l&&l.get(t.uid)&&u.dirty(),u.perform(p.getPerformArgs(u))&&(g=!0),a.group.silent=!!t.get("silent"),i=t,n=a,o=i.get("blendMode")||null,n.eachRendered(function(e){e.isGroup||(e.style.blend=o)}),fs(t)}),p.unfinished=g||p.unfinished,bF.trigger("series:layoutlabels",t,o,a),bF.trigger("series:transition",t,o,a),t.eachSeries(function(t){var r=e._chartsMap[t.__viewId];i(t,r),n(t,r)}),u=e,d=t,h=u._zr.storage,c=0,h.traverse(function(e){!e.isGroup&&c++}),!(c>d.get("hoverLayerThreshold"))||aG.node||aG.worker||d.eachSeries(function(e){if(!e.preventUsingHoverLayer){var t=u._chartsMap[e.__viewId];t.__alive&&t.eachRendered(function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)})}}),bF.trigger("series:afterupdate",t,o,a)},eC=function(e){e[bW]=!0,e.getZr().wakeUp()},ew=function(e){e[bW]&&(e.getZr().storage.traverse(function(e){fS(e)||t(e)}),e[bW]=!1)},ev=function(e){return new(function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return aF(i,t),i.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},i.prototype.getComponentByElement=function(t){for(;t;){var i=t.__ecComponentInfo;if(null!=i)return e._model.getComponent(i.mainType,i.index);t=t.parent}},i.prototype.enterEmphasis=function(t,i){g7(t,i),eC(e)},i.prototype.leaveEmphasis=function(t,i){fe(t,i),eC(e)},i.prototype.enterBlur=function(t){g5(t,gJ),eC(e)},i.prototype.leaveBlur=function(t){g5(t,g0),eC(e)},i.prototype.enterSelect=function(t){g5(t,g1),eC(e)},i.prototype.leaveSelect=function(t){g5(t,g2),eC(e)},i.prototype.getModel=function(){return e.getModel()},i.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},i.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},i}(vd))(e)},ey=function(e){function t(e,t){for(var i=0;i<e.length;i++)e[i][bj]=t}ln(b2,function(i,r){e._messageCenter.on(r,function(i){if(b7[e.group]&&0!==e[bj]&&(!i||!i.escapeConnect)){var r=e.makeActionFromEvent(i),n=[];ln(b9,function(t){t!==e&&t.group===e.group&&n.push(t)}),t(n,0),ln(n,function(e){1!==e[bj]&&e.dispatchAction(r)}),t(n,2)}})})}}(),t}(us),bQ=bZ.prototype;bQ.on=b$("on"),bQ.off=b$("off"),bQ.one=function(e,t,i){var r=this;vi("ECharts#one is deprecated."),this.on.call(this,e,function i(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t&&t.apply&&t.apply(this,n),r.off(e,i)},i)};var bJ=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function b0(e){}var b1={},b2={},b5=[],b3=[],b4=[],b6={},b8={},b9={},b7={},Se=new Date-0,St=new Date-0,Si="_echarts_instance_";function Sr(e,t,i){var r=!(i&&i.ssr);if(r){var n=Sa(e);if(n)return n}var o=new bZ(e,t,i);return o.id="ec_"+Se++,b9[o.id]=o,r&&cJ(e,Si,o.id),ey(o),bF.trigger("afterinit",o),o}function Sn(e){if(lc(e)){var t=e;e=null,ln(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+St++,ln(t,function(t){t.group=e})}return b7[e]=!0,e}function So(e){b7[e]=!1}function Ss(e){lg(e)?e=b9[e]:e instanceof bZ||(e=Sa(e)),e instanceof bZ&&!e.isDisposed()&&e.dispose()}function Sa(e){return b9[e.getAttribute?e.getAttribute(Si):e[Si]]}function Sl(e){return b9[e]}function Su(e,t){b6[e]=t}function Sd(e){0>le(b3,e)&&b3.push(e)}function Sh(e,t){Sb(b5,e,t,2e3)}function Sc(e){Sg("afterinit",e)}function Sp(e){Sg("afterupdate",e)}function Sg(e,t){bF.on(e,t)}function Sf(e,t,i){lp(t)&&(i=t,t="");var r=lv(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),b2[t=e.event]||(lA(bU.test(r)&&bU.test(t)),b1[r]||(b1[r]={action:i,actionInfo:e}),b2[t]=r)}function Sm(e,t){vc.register(e,t)}function Sv(e){var t=vc.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function Sy(e,t){Sb(b4,e,t,1e3,"layout")}function SC(e,t){Sb(b4,e,t,3e3,"visual")}var Sw=[];function Sb(e,t,i,r,n){if((lp(t)||lv(t))&&(i=t,t=r),!(le(Sw,i)>=0)){Sw.push(i);var o=wP.wrapStageHandler(i,n);o.__prio=t,o.__raw=i,e.push(o)}}function SS(e,t){b8[e]=t}function Sx(e){aW({createCanvas:e})}function S_(e,t,i){var r=bO.registerMap;r&&r(e,t,i)}function SE(e){var t=bO.getMap;return t&&t(e)}var ST=function(e){var t=(e=a3(e)).type;t||vr("");var i=t.split(":");2!==i.length&&vr("");var r=!1;"echarts"===i[0]&&(t=i[1],r=!0),e.__isBuiltIn=r,yr.set(t,e)};SC(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var i=e.getData(),r=e.visualStyleAccessPath||"itemStyle",n=e.getModel(r),o=wR(e,r)(n),s=n.getShallow("decal");s&&(i.setVisual("decal",s),s.dirty=!0);var a=wD(e,r),l=o[a],u=lp(l)?l:null,d="auto"===o.fill||"auto"===o.stroke;if(!o[a]||u||d){var h=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[a]||(o[a]=h,i.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||lp(o.fill)?h:o.fill,o.stroke="auto"===o.stroke||lp(o.stroke)?h:o.stroke}if(i.setVisual("style",o),i.setVisual("drawType",a),!t.isSeriesFiltered(e)&&u)return i.setVisual("colorFromPalette",!1),{dataEach:function(t,i){var r=e.getDataParams(i),n=a8({},o);n[a]=u(r),t.setItemVisual(i,"style",n)}}}}),SC(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var i=e.getData(),r=e.visualStyleAccessPath||"itemStyle",n=wR(e,r),o=i.getVisual("drawType");return{dataEach:i.hasItemOption?function(e,t){var i=e.getRawDataItem(t);if(i&&i[r]){wA.option=i[r];var s=n(wA);a8(e.ensureUniqueItemVisual(t,"style"),s),wA.option.decal&&(e.setItemVisual(t,"decal",wA.option.decal),wA.option.decal.dirty=!0),o in s&&e.setItemVisual(t,"colorFromPalette",!1)}}:null}}}}),SC(4500,{performRawSeries:!0,overallReset:function(e){var t=lG();e.eachSeries(function(e){var i=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+i,n=t.get(r);n||(n={},t.set(r,n)),wE(e).scope=n}}),e.eachSeries(function(t){if(!(t.isColorBySeries()||e.isSeriesFiltered(t))){var i=t.getRawData(),r={},n=t.getData(),o=wE(t).scope,s=t.visualStyleAccessPath||"itemStyle",a=wD(t,s);n.each(function(e){r[n.getRawIndex(e)]=e}),i.each(function(e){var s=r[e];if(n.getItemVisual(s,"colorFromPalette")){var l=n.ensureUniqueItemVisual(s,"style"),u=i.getName(e)||e+"",d=i.count();l[a]=t.getColorFromPalette(u,o,d)}})}})}}),SC(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var i=e.getData();if(e.legendIcon&&i.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){for(var r={},n={},o=!1,s=0;s<wQ.length;s++){var a=wQ[s],l=e.get(a);lp(l)?(o=!0,n[a]=l):r[a]=l}if(r.symbol=r.symbol||e.defaultSymbol,i.setVisual(a8({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),!t.isSeriesFiltered(e)){var u=lu(n);return{dataEach:o?function(t,i){for(var r=e.getRawValue(i),o=e.getDataParams(i),s=0;s<u.length;s++){var a=u[s];t.setItemVisual(i,a,n[a](r,o))}}:null}}}}}),SC(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(e.hasSymbolVisual&&!t.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function(e,t){for(var i=e.getItemModel(t),r=0;r<wJ.length;r++){var n=wJ[r],o=i.getShallow(n,!0);null!=o&&e.setItemVisual(t,n,o)}}:null}}}),SC(7e3,function(e,t){e.eachRawSeries(function(i){if(!e.isSeriesFiltered(i)){var r=i.getData();r.hasItemVisual()&&r.each(function(e){var i=r.getItemVisual(e,"decal");i&&(r.ensureUniqueItemVisual(e,"style").decal=bk(i,t))});var n=r.getVisual("decal");n&&(r.getVisual("style").decal=bk(n,t))}})}),Sd(vI),Sh(900,function(e){var t=lG();e.eachSeries(function(e){var i=e.get("stack");if(i){var r=t.get(i)||t.set(i,[]),n=e.getData(),o={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:e};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;r.length&&n.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}}),t.each(vP)}),b8.default=function(e,t){a9(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var i,r=new ce,n=new gw({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var o=new gx({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),s=new gw({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return r.add(s),t.showSpinner&&((i=new Ck({shape:{startAngle:-wI/2,endAngle:-wI/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*wI/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*wI/2}).delay(300).start("circularInOut"),r.add(i)),r.resize=function(){var r=o.getBoundingRect().width,a=t.showSpinner?t.spinnerRadius:0,l=(e.getWidth()-2*a-(t.showSpinner&&r?10:0)-r)/2-(t.showSpinner&&r?0:5+r/2)+(t.showSpinner?0:r/2)+(r?0:a),u=e.getHeight()/2;t.showSpinner&&i.setShape({cx:l,cy:u}),s.setShape({x:l-a,y:u-a,width:2*a,height:2*a}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r},Sf({type:gU,event:gU,update:gU},lW),Sf({type:gj,event:gj,update:gj},lW),Sf({type:g$,event:g$,update:g$},lW),Sf({type:gK,event:gK,update:gK},lW),Sf({type:gY,event:gY,update:gY},lW),b6.light={color:wj,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],wj]},b6.dark=wX;var SM={};e.s(["PRIORITY",()=>bB,"connect",()=>Sn,"dataTool",()=>SM,"dependencies",()=>bV,"disConnect",()=>So,"disconnect",()=>So,"dispose",()=>Ss,"getCoordinateSystemDimensions",()=>Sv,"getInstanceByDom",()=>Sa,"getInstanceById",()=>Sl,"getMap",()=>SE,"init",()=>Sr,"registerAction",()=>Sf,"registerCoordinateSystem",()=>Sm,"registerLayout",()=>Sy,"registerLoading",()=>SS,"registerMap",()=>S_,"registerPostInit",()=>Sc,"registerPostUpdate",()=>Sp,"registerPreprocessor",()=>Sd,"registerProcessor",()=>Sh,"registerTheme",()=>Su,"registerTransform",()=>ST,"registerUpdateLifecycle",()=>Sg,"registerVisual",()=>SC,"setCanvasCreator",()=>Sx,"version",()=>bG],6487);var SR=[],SD={registerPreprocessor:Sd,registerProcessor:Sh,registerPostInit:Sc,registerPostUpdate:Sp,registerUpdateLifecycle:Sg,registerAction:Sf,registerCoordinateSystem:Sm,registerLayout:Sy,registerVisual:SC,registerTransform:ST,registerLoading:SS,registerMap:S_,registerImpl:function(e,t){bO[e]=t},PRIORITY:bB,ComponentModel:mB,ComponentView:yj,SeriesModel:yO,ChartView:wc,registerComponentModel:function(e){mB.registerClass(e)},registerComponentView:function(e){yj.registerClass(e)},registerSeriesModel:function(e){yO.registerClass(e)},registerChartView:function(e){wc.registerClass(e)},registerSubTypeDefaulter:function(e,t){mB.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){ct[e]=t}};function SA(e){lc(e)?ln(e,function(e){SA(e)}):le(SR,e)>=0||(SR.push(e),lp(e)&&(e={install:e}),e.install(SD))}var SI=Math.sin,SP=Math.cos,SL=Math.PI,Sk=2*Math.PI,SN=180/SL,SF=function(){function e(){}return e.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,i,r,n,o){this._add("C",e,t,i,r,n,o)},e.prototype.quadraticCurveTo=function(e,t,i,r){this._add("Q",e,t,i,r)},e.prototype.arc=function(e,t,i,r,n,o){this.ellipse(e,t,i,i,0,r,n,o)},e.prototype.ellipse=function(e,t,i,r,n,o,s,a){var l=s-o,u=!a,d=Math.abs(l),h=d3(d-Sk)||(u?l>=Sk:-l>=Sk),c=l>0?l%Sk:l%Sk+Sk,p=!1;p=!!h||!d3(d)&&c>=SL==!!u;var g=e+i*SP(o),f=t+r*SI(o);this._start&&this._add("M",g,f);var m=Math.round(n*SN);if(h){var v=1/this._p,y=(u?1:-1)*(Sk-v);this._add("A",i,r,m,1,+u,e+i*SP(o+y),t+r*SI(o+y)),v>.01&&this._add("A",i,r,m,0,+u,g,f)}else{var C=e+i*SP(s),w=t+r*SI(s);this._add("A",i,r,m,+p,+u,C,w)}},e.prototype.rect=function(e,t,i,r){this._add("M",e,t),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,i,r,n,o,s,a,l){for(var u=[],d=this._p,h=1;h<arguments.length;h++){var c=arguments[h];if(isNaN(c)){this._invalid=!0;return}u.push(Math.round(c*d)/d)}this._d.push(e+u.join(" ")),this._start="Z"===e},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),SO="none",SG=Math.round,SV=["lineCap","miterLimit","lineJoin"],SB=lo(SV,function(e){return"stroke-"+e.toLowerCase()}),SH="http://www.w3.org/2000/svg",Sz="http://www.w3.org/1999/xlink",SW="ecmeta_";function SU(e){return document.createElementNS(SH,e)}function Sj(e,t,i,r,n){return{tag:e,attrs:i||{},children:r,text:n,key:t}}function S$(e,t){var i=(t=t||{}).newline?"\n":"";return function e(t){var r=t.children,n=t.tag,o=t.attrs,s=t.text;return function(e,t){var i=[];if(t)for(var r in t){var n=t[r],o=r;!1!==n&&(!0!==n&&null!=n&&(o+='="'+n+'"'),i.push(o))}return"<"+e+" "+i.join(" ")+">"}(n,o)+("style"!==n?um(s):s||"")+(r?""+i+lo(r,function(t){return e(t)}).join(i)+i:"")+"</"+n+">"}(e)}function SK(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function SY(e,t,i,r){return Sj("svg","root",{width:e,height:t,xmlns:SH,"xmlns:xlink":Sz,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+e+" "+t},i)}var Sq=0,SX={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},SZ="transform-origin",SQ={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function SJ(e,t){var i=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[i]=e,i}function S0(e){return lg(e)?SX[e]?"cubic-bezier("+SX[e]+")":dT(e)?e:"":""}function S1(e,t,i,r){var n=e.animators,o=n.length,s=[];if(e instanceof CN){var a=function(e,t,i){var r,n,o=e.shape.paths,s={};if(ln(o,function(e){var t=SK(i.zrId);t.animation=!0,S1(e,{},t,!0);var o=t.cssAnims,a=t.cssNodes,l=lu(o),u=l.length;if(u){var d=o[n=l[u-1]];for(var h in d){var c=d[h];s[h]=s[h]||{d:""},s[h].d+=c.d||""}for(var p in a){var g=a[p].animation;g.indexOf(n)>=0&&(r=g)}}}),r){t.d=!1;var a=SJ(s,i);return r.replace(n,a)}}(e,t,i);if(a)s.push(a);else if(!o)return}else if(!o)return;for(var l={},u=0;u<o;u++){var d=n[u],h=[d.getMaxTime()/1e3+"s"],c=S0(d.getClip().easing),p=d.getDelay();c?h.push(c):h.push("linear"),p&&h.push(p/1e3+"s"),d.getLoop()&&h.push("infinite");var g=h.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(d)}for(var f in l){var a=function(n){var o,s,a=n[1],l=a.length,u={},d={},h={},c="animation-timing-function";function p(e,t,i){for(var r=e.getTracks(),n=e.getMaxTime(),o=0;o<r.length;o++){var s=r[o];if(s.needsAnimate()){var a=s.keyframes,l=s.propName;if(i&&(l=i(l)),l)for(var u=0;u<a.length;u++){var d=a[u],h=Math.round(d.time/n*100)+"%",p=S0(d.easing),g=d.rawValue;(lg(g)||lm(g))&&(t[h]=t[h]||{},t[h][l]=d.rawValue,p&&(t[h][c]=p))}}}}for(var g=0;g<l;g++){var f=a[g],m=f.targetName;m?"shape"===m&&p(f,d):r||p(f,u)}for(var v in u){var y={};h$(y,e),a8(y,u[v]);var C=ho(y),w=u[v][c];h[v]=C?{transform:C}:{},function(e,t){var i=t.originX,r=t.originY;(i||r)&&(e[SZ]=i+"px "+r+"px")}(h[v],y),w&&(h[v][c]=w)}var b=!0;for(var v in d){h[v]=h[v]||{};var S=!o,w=d[v][c];S&&(o=new p5);var x=o.len();o.reset(),h[v].d=function(e,t,i){var r=a8({},e.shape);a8(r,t),e.buildPath(i,r);var n=new SF;return n.reset(hn(e)),i.rebuildPath(n,1),n.generateStr(),n.getStr()}(e,d[v],o);var _=o.len();if(!S&&x!==_){b=!1;break}w&&(h[v][c]=w)}if(!b)for(var v in h)delete h[v].d;if(!r)for(var g=0;g<l;g++){var f=a[g],m=f.targetName;"style"===m&&p(f,h,function(e){return SQ[e]})}for(var E=lu(h),T=!0,g=1;g<E.length;g++){var M=E[g-1],R=E[g];if(h[M][SZ]!==h[R][SZ]){T=!1;break}s=h[M][SZ]}if(T&&s){for(var v in h)h[v][SZ]&&delete h[v][SZ];t[SZ]=s}if(la(E,function(e){return lu(h[e]).length>0}).length)return SJ(h,i)+" "+n[0]+" both"}(l[f]);a&&s.push(a)}if(s.length){var m=i.zrId+"-cls-"+Sq++;i.cssNodes["."+m]={animation:s.join(",")},t.class=m}}function S2(e,t,i,r){var n=JSON.stringify(e),o=i.cssStyleCache[n];o||(o=i.zrId+"-cls-"+Sq++,i.cssStyleCache[n]=o,i.cssNodes["."+o+(r?":hover":"")]=e),t.class=t.class?t.class+" "+o:o}var S5=Math.round;function S3(e){return e&&lp(e.toDataURL)}function S4(e,t,i,r){!function(e,t,i,r){var n,o,s=null==t.opacity?1:t.opacity;if(i instanceof gp)return e("opacity",s);if(null!=(n=t.fill)&&n!==SO){var a=d5(t.fill);e("fill",a.color);var l=null!=t.fillOpacity?t.fillOpacity*a.opacity*s:a.opacity*s;(r||l<1)&&e("fill-opacity",l)}else e("fill",SO);if(null!=(o=t.stroke)&&o!==SO){var u=d5(t.stroke);e("stroke",u.color);var d=t.strokeNoScale?i.getLineScale():1,h=d?(t.lineWidth||0)/d:0,c=null!=t.strokeOpacity?t.strokeOpacity*u.opacity*s:u.opacity*s,p=t.strokeFirst;if((r||1!==h)&&e("stroke-width",h),(r||p)&&e("paint-order",p?"stroke":"fill"),(r||c<1)&&e("stroke-opacity",c),t.lineDash){var g=bg(i),f=g[0],m=g[1];f&&(m=SG(m||0),e("stroke-dasharray",f.join(",")),(m||r)&&e("stroke-dashoffset",m))}else r&&e("stroke-dasharray",SO);for(var v=0;v<SV.length;v++){var y=SV[v];if(r||t[y]!==go[y]){var C=t[y]||go[y];C&&e(SB[v],C)}}}else r&&e("stroke",SO)}(function(n,o){var s="fill"===n||"stroke"===n;s&&hi(o)?xn(t,e,n,r):s&&d7(o)?xo(i,e,n,r):e[n]=o,s&&r.ssr&&"none"===o&&(e["pointer-events"]="visible")},t,i,!1),function(e,t,i){var r=e.style;if(r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)){var n,o,s=(n=e.style,o=e.getGlobalScale(),[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),o[0],o[1]].join(",")),a=i.shadowCache,l=a[s];if(!l){var u=e.getGlobalScale(),d=u[0],h=u[1];if(!d||!h)return;var c=r.shadowOffsetX||0,p=r.shadowOffsetY||0,g=r.shadowBlur,f=d5(r.shadowColor),m=f.opacity,v=f.color;l=i.zrId+"-s"+i.shadowIdx++,i.defs[l]=Sj("filter",l,{id:l,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Sj("feDropShadow","",{dx:c/d,dy:p/h,stdDeviation:g/2/d+" "+g/2/h,"flood-color":v,"flood-opacity":m})]),a[s]=l}t.filter=hr(l)}}(i,e,r)}function S6(e,t){var i=cu(t);i&&(i.each(function(t,i){null!=t&&(e[(SW+i).toLowerCase()]=t+"")}),t.isSilent()&&(e[SW+"silent"]="true"))}function S8(e){return d3(e[0]-1)&&d3(e[1])&&d3(e[2])&&d3(e[3]-1)}function S9(e,t,i){if(t&&!(d3(t[4])&&d3(t[5])&&S8(t))){var r=i?10:1e4;e.transform=S8(t)?"translate("+S5(t[4]*r)/r+" "+S5(t[5]*r)/r+")":"matrix("+d4(t[0])+","+d4(t[1])+","+d4(t[2])+","+d4(t[3])+","+d6(t[4])+","+d6(t[5])+")"}}function S7(e,t,i){for(var r=e.points,n=[],o=0;o<r.length;o++)n.push(S5(r[o][0]*i)/i),n.push(S5(r[o][1]*i)/i);t.points=n.join(" ")}function xe(e){return!e.smooth}var xt={circle:[(C=lo(["cx","cy","r"],function(e){return"string"==typeof e?[e,e]:e}),function(e,t,i){for(var r=0;r<C.length;r++){var n=C[r],o=e[n[0]];null!=o&&(t[n[1]]=S5(o*i)/i)}})],polyline:[S7,xe],polygon:[S7,xe]};function xi(e,t){var i=e.style,r=e.shape,n=xt[e.type],o={},s=t.animation,a="path",l=e.style.strokePercent,u=t.compress&&hn(e)||4;if(!n||t.willUpdate||n[1]&&!n[1](r)||s&&function(e){for(var t=e.animators,i=0;i<t.length;i++)if("shape"===t[i].targetName)return!0;return!1}(e)||l<1){var d=!e.path||e.shapeChanged();e.path||e.createPathProxy();var h=e.path;d&&(h.beginPath(),e.buildPath(h,e.shape),e.pathUpdated());var c=h.getVersion(),p=e.__svgPathBuilder;e.__svgPathVersion===c&&p&&l===e.__svgPathStrokePercent||(p||(p=e.__svgPathBuilder=new SF),p.reset(u),h.rebuildPath(p,l),p.generateStr(),e.__svgPathVersion=c,e.__svgPathStrokePercent=l),o.d=p.getStr()}else{a=e.type;var g=Math.pow(10,u);n[0](r,o,g)}return S9(o,e.transform),S4(o,i,e,t),S6(o,e),t.animation&&S1(e,o,t),t.emphasis&&function(e,t,i){if(!e.ignore)if(e.isSilent()){var r={"pointer-events":"none"};S2(r,t,i,!0)}else{var n=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},o=n.fill;if(!o){var s=e.style&&e.style.fill,a=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&a||s;l&&(o=d0(l))}var u=n.lineWidth;u&&(u/=!n.strokeNoScale&&e.transform?e.transform[0]:1);var r={cursor:"pointer"};o&&(r.fill=o),n.stroke&&(r.stroke=n.stroke),u&&(r["stroke-width"]=u),S2(r,t,i,!0)}}(e,o,t),Sj(a,e.id+"",o)}function xr(e,t){return e instanceof gl?xi(e,t):e instanceof gp?function(e,t){var i,r=e.style,n=r.image;if(n&&!lg(n)&&((i=n)&&lg(i.src)?n=n.src:S3(n)&&(n=n.toDataURL())),n){var o=r.x||0,s=r.y||0,a={href:n,width:r.width,height:r.height};return o&&(a.x=o),s&&(a.y=s),S9(a,e.transform),S4(a,r,e,t),S6(a,e),t.animation&&S1(e,a,t),Sj("image",e.id+"",a)}}(e,t):e instanceof gd?function(e,t){var i=e.style,r=i.text;if(null!=r&&(r+=""),!(!r||isNaN(i.x)||isNaN(i.y))){var n,o,s,a=i.font||aB,l=i.x||0,u=(n=i.y||0,o=hJ(a),"top"===(s=i.textBaseline)?n+=o/2:"bottom"===s&&(n-=o/2),n),d={"dominant-baseline":"central","text-anchor":d8[i.textAlign]||i.textAlign};if(gD(i)){var h="",c=i.fontStyle,p=gM(i.fontSize);if(!parseFloat(p))return;var g=i.fontFamily||aV,f=i.fontWeight;h+="font-size:"+p+";font-family:"+g+";",c&&"normal"!==c&&(h+="font-style:"+c+";"),f&&"normal"!==f&&(h+="font-weight:"+f+";"),d.style=h}else d.style="font: "+a;return r.match(/\s/)&&(d["xml:space"]="preserve"),l&&(d.x=l),u&&(d.y=u),S9(d,e.transform),S4(d,i,e,t),S6(d,e),t.animation&&S1(e,d,t),Sj("text",e.id+"",d,void 0,r)}}(e,t):void 0}function xn(e,t,i,r){var n,o=e[i],s={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(he(o))n="linearGradient",s.x1=o.x,s.y1=o.y,s.x2=o.x2,s.y2=o.y2;else{if(!ht(o))return;n="radialGradient",s.cx=lT(o.x,.5),s.cy=lT(o.y,.5),s.r=lT(o.r,.5)}for(var a=o.colorStops,l=[],u=0,d=a.length;u<d;++u){var h=100*d6(a[u].offset)+"%",c=d5(a[u].color),p=c.color,g=c.opacity,f={offset:h};f["stop-color"]=p,g<1&&(f["stop-opacity"]=g),l.push(Sj("stop",u+"",f))}var m=S$(Sj(n,"",s,l)),v=r.gradientCache,y=v[m];y||(y=r.zrId+"-g"+r.gradientIdx++,v[m]=y,s.id=y,r.defs[y]=Sj(n,y,s,l)),t[i]=hr(y)}function xo(e,t,i,r){var n,o,s,a=e.style[i],l=e.getBoundingRect(),u={},d=a.repeat,h="no-repeat"===d,c="repeat-x"===d,p="repeat-y"===d;if(d9(a)){var g=a.imageWidth,f=a.imageHeight,m=void 0,v=a.image;if(lg(v)?m=v:v&&lg(v.src)?m=v.src:S3(v)&&(m=v.toDataURL()),"undefined"==typeof Image){var y="Image width/height must been given explictly in svg-ssr renderer.";lA(g,y),lA(f,y)}else if(null==g||null==f){var C=function(e,t){if(e){var i=e.elm,r=g||t.width,n=f||t.height;"pattern"===e.tag&&(c?(n=1,r/=l.width):p&&(r=1,n/=l.height)),e.attrs.width=r,e.attrs.height=n,i&&(i.setAttribute("width",r),i.setAttribute("height",n))}},w=po(m,null,e,function(e){h||C(S,e),C(n,e)});w&&w.width&&w.height&&(g=g||w.width,f=f||w.height)}n=Sj("image","img",{href:m,width:g,height:f}),u.width=g,u.height=f}else a.svgElement&&(n=a3(a.svgElement),u.width=a.svgWidth,u.height=a.svgHeight);if(n){h?o=s=1:c?(s=1,o=u.width/l.width):p?(o=1,s=u.height/l.height):u.patternUnits="userSpaceOnUse",null==o||isNaN(o)||(u.width=o),null==s||isNaN(s)||(u.height=s);var b=ho(a);b&&(u.patternTransform=b);var S=Sj("pattern","",u,[n]),x=S$(S),_=r.patternCache,E=_[x];E||(E=r.zrId+"-p"+r.patternIdx++,_[x]=E,u.id=E,S=r.defs[E]=Sj("pattern",E,u,[n])),t[i]=hr(E)}}function xs(e){return document.createTextNode(e)}function xa(e,t,i){e.insertBefore(t,i)}function xl(e,t){e.removeChild(t)}function xu(e,t){e.appendChild(t)}function xd(e){return e.parentNode}function xh(e){return e.nextSibling}function xc(e,t){e.textContent=t}var xp=Sj("","");function xg(e){return void 0===e}function xf(e){return void 0!==e}function xm(e,t){var i=e.key===t.key;return e.tag===t.tag&&i}function xv(e){var t,i=e.children,r=e.tag;if(xf(r)){var n=e.elm=SU(r);if(xw(xp,e),lc(i))for(t=0;t<i.length;++t){var o=i[t];null!=o&&xu(n,xv(o))}else xf(e.text)&&!lv(e.text)&&xu(n,xs(e.text))}else e.elm=xs(e.text);return e.elm}function xy(e,t,i,r,n){for(;r<=n;++r){var o=i[r];null!=o&&xa(e,xv(o),t)}}function xC(e,t,i,r){for(;i<=r;++i){var n=t[i];null!=n&&(xf(n.tag)?xl(xd(n.elm),n.elm):xl(e,n.elm))}}function xw(e,t){var i,r=t.elm,n=e&&e.attrs||{},o=t.attrs||{};if(n!==o){for(i in o){var s=o[i];n[i]!==s&&(!0===s?r.setAttribute(i,""):!1===s?r.removeAttribute(i):"style"===i?r.style.cssText=s:120!==i.charCodeAt(0)?r.setAttribute(i,s):"xmlns:xlink"===i||"xmlns"===i?r.setAttributeNS("http://www.w3.org/2000/xmlns/",i,s):58===i.charCodeAt(3)?r.setAttributeNS("http://www.w3.org/XML/1998/namespace",i,s):58===i.charCodeAt(5)?r.setAttributeNS(Sz,i,s):r.setAttribute(i,s))}for(i in n)i in o||r.removeAttribute(i)}}var xb=0,xS=function(){function e(e,t,i){if(this.type="svg",this.refreshHover=xx("refreshHover"),this.configLayer=xx("configLayer"),this.storage=t,this._opts=i=a8({},i),this.root=e,this._id="zr"+xb++,this._oldVNode=SY(i.width,i.height),e&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var n=this._svgDom=this._oldVNode.elm=SU("svg");xw(null,this._oldVNode),r.appendChild(n),e.appendChild(r)}this.resize(i.width,i.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,t){if(xm(e,t))!function e(t,i){var r=i.elm=t.elm,n=t.children,o=i.children;t!==i&&(xw(t,i),xg(i.text)?xf(n)&&xf(o)?n!==o&&function(t,i,r){for(var n,o,s,a=0,l=0,u=i.length-1,d=i[0],h=i[u],c=r.length-1,p=r[0],g=r[c];a<=u&&l<=c;)null==d?d=i[++a]:null==h?h=i[--u]:null==p?p=r[++l]:null==g?g=r[--c]:xm(d,p)?(e(d,p),d=i[++a],p=r[++l]):xm(h,g)?(e(h,g),h=i[--u],g=r[--c]):xm(d,g)?(e(d,g),xa(t,d.elm,xh(h.elm)),d=i[++a],g=r[--c]):(xm(h,p)?(e(h,p),xa(t,h.elm,d.elm),h=i[--u]):(xg(n)&&(n=function(e,t,i){for(var r={},n=t;n<=i;++n){var o=e[n].key;void 0!==o&&(r[o]=n)}return r}(i,a,u)),xg(o=n[p.key])||(s=i[o]).tag!==p.tag?xa(t,xv(p),d.elm):(e(s,p),i[o]=void 0,xa(t,s.elm,d.elm))),p=r[++l]);(a<=u||l<=c)&&(a>u?xy(t,null==r[c+1]?null:r[c+1].elm,r,l,c):xC(t,i,a,u))}(r,n,o):xf(o)?(xf(t.text)&&xc(r,""),xy(r,null,o,0,o.length-1)):xf(n)?xC(r,n,0,n.length-1):xf(t.text)&&xc(r,""):t.text!==i.text&&(xf(n)&&xC(r,n,0,n.length-1),xc(r,i.text)))}(e,t);else{var i=e.elm,r=xd(i);xv(t),null!==r&&(xa(r,t.elm,xh(i)),xC(r,[e],0,0))}}(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return xr(e,SK(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,r=this._height,n=SK(this._id);n.animation=e.animation,n.willUpdate=e.willUpdate,n.compress=e.compress,n.emphasis=e.emphasis,n.ssr=this._opts.ssr;var o=[],s=this._bgVNode=function(e,t,i,r){var n;if(i&&"none"!==i)if(n=Sj("rect","bg",{width:e,height:t,x:"0",y:"0"}),hi(i))xn({fill:i},n.attrs,"fill",r);else if(d7(i))xo({style:{fill:i},dirty:lW,getBoundingRect:function(){return{width:e,height:t}}},n.attrs,"fill",r);else{var o=d5(i),s=o.color,a=o.opacity;n.attrs.fill=s,a<1&&(n.attrs["fill-opacity"]=a)}return n}(i,r,this._backgroundColor,n);s&&o.push(s);var a=e.compress?null:this._mainVNode=Sj("g","main",{},[]);this._paintList(t,n,a?a.children:o),a&&o.push(a);var l=lo(lu(n.defs),function(e){return n.defs[e]});if(l.length&&o.push(Sj("defs","defs",{},l)),e.animation){var u,d,h,c,p,g,f,m,v=(u=n.cssNodes,d=n.cssAnims,p=" {"+(c=(h={newline:!0}).newline?"\n":""),g=c+"}",f=lo(lu(u),function(e){return e+p+lo(lu(u[e]),function(t){return t+":"+u[e][t]+";"}).join(c)+g}).join(c),m=lo(lu(d),function(e){return"@keyframes "+e+p+lo(lu(d[e]),function(t){return t+p+lo(lu(d[e][t]),function(i){var r=d[e][t][i];return"d"===i&&(r='path("'+r+'")'),i+":"+r+";"}).join(c)+g}).join(c)+g}).join(c),f||m?["<![CDATA[",f,m,"]]>"].join(c):"");if(v){var y=Sj("style","stl",{},[],v);o.push(y)}}return SY(i,r,o,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},S$(this.renderToVNode({animation:lT(e.cssAnimation,!0),emphasis:lT(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:lT(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,i){for(var r,n,o=e.length,s=[],a=0,l=0,u=0;u<o;u++){var d=e[u];if(!d.invisible){var h=d.__clipPaths,c=h&&h.length||0,p=n&&n.length||0,g=void 0;for(g=Math.max(c-1,p-1);g>=0&&(!h||!n||h[g]!==n[g]);g--);for(var f=p-1;f>g;f--)r=s[--a-1];for(var m=g+1;m<c;m++){var v={};!function(e,t,i){var r=i.clipPathCache,n=i.defs,o=r[e.id];if(!o){var s={id:o=i.zrId+"-c"+i.clipPathIdx++};r[e.id]=o,n[o]=Sj("clipPath",o,s,[xi(e,i)])}t["clip-path"]=hr(o)}(h[m],v,t);var y=Sj("g","clip-g-"+l++,v,[]);(r?r.children:i).push(y),s[a++]=y,r=y}n=h;var C=xr(d,t);C&&(r?r.children:i).push(C)}}},e.prototype.resize=function(e,t){var i=this._opts,r=this.root,n=this._viewport;if(null!=e&&(i.width=e),null!=t&&(i.height=t),r&&n&&(n.style.display="none",e=bp(r,0,i),t=bp(r,1,i),n.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,n){var o=n.style;o.width=e+"px",o.height=t+"px"}if(d7(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var a=this._bgVNode&&this._bgVNode.elm;a&&(a.setAttribute("width",e),a.setAttribute("height",t))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=hs(t))&&i+"base64,"+t:i+"charset=UTF-8,"+encodeURIComponent(t)},e}();function xx(e){return function(){}}function x_(e,t,i){var r=az.createCanvas(),n=t.getWidth(),o=t.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=n+"px",s.height=o+"px",r.setAttribute("data-zr-dom-id",e)),r.width=n*i,r.height=o*i,r}var xE=function(e){function t(t,i,r){var n,o=e.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,r=r||hF,"string"==typeof t?n=x_(t,i,r):lv(t)&&(t=(n=t).id),o.id=t,o.dom=n;var s=n.style;return s&&(lH(n),n.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=i,o.dpr=r,o}return l$(t,e),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=x_("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,t,i,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var n,o=[],s=this.maxRepaintRectCount,a=!1,l=new uY(0,0,0,0);function u(e){if(!(!e.isFinite()||e.isZero()))if(0===o.length){var t=new uY(0,0,0,0);t.copy(e),o.push(t)}else{for(var i=!1,r=1/0,n=0,u=0;u<o.length;++u){var d=o[u];if(d.intersect(e)){var h=new uY(0,0,0,0);h.copy(d),h.union(e),o[u]=h,i=!0;break}if(a){l.copy(e),l.union(d);var c=e.width*e.height,p=d.width*d.height,g=l.width*l.height-c-p;g<r&&(r=g,n=u)}}if(a&&(o[n].union(e),i=!0),!i){var t=new uY(0,0,0,0);t.copy(e),o.push(t)}a||(a=o.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var h=e[d];if(h){var c=h.shouldBePainted(i,r,!0,!0),p=h.__isRendered&&(1&h.__dirty||!c)?h.getPrevPaintRect():null;p&&u(p);var g=c&&(1&h.__dirty||!h.__isRendered)?h.getPaintRect():null;g&&u(g)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var h=t[d],c=h&&h.shouldBePainted(i,r,!0,!0);if(h&&(!c||!h.__zr)&&h.__isRendered){var p=h.getPrevPaintRect();p&&u(p)}}do{n=!1;for(var d=0;d<o.length;){if(o[d].isZero()){o.splice(d,1);continue}for(var f=d+1;f<o.length;)o[d].intersect(o[f])?(n=!0,o[d].union(o[f]),o.splice(f,1)):f++;d++}}while(n)return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,t){var i=this.dpr,r=this.dom,n=r.style,o=this.domBack;n&&(n.width=e+"px",n.height=t+"px"),r.width=e*i,r.height=t*i,o&&(o.width=e*i,o.height=t*i,1!==i&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,t,i){var r=this.dom,n=this.ctx,o=r.width,s=r.height;t=t||this.clearColor;var a=this.motionBlur&&!e,l=this.lastFrameAlpha,u=this.dpr,d=this;a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,o/u,s/u));var h=this.domBack;function c(e,i,r,o){if(n.clearRect(e,i,r,o),t&&"transparent"!==t){var s=void 0;lb(t)?(s=(t.global||t.__width===r&&t.__height===o)&&t.__canvasGradient||bh(n,t,{x:0,y:0,width:r,height:o}),t.__canvasGradient=s,t.__width=r,t.__height=o):lS(t)&&(t.scaleX=t.scaleX||u,t.scaleY=t.scaleY||u,s=bb(n,t,{dirty:function(){d.setUnpainted(),d.painter.refresh()}})),n.save(),n.fillStyle=s||t,n.fillRect(e,i,r,o),n.restore()}a&&(n.save(),n.globalAlpha=l,n.drawImage(h,e,i,r,o),n.restore())}!i||a?c(0,0,o,s):i.length&&ln(i,function(e){c(e.x*u,e.y*u,e.width*u,e.height*u)})},t}(us),xT=function(){function e(e,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var n=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=i=a8({},i||{}),this.dpr=i.devicePixelRatio||hF,this._singleCanvas=n,this.root=e,e.style&&(lH(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(n){var a=e.width,l=e.height;null!=i.width&&(a=i.width),null!=i.height&&(l=i.height),this.dpr=i.devicePixelRatio||1,e.width=a*this.dpr,e.height=l*this.dpr,this._width=a,this._height=l;var u=new xE(e,this,this.dpr);u.__builtin__=!0,u.initContext(),s[314159]=u,u.zlevel=314159,o.push(314159),this._domRoot=e}else{this._width=bp(e,0,i),this._height=bp(e,1,i);var d,h,c,p=this._domRoot=(d=this._width,h=this._height,(c=document.createElement("div")).style.cssText=["position:relative","width:"+d+"px","height:"+h+"px","padding:0;margin:0;border-width:0"].join(";")+";",c);e.appendChild(p)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var n=0;n<r.length;n++){var o=r[n],s=this._layers[o];if(!s.__builtin__&&s.refresh){var a=0===n?this._backgroundColor:null;s.refresh(a)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t,i=e.length,r=this._hoverlayer;if(r&&r.clear(),i){for(var n={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<i;o++){var s=e[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(1e5)),t||(t=r.ctx).save(),bA(t,s,n,o===i-1))}t&&t.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(1e5)},e.prototype.paintOne=function(e,t){bD(e,t)},e.prototype._paintList=function(e,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var n=this._doPaintList(e,t,i),o=n.finished,s=n.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(e){e.afterBrush&&e.afterBrush()});else{var a=this;j(function(){a._paintList(e,t,i,r)})}}},e.prototype._compositeManually=function(){var e=this.getLayer(314159).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,i)})},e.prototype._doPaintList=function(e,t,i){for(var r=this,n=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var a=this._zlevelList[s],l=this._layers[a];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||i)&&n.push(l)}for(var u=!0,d=!1,h=this,c=0;c<n.length;c++)!function(s){var a,l=n[s],c=l.ctx,p=o&&l.createRepaintRects(e,t,h._width,h._height),g=i?l.__startIndex:l.__drawIndex,f=!i&&l.incremental&&Date.now,m=f&&Date.now(),v=l.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,v,p);else if(g===l.__startIndex){var y=e[g];y.incremental&&y.notClear&&!i||l.clear(!1,v,p)}-1===g&&(console.error("For some unknown reason. drawIndex is -1"),g=l.__startIndex);var C=function(t){var i={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(a=g;a<l.__endIndex;a++){var n=e[a];if(n.__inHover&&(d=!0),r._doPaintEl(n,l,o,t,i,a===l.__endIndex-1),f&&Date.now()-m>15)break}i.prevElClipPaths&&c.restore()};if(p)if(0===p.length)a=l.__endIndex;else for(var w=h.dpr,b=0;b<p.length;++b){var S=p[b];c.save(),c.beginPath(),c.rect(S.x*w,S.y*w,S.width*w,S.height*w),c.clip(),C(S),c.restore()}else c.save(),C(),c.restore();l.__drawIndex=a,l.__drawIndex<l.__endIndex&&(u=!1)}(c);return aG.wxa&&ln(this._layers,function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()}),{finished:u,needsRefreshHover:d}},e.prototype._doPaintEl=function(e,t,i,r,n,o){var s=t.ctx;if(i){var a=e.getPaintRect();(!r||a&&a.intersect(r))&&(bA(s,e,n,o),e.setPrevPaintRect(a))}else bA(s,e,n,o)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=314159);var i=this._layers[e];return i||((i=new xE("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?a4(i,this._layerConfig[e],!0):this._layerConfig[e-.01]&&a4(i,this._layerConfig[e-.01],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},e.prototype.insertLayer=function(e,t){var i=this._layers,r=this._zlevelList,n=r.length,o=this._domRoot,s=null,a=-1;if(!i[e]){if(t&&(t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh&&1)){if(n>0&&e>r[0]){for(a=0;a<n-1&&(!(r[a]<e)||!(r[a+1]>e));a++);s=i[r[a]]}if(r.splice(a+1,0,e),i[e]=t,!t.virtual)if(s){var l=s.dom;l.nextSibling?o.insertBefore(t.dom,l.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}}},e.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var n=i[r];e.call(t,this._layers[n],n)}},e.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var n=i[r],o=this._layers[n];o.__builtin__&&e.call(t,o,n)}},e.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var n=i[r],o=this._layers[n];o.__builtin__||e.call(t,o,n)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){function t(e){s&&(s.__endIndex!==e&&(s.__dirty=!0),s.__endIndex=e)}if(this.eachBuiltinLayer(function(e,t){e.__dirty=e.__used=!1}),this._singleCanvas)for(var i,r,n=1;n<e.length;n++){var o=e[n];if(o.zlevel!==e[n-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}}var s=null,a=0;for(r=0;r<e.length;r++){var o=e[r],l=o.zlevel,u=void 0;i!==l&&(i=l,a=0),o.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(l+.01*(a>0),this._needsManuallyCompositing),u.__builtin__||a5("ZLevel "+l+" has been used by unkown layer "+u.id),u!==s&&(u.__used=!0,u.__startIndex!==r&&(u.__dirty=!0),u.__startIndex=r,u.incremental?u.__drawIndex=-1:u.__drawIndex=r,t(r),s=u),1&o.__dirty&&!o.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,ln(this._layers,function(e){e.setUnpainted()})},e.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?a4(i[e],t,!0):i[e]=t;for(var r=0;r<this._zlevelList.length;r++){var n=this._zlevelList[r];(n===e||n===e+.01)&&a4(this._layers[n],i[e],!0)}}},e.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],i.splice(le(i,e),1))},e.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,n=this.root;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=bp(n,0,r),t=bp(n,1,r),i.style.display="",this._width!==e||t!==this._height){for(var o in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(314159).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new xE("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,n=t.dom.height;this.eachLayer(function(e){e.__builtin__?i.drawImage(e.dom,0,0,r,n):e.renderToCanvas&&(i.save(),e.renderToCanvas(i),i.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),a=0,l=s.length;a<l;a++)bA(i,s[a],o,a===l-1);return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function xM(e){return null==e?0:e.length||1}function xR(e){return e}var xD=function(){function e(e,t,i,r,n,o){this._old=e,this._new=t,this._oldKeyGetter=i||xR,this._newKeyGetter=r||xR,this.context=n,this._diffModeMultiple="multiple"===o}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},r=Array(e.length),n=Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,n,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=r[o],a=i[s],l=xM(a);if(l>1){var u=a.shift();1===a.length&&(i[s]=a[0]),this._update&&this._update(u,o)}else 1===l?(i[s]=null,this._update&&this._update(a,o)):this._remove&&this._remove(o)}this._performRestAdd(n,i)},e.prototype._executeMultiple=function(){var e=this._old,t=this._new,i={},r={},n=[],o=[];this._initIndexMap(e,i,n,"_oldKeyGetter"),this._initIndexMap(t,r,o,"_newKeyGetter");for(var s=0;s<n.length;s++){var a=n[s],l=i[a],u=r[a],d=xM(l),h=xM(u);if(d>1&&1===h)this._updateManyToOne&&this._updateManyToOne(u,l),r[a]=null;else if(1===d&&h>1)this._updateOneToMany&&this._updateOneToMany(u,l),r[a]=null;else if(1===d&&1===h)this._update&&this._update(u,l),r[a]=null;else if(d>1&&h>1)this._updateManyToMany&&this._updateManyToMany(u,l),r[a]=null;else if(d>1)for(var c=0;c<d;c++)this._remove&&this._remove(l[c]);else this._remove&&this._remove(l)}this._performRestAdd(o,r)},e.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],n=t[r],o=xM(n);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(n[s]);else 1===o&&this._add&&this._add(n);t[r]=null}},e.prototype._initIndexMap=function(e,t,i,r){for(var n=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[r](e[o],o);if(n||(i[o]=s),t){var a=t[s],l=xM(a);0===l?(t[s]=o,n&&i.push(s)):1===l?t[s]=[a,o]:a.push(o)}}},e}(),xA=function(){function e(e,t){this._encode=e,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function xI(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function xP(e){return"category"===e?"ordinal":"time"===e?"time":"float"}let xL=function(e){this.otherDims={},null!=e&&a8(this,e)};var xk=c$(),xN={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},xF=function(){function e(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=xV(this.source)))},e.prototype.getSourceDimensionIndex=function(e){return lT(this._dimNameMap.get(e),-1)},e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},e.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=vB(this.source),i=!(e>30),r="",n=[],o=0,s=0;o<e;o++){var a=void 0,l=void 0,u=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===o)a=t?d.name:null,l=d.type,u=d.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(a=t?h.name:null,l=h.type)}n.push({property:a,type:l,ordinalMeta:u}),!t||null==a||d&&d.isCalculationCoord||(r+=i?a.replace(/\`/g,"`1").replace(/\$/g,"`2"):a),r+="$",r+=xN[l]||"f",u&&(r+=u.uid),r+="$"}var c=this.source;return{dimensions:n,hash:[c.seriesLayoutBy,c.startIndex,r].join("$$")}},e.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,n=this.dimensions[i];if(n&&n.storeDimIndex===t)n.isCalculationCoord||(r=n.name),i++;else{var o=this.getSourceDimension(t);o&&(r=o.name)}e.push(r)}return e},e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function xO(e){return e instanceof xF}function xG(e){for(var t=lG(),i=0;i<(e||[]).length;i++){var r=e[i],n=lv(r)?r.name:r;null!=n&&null==t.get(n)&&t.set(n,i)}return t}function xV(e){var t=xk(e);return t.dimNameMap||(t.dimNameMap=xG(e.dimensionsDefine))}var xB=lv,xH="undefined"==typeof Int32Array?Array:Int32Array,xz=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],xW=["_approximateExtent"],xU=function(){function e(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var i,r=!1;xO(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var n={},o=[],s={},a=!1,l={},u=0;u<i.length;u++){var d=i[u],h=lg(d)?new xL({name:d}):d instanceof xL?d:new xL(d),c=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=c,h.coordDimIndex=0);var p=h.otherDims=h.otherDims||{};o.push(c),n[c]=h,null!=l[c]&&(a=!0),h.createInvertedIndices&&(s[c]=[]),0===p.itemName&&(this._nameDimIdx=u),0===p.itemId&&(this._idDimIdx=u),r&&(h.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=n,this._initGetDimensionInfo(a),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=lG();ln(o,function(e){g.set(n[e].storeDimIndex,e)})}}return e.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(null!=i)return i;var r=this._schema.getSourceDimension(t);if(r)return r.name},e.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return -1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},e.prototype._recognizeDimIndex=function(e){if(lm(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||0>this._schema.getSourceDimensionIndex(e)))return+e},e.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},e.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(null==t)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[t]:null},e.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(e,t,i){var r,n,o,s,a,l,u,d,h,c,p,g,f,m=this;if(e instanceof yg&&(f=e),!f){var v=this.dimensions,y=vk(e)||lr(e)?new vH(e,v.length):e;f=new yg;var C=lo(v,function(e){return{type:m._dimInfos[e].type,property:e}});f.initData(y,C,i)}this._store=f,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,f.count()),this._dimSummary=(r=this,n=this._schema,s=(o={}).encode={},a=lG(),l=[],u=[],d={},ln(r.dimensions,function(e){var t=r.getDimensionInfo(e),i=t.coordDim;if(i){var n,o=t.coordDimIndex;xI(s,i)[o]=e,t.isExtraCoord||(a.set(i,1),"ordinal"!==(n=t.type)&&"time"!==n&&(l[0]=e),xI(d,i)[o]=r.getDimensionIndex(t.name)),t.defaultTooltip&&u.push(e)}m$.each(function(e,i){var r=xI(s,i),n=t.otherDims[i];null!=n&&!1!==n&&(r[n]=t.name)})}),h=[],c={},a.each(function(e,t){var i=s[t];c[t]=i[0],h=h.concat(i)}),o.dataDimsOnCoord=h,o.dataDimIndicesOnCoord=lo(h,function(e){return r.getDimensionInfo(e).storeDimIndex}),o.encodeFirstDimNotExtra=c,(p=s.label)&&p.length&&(l=p.slice()),(g=s.tooltip)&&g.length?u=g.slice():u.length||(u=l.slice()),s.defaultedLabel=l,s.defaultedTooltip=u,o.userOutput=new xA(d,n),o),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},e.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t&&t.length),r=i.start,n=i.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=r;s<n;s++){var a=s-r;this._nameList[s]=t[a],o&&eM(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==mZ&&!e.fillStorage},e.prototype._doInit=function(e,t){if(!(e>=t)){var i=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,n=this._idList;if(i.getSource().sourceFormat===mK&&!i.pure)for(var o=[],s=e;s<t;s++){var a,l=i.getItem(s,o);if(!(!this.hasItemOption&&lv(a=l))||a instanceof Array||(this.hasItemOption=!0),l){var u=l.name;null==r[s]&&null!=u&&(r[s]=cz(u,null));var d=l.id;null==n[s]&&null!=d&&(n[s]=cz(d,null))}}if(this._shouldMakeIdFromName())for(var s=e;s<t;s++)eM(this,s);eb(this)}},e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){xB(e)?a8(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return null==i&&null!=this._nameDimIdx&&(i=ex(this,this._nameDimIdx,t)),null==i&&(i=""),i},e.prototype._getCategory=function(e,t){var i=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},e.prototype.getId=function(e){return eS(this,this.getRawIndex(e))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.get(r.storeDimIndex,t)},e.prototype.getByRawIndex=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.getByRawIndex(r.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},e.prototype.getValues=function(e,t){var i=this,r=this._store;return lc(e)?r.getValues(lo(e,function(e){return i._getStoreDimIndex(e)}),t):r.getValues(e)},e.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},e.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return -1},e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},e.prototype.rawIndexOf=function(e,t){var i=e&&this._invertedIndicesMap[e],r=i&&i[t];return null==r||isNaN(r)?-1:r},e.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},e.prototype.each=function(e,t,i){lp(e)&&(i=t,t=e,e=[]);var r=i||this,n=lo(e_(e),this._getStoreDimIndex,this);this._store.each(n,r?ld(t,r):t)},e.prototype.filterSelf=function(e,t,i){lp(e)&&(i=t,t=e,e=[]);var r=i||this,n=lo(e_(e),this._getStoreDimIndex,this);return this._store=this._store.filter(n,r?ld(t,r):t),this},e.prototype.selectRange=function(e){var t=this,i={},r=lu(e),n=[];return ln(r,function(r){var o=t._getStoreDimIndex(r);i[o]=e[r],n.push(o)}),this._store=this._store.selectRange(i),this},e.prototype.mapArray=function(e,t,i){lp(e)&&(i=t,t=e,e=[]),i=i||this;var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},i),r},e.prototype.map=function(e,t,i,r){var n=i||r||this,o=lo(e_(e),this._getStoreDimIndex,this),s=eT(this);return s._store=this._store.map(o,n?ld(t,n):t),s},e.prototype.modify=function(e,t,i,r){var n=i||r||this,o=lo(e_(e),this._getStoreDimIndex,this);this._store.modify(o,n?ld(t,n):t)},e.prototype.downSample=function(e,t,i,r){var n=eT(this);return n._store=this._store.downSample(this._getStoreDimIndex(e),t,i,r),n},e.prototype.minmaxDownSample=function(e,t){var i=eT(this);return i._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),i},e.prototype.lttbDownSample=function(e,t){var i=eT(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},e.prototype.getItemModel=function(e){var t=this.hostModel;return new fQ(this.getRawDataItem(e),t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new xD(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(t){return eS(e,t)},function(e){return eS(t,e)})},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},xB(e)?a8(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e],r=i&&i[t];return null==r?this.getVisual(t):r},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var n=r[t];return null==n&&(lc(n=this.getVisual(t))?n=n.slice():xB(n)&&(n=a8({},n)),r[t]=n),n},e.prototype.setItemVisual=function(e,t,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,xB(t)?a8(r,t):r[t]=i},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){xB(e)?a8(this._layout,e):this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?a8(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){gO(this.hostModel&&this.hostModel.seriesIndex,this.dataType,e,t),this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){ln(this._graphicEls,function(i,r){i&&e&&e.call(t,i,r)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:lo(this.dimensions,this._getDimInfo,this),this.hostModel)),eE(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(e,t){var i=this[e];lp(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=i.apply(this,arguments);return t.apply(this,[e].concat(lR(arguments)))})},e.internalField=void(eb=function(e){var t=e._invertedIndicesMap;ln(t,function(i,r){var n=e._dimInfos[r],o=n.ordinalMeta,s=e._store;if(o){i=t[r]=new xH(o.categories.length);for(var a=0;a<i.length;a++)i[a]=-1;for(var a=0;a<s.count();a++)i[s.get(n.storeDimIndex,a)]=a}})},ex=function(e,t,i){return cz(e._getCategory(t,i),null)},eS=function(e,t){var i=e._idList[t];return null==i&&null!=e._idDimIdx&&(i=ex(e,e._idDimIdx,t)),null==i&&(i="e\0\0"+t),i},e_=function(e){return lc(e)||(e=null!=e?[e]:[]),e},eT=function(t){var i=new e(t._schema?t._schema:lo(t.dimensions,t._getDimInfo,t),t.hostModel);return eE(i,t),i},eE=function(e,t){ln(xz.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,ln(xW,function(i){e[i]=a3(t[i])}),e._calculationInfo=a8({},t._calculationInfo)},eM=function(e,t){var i=e._nameList,r=e._idList,n=e._nameDimIdx,o=e._idDimIdx,s=i[t],a=r[t];if(null==s&&null!=n&&(i[t]=s=ex(e,n,t)),null==a&&null!=o&&(r[t]=a=ex(e,o,t)),null==a&&null!=s){var l=e._nameRepeatCount,u=l[s]=(l[s]||0)+1;a=s,u>1&&(a+="__ec__"+u),r[t]=a}}),e}();function xj(e,t){return x$(e,t).dimensions}function x$(e,t){vk(e)||(e=vF(e));var i,r,n,o,s,a=(t=t||{}).coordDimensions||[],l=t.dimensionsDefine||e.dimensionsDefine||[],u=lG(),d=[],h=(i=e,r=a,n=l,o=t.dimensionsCount,s=Math.max(i.dimensionsDetectedCount||1,r.length,n.length,o||0),ln(r,function(e){var t;lv(e)&&(t=e.dimsDef)&&(s=Math.max(s,t.length))}),s),c=t.canOmitUnusedDimensions&&h>30,p=l===e.dimensionsDefine,g=p?xV(e):xG(l),f=t.encodeDefine;!f&&t.encodeDefaulter&&(f=t.encodeDefaulter(e,h));for(var m=lG(f),v=new yl(h),y=0;y<v.length;y++)v[y]=-1;function C(e){var t=v[e];if(t<0){var i=l[e],r=lv(i)?i:{name:i},n=new xL,o=r.name;null!=o&&null!=g.get(o)&&(n.name=n.displayName=o),null!=r.type&&(n.type=r.type),null!=r.displayName&&(n.displayName=r.displayName);var s=d.length;return v[e]=s,n.storeDimIndex=e,d.push(n),n}return d[t]}if(!c)for(var y=0;y<h;y++)C(y);m.each(function(e,t){var i=cN(e).slice();if(1===i.length&&!lg(i[0])&&i[0]<0)return void m.set(t,!1);var r=m.set(t,[]);ln(i,function(e,i){var n=lg(e)?g.get(e):e;null!=n&&n<h&&(r[i]=n,b(C(n),t,i))})});var w=0;function b(e,t,i){null!=m$.get(t)?e.otherDims[t]=i:(e.coordDim=t,e.coordDimIndex=i,u.set(t,!0))}ln(a,function(e){if(lg(e))n=e,r={};else{var t,i,r,n=(r=e).name,o=r.ordinalMeta;r.ordinalMeta=null,(r=a8({},r)).ordinalMeta=o,t=r.dimsDef,i=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var s=m.get(n);if(!1!==s){if(!(s=cN(s)).length)for(var a=0;a<(t&&t.length||1);a++){for(;w<h&&null!=C(w).coordDim;)w++;w<h&&s.push(w++)}ln(s,function(e,o){var s=C(e);if(p&&null!=r.type&&(s.type=r.type),b(a9(s,r),n,o),null==s.name&&t){var a=t[o];lv(a)||(a={name:a}),s.name=s.displayName=a.name,s.defaultTooltip=a.defaultTooltip}i&&a9(s.otherDims,i)})}});var S=t.generateCoord,x=t.generateCoordCount,_=null!=x;x=S?x||1:0;var E=S||"value";function T(e){null==e.name&&(e.name=e.coordDim)}if(c)ln(d,function(e){T(e)}),d.sort(function(e,t){return e.storeDimIndex-t.storeDimIndex});else for(var M=0;M<h;M++){var R=C(M);null==R.coordDim&&(R.coordDim=function(e,t,i){if(i||t.hasKey(e)){for(var r=0;t.hasKey(e+r);)r++;e+=r}return t.set(e,!0),e}(E,u,_),R.coordDimIndex=0,(!S||x<=0)&&(R.isExtraCoord=!0),x--),T(R),null==R.type&&(1===m3(e,M)||R.isExtraCoord&&(null!=R.otherDims.itemName||null!=R.otherDims.seriesName))&&(R.type="ordinal")}return function(e){for(var t=lG(),i=0;i<e.length;i++){var r=e[i],n=r.name,o=t.get(n)||0;o>0&&(r.name=n+(o-1)),o++,t.set(n,o)}}(d),new xF({source:e,dimensions:d,fullDimensionCount:h,dimensionOmitted:c})}var xK=function(e){this.coordSysDims=[],this.axisMap=lG(),this.categoryAxisMap=lG(),this.coordSysName=e},xY={cartesian2d:function(e,t,i,r){var n=e.getReferringComponents("xAxis",cX).models[0],o=e.getReferringComponents("yAxis",cX).models[0];t.coordSysDims=["x","y"],i.set("x",n),i.set("y",o),xq(n)&&(r.set("x",n),t.firstCategoryDimIndex=0),xq(o)&&(r.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,i,r){var n=e.getReferringComponents("singleAxis",cX).models[0];t.coordSysDims=["single"],i.set("single",n),xq(n)&&(r.set("single",n),t.firstCategoryDimIndex=0)},polar:function(e,t,i,r){var n=e.getReferringComponents("polar",cX).models[0],o=n.findAxisModel("radiusAxis"),s=n.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],i.set("radius",o),i.set("angle",s),xq(o)&&(r.set("radius",o),t.firstCategoryDimIndex=0),xq(s)&&(r.set("angle",s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,i,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,i,r){var n=e.ecModel,o=n.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();ln(o.parallelAxisIndex,function(e,o){var a=n.getComponent("parallelAxis",e),l=s[o];i.set(l,a),xq(a)&&(r.set(l,a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=o))})}};function xq(e){return"category"===e.get("type")}function xX(e,t,i){var r,n,o,s,a,l,u,d=(i=i||{}).byIndex,h=i.stackedCoordDimension;xO(t.schema)?(r=(n=t.schema).dimensions,o=t.store):r=t;var c=!!(e&&e.get("stack"));if(ln(r,function(e,t){lg(e)&&(r[t]=e={name:e}),c&&!e.isExtraCoord&&(d||s||!e.ordinalMeta||(s=e),a||"ordinal"===e.type||"time"===e.type||h&&h!==e.coordDim||(a=e))}),!a||d||s||(d=!0),a){l="__\0ecstackresult_"+e.id,u="__\0ecstackedover_"+e.id,s&&(s.createInvertedIndices=!0);var p=a.coordDim,g=a.type,f=0;ln(r,function(e){e.coordDim===p&&f++});var m={name:l,coordDim:p,coordDimIndex:f,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},v={name:u,coordDim:u,coordDimIndex:f+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};n?(o&&(m.storeDimIndex=o.ensureCalculationDimension(u,g),v.storeDimIndex=o.ensureCalculationDimension(l,g)),n.appendCalculationDimension(m),n.appendCalculationDimension(v)):(r.push(m),r.push(v))}return{stackedDimension:a&&a.name,stackedByDimension:s&&s.name,isStackedByIndex:d,stackedOverDimension:u,stackResultDimension:l}}function xZ(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function xQ(e,t){return xZ(e,t)?e.getCalculationInfo("stackResultDimension"):t}let xJ=function(e,t,i){i=i||{};var r,n,o,s,a,l,u,d,h=t.getSourceManager(),c=!1;e?(c=!0,d=vF(e)):c=(d=h.getSource()).sourceFormat===mK;var p=function(e){var t=e.get("coordinateSystem"),i=new xK(t),r=xY[t];if(r)return r(e,i,i.axisMap,i.categoryAxisMap),i}(t),g=(n=t.get("coordinateSystem"),o=vc.get(n),p&&p.coordSysDims&&(r=lo(p.coordSysDims,function(e){var t={name:e},i=p.axisMap.get(e);return i&&(t.type=xP(i.get("type"))),t})),r||(r=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),r),f=i.useEncodeDefaulter,m=lp(f)?f:f?lh(m1,g,t):null,v=x$(d,{coordDimensions:g,generateCoord:i.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:m,canOmitUnusedDimensions:!c}),y=(s=v.dimensions,a=i.createInvertedIndices,p&&ln(s,function(e,t){var i=e.coordDim,r=p.categoryAxisMap.get(i);r&&(null==l&&(l=t),e.ordinalMeta=r.getOrdinalMeta(),a&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(u=!0)}),u||null==l||(s[l].otherDims.itemName=0),l),C=c?null:h.getSharedDataStore(v),w=xX(t,{schema:v,store:C}),b=new xU(v,t);b.setCalculationInfo(w);var S=null!=y&&function(e){if(e.sourceFormat===mK)return!lc(cG(function(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[])))}(d)?function(e,t,i,r){return r===y?i:this.defaultDimValueGetter(e,t,i,r)}:null;return b.hasItemOption=!1,b.initData(c?d:C,null,S),b};var x0=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return aF(t,e),t.prototype.getInitialData=function(e){return xJ(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new ce,i=ba("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(i),i.setStyle(e.lineStyle);var r=this.getData().getVisual("symbol"),n=this.getData().getVisual("symbolRotate"),o="none"===r?"circle":r,s=.8*e.itemHeight,a=ba(o,(e.itemWidth-s)/2,(e.itemHeight-s)/2,s,s,e.itemStyle.fill);return t.add(a),a.setStyle(e.itemStyle),a.rotation=("inherit"===e.iconRotate?n:e.iconRotate||0)*Math.PI/180,a.setOrigin([e.itemWidth/2,e.itemHeight/2]),o.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(yO);function x1(e,t){var i=e.mapDimensionsAll("defaultedLabel"),r=i.length;if(1===r){var n=vq(e,t,i[0]);return null!=n?n+"":null}if(r){for(var o=[],s=0;s<i.length;s++)o.push(vq(e,t,i[s]));return o.join(" ")}}function x2(e,t){var i=e.mapDimensionsAll("defaultedLabel");if(!lc(t))return t+"";for(var r=[],n=0;n<i.length;n++){var o=e.getDimensionIndex(i[n]);o>=0&&r.push(t[o])}return r.join(" ")}var x5=function(e){function t(t,i,r,n){var o=e.call(this)||this;return o.updateData(t,i,r,n),o}return aF(t,e),t.prototype._createSymbol=function(e,t,i,r,n){this.removeAll();var o=ba(e,-1,-1,2,2,null,n);o.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),o.drift=x3,this._symbolType=e,this.add(o)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){g7(this.childAt(0))},t.prototype.downplay=function(){fe(this.childAt(0))},t.prototype.setZ=function(e,t){var i=this.childAt(0);i.zlevel=e,i.z=t},t.prototype.setDraggable=function(e,t){var i=this.childAt(0);i.draggable=e,i.cursor=!t&&e?"move":i.cursor},t.prototype.updateData=function(e,i,r,n){this.silent=!1;var o=e.getItemVisual(i,"symbol")||"circle",s=e.hostModel,a=t.getSymbolSize(e,i),l=o!==this._symbolType,u=n&&n.disableAnimation;if(l){var d=e.getItemVisual(i,"symbolKeepAspect");this._createSymbol(o,e,i,a,d)}else{var h=this.childAt(0);h.silent=!1;var c={scaleX:a[0]/2,scaleY:a[1]/2};u?h.attr(c):fw(h,c,s,i),fT(h)}if(this._updateCommon(e,i,a,r,n),l){var h=this.childAt(0);if(!u){var c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,fb(h,c,s,i)}}u&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,i,r,n){var o,s,a,l,u,d,h,c,p,g=this.childAt(0),f=e.hostModel;if(r&&(o=r.emphasisItemStyle,s=r.blurItemStyle,a=r.selectItemStyle,l=r.focus,u=r.blurScope,h=r.labelStatesModels,c=r.hoverScale,p=r.cursorStyle,d=r.emphasisDisabled),!r||e.hasItemOption){var m=r&&r.itemModel?r.itemModel:e.getItemModel(t),v=m.getModel("emphasis");o=v.getModel("itemStyle").getItemStyle(),a=m.getModel(["select","itemStyle"]).getItemStyle(),s=m.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),u=v.get("blurScope"),d=v.get("disabled"),h=fI(m),c=v.getShallow("scale"),p=m.getShallow("cursor")}var y=e.getItemVisual(t,"symbolRotate");g.attr("rotation",(y||0)*Math.PI/180||0);var C=bu(e.getItemVisual(t,"symbolOffset"),i);C&&(g.x=C[0],g.y=C[1]),p&&g.attr("cursor",p);var w=e.getItemVisual(t,"style"),b=w.fill;if(g instanceof gp){var S=g.style;g.useStyle(a8({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},w))}else g.__isEmptyBrush?g.useStyle(a8({},w)):g.useStyle(w),g.style.decal=null,g.setColor(b,n&&n.symbolInnerColor),g.style.strokeNoScale=!0;var x=e.getItemVisual(t,"liftZ"),_=this._z2;null!=x?null==_&&(this._z2=g.z2,g.z2+=x):null!=_&&(g.z2=_,this._z2=null);var E=n&&n.useNameLabel;fA(g,h,{labelFetcher:f,labelDataIndex:t,defaultText:function(t){return E?e.getName(t):x1(e,t)},inheritColor:b,defaultOpacity:w.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var T=g.ensureState("emphasis");T.style=o,g.ensureState("select").style=a,g.ensureState("blur").style=s;var M=null==c||!0===c?Math.max(1.1,3/this._sizeY):isFinite(c)&&c>0?+c:1;T.scaleX=this._sizeX*M,T.scaleY=this._sizeY*M,this.setSymbolScale(1),fl(this,l,u,d)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,i){var r=this.childAt(0),n=gF(this).dataIndex,o=i&&i.animation;if(this.silent=r.silent=!0,i&&i.fadeLabel){var s=r.getTextContent();s&&fx(s,{style:{opacity:0}},t,{dataIndex:n,removeOpt:o,cb:function(){r.removeTextContent()}})}else r.removeTextContent();fx(r,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:n,cb:e,removeOpt:o})},t.getSymbolSize=function(e,t){return bl(e.getItemVisual(t,"symbolSize"))},t}(ce);function x3(e,t){this.parent.drift(e,t)}function x4(e,t,i,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(i))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(i,"symbol")}function x6(e){return null==e||lv(e)||(e={isIgnore:e}),e||{}}function x8(e){var t=e.hostModel,i=t.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:fI(t),cursorStyle:t.get("cursor")}}var x9=function(){function e(e){this.group=new ce,this._SymbolCtor=e||x5}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=x6(t);var i=this.group,r=e.hostModel,n=this._data,o=this._SymbolCtor,s=t.disableAnimation,a=x8(e),l={disableAnimation:s},u=t.getSymbolPoint||function(t){return e.getItemLayout(t)};n||i.removeAll(),e.diff(n).add(function(r){var n=u(r);if(x4(e,n,r,t)){var s=new o(e,r,a,l);s.setPosition(n),e.setItemGraphicEl(r,s),i.add(s)}}).update(function(d,h){var c=n.getItemGraphicEl(h),p=u(d);if(!x4(e,p,d,t))return void i.remove(c);var g=e.getItemVisual(d,"symbol")||"circle",f=c&&c.getSymbolType&&c.getSymbolType();if(!c||f&&f!==g)i.remove(c),(c=new o(e,d,a,l)).setPosition(p);else{c.updateData(e,d,a,l);var m={x:p[0],y:p[1]};s?c.attr(m):fw(c,m,r)}i.add(c),e.setItemGraphicEl(d,c)}).remove(function(e){var t=n.getItemGraphicEl(e);t&&t.fadeOut(function(){i.remove(t)},r)}).execute(),this._getSymbolPoint=u,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(t,i){var r=e._getSymbolPoint(i);t.setPosition(r),t.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=x8(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,i){function r(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=x6(i);for(var n=e.start;n<e.end;n++){var o=t.getItemLayout(n);if(x4(t,o,n,i)){var s=new this._SymbolCtor(t,n,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(e){wu(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)},i.hostModel)}):t.removeAll()},e}();function x7(e,t,i){var r,n,o,s,a=e.getBaseAxis(),l=e.getOtherAxis(a),u=(r=l,n=i,o=0,s=r.scale.getExtent(),"start"===n?o=s[0]:"end"===n?o=s[1]:lm(n)&&!isNaN(n)?o=n:s[0]>0?o=s[0]:s[1]<0&&(o=s[1]),o),d=a.dim,h=l.dim,c=t.mapDimension(h),p=t.mapDimension(d),g=+("x"===h||"radius"===h),f=lo(e.dimensions,function(e){return t.mapDimension(e)}),m=!1,v=t.getCalculationInfo("stackResultDimension");return xZ(t,f[0])&&(m=!0,f[0]=v),xZ(t,f[1])&&(m=!0,f[1]=v),{dataDimsForPoint:f,valueStart:u,valueAxisDim:h,baseAxisDim:d,stacked:!!m,valueDim:c,baseDim:p,baseDataOffset:g,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function _e(e,t,i,r){var n=NaN;e.stacked&&(n=i.get(i.getCalculationInfo("stackedOverDimension"),r)),isNaN(n)&&(n=e.valueStart);var o=e.baseDataOffset,s=[];return s[o]=i.get(e.baseDim,r),s[1-o]=n,t.dataToPoint(s)}var _t="undefined"!=typeof Float32Array,_i=_t?Float32Array:Array;function _r(e){return lc(e)?_t?new Float32Array(e):e:new _i(e)}var _n=Math.min,_o=Math.max;function _s(e,t){return isNaN(e)||isNaN(t)}function _a(e,t,i,r,n,o,s,a,l){for(var u,d,h,c,p,g,f=i,m=0;m<r;m++){var v=t[2*f],y=t[2*f+1];if(f>=n||f<0)break;if(_s(v,y)){if(l){f+=o;continue}break}if(f===i)e[o>0?"moveTo":"lineTo"](v,y),h=v,c=y;else{var C=v-u,w=y-d;if(C*C+w*w<.5){f+=o;continue}if(s>0){for(var b=f+o,S=t[2*b],x=t[2*b+1];S===v&&x===y&&m<r;)m++,b+=o,f+=o,S=t[2*b],x=t[2*b+1],v=t[2*f],y=t[2*f+1],C=v-u,w=y-d;var _=m+1;if(l)for(;_s(S,x)&&_<r;)_++,b+=o,S=t[2*b],x=t[2*b+1];var E=.5,T=0,M=0,R=void 0,D=void 0;if(_>=r||_s(S,x))p=v,g=y;else{T=S-u,M=x-d;var A=v-u,I=S-v,P=y-d,L=x-y,k=void 0,N=void 0;if("x"===a){k=Math.abs(A),N=Math.abs(I);var F=T>0?1:-1;p=v-F*k*s,g=y,R=v+F*N*s,D=y}else if("y"===a){k=Math.abs(P),N=Math.abs(L);var O=M>0?1:-1;p=v,g=y-O*k*s,R=v,D=y+O*N*s}else k=Math.sqrt(A*A+P*P),p=v-T*s*(1-(E=(N=Math.sqrt(I*I+L*L))/(N+k))),g=y-M*s*(1-E),R=v+T*s*E,D=y+M*s*E,R=_n(R,_o(S,v)),D=_n(D,_o(x,y)),R=_o(R,_n(S,v)),D=_o(D,_n(x,y)),T=R-v,M=D-y,p=v-T*k/N,g=y-M*k/N,p=_n(p,_o(u,v)),g=_n(g,_o(d,y)),p=_o(p,_n(u,v)),g=_o(g,_n(d,y)),T=v-p,M=y-g,R=v+T*N/k,D=y+M*N/k}e.bezierCurveTo(h,c,p,g,v,y),h=R,c=D}else e.lineTo(v,y)}u=v,d=y,f+=o}return m}var _l=function(){this.smooth=0,this.smoothConstraint=!0},_u=function(e){function t(t){var i=e.call(this,t)||this;return i.type="ec-polyline",i}return aF(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new _l},t.prototype.buildPath=function(e,t){var i=t.points,r=0,n=i.length/2;if(t.connectNulls){for(;n>0&&_s(i[2*n-2],i[2*n-1]);n--);for(;r<n&&_s(i[2*r],i[2*r+1]);r++);}for(;r<n;)r+=_a(e,i,r,n,n,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,r,n=this.path.data,o=p5.CMD,s="x"===t,a=[],l=0;l<n.length;){var u=n[l++],d=void 0,h=void 0,c=void 0,p=void 0,g=void 0,f=void 0,m=void 0;switch(u){case o.M:i=n[l++],r=n[l++];break;case o.L:if(d=n[l++],h=n[l++],(m=s?(e-i)/(d-i):(e-r)/(h-r))<=1&&m>=0){var v=s?(h-r)*m+r:(d-i)*m+i;return s?[e,v]:[v,e]}i=d,r=h;break;case o.C:d=n[l++],h=n[l++],c=n[l++],p=n[l++],g=n[l++],f=n[l++];var y=s?dm(i,d,c,g,e,a):dm(r,h,p,f,e,a);if(y>0)for(var C=0;C<y;C++){var w=a[C];if(w<=1&&w>=0){var v=s?dg(r,h,p,f,w):dg(i,d,c,g,w);return s?[e,v]:[v,e]}}i=g,r=f}}},t}(gl),_d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t}(_l),_h=function(e){function t(t){var i=e.call(this,t)||this;return i.type="ec-polygon",i}return aF(t,e),t.prototype.getDefaultShape=function(){return new _d},t.prototype.buildPath=function(e,t){var i=t.points,r=t.stackedOnPoints,n=0,o=i.length/2,s=t.smoothMonotone;if(t.connectNulls){for(;o>0&&_s(i[2*o-2],i[2*o-1]);o--);for(;n<o&&_s(i[2*n],i[2*n+1]);n++);}for(;n<o;){var a=_a(e,i,n,o,o,1,t.smooth,s,t.connectNulls);_a(e,r,n+a-1,a,o,-1,t.stackedOnSmooth,s,t.connectNulls),n+=a+1,e.closePath()}},t}(gl);function _c(e,t,i,r,n){var o=e.getArea(),s=o.x,a=o.y,l=o.width,u=o.height,d=i.get(["lineStyle","width"])||0;s-=d/2,a-=d/2,l+=d,u+=d,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var h=new gw({shape:{x:s,y:a,width:l,height:u}});if(t){var c=e.getBaseAxis(),p=c.isHorizontal(),g=c.inverse;p?(g&&(h.shape.x+=l),h.shape.width=0):(g||(h.shape.y+=u),h.shape.height=0);var f=lp(n)?function(e){n(e,h)}:null;fb(h,{shape:{width:l,height:u,x:s,y:a}},i,null,r,f)}return h}function _p(e,t,i){var r=e.getArea(),n=cp(r.r0,1),o=cp(r.r,1),s=new Cy({shape:{cx:cp(e.cx,1),cy:cp(e.cy,1),r0:n,r:o,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return t&&("angle"===e.getBaseAxis().dim?s.shape.endAngle=r.startAngle:s.shape.r=n,fb(s,{shape:{endAngle:r.endAngle,r:o}},i)),s}function _g(e,t,i,r,n){if(e){if("polar"===e.type)return _p(e,t,i);else if("cartesian2d"===e.type)return _c(e,t,i,r,n)}return null}function _f(e,t){return e.type===t}function _m(e,t){if(e.length===t.length){for(var i=0;i<e.length;i++)if(e[i]!==t[i])return;return!0}}function _v(e){for(var t=1/0,i=1/0,r=-1/0,n=-1/0,o=0;o<e.length;){var s=e[o++],a=e[o++];isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r)),isNaN(a)||(i=Math.min(a,i),n=Math.max(a,n))}return[[t,i],[r,n]]}function _y(e,t){var i=_v(e),r=i[0],n=i[1],o=_v(t),s=o[0],a=o[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(n[0]-a[0]),Math.abs(n[1]-a[1]))}function _C(e){return lm(e)?e:.5*!!e}function _w(e,t,i,r,n){var o=i.getBaseAxis(),s=+("x"!==o.dim&&"radius"!==o.dim),a=[],l=0,u=[],d=[],h=[],c=[];if(n){for(l=0;l<e.length;l+=2){var p=t||e;isNaN(p[l])||isNaN(p[l+1])||c.push(e[l],e[l+1])}e=c}for(l=0;l<e.length-2;l+=2)switch(h[0]=e[l+2],h[1]=e[l+3],d[0]=e[l],d[1]=e[l+1],a.push(d[0],d[1]),r){case"end":u[s]=h[s],u[1-s]=d[1-s],a.push(u[0],u[1]);break;case"middle":var g=(d[s]+h[s])/2,f=[];u[s]=f[s]=g,u[1-s]=d[1-s],f[1-s]=h[1-s],a.push(u[0],u[1]),a.push(f[0],f[1]);break;default:u[s]=d[s],u[1-s]=h[1-s],a.push(u[0],u[1])}return a.push(e[l++],e[l++]),a}function _b(e,t){return[e[2*t],e[2*t+1]]}function _S(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<gz.length;t++)if(e.get([gz[t],"endLabel","show"]))return!0;return!1}function _x(e,t,i,r){if(!_f(t,"cartesian2d"))return _p(t,i,r);var n=r.getModel("endLabel"),o=n.get("valueAnimation"),s=r.getData(),a={lastFrameIndex:0},l=_S(r)?function(i,r){e._endLabelOnDuring(i,r,s,a,o,n,t)}:null,u=t.getBaseAxis().isHorizontal(),d=_c(t,i,r,function(){var t=e._endLabel;t&&i&&null!=a.originalX&&t.attr({x:a.originalX,y:a.originalY})},l);if(!r.get("clip",!0)){var h=d.shape,c=Math.max(h.width,h.height);u?(h.y-=c,h.height+=2*c):(h.x-=c,h.width+=2*c)}return l&&l(1,d),d}var __=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.init=function(){var e=new ce,t=new x9;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e,this._changePolyState=ld(this._changePolyState,this)},t.prototype.render=function(e,t,i){var r,n=e.coordinateSystem,o=this.group,s=e.getData(),a=e.getModel("lineStyle"),l=e.getModel("areaStyle"),u=s.getLayout("points")||[],d="polar"===n.type,h=this._coordSys,c=this._symbolDraw,p=this._polyline,g=this._polygon,f=this._lineGroup,m=!t.ssr&&e.get("animation"),v=!l.isEmpty(),y=l.get("origin"),C=x7(n,s,y),w=v&&function(e,t,i){if(!i.valueDim)return[];for(var r=t.count(),n=_r(2*r),o=0;o<r;o++){var s=_e(i,e,t,o);n[2*o]=s[0],n[2*o+1]=s[1]}return n}(n,s,C),b=e.get("showSymbol"),S=e.get("connectNulls"),x=b&&!d&&function(e,t,i){var r=e.get("showAllSymbol"),n="auto"===r;if(!r||n){var o=i.getAxesByScale("ordinal")[0];if(o&&!(n&&function(e,t){var i=e.getExtent(),r=Math.abs(i[1]-i[0])/e.scale.count();isNaN(r)&&(r=0);for(var n=t.count(),o=Math.max(1,Math.round(n/5)),s=0;s<n;s+=o)if(1.5*x5.getSymbolSize(t,s)[+!!e.isHorizontal()]>r)return!1;return!0}(o,t))){var s=t.mapDimension(o.dim),a={};return ln(o.getViewLabels(),function(e){a[o.scale.getRawOrdinalNumber(e.tickValue)]=1}),function(e){return!a.hasOwnProperty(t.get(s,e))}}}}(e,s,n),_=this._data;_&&_.eachItemGraphicEl(function(e,t){e.__temp&&(o.remove(e),_.setItemGraphicEl(t,null))}),b||c.remove(),o.add(f);var E=!d&&e.get("step");n&&n.getArea&&e.get("clip",!0)&&(null!=(r=n.getArea()).width?(r.x-=.1,r.y-=.1,r.width+=.2,r.height+=.2):r.r0&&(r.r0-=.5,r.r+=.5)),this._clipShapeForSymbol=r;var T=function(e,t,i){var r,n,o=e.getVisual("visualMeta");if(o&&o.length&&e.count()){if("cartesian2d"!==t.type)return;for(var s=o.length-1;s>=0;s--){var a=e.getDimensionInfo(o[s].dimension);if("x"===(r=a&&a.coordDim)||"y"===r){n=o[s];break}}if(!n)return;var l=t.getAxis(r),u=lo(n.stops,function(e){return{coord:l.toGlobalCoord(l.dataToCoord(e.value)),color:e.color}}),d=u.length,h=n.outerColors.slice();d&&u[0].coord>u[d-1].coord&&(u.reverse(),h.reverse());var c=function(e,t){var i,r,n=[],o=e.length;function s(e,t,i){var r=e.coord,n=dK((i-r)/(t.coord-r),[e.color,t.color]);return{coord:i,color:n}}for(var a=0;a<o;a++){var l=e[a],u=l.coord;if(u<0)i=l;else if(u>t){r?n.push(s(r,l,t)):i&&n.push(s(i,l,0),s(i,l,t));break}else i&&(n.push(s(i,l,0)),i=null),n.push(l),r=l}return n}(u,"x"===r?i.getWidth():i.getHeight()),p=c.length;if(!p&&d)return u[0].coord<0?h[1]?h[1]:u[d-1].color:h[0]?h[0]:u[0].color;var g=c[0].coord-10,f=c[p-1].coord+10,m=f-g;if(m<.001)return"transparent";ln(c,function(e){e.offset=(e.coord-g)/m}),c.push({offset:p?c[p-1].offset:.5,color:h[1]||"transparent"}),c.unshift({offset:p?c[0].offset:.5,color:h[0]||"transparent"});var v=new CO(0,0,0,0,c,!0);return v[r]=g,v[r+"2"]=f,v}}(s,n,i)||s.getVisual("style")[s.getVisual("drawType")];if(p&&h.type===n.type&&E===this._step){v&&!g?g=this._newPolygon(u,w):g&&!v&&(f.remove(g),g=this._polygon=null),d||this._initOrUpdateEndLabel(e,n,mR(T));var M=f.getClipPath();M?fb(M,{shape:_x(this,n,!1,e).shape},e):f.setClipPath(_x(this,n,!0,e)),b&&c.updateData(s,{isIgnore:x,clipShape:r,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),_m(this._stackedOnPoints,w)&&_m(this._points,u)||(m?this._doUpdateAnimation(s,w,n,i,E,y,S):(E&&(w&&(w=_w(w,u,n,E,S)),u=_w(u,null,n,E,S)),p.setShape({points:u}),g&&g.setShape({points:u,stackedOnPoints:w})))}else b&&c.updateData(s,{isIgnore:x,clipShape:r,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),m&&this._initSymbolLabelAnimation(s,n,r),E&&(w&&(w=_w(w,u,n,E,S)),u=_w(u,null,n,E,S)),p=this._newPolyline(u),v?g=this._newPolygon(u,w):g&&(f.remove(g),g=this._polygon=null),d||this._initOrUpdateEndLabel(e,n,mR(T)),f.setClipPath(_x(this,n,!0,e));var R=e.getModel("emphasis"),D=R.get("focus"),A=R.get("blurScope"),I=R.get("disabled");p.useStyle(a9(a.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),fc(p,e,"lineStyle"),p.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(p.getState("emphasis").style.lineWidth=+p.style.lineWidth+1),gF(p).seriesIndex=e.seriesIndex,fl(p,D,A,I);var P=_C(e.get("smooth")),L=e.get("smoothMonotone");if(p.setShape({smooth:P,smoothMonotone:L,connectNulls:S}),g){var k=s.getCalculationInfo("stackedOnSeries"),N=0;g.useStyle(a9(l.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),k&&(N=_C(k.get("smooth"))),g.setShape({smooth:P,stackedOnSmooth:N,smoothMonotone:L,connectNulls:S}),fc(g,e,"areaStyle"),gF(g).seriesIndex=e.seriesIndex,fl(g,D,A,I)}var F=this._changePolyState;s.eachItemGraphicEl(function(e){e&&(e.onHoverStateChange=F)}),this._polyline.onHoverStateChange=F,this._data=s,this._coordSys=n,this._stackedOnPoints=w,this._points=u,this._step=E,this._valueOrigin=y,e.get("triggerLineEvent")&&(this.packEventData(e,p),g&&this.packEventData(e,g))},t.prototype.packEventData=function(e,t){gF(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,i,r){var n=e.getData(),o=cj(n,r);if(this._changePolyState("emphasis"),o instanceof Array||null==o||!(o>=0))wc.prototype.highlight.call(this,e,t,i,r);else{var s=n.getLayout("points"),a=n.getItemGraphicEl(o);if(!a){var l=s[2*o],u=s[2*o+1];if(isNaN(l)||isNaN(u)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var d=e.get("zlevel")||0,h=e.get("z")||0;(a=new x5(n,o)).x=l,a.y=u,a.setZ(d,h);var c=a.getSymbolPath().getTextContent();c&&(c.zlevel=d,c.z=h,c.z2=this._polyline.z2+1),a.__temp=!0,n.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}},t.prototype.downplay=function(e,t,i,r){var n=e.getData(),o=cj(n,r);if(this._changePolyState("normal"),null!=o&&o>=0){var s=n.getItemGraphicEl(o);s&&(s.__temp?(n.setItemGraphicEl(o,null),this.group.remove(s)):s.downplay())}else wc.prototype.downplay.call(this,e,t,i,r)},t.prototype._changePolyState=function(e){var t=this._polygon;g3(this._polyline,e),t&&g3(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new _u({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new _h({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,t,i){var r,n,o=t.getBaseAxis(),s=o.inverse;"cartesian2d"===t.type?(r=o.isHorizontal(),n=!1):"polar"===t.type&&(r="angle"===o.dim,n=!0);var a=e.hostModel,l=a.get("animationDuration");lp(l)&&(l=l(null));var u=a.get("animationDelay")||0,d=lp(u)?u(null):u;e.eachItemGraphicEl(function(e,o){if(e){var a=[e.x,e.y],h=void 0,c=void 0,p=void 0;if(i)if(n){var g=t.pointToCoord(a);r?(h=i.startAngle,c=i.endAngle,p=-g[1]/180*Math.PI):(h=i.r0,c=i.r,p=g[0])}else r?(h=i.x,c=i.x+i.width,p=e.x):(h=i.y+i.height,c=i.y,p=e.y);var f=c===h?0:(p-h)/(c-h);s&&(f=1-f);var m=lp(u)?u(o):l*f+d,v=e.getSymbolPath(),y=v.getTextContent();e.attr({scaleX:0,scaleY:0}),e.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:m}),y&&y.animateFrom({style:{opacity:0}},{duration:300,delay:m}),v.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,t,i){var r=e.getModel("endLabel");if(_S(e)){var n,o,s,a=e.getData(),l=this._polyline,u=a.getLayout("points");if(!u){l.removeTextContent(),this._endLabel=null;return}var d=this._endLabel;d||((d=this._endLabel=new gx({z2:200})).ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var h=function(e){for(var t,i,r=e.length/2;r>0&&(t=e[2*r-2],i=e[2*r-1],isNaN(t)||isNaN(i));r--);return r-1}(u);h>=0&&(fA(l,fI(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:h,defaultText:function(e,t,i){return null!=i?x2(a,i):x1(a,e)},enableTextSetter:!0},(o=(n=t.getBaseAxis()).isHorizontal(),s=n.inverse,{normal:{align:r.get("align")||(o?s?"right":"left":"center"),verticalAlign:r.get("verticalAlign")||(o?"middle":s?"top":"bottom")}})),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,i,r,n,o,s){var a=this._endLabel,l=this._polyline;if(a){e<1&&null==r.originalX&&(r.originalX=a.x,r.originalY=a.y);var u=i.getLayout("points"),d=i.hostModel,h=d.get("connectNulls"),c=o.get("precision"),p=o.get("distance")||0,g=s.getBaseAxis(),f=g.isHorizontal(),m=g.inverse,v=t.shape,y=m?f?v.x:v.y+v.height:f?v.x+v.width:v.y,C=(f?p:0)*(m?-1:1),w=(f?0:-p)*(m?-1:1),b=f?"x":"y",S=function(e,t,i){for(var r,n,o=e.length/2,s=+("x"!==i),a=0,l=-1,u=0;u<o;u++)if(!(isNaN(n=e[2*u+s])||isNaN(e[2*u+1-s]))){if(0===u){r=n;continue}if(r<=t&&n>=t||r>=t&&n<=t){l=u;break}a=u,r=n}return{range:[a,l],t:(t-r)/(n-r)}}(u,y,b),x=S.range,_=x[1]-x[0],E=void 0;if(_>=1){if(_>1&&!h){var T=_b(u,x[0]);a.attr({x:T[0]+C,y:T[1]+w}),n&&(E=d.getRawValue(x[0]))}else{var T=l.getPointOn(y,b);T&&a.attr({x:T[0]+C,y:T[1]+w});var M=d.getRawValue(x[0]),R=d.getRawValue(x[1]);n&&(E=c1(i,c,M,R,S.t))}r.lastFrameIndex=x[0]}else{var D=1===e||r.lastFrameIndex>0?x[0]:0,T=_b(u,D);n&&(E=d.getRawValue(D)),a.attr({x:T[0]+C,y:T[1]+w})}if(n){var A=fV(a);"function"==typeof A.setLabelText&&A.setLabelText(E)}}},t.prototype._doUpdateAnimation=function(e,t,i,r,n,o,s){var a=this._polyline,l=this._polygon,u=e.hostModel,d=function(e,t,i,r,n,o,s,a){for(var l,u=(l=[],t.diff(e).add(function(e){l.push({cmd:"+",idx:e})}).update(function(e,t){l.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){l.push({cmd:"-",idx:e})}).execute(),l),d=[],h=[],c=[],p=[],g=[],f=[],m=[],v=x7(n,t,s),y=e.getLayout("points")||[],C=t.getLayout("points")||[],w=0;w<u.length;w++){var b=u[w],S=!0,x=void 0,_=void 0;switch(b.cmd){case"=":x=2*b.idx,_=2*b.idx1;var E=y[x],T=y[x+1],M=C[_],R=C[_+1];(isNaN(E)||isNaN(T))&&(E=M,T=R),d.push(E,T),h.push(M,R),c.push(i[x],i[x+1]),p.push(r[_],r[_+1]),m.push(t.getRawIndex(b.idx1));break;case"+":var D=b.idx,A=v.dataDimsForPoint,I=n.dataToPoint([t.get(A[0],D),t.get(A[1],D)]);_=2*D,d.push(I[0],I[1]),h.push(C[_],C[_+1]);var P=_e(v,n,t,D);c.push(P[0],P[1]),p.push(r[_],r[_+1]),m.push(t.getRawIndex(D));break;case"-":S=!1}S&&(g.push(b),f.push(f.length))}f.sort(function(e,t){return m[e]-m[t]});for(var L=d.length,k=_r(L),N=_r(L),F=_r(L),O=_r(L),G=[],w=0;w<f.length;w++){var V=f[w],B=2*w,H=2*V;k[B]=d[H],k[B+1]=d[H+1],N[B]=h[H],N[B+1]=h[H+1],F[B]=c[H],F[B+1]=c[H+1],O[B]=p[H],O[B+1]=p[H+1],G[w]=g[V]}return{current:k,next:N,stackedOnCurrent:F,stackedOnNext:O,status:G}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin,0),h=d.current,c=d.stackedOnCurrent,p=d.next,g=d.stackedOnNext;if(n&&(c=_w(d.stackedOnCurrent,d.current,i,n,s),h=_w(d.current,null,i,n,s),g=_w(d.stackedOnNext,d.next,i,n,s),p=_w(d.next,null,i,n,s)),_y(h,p)>3e3||l&&_y(c,g)>3e3){a.stopAnimation(),a.setShape({points:p}),l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:g}));return}a.shape.__points=d.current,a.shape.points=h;var f={shape:{points:p}};d.current!==h&&(f.shape.__points=d.next),a.stopAnimation(),fw(a,f,u),l&&(l.setShape({points:h,stackedOnPoints:c}),l.stopAnimation(),fw(l,{shape:{stackedOnPoints:g}},u),a.shape.points!==l.shape.points&&(l.shape.points=a.shape.points));for(var m=[],v=d.status,y=0;y<v.length;y++)if("="===v[y].cmd){var C=e.getItemGraphicEl(v[y].idx1);C&&m.push({el:C,ptIdx:y})}a.animators&&a.animators.length&&a.animators[0].during(function(){l&&l.dirtyShape();for(var e=a.shape.__points,t=0;t<m.length;t++){var i=m[t].el,r=2*m[t].ptIdx;i.x=e[r],i.y=e[r+1],i.markRedraw()}})},t.prototype.remove=function(e){var t=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(e,r){e.__temp&&(t.remove(e),i.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(wc);function _E(e,t){return{seriesType:e,plan:y$(),reset:function(e){var i=e.getData(),r=e.coordinateSystem,n=e.pipelineContext,o=t||n.large;if(r){var s=lo(r.dimensions,function(e){return i.mapDimension(e)}).slice(0,2),a=s.length,l=i.getCalculationInfo("stackResultDimension");xZ(i,s[0])&&(s[0]=l),xZ(i,s[1])&&(s[1]=l);var u=i.getStore(),d=i.getDimensionIndex(s[0]),h=i.getDimensionIndex(s[1]);return a&&{progress:function(e,t){for(var i=e.end-e.start,n=o&&_r(i*a),s=[],l=[],c=e.start,p=0;c<e.end;c++){var g=void 0;if(1===a){var f=u.get(d,c);g=r.dataToPoint(f,null,l)}else s[0]=u.get(d,c),s[1]=u.get(h,c),g=r.dataToPoint(s,null,l);o?(n[p++]=g[0],n[p++]=g[1]):t.setItemLayout(c,g.slice())}o&&t.setLayout("points",n)}}}}}}var _T={average:function(e){for(var t=0,i=0,r=0;r<e.length;r++)!isNaN(e[r])&&(t+=e[r],i++);return 0===i?NaN:t/i},sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i]||0;return t},max:function(e){for(var t=-1/0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,i=0;i<e.length;i++)e[i]<t&&(t=e[i]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},_M=function(e){return Math.round(e.length/2)};function _R(e){return{seriesType:e,reset:function(e,t,i){var r=e.getData(),n=e.get("sampling"),o=e.coordinateSystem,s=r.count();if(s>10&&"cartesian2d"===o.type&&n){var a=o.getBaseAxis(),l=o.getOtherAxis(a),u=a.getExtent(),d=i.getDevicePixelRatio(),h=Math.round(s/(Math.abs(u[1]-u[0])*(d||1)));if(isFinite(h)&&h>1){"lttb"===n?e.setData(r.lttbDownSample(r.mapDimension(l.dim),1/h)):"minmax"===n&&e.setData(r.minmaxDownSample(r.mapDimension(l.dim),1/h));var c=void 0;lg(n)?c=_T[n]:lp(n)&&(c=n),c&&e.setData(r.downSample(r.mapDimension(l.dim),1/h,c,_M))}}}}}var _D="__ec_stack_";function _A(e){return e.get("stack")||_D+e.seriesIndex}function _I(e){return e.dim+e.index}function _P(e,t){var i=[];return t.eachSeriesByType(e,function(e){_O(e)&&i.push(e)}),i}function _L(e){var t=function(e){var t={};ln(e,function(e){var i=e.coordinateSystem.getBaseAxis();if("time"===i.type||"value"===i.type)for(var r=e.getData(),n=i.dim+"_"+i.index,o=r.getDimensionIndex(r.mapDimension(i.dim)),s=r.getStore(),a=0,l=s.count();a<l;++a){var u=s.get(o,a);t[n]?t[n].push(u):t[n]=[u]}});var i={};for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];if(n){n.sort(function(e,t){return e-t});for(var o=null,s=1;s<n.length;++s){var a=n[s]-n[s-1];a>0&&(o=null===o?a:Math.min(o,a))}i[r]=o}}return i}(e),i=[];return ln(e,function(e){var r,n=e.coordinateSystem.getBaseAxis(),o=n.getExtent();if("category"===n.type)r=n.getBandWidth();else if("value"===n.type||"time"===n.type){var s=t[n.dim+"_"+n.index],a=Math.abs(o[1]-o[0]),l=n.scale.getExtent(),u=Math.abs(l[1]-l[0]);r=s?a/u*s:a}else{var d=e.getData();r=Math.abs(o[1]-o[0])/d.count()}var h=cc(e.get("barWidth"),r),c=cc(e.get("barMaxWidth"),r),p=cc(e.get("barMinWidth")||(_G(e)?.5:1),r),g=e.get("barGap"),f=e.get("barCategoryGap");i.push({bandWidth:r,barWidth:h,barMaxWidth:c,barMinWidth:p,barGap:g,barCategoryGap:f,axisKey:_I(n),stackId:_A(e)})}),_k(i)}function _k(e){var t={};ln(e,function(e,i){var r=e.axisKey,n=e.bandWidth,o=t[r]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},s=o.stacks;t[r]=o;var a=e.stackId;!s[a]&&o.autoWidthCount++,s[a]=s[a]||{width:0,maxWidth:0};var l=e.barWidth;l&&!s[a].width&&(s[a].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=e.barMaxWidth;u&&(s[a].maxWidth=u);var d=e.barMinWidth;d&&(s[a].minWidth=d);var h=e.barGap;null!=h&&(o.gap=h);var c=e.barCategoryGap;null!=c&&(o.categoryGap=c)});var i={};return ln(t,function(e,t){i[t]={};var r,n=e.stacks,o=e.bandWidth,s=e.categoryGap;null==s&&(s=Math.max(35-4*lu(n).length,15)+"%");var a=cc(s,o),l=cc(e.gap,1),u=e.remainedWidth,d=e.autoWidthCount,h=(u-a)/(d+(d-1)*l);h=Math.max(h,0),ln(n,function(e){var t=e.maxWidth,i=e.minWidth;if(e.width){var r=e.width;t&&(r=Math.min(r,t)),i&&(r=Math.max(r,i)),e.width=r,u-=r+l*r,d--}else{var r=h;t&&t<r&&(r=Math.min(t,u)),i&&i>r&&(r=i),r!==h&&(e.width=r,u-=r+l*r,d--)}}),h=Math.max(h=(u-a)/(d+(d-1)*l),0);var c=0;ln(n,function(e,t){e.width||(e.width=h),r=e,c+=e.width*(1+l)}),r&&(c-=r.width*l);var p=-c/2;ln(n,function(e,r){i[t][r]=i[t][r]||{bandWidth:o,offset:p,width:e.width},p+=e.width*(1+l)})}),i}function _N(e,t){var i=_P(e,t),r=_L(i);ln(i,function(e){var t=e.getData(),i=e.coordinateSystem.getBaseAxis(),n=_A(e),o=r[_I(i)][n],s=o.offset,a=o.width;t.setLayout({bandWidth:o.bandWidth,offset:s,size:a})})}function _F(e){return{seriesType:e,plan:y$(),reset:function(e){if(_O(e)){var t,i,r=e.getData(),n=e.coordinateSystem,o=n.getBaseAxis(),s=n.getOtherAxis(o),a=r.getDimensionIndex(r.mapDimension(s.dim)),l=r.getDimensionIndex(r.mapDimension(o.dim)),u=e.get("showBackground",!0),d=r.mapDimension(s.dim),h=r.getCalculationInfo("stackResultDimension"),c=xZ(r,d)&&!!r.getCalculationInfo("stackedOnSeries"),p=s.isHorizontal(),g=((i=(t=s).model.get("startValue"))||(i=0),t.toGlobalCoord(t.dataToCoord("log"===t.type?i>0?i:1:i))),f=_G(e),m=e.get("barMinHeight")||0,v=h&&r.getDimensionIndex(h),y=r.getLayout("size"),C=r.getLayout("offset");return{progress:function(e,t){for(var i,r=e.count,o=f&&_r(3*r),s=f&&u&&_r(3*r),d=f&&_r(r),h=n.master.getRect(),w=p?h.width:h.height,b=t.getStore(),S=0;null!=(i=e.next());){var x=b.get(c?v:a,i),_=b.get(l,i),E=g,T=void 0;c&&(T=x-b.get(a,i));var M=void 0,R=void 0,D=void 0,A=void 0;if(p){var I=n.dataToPoint([x,_]);if(c){var P=n.dataToPoint([T,_]);E=P[0]}M=E,R=I[1]+C,D=I[0]-E,A=y,Math.abs(D)<m&&(D=(D<0?-1:1)*m)}else{var I=n.dataToPoint([_,x]);if(c){var P=n.dataToPoint([_,T]);E=P[1]}M=I[0]+C,R=E,D=y,Math.abs(A=I[1]-E)<m&&(A=(A<=0?-1:1)*m)}f?(o[S]=M,o[S+1]=R,o[S+2]=p?D:A,s&&(s[S]=p?h.x:M,s[S+1]=p?R:h.y,s[S+2]=w),d[i]=i):t.setItemLayout(i,{x:M,y:R,width:D,height:A}),S+=3}f&&t.setLayout({largePoints:o,largeDataIndices:d,largeBackgroundPoints:s,valueAxisHorizontal:p})}}}}}}function _O(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function _G(e){return e.pipelineContext&&e.pipelineContext.large}var _V=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.getInitialData=function(e,t){return xJ(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,i){var r=this.coordinateSystem;if(r&&r.clampData){var n=r.clampData(e),o=r.dataToPoint(n);if(i)ln(r.getAxes(),function(e,i){if("category"===e.type&&null!=t){var r=e.getTicksCoords(),s=e.getTickModel().get("alignWithLabel"),a=n[i],l="x1"===t[i]||"y1"===t[i];if(l&&!s&&(a+=1),!(r.length<2)){if(2===r.length){o[i]=e.toGlobalCoord(e.getExtent()[+!!l]);return}for(var u=void 0,d=void 0,h=1,c=0;c<r.length;c++){var p=r[c].coord,g=c===r.length-1?r[c-1].tickValue+h:r[c].tickValue;if(g===a){d=p;break}if(g<a)u=p;else if(null!=u&&g>a){d=(p+u)/2;break}1===c&&(h=g-r[0].tickValue)}null==d&&(u?u&&(d=r[r.length-1].coord):d=r[0].coord),o[i]=e.toGlobalCoord(d)}}});else{var s=this.getData(),a=s.getLayout("offset"),l=s.getLayout("size"),u=+!r.getBaseAxis().isHorizontal();o[u]+=a+l/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(yO);yO.registerClass(_V);var _B=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.getInitialData=function(){return xJ(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,i){return i.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=f1(_V.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(_V),_H=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},_z=function(e){function t(t){var i=e.call(this,t)||this;return i.type="sausage",i}return aF(t,e),t.prototype.getDefaultShape=function(){return new _H},t.prototype.buildPath=function(e,t){var i=t.cx,r=t.cy,n=Math.max(t.r0||0,0),o=Math.max(t.r,0),s=(o-n)*.5,a=n+s,l=t.startAngle,u=t.endAngle,d=t.clockwise,h=2*Math.PI,c=d?u-l<h:l-u<h;c||(l=u-(d?h:-h));var p=Math.cos(l),g=Math.sin(l),f=Math.cos(u),m=Math.sin(u);c?(e.moveTo(p*n+i,g*n+r),e.arc(p*a+i,g*a+r,s,-Math.PI+l,l,!d)):e.moveTo(p*o+i,g*o+r),e.arc(i,r,o,l,u,!d),e.arc(f*a+i,m*a+r,s,u-2*Math.PI,u-Math.PI,!d),0!==n&&e.arc(i,r,n,u,l,d)},t}(gl);function _W(e,t,i){return t*Math.sin(e)*(i?-1:1)}function _U(e,t,i){return t*Math.cos(e)*(i?1:-1)}function _j(e,t,i){var r=e.get("borderRadius");if(null==r)return i?{cornerRadius:0}:null;lc(r)||(r=[r,r,r,r]);var n=Math.abs(t.r||0-t.r0||0);return{cornerRadius:lo(r,function(e){return h0(e,n)})}}var _$=Math.max,_K=Math.min,_Y=function(e){function t(){var i=e.call(this)||this;return i.type=t.type,i._isFirstFrame=!0,i}return aF(t,e),t.prototype.render=function(e,t,i,r){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var n=e.get("coordinateSystem");("cartesian2d"===n||"polar"===n)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,i):this._renderNormal(e,t,i,r))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){wu(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t!==this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,i,r){var n,o=this.group,s=e.getData(),a=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?n=u.isHorizontal():"polar"===l.type&&(n="angle"===u.dim);var d=e.isAnimationEnabled()?e:null,h=function(e,t){var i=e.get("realtimeSort",!0),r=t.getBaseAxis();if(i&&"category"===r.type&&"cartesian2d"===t.type)return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}(e,l);h&&this._enableRealtimeSort(h,s,i);var c=e.get("clip",!0)||h,p=function(e,t){var i=e.getArea&&e.getArea();if(_f(e,"cartesian2d")){var r=e.getBaseAxis();if("category"!==r.type||!r.onBand){var n=t.getLayout("bandWidth");r.isHorizontal()?(i.x-=n,i.width+=2*n):(i.y-=n,i.height+=2*n)}}return i}(l,s);o.removeClipPath();var g=e.get("roundCap",!0),f=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),v=m.get("borderRadius")||0,y=[],C=this._backgroundEls,w=r&&r.isInitSort,b=r&&"changeAxisOrder"===r.type;function S(e){var t,i,r,o=_2[l.type](s,e),a=(t=l,i=n,r=o,new("polar"===t.type?Cy:gw)({shape:_7(i,r,t),silent:!0,z2:0}));return a.useStyle(m.getItemStyle()),"cartesian2d"===l.type?a.setShape("r",v):a.setShape("cornerRadius",v),y[e]=a,a}s.diff(a).add(function(t){var i=s.getItemModel(t),r=_2[l.type](s,t,i);if(f&&S(t),s.hasValue(t)&&_1[l.type](r)){var a=!1;c&&(a=_q[l.type](p,r));var m=_X[l.type](e,s,t,r,n,d,u.model,!1,g);h&&(m.forceLabelAnimation=!0),_3(m,s,t,i,r,e,n,"polar"===l.type),w?m.attr({shape:r}):h?_Z(h,d,m,r,t,n,!1,!1):fb(m,{shape:r},e,t),s.setItemGraphicEl(t,m),o.add(m),m.ignore=a}}).update(function(t,i){var r=s.getItemModel(t),x=_2[l.type](s,t,r);if(f){var _=void 0;0===C.length?_=S(i):((_=C[i]).useStyle(m.getItemStyle()),"cartesian2d"===l.type?_.setShape("r",v):_.setShape("cornerRadius",v),y[t]=_);var E=_2[l.type](s,t);fw(_,{shape:_7(n,E,l)},d,t)}var T=a.getItemGraphicEl(i);if(!s.hasValue(t)||!_1[l.type](x))return void o.remove(T);var M=!1;if(c&&(M=_q[l.type](p,x))&&o.remove(T),T?fT(T):T=_X[l.type](e,s,t,x,n,d,u.model,!!T,g),h&&(T.forceLabelAnimation=!0),b){var R=T.getTextContent();if(R){var D=fV(R);null!=D.prevValue&&(D.prevValue=D.value)}}else _3(T,s,t,r,x,e,n,"polar"===l.type);w?T.attr({shape:x}):h?_Z(h,d,T,x,t,n,!0,b):fw(T,{shape:x},e,t,null),s.setItemGraphicEl(t,T),T.ignore=M,o.add(T)}).remove(function(t){var i=a.getItemGraphicEl(t);i&&fE(i,e,t)}).execute();var x=this._backgroundGroup||(this._backgroundGroup=new ce);x.removeAll();for(var _=0;_<y.length;++_)x.add(y[_]);o.add(x),this._backgroundEls=y,this._data=s},t.prototype._renderLarge=function(e,t,i){this._clear(),_8(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),_8(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&_g(e.coordinateSystem,!1,e),i=this.group;t?i.setClipPath(t):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,i){var r=this;if(t.count()){var n=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,i),this._isFirstFrame=!1;else{var o=function(e){var i=t.getItemGraphicEl(e),r=i&&i.shape;return r&&Math.abs(n.isHorizontal()?r.height:r.width)||0};this._onRendered=function(){r._updateSortWithinSameData(t,o,n,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,i){var r=[];return e.each(e.mapDimension(t.dim),function(e,t){var n=i(t);n=null==n?NaN:n,r.push({dataIndex:t,mappedValue:n,ordinalNumber:e})}),r.sort(function(e,t){return t.mappedValue-e.mappedValue}),{ordinalNumbers:lo(r,function(e){return e.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,t,i){for(var r=i.scale,n=e.mapDimension(i.dim),o=Number.MAX_VALUE,s=0,a=r.getOrdinalMeta().categories.length;s<a;++s){var l=e.rawIndexOf(n,r.getRawOrdinalNumber(s)),u=l<0?5e-324:t(e.indexOfRawIndex(l));if(u>o)return!0;o=u}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var i=t.scale,r=i.getExtent(),n=Math.max(0,r[0]),o=Math.min(r[1],i.getOrdinalMeta().categories.length-1);n<=o;++n)if(e.ordinalNumbers[n]!==i.getRawOrdinalNumber(n))return!0},t.prototype._updateSortWithinSameData=function(e,t,i,r){if(this._isOrderChangedWithinSameData(e,t,i)){var n=this._dataSort(e,i,t);this._isOrderDifferentInView(n,i)&&(this._removeOnRenderedListener(r),r.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:n}))}},t.prototype._dispatchInitSort=function(e,t,i){var r=t.baseAxis,n=this._dataSort(e,r,function(i){return e.get(e.mapDimension(t.otherAxis.dim),i)});i.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:!0,axisId:r.index,sortInfo:n})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(t){fE(t,e,gF(t).dataIndex)})):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(wc),_q={cartesian2d:function(e,t){var i=t.width<0?-1:1,r=t.height<0?-1:1;i<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var n=e.x+e.width,o=e.y+e.height,s=_$(t.x,e.x),a=_K(t.x+t.width,n),l=_$(t.y,e.y),u=_K(t.y+t.height,o),d=a<s,h=u<l;return t.x=d&&s>n?a:s,t.y=h&&l>o?u:l,t.width=d?0:a-s,t.height=h?0:u-l,i<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),d||h},polar:function(e,t){var i=t.r0<=t.r?1:-1;if(i<0){var r=t.r;t.r=t.r0,t.r0=r}var n=_K(t.r,e.r),o=_$(t.r0,e.r0);t.r=n,t.r0=o;var s=n-o<0;if(i<0){var r=t.r;t.r=t.r0,t.r0=r}return s}},_X={cartesian2d:function(e,t,i,r,n,o,s,a,l){var u=new gw({shape:a8({},r),z2:1});return u.__dataIndex=i,u.name="item",o&&(u.shape[n?"height":"width"]=0),u},polar:function(e,t,i,r,n,o,s,a,l){var u,d,h=!n&&l?_z:Cy,c=new h({shape:r,z2:1});if(c.name="item",u=_5(n),d=h===_z,c.calculateTextPosition=function(e,t,i){var r=t.position;if(!r||r instanceof Array)return h1(e,t,i);var n=u(r),o=null!=t.distance?t.distance:5,s=this.shape,a=s.cx,l=s.cy,h=s.r,c=s.r0,p=(h+c)/2,g=s.startAngle,f=s.endAngle,m=(g+f)/2,v=d?Math.abs(h-c)/2:0,y=Math.cos,C=Math.sin,w=a+h*y(g),b=l+h*C(g),S="left",x="top";switch(n){case"startArc":w=a+(c-o)*y(m),b=l+(c-o)*C(m),S="center",x="top";break;case"insideStartArc":w=a+(c+o)*y(m),b=l+(c+o)*C(m),S="center",x="bottom";break;case"startAngle":w=a+p*y(g)+_W(g,o+v,!1),b=l+p*C(g)+_U(g,o+v,!1),S="right",x="middle";break;case"insideStartAngle":w=a+p*y(g)+_W(g,-o+v,!1),b=l+p*C(g)+_U(g,-o+v,!1),S="left",x="middle";break;case"middle":w=a+p*y(m),b=l+p*C(m),S="center",x="middle";break;case"endArc":w=a+(h+o)*y(m),b=l+(h+o)*C(m),S="center",x="bottom";break;case"insideEndArc":w=a+(h-o)*y(m),b=l+(h-o)*C(m),S="center",x="top";break;case"endAngle":w=a+p*y(f)+_W(f,o+v,!0),b=l+p*C(f)+_U(f,o+v,!0),S="left",x="middle";break;case"insideEndAngle":w=a+p*y(f)+_W(f,-o+v,!0),b=l+p*C(f)+_U(f,-o+v,!0),S="right",x="middle";break;default:return h1(e,t,i)}return(e=e||{}).x=w,e.y=b,e.align=S,e.verticalAlign=x,e},o){var p=c.shape,g=n?"r":"endAngle",f={};p[g]=n?r.r0:r.startAngle,f[g]=r[g],(a?fw:fb)(c,{shape:f},o)}return c}};function _Z(e,t,i,r,n,o,s,a){var l,u;o?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),a||(s?fw:fb)(i,{shape:l},t,n,null),(s?fw:fb)(i,{shape:u},t?e.baseAxis.model:null,n)}function _Q(e,t){for(var i=0;i<t.length;i++)if(!isFinite(e[t[i]]))return!0;return!1}var _J=["x","y","width","height"],_0=["cx","cy","r","startAngle","endAngle"],_1={cartesian2d:function(e){return!_Q(e,_J)},polar:function(e){return!_Q(e,_0)}},_2={cartesian2d:function(e,t,i){var r,n,o,s=e.getItemLayout(t),a=i?(r=i,n=s,(o=r.get(["itemStyle","borderColor"]))&&"none"!==o?Math.min(r.get(["itemStyle","borderWidth"])||0,isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height)):0):0,l=s.width>0?1:-1,u=s.height>0?1:-1;return{x:s.x+l*a/2,y:s.y+u*a/2,width:s.width-l*a,height:s.height-u*a}},polar:function(e,t,i){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function _5(e){var t;return t=e?"Arc":"Angle",function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}function _3(e,t,i,r,n,o,s,a){var l=t.getItemVisual(i,"style");if(a){if(!o.get("roundCap")){var u=e.shape,d=_j(r.getModel("itemStyle"),u,!0);a8(u,d),e.setShape(u)}}else{var h=r.get(["itemStyle","borderRadius"])||0;e.setShape("r",h)}e.useStyle(l);var c=r.getShallow("cursor");c&&e.attr("cursor",c);var p=a?s?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":s?n.height>=0?"bottom":"top":n.width>=0?"right":"left",g=fI(r);fA(e,g,{labelFetcher:o,labelDataIndex:i,defaultText:x1(o.getData(),i),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var f=e.getTextContent();if(a&&f){var m=r.get(["label","position"]);e.textConfig.inside="middle"===m||null,function(e,t,i,r){if(lm(r))return e.setTextConfig({rotation:r});if(lc(t))return e.setTextConfig({rotation:0});var n,o=e.shape,s=o.clockwise?o.startAngle:o.endAngle,a=o.clockwise?o.endAngle:o.startAngle,l=i(t);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":n=(s+a)/2;break;case"startAngle":case"insideStartAngle":n=s;break;case"endAngle":case"insideEndAngle":n=a;break;default:e.setTextConfig({rotation:0});return}var u=1.5*Math.PI-n;"middle"===l&&u>Math.PI/2&&u<1.5*Math.PI&&(u-=Math.PI),e.setTextConfig({rotation:u})}(e,"outside"===m?p:m,_5(s),r.get(["label","rotate"]))}fB(f,g,o.getRawValue(i),function(e){return x2(t,e)});var v=r.getModel(["emphasis"]);fl(e,v.get("focus"),v.get("blurScope"),v.get("disabled")),fc(e,r),null!=n.startAngle&&null!=n.endAngle&&n.startAngle===n.endAngle&&(e.style.fill="none",e.style.stroke="none",ln(e.states,function(e){e.style&&(e.style.fill=e.style.stroke="none")}))}var _4=function(){},_6=function(e){function t(t){var i=e.call(this,t)||this;return i.type="largeBar",i}return aF(t,e),t.prototype.getDefaultShape=function(){return new _4},t.prototype.buildPath=function(e,t){for(var i=t.points,r=this.baseDimIdx,n=1-this.baseDimIdx,o=[],s=[],a=this.barWidth,l=0;l<i.length;l+=3)s[r]=a,s[n]=i[l+2],o[r]=i[l+r],o[n]=i[l+n],e.rect(o[0],o[1],s[0],s[1])},t}(gl);function _8(e,t,i,r){var n=e.getData(),o=+!!n.getLayout("valueAxisHorizontal"),s=n.getLayout("largeDataIndices"),a=n.getLayout("size"),l=e.getModel("backgroundStyle"),u=n.getLayout("largeBackgroundPoints");if(u){var d=new _6({shape:{points:u},incremental:!!r,silent:!0,z2:0});d.baseDimIdx=o,d.largeDataIndices=s,d.barWidth=a,d.useStyle(l.getItemStyle()),t.add(d),i&&i.push(d)}var h=new _6({shape:{points:n.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=o,h.largeDataIndices=s,h.barWidth=a,t.add(h),h.useStyle(n.getVisual("style")),h.style.stroke=null,gF(h).seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",_9),h.on("mousemove",_9)),i&&i.push(h)}var _9=wb(function(e){var t=function(e,t,i){for(var r=e.baseDimIdx,n=1-r,o=e.shape.points,s=e.largeDataIndices,a=[],l=[],u=e.barWidth,d=0,h=o.length/3;d<h;d++){var c=3*d;if(l[r]=u,l[n]=o[c+2],a[r]=o[c+r],a[n]=o[c+n],l[n]<0&&(a[n]+=l[n],l[n]=-l[n]),t>=a[0]&&t<=a[0]+l[0]&&i>=a[1]&&i<=a[1]+l[1])return s[d]}return -1}(this,e.offsetX,e.offsetY);gF(this).dataIndex=t>=0?t:null},30,!1);function _7(e,t,i){if(_f(i,"cartesian2d")){var r=i.getArea();return{x:e?t.x:r.x,y:e?r.y:t.y,width:e?t.width:r.width,height:e?r.height:t.height}}var r=i.getArea();return{cx:r.cx,cy:r.cy,r0:e?r.r0:t.r0,r:e?r.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}}var Ee=2*Math.PI,Et=Math.PI/180;function Ei(e,t){return mL(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Er(e,t){var i,r,n=Ei(e,t),o=e.get("center"),s=e.get("radius");lc(s)||(s=[0,s]);var a=cc(n.width,t.getWidth()),l=cc(n.height,t.getHeight()),u=Math.min(a,l),d=cc(s[0],u/2),h=cc(s[1],u/2),c=e.coordinateSystem;if(c){var p=c.dataToPoint(o);i=p[0]||0,r=p[1]||0}else lc(o)||(o=[o,o]),i=cc(o[0],a)+n.x,r=cc(o[1],l)+n.y;return{cx:i,cy:r,r0:d,r:h}}function En(e,t,i){t.eachSeriesByType(e,function(e){var t=e.getData(),r=t.mapDimension("value"),n=Ei(e,i),o=Er(e,i),s=o.cx,a=o.cy,l=o.r,u=o.r0,d=-e.get("startAngle")*Et,h=e.get("endAngle"),c=e.get("padAngle")*Et;h="auto"===h?d-Ee:-h*Et;var p=e.get("minAngle")*Et+c,g=0;t.each(r,function(e){!isNaN(e)&&g++});var f=t.getSum(r),m=Math.PI/(f||g)*2,v=e.get("clockwise"),y=e.get("roseType"),C=e.get("stillShowZeroSum"),w=t.getDataExtent(r);w[0]=0;var b=v?1:-1,S=[d,h],x=b*c/2;p2(S,!v),d=S[0],h=S[1];var _=Eo(e);_.startAngle=d,_.endAngle=h,_.clockwise=v;var E=Math.abs(h-d),T=E,M=0,R=d;if(t.setLayout({viewRect:n,r:l}),t.each(r,function(e,i){if(isNaN(e))return void t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:s,cy:a,r0:u,r:y?NaN:l});(r="area"!==y?0===f&&C?m:e*m:E/g)<p?(r=p,T-=p):M+=e;var r,n=R+b*r,o=0,d=0;c>r?d=o=R+b*r/2:(o=R+x,d=n-x),t.setItemLayout(i,{angle:r,startAngle:o,endAngle:d,clockwise:v,cx:s,cy:a,r0:u,r:y?ch(e,w,[u,l]):l}),R=n}),T<Ee&&g)if(T<=.001){var D=E/g;t.each(r,function(e,i){if(!isNaN(e)){var r=t.getItemLayout(i);r.angle=D;var n=0,o=0;D<c?o=n=d+b*(i+.5)*D:(n=d+b*i*D+x,o=d+b*(i+1)*D-x),r.startAngle=n,r.endAngle=o}})}else m=T/M,R=d,t.each(r,function(e,i){if(!isNaN(e)){var r=t.getItemLayout(i),n=r.angle===p?p:e*m,o=0,s=0;n<c?s=o=R+b*n/2:(o=R+x,s=R+b*n-x),r.startAngle=o,r.endAngle=s,R+=b*n}})})}var Eo=c$();function Es(e){return{seriesType:e,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var r=e.getData();r.filterSelf(function(e){for(var t=r.getName(e),n=0;n<i.length;n++)if(!i[n].isSelected(t))return!1;return!0})}}}}var Ea=2*Math.PI,El=p5.CMD,Eu=["top","right","bottom","left"];function Ed(e,t,i,r,n,o,s,a){var l=i-e,u=r-t,d=Math.sqrt(l*l+u*u),h=((n-e)*(l/=d)+(o-t)*(u/=d))/d;a&&(h=Math.min(Math.max(h,0),1)),h*=d;var c=s[0]=e+h*l,p=s[1]=t+h*u;return Math.sqrt((c-n)*(c-n)+(p-o)*(p-o))}function Eh(e,t,i,r,n,o,s){i<0&&(e+=i,i=-i),r<0&&(t+=r,r=-r);var a=e+i,l=t+r,u=s[0]=Math.min(Math.max(n,e),a),d=s[1]=Math.min(Math.max(o,t),l);return Math.sqrt((u-n)*(u-n)+(d-o)*(d-o))}var Ec=[],Ep=new uV,Eg=new uV,Ef=new uV,Em=new uV,Ev=new uV;function Ey(e,t){if(e){var i=e.getTextGuideLine(),r=e.getTextContent();if(r&&i){var n=e.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],s=n.candidates||Eu,a=r.getBoundingRect().clone();a.applyTransform(r.getComputedTransform());var l=1/0,u=n.anchor,d=e.getComputedTransform(),h=d&&uO([],d),c=t.get("length2")||0;u&&Ef.copy(u);for(var p=0;p<s.length;p++){!function(e,t,i,r,n){var o=i.width,s=i.height;switch(e){case"top":r.set(i.x+o/2,i.y-0),n.set(0,-1);break;case"bottom":r.set(i.x+o/2,i.y+s+0),n.set(0,1);break;case"left":r.set(i.x-0,i.y+s/2),n.set(-1,0);break;case"right":r.set(i.x+o+0,i.y+s/2),n.set(1,0)}}(s[p],0,a,Ep,Em),uV.scaleAndAdd(Eg,Ep,Em,c),Eg.transform(h);var g=e.getBoundingRect(),f=u?u.distance(Eg):e instanceof gl?function(e,t,i){for(var r,n,o=0,s=0,a=0,l=0,u=1/0,d=t.data,h=e.x,c=e.y,p=0;p<d.length;){var g=d[p++];1===p&&(o=d[p],s=d[p+1],a=o,l=s);var f=u;switch(g){case El.M:a=d[p++],l=d[p++],o=a,s=l;break;case El.L:f=Ed(o,s,d[p],d[p+1],h,c,Ec,!0),o=d[p++],s=d[p++];break;case El.C:f=dC(o,s,d[p++],d[p++],d[p++],d[p++],d[p],d[p+1],h,c,Ec),o=d[p++],s=d[p++];break;case El.Q:f=d_(o,s,d[p++],d[p++],d[p],d[p+1],h,c,Ec),o=d[p++],s=d[p++];break;case El.A:var m=d[p++],v=d[p++],y=d[p++],C=d[p++],w=d[p++],b=d[p++];p+=1;var S=!!(1-d[p++]);r=Math.cos(w)*y+m,n=Math.sin(w)*C+v,p<=1&&(a=r,l=n);var x=(h-m)*C/y+m;f=function(e,t,i,r,n,o,s,a,l){var u=Math.sqrt((s-=e)*s+(a-=t)*a),d=(s/=u)*i+e,h=(a/=u)*i+t;if(Math.abs(r-n)%Ea<1e-4)return l[0]=d,l[1]=h,u-i;if(o){var c=r;r=p8(n),n=p8(c)}else r=p8(r),n=p8(n);r>n&&(n+=Ea);var p=Math.atan2(a,s);if(p<0&&(p+=Ea),p>=r&&p<=n||p+Ea>=r&&p+Ea<=n)return l[0]=d,l[1]=h,u-i;var g=i*Math.cos(r)+e,f=i*Math.sin(r)+t,m=i*Math.cos(n)+e,v=i*Math.sin(n)+t,y=(g-s)*(g-s)+(f-a)*(f-a),C=(m-s)*(m-s)+(v-a)*(v-a);return y<C?(l[0]=g,l[1]=f,Math.sqrt(y)):(l[0]=m,l[1]=v,Math.sqrt(C))}(m,v,C,w,w+b,S,x,c,Ec),o=Math.cos(w+b)*y+m,s=Math.sin(w+b)*C+v;break;case El.R:f=Eh(a=o=d[p++],l=s=d[p++],d[p++],d[p++],h,c,Ec);break;case El.Z:f=Ed(o,s,a,l,h,c,Ec,!0),o=a,s=l}f<u&&(u=f,i.set(Ec[0],Ec[1]))}return u}(Eg,e.path,Ef):function(e,t,i){var r=Eh(t.x,t.y,t.width,t.height,e.x,e.y,Ec);return i.set(Ec[0],Ec[1]),r}(Eg,g,Ef);f<l&&(l=f,Eg.transform(d),Ef.transform(d),Ef.toArray(o[0]),Eg.toArray(o[1]),Ep.toArray(o[2]))}Eb(o,t.get("minTurnAngle")),i.setShape({points:o})}}}var EC=[],Ew=new uV;function Eb(e,t){if(t<=180&&t>0){t=t/180*Math.PI,Ep.fromArray(e[0]),Eg.fromArray(e[1]),Ef.fromArray(e[2]),uV.sub(Em,Ep,Eg),uV.sub(Ev,Ef,Eg);var i=Em.len(),r=Ev.len();if(!(i<.001)&&!(r<.001)&&(Em.scale(1/i),Ev.scale(1/r),Math.cos(t)<Em.dot(Ev))){var n=Ed(Eg.x,Eg.y,Ef.x,Ef.y,Ep.x,Ep.y,EC,!1);Ew.fromArray(EC),Ew.scaleAndAdd(Ev,n/Math.tan(Math.PI-t));var o=Ef.x!==Eg.x?(Ew.x-Eg.x)/(Ef.x-Eg.x):(Ew.y-Eg.y)/(Ef.y-Eg.y);if(isNaN(o))return;o<0?uV.copy(Ew,Eg):o>1&&uV.copy(Ew,Ef),Ew.toArray(e[1])}}}function ES(e,t,i,r){var n="normal"===i,o=n?e:e.ensureState(i);o.ignore=t;var s=r.get("smooth");s&&!0===s&&(s=.3),o.shape=o.shape||{},s>0&&(o.shape.smooth=s);var a=r.getModel("lineStyle").getLineStyle();n?e.useStyle(a):o.style=a}function Ex(e,t){var i=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),i>0&&r.length>=3){var n=l8(r[0],r[1]),o=l8(r[1],r[2]);if(!n||!o){e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]);return}var s=Math.min(n,o)*i,a=ue([],r[1],r[0],s/n),l=ue([],r[1],r[2],s/o),u=ue([],a,l,.5);e.bezierCurveTo(a[0],a[1],a[0],a[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var d=1;d<r.length;d++)e.lineTo(r[d][0],r[d][1])}function E_(e,t,i){var r=e.getTextGuideLine(),n=e.getTextContent();if(!n){r&&e.removeTextGuideLine();return}for(var o=t.normal,s=o.get("show"),a=n.ignore,l=0;l<gW.length;l++){var u=gW[l],d=t[u],h="normal"===u;if(d){var c=d.get("show");if((h?a:lT(n.states[u]&&n.states[u].ignore,a))||!lT(c,s)){var p=h?r:r&&r.states[u];p&&(p.ignore=!0),r&&ES(r,!0,u,d);continue}!r&&(r=new CE,e.setTextGuideLine(r),h||!a&&s||ES(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),ES(r,!1,u,d)}}if(r){a9(r.style,i),r.style.fill=null;var g=o.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=g||!1,r.buildPath=Ex}}function EE(e,t){t=t||"labelLine";for(var i={normal:e.getModel(t)},r=0;r<gz.length;r++){var n=gz[r];i[n]=e.getModel([n,t])}return i}function ET(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];if(!r.defaultAttr.ignore){var n=r.label,o=n.getComputedTransform(),s=n.getBoundingRect(),a=!o||o[1]<1e-5&&o[2]<1e-5,l=n.style.margin||0,u=s.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var d=a?new CW(s,o):null;t.push({label:n,labelLine:r.labelLine,rect:u,localRect:s,obb:d,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:a,transform:o})}}return t}function EM(e,t,i,r,n,o){var s,a,l,u=e.length;if(!(u<2)){e.sort(function(e,i){return e.rect[t]-i.rect[t]});for(var d=0,h=!1,c=[],p=0,g=0;g<u;g++){var f=e[g],m=f.rect;(s=m[t]-d)<0&&(m[t]-=s,f.label[t]-=s,h=!0);var v=Math.max(-s,0);c.push(v),p+=v,d=m[t]+m[i]}p>0&&o&&S(-p/u,0,u);var y=e[0],C=e[u-1];return w(),a<0&&x(-a,.8),l<0&&x(l,.8),w(),b(a,l,1),b(l,a,-1),w(),a<0&&_(-a),l<0&&_(l),h}function w(){a=y.rect[t]-r,l=n-C.rect[t]-C.rect[i]}function b(e,t,i){if(e<0){var r=Math.min(t,-e);if(r>0){S(r*i,0,u);var n=r+e;n<0&&x(-n*i,1)}else x(-e*i,1)}}function S(i,r,n){0!==i&&(h=!0);for(var o=r;o<n;o++){var s=e[o],a=s.rect;a[t]+=i,s.label[t]+=i}}function x(r,n){for(var o=[],s=0,a=1;a<u;a++){var l=e[a-1].rect,d=Math.max(e[a].rect[t]-l[t]-l[i],0);o.push(d),s+=d}if(s){var h=Math.min(Math.abs(r)/s,n);if(r>0)for(var a=0;a<u-1;a++){var c=o[a]*h;S(c,0,a+1)}else for(var a=u-1;a>0;a--){var c=o[a-1]*h;S(-c,a,u)}}}function _(e){for(var t=e<0?-1:1,i=Math.ceil((e=Math.abs(e))/(u-1)),r=0;r<u-1;r++)if(t>0?S(i,0,r+1):S(-i,u-r-1,u),(e-=i)<=0)return}}function ER(e,t,i,r){return EM(e,"y","height",t,i,r)}function ED(e){var t=[];e.sort(function(e,t){return t.priority-e.priority});var i=new uY(0,0,0,0);function r(e){if(!e.ignore){var t=e.ensureState("emphasis");null==t.ignore&&(t.ignore=!1)}e.ignore=!0}for(var n=0;n<e.length;n++){var o=e[n],s=o.axisAligned,a=o.localRect,l=o.transform,u=o.label,d=o.labelLine;i.copy(o.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var h=o.obb,c=!1,p=0;p<t.length;p++){var g=t[p];if(i.intersect(g.rect)&&(s&&g.axisAligned||(g.obb||(g.obb=new CW(g.localRect,g.transform)),h||(h=new CW(a,l)),h.intersect(g.obb)))){c=!0;break}}c?(r(u),d&&r(d)):(u.attr("ignore",o.defaultAttr.ignore),d&&d.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}var EA=Math.PI/180;function EI(e,t,i,r,n,o,s,a,l,u){if(!(e.length<2)){for(var d=e.length,h=0;h<d;h++)if("outer"===e[h].position&&"labelLine"===e[h].labelAlignTo){var c=e[h].label.x-u;e[h].linePoints[1][0]+=c,e[h].label.x=u}ER(e,l,l+s)&&function(e){for(var o={list:[],maxY:0},s={list:[],maxY:0},a=0;a<e.length;a++)if("none"===e[a].labelAlignTo){var l=e[a],u=l.label.y>i?s:o,d=Math.abs(l.label.y-i);if(d>=u.maxY){var h=l.label.x-t-l.len2*n,c=r+l.len;u.rB=Math.abs(h)<c?Math.sqrt(d*d/(1-h*h/c/c)):c,u.maxY=d}u.list.push(l)}p(o),p(s)}(e)}function p(e){for(var o=e.rB,s=o*o,a=0;a<e.list.length;a++){var l=e.list[a],u=Math.abs(l.label.y-i),d=r+l.len,h=t+(Math.sqrt(Math.abs(d*d*(1-u*u/s)))+l.len2)*n,c=h-l.label.x,p=l.targetTextWidth-c*n;EP(l,p,!0),l.label.x=h}}}function EP(e,t,i){if(void 0===i&&(i=!1),null==e.labelStyleWidth){var r=e.label,n=r.style,o=e.rect,s=n.backgroundColor,a=n.padding,l=a?a[1]+a[3]:0,u=n.overflow,d=o.width+(s?0:l);if(t<d||i){var h=o.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var c=r.getBoundingRect();r.setStyle("width",Math.ceil(c.width)),r.setStyle("backgroundColor",s)}else{var p=t-l,g=t<d?p:i?p>e.unconstrainedWidth?null:p:null;r.setStyle("width",g)}var f=r.getBoundingRect();o.width=f.width;var m=(r.style.margin||0)+2.1;o.height=f.height+m,o.y-=(o.height-h)/2}}}function EL(e){return"center"===e.position}var Ek=function(e){function t(t,i,r){var n=e.call(this)||this;n.z2=2;var o=new gx;return n.setTextContent(o),n.updateData(t,i,r,!0),n}return aF(t,e),t.prototype.updateData=function(e,t,i,r){var n=e.hostModel,o=e.getItemModel(t),s=o.getModel("emphasis"),a=e.getItemLayout(t),l=a8(_j(o.getModel("itemStyle"),a,!0),a);if(isNaN(l.startAngle))return void this.setShape(l);if(r){this.setShape(l);var u=n.getShallow("animationType");n.ecModel.ssr?(fb(this,{scaleX:0,scaleY:0},n,{dataIndex:t,isFrom:!0}),this.originX=l.cx,this.originY=l.cy):"scale"===u?(this.shape.r=a.r0,fb(this,{shape:{r:a.r}},n,t)):null!=i?(this.setShape({startAngle:i,endAngle:i}),fb(this,{shape:{startAngle:a.startAngle,endAngle:a.endAngle}},n,t)):(this.shape.endAngle=a.startAngle,fw(this,{shape:{endAngle:a.endAngle}},n,t))}else fT(this),fw(this,{shape:l},n,t);this.useStyle(e.getItemVisual(t,"style")),fc(this,o);var d=(a.startAngle+a.endAngle)/2,h=n.get("selectedOffset"),c=Math.cos(d)*h,p=Math.sin(d)*h,g=o.getShallow("cursor");g&&this.attr("cursor",g),this._updateLabel(n,e,t),this.ensureState("emphasis").shape=a8({r:a.r+(s.get("scale")&&s.get("scaleSize")||0)},_j(s.getModel("itemStyle"),a)),a8(this.ensureState("select"),{x:c,y:p,shape:_j(o.getModel(["select","itemStyle"]),a)}),a8(this.ensureState("blur"),{shape:_j(o.getModel(["blur","itemStyle"]),a)});var f=this.getTextGuideLine(),m=this.getTextContent();f&&a8(f.ensureState("select"),{x:c,y:p}),a8(m.ensureState("select"),{x:c,y:p}),fl(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e,t,i){var r=t.getItemModel(i),n=r.getModel("labelLine"),o=t.getItemVisual(i,"style"),s=o&&o.fill,a=o&&o.opacity;fA(this,fI(r),{labelFetcher:t.hostModel,labelDataIndex:i,inheritColor:s,defaultOpacity:a,defaultText:e.getFormattedLabel(i,"normal")||t.getName(i)});var l=this.getTextContent();this.setTextConfig({position:null,rotation:null}),l.attr({z2:10});var u=e.get(["label","position"]);if("outside"!==u&&"outer"!==u)this.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new CE,this.setTextGuideLine(d)),E_(this,EE(r),{stroke:s,opacity:lM(n.get(["lineStyle","opacity"]),a,1)})}},t}(Cy),EN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return aF(t,e),t.prototype.render=function(e,t,i,r){var n,o=e.getData(),s=this._data,a=this.group;if(!s&&o.count()>0){for(var l=o.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<o.count();++u)l=o.getItemLayout(u);l&&(n=l.startAngle)}if(this._emptyCircleSector&&a.remove(this._emptyCircleSector),0===o.count()&&e.get("showEmptyCircle")){var d=Eo(e),h=new Cy({shape:a8(Er(e,i),d)});h.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,a.add(h)}o.diff(s).add(function(e){var t=new Ek(o,e,n);o.setItemGraphicEl(e,t),a.add(t)}).update(function(e,t){var i=s.getItemGraphicEl(t);i.updateData(o,e,n),i.off("click"),a.add(i),o.setItemGraphicEl(e,i)}).remove(function(t){fE(s.getItemGraphicEl(t),e,t)}).execute(),function(e){var t,i,r=e.getData(),n=[],o=!1,s=(e.get("minShowLabelAngle")||0)*EA,a=r.getLayout("viewRect"),l=r.getLayout("r"),u=a.width,d=a.x,h=a.y,c=a.height;function p(e){e.ignore=!0}r.each(function(e){var a,h,c,g,f=r.getItemGraphicEl(e),m=f.shape,v=f.getTextContent(),y=f.getTextGuideLine(),C=r.getItemModel(e),w=C.getModel("label"),b=w.get("position")||C.get(["emphasis","label","position"]),S=w.get("distanceToLabelLine"),x=w.get("alignTo"),_=cc(w.get("edgeDistance"),u),E=w.get("bleedMargin"),T=C.getModel("labelLine"),M=T.get("length");M=cc(M,u);var R=T.get("length2");if(R=cc(R,u),Math.abs(m.endAngle-m.startAngle)<s){ln(v.states,p),v.ignore=!0,y&&(ln(y.states,p),y.ignore=!0);return}if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(v)){var D=(m.startAngle+m.endAngle)/2,A=Math.cos(D),I=Math.sin(D);t=m.cx,i=m.cy;var P="inside"===b||"inner"===b;if("center"===b)a=m.cx,h=m.cy,g="center";else{var L=(P?(m.r+m.r0)/2*A:m.r*A)+t,k=(P?(m.r+m.r0)/2*I:m.r*I)+i;if(a=L+3*A,h=k+3*I,!P){var N=L+A*(M+l-m.r),F=k+I*(M+l-m.r),O=N+(A<0?-1:1)*R;a="edge"===x?A<0?d+_:d+u-_:O+(A<0?-S:S),h=F,c=[[L,k],[N,F],[O,F]]}g=P?"center":"edge"===x?A>0?"right":"left":A>0?"left":"right"}var G=Math.PI,V=0,B=w.get("rotate");if(lm(B))V=G/180*B;else if("center"===b)V=0;else if("radial"===B||!0===B)V=A<0?-D+G:-D;else if("tangential"===B&&"outside"!==b&&"outer"!==b){var H=Math.atan2(A,I);H<0&&(H=2*G+H),I>0&&(H=G+H),V=H-G}if(o=!!V,v.x=a,v.y=h,v.rotation=V,v.setStyle({verticalAlign:"middle"}),P){v.setStyle({align:g});var z=v.states.select;z&&(z.x+=v.x,z.y+=v.y)}else{var W=v.getBoundingRect().clone();W.applyTransform(v.getComputedTransform());var U=(v.style.margin||0)+2.1;W.y-=U/2,W.height+=U,n.push({label:v,labelLine:y,position:b,len:M,len2:R,minTurnAngle:T.get("minTurnAngle"),maxSurfaceAngle:T.get("maxSurfaceAngle"),surfaceNormal:new uV(A,I),linePoints:c,textAlign:g,labelDistance:S,labelAlignTo:x,edgeDistance:_,bleedMargin:E,rect:W,unconstrainedWidth:W.width,labelStyleWidth:v.style.width})}f.setTextConfig({inside:P})}}),!o&&e.get("avoidLabelOverlap")&&function(e,t,i,r,n,o,s,a){for(var l=[],u=[],d=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=0;c<e.length;c++){var p=e[c].label;EL(e[c])||(p.x<t?(d=Math.min(d,p.x),l.push(e[c])):(h=Math.max(h,p.x),u.push(e[c])))}for(var c=0;c<e.length;c++){var g=e[c];if(!EL(g)&&g.linePoints){if(null!=g.labelStyleWidth)continue;var p=g.label,f=g.linePoints,m=void 0;m="edge"===g.labelAlignTo?p.x<t?f[2][0]-g.labelDistance-s-g.edgeDistance:s+n-g.edgeDistance-f[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?p.x<t?d-s-g.bleedMargin:s+n-h-g.bleedMargin:p.x<t?p.x-s-g.bleedMargin:s+n-p.x-g.bleedMargin,g.targetTextWidth=m,EP(g,m)}}EI(u,t,i,r,1,n,o,s,a,h),EI(l,t,i,r,-1,n,o,s,a,d);for(var c=0;c<e.length;c++){var g=e[c];if(!EL(g)&&g.linePoints){var p=g.label,f=g.linePoints,v="edge"===g.labelAlignTo,y=p.style.padding,C=y?y[1]+y[3]:0,w=p.style.backgroundColor?0:C,b=g.rect.width+w,S=f[1][0]-f[2][0];v?p.x<t?f[2][0]=s+g.edgeDistance+b+g.labelDistance:f[2][0]=s+n-g.edgeDistance-b-g.labelDistance:(p.x<t?f[2][0]=p.x+g.labelDistance:f[2][0]=p.x-g.labelDistance,f[1][0]=f[2][0]+S),f[1][1]=f[2][1]=p.y}}}(n,t,i,l,u,c,d,h);for(var g=0;g<n.length;g++){var f=n[g],m=f.label,v=f.labelLine,y=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:f.textAlign}),y&&(ln(m.states,p),m.ignore=!0);var C=m.states.select;C&&(C.x+=m.x,C.y+=m.y)}if(v){var w=f.linePoints;y||!w?(ln(v.states,p),v.ignore=!0):(Eb(w,f.minTurnAngle),function(e,t,i){if(i<=180&&i>0){i=i/180*Math.PI,Ep.fromArray(e[0]),Eg.fromArray(e[1]),Ef.fromArray(e[2]),uV.sub(Em,Eg,Ep),uV.sub(Ev,Ef,Eg);var r=Em.len(),n=Ev.len();if(!(r<.001)&&!(n<.001)&&(Em.scale(1/r),Ev.scale(1/n),Em.dot(t)<Math.cos(i))){var o=Ed(Eg.x,Eg.y,Ef.x,Ef.y,Ep.x,Ep.y,EC,!1);Ew.fromArray(EC);var s=Math.PI/2,a=s+Math.acos(Ev.dot(t))-i;if(a>=s)uV.copy(Ew,Ef);else{Ew.scaleAndAdd(Ev,o/Math.tan(Math.PI/2-a));var l=Ef.x!==Eg.x?(Ew.x-Eg.x)/(Ef.x-Eg.x):(Ew.y-Eg.y)/(Ef.y-Eg.y);if(isNaN(l))return;l<0?uV.copy(Ew,Eg):l>1&&uV.copy(Ew,Ef)}Ew.toArray(e[1])}}}(w,f.surfaceNormal,f.maxSurfaceAngle),v.setShape({points:w}),m.__hostTarget.textGuideLineConfig={anchor:new uV(w[0][0],w[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var i=t.getData().getItemLayout(0);if(i){var r=e[0]-i.cx,n=e[1]-i.cy,o=Math.sqrt(r*r+n*n);return o<=i.r&&o>=i.r0}},t.type="pie",t}(wc);function EF(e,t,i){t=lc(t)&&{coordDimensions:t}||a8({encodeDefine:e.getEncode()},t);var r=e.getSource(),n=new xU(x$(r,t).dimensions,e);return n.initData(r,i),n}var EO=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}(),EG=c$(),EV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new EO(ld(this.getData,this),ld(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return EF(this,{coordDimensions:["value"],encodeDefaulter:lh(m2,this)})},t.prototype.getDataParams=function(t){var i=this.getData(),r=EG(i),n=r.seats;if(!n){var o=[];i.each(i.mapDimension("value"),function(e){o.push(e)}),n=r.seats=cC(o,i.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,t);return s.percent=n[t]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){cF(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(yO),EB=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return aF(t,e),t.prototype.getInitialData=function(e,t){return xJ(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,i){return i.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(yO),EH=function(){},Ez=function(e){function t(t){var i=e.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return aF(t,e),t.prototype.getDefaultShape=function(){return new EH},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var i,r=t.points,n=t.size,o=this.symbolProxy,s=o.shape,a=e.getContext?e.getContext():e,l=a&&n[0]<4,u=this.softClipShape;if(l){this._ctx=a;return}for(this._ctx=null,i=this._off;i<r.length;){var d=r[i++],h=r[i++];!(isNaN(d)||isNaN(h))&&(!u||u.contain(d,h))&&(s.x=d-n[0]/2,s.y=h-n[1]/2,s.width=n[0],s.height=n[1],o.buildPath(e,s,!0))}this.incremental&&(this._off=i,this.notClear=!0)},t.prototype.afterBrush=function(){var e,t=this.shape,i=t.points,r=t.size,n=this._ctx,o=this.softClipShape;if(n){for(e=this._off;e<i.length;){var s=i[e++],a=i[e++];!(isNaN(s)||isNaN(a))&&(!o||o.contain(s,a))&&n.fillRect(s-r[0]/2,a-r[1]/2,r[0],r[1])}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var i=this.shape,r=i.points,n=i.size,o=Math.max(n[0],4),s=Math.max(n[1],4),a=r.length/2-1;a>=0;a--){var l=2*a,u=r[l]-o/2,d=r[l+1]-s/2;if(e>=u&&t>=d&&e<=u+o&&t<=d+s)return a}return -1},t.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return(e=i[0],t=i[1],r.contain(e,t))?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,i=t.points,r=t.size,n=r[0],o=r[1],s=1/0,a=1/0,l=-1/0,u=-1/0,d=0;d<i.length;){var h=i[d++],c=i[d++];s=Math.min(h,s),l=Math.max(h,l),a=Math.min(c,a),u=Math.max(c,u)}e=this._rect=new uY(s-n/2,a-o/2,l-s+n,u-a+o)}return e},t}(gl),EW=function(){function e(){this.group=new ce}return e.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(e){if(null!=e.startIndex){var i=(e.endIndex-e.startIndex)*2,r=4*e.startIndex*2;t=new Float32Array(t.buffer,r,i)}e.setShape("points",t),e.reset()})},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,i){var r=this._newAdded[0],n=t.getLayout("points"),o=r&&r.shape.points;if(o&&o.length<2e4){var s=o.length,a=new Float32Array(s+n.length);a.set(o),a.set(n,s),r.endIndex=e.end,r.setShape({points:a})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:n}),this._setCommon(l,t,i)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Ez({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,i){var r=t.hostModel;i=i||{};var n=t.getVisual("symbolSize");e.setShape("size",n instanceof Array?n:[n,n]),e.softClipShape=i.clipShape||null,e.symbolProxy=ba(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),a=s&&s.fill;a&&e.setColor(a);var l=gF(e);l.seriesIndex=r.seriesIndex,e.on("mousemove",function(t){l.dataIndex=null;var i=e.hoverDataIdx;i>=0&&(l.dataIndex=i+(e.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),EU=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){var r=e.getData();this._updateSymbolDraw(r,e).updateData(r,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,i){var r=e.getData();this._updateSymbolDraw(r,e).incrementalPrepareUpdate(r),this._finished=!1},t.prototype.incrementalRender=function(e,t,i){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,i){var r=e.getData();if(this.group.dirty(),!this._finished||r.count()>1e4)return{update:!0};var n=_E("").reset(e,t,i);n.progress&&n.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,t){var i=this._symbolDraw,r=t.pipelineContext.large;return i&&r===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=r?new EW:new x9,this._isLargeDraw=r,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(wc),Ej=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(mB),E$=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}(),EK=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",cX).models[0]},t.type="cartesian2dAxis",t}(mB);li(EK,E$);var EY={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Eq=a4({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},EY),EX=a4({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},EY),EZ=a4({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},EX),EQ=a9({logBase:10},EX);let EJ={category:Eq,value:EX,time:EZ,log:EQ};var E0=0,E1=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++E0}return e.createByAxisModel=function(t){var i=t.option,r=i.data,n=r&&lo(r,E2);return new e({categories:n,needCollect:!n,deduplication:!1!==i.dedplication})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!lg(e)&&!i)return e;if(i&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var r=this._getOrCreateMap();return null==(t=r.get(e))&&(i?(t=this.categories.length,this.categories[t]=e,r.set(e,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=lG(this.categories))},e}();function E2(e){return lv(e)&&null!=e.value?e.value:e+""}var E5={value:1,category:1,time:1,log:1};function E3(e,t,i,r){ln(E5,function(n,o){var s=a4(a4({},EJ[o],!0),r,!0),a=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t+"Axis."+o,i}return aF(i,e),i.prototype.mergeDefaultAndTheme=function(e,t){var i=mN(this),r=i?mO(e):{};a4(e,t.getTheme().get(o+"Axis")),a4(e,this.getDefaultOption()),e.type=E4(e),i&&mF(e,r,i)},i.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=E1.createByAxisModel(this))},i.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=t+"Axis."+o,i.defaultOption=s,i}(i);e.registerComponentModel(a)}),e.registerSubTypeDefaulter(t+"Axis",E4)}function E4(e){return e.type||(e.data?"category":"value")}var E6=function(){function e(e){this._setting=e||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}();function E8(e){return"interval"===e.type||"log"===e.type}function E9(e){var t=Math.pow(10,cE(e)),i=e/t;return i?2===i?i=3:3===i?i=5:i*=2:i=1,cp(i*t)}pe(E6);function E7(e,t,i){e[t]=Math.max(Math.min(e[t],i[1]),i[0])}function Te(e,t){return e>=t[0]&&e<=t[1]}function Tt(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function Ti(e,t){return e*(t[1]-t[0])+t[0]}var Tr=function(e){function t(t){var i=e.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new E1({})),lc(r)&&(r=new E1({categories:lo(r,function(e){return lv(e)?e.value:e})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return aF(t,e),t.prototype.parse=function(e){return null==e?NaN:lg(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Te(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return Tt(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(Ti(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],t=this._extent,i=t[0];i<=t[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null==e){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var t=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],n=0,o=this._ordinalMeta.categories.length,s=Math.min(o,t.length);n<s;++n){var a=t[n];i[n]=a,r[a]=n}for(var l=0;n<o;++n){for(;null!=r[l];)l++;i.push(l),r[l]=n}},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[t];return null==i?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(E6);E6.registerClass(Tr);var Tn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return aF(t,e),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Te(e,this._extent)},t.prototype.normalize=function(e){return Tt(e,this._extent)},t.prototype.scale=function(e){return Ti(e,this._extent)},t.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=parseFloat(e)),isNaN(t)||(i[1]=parseFloat(t))},t.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),this.setExtent(t[0],t[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=cf(e)+2},t.prototype.getTicks=function(e){var t=this._interval,i=this._extent,r=this._niceExtent,n=this._intervalPrecision,o=[];if(!t)return o;i[0]<r[0]&&(e?o.push({value:cp(r[0]-t,n)}):o.push({value:i[0]}));for(var s=r[0];s<=r[1]&&(o.push({value:s}),(s=cp(s+t,n))!==o[o.length-1].value);)if(o.length>1e4)return[];var a=o.length?o[o.length-1].value:r[1];return i[1]>a&&(e?o.push({value:cp(a+t,n)}):o.push({value:i[1]})),o},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks(!0),i=[],r=this.getExtent(),n=1;n<t.length;n++){for(var o=t[n],s=t[n-1],a=0,l=[],u=(o.value-s.value)/e;a<e-1;){var d=cp(s.value+(a+1)*u);d>r[0]&&d<r[1]&&l.push(d),a++}i.push(l)}return i},t.prototype.getLabel=function(e,t){if(null==e)return"";var i=t&&t.precision;return null==i?i=cf(e.value)||0:"auto"===i&&(i=this._intervalPrecision),mC(cp(e.value,i,!0))},t.prototype.calcNiceTicks=function(e,t,i){e=e||5;var r=this._extent,n=r[1]-r[0];if(isFinite(n)){n<0&&(n=-n,r.reverse());var o,s,a,l,u,d,h=(a=e,u=(l={}).interval=cT((r[1]-r[0])/a,!0),null!=t&&u<t&&(u=l.interval=t),null!=i&&u>i&&(u=l.interval=i),d=l.intervalPrecision=cf(u)+2,o=l.niceTickExtent=[cp(Math.ceil(r[0]/u)*u,d),cp(Math.floor(r[1]/u)*u,d)],s=r,isFinite(o[0])||(o[0]=s[0]),isFinite(o[1])||(o[1]=s[1]),E7(o,0,s),E7(o,1,s),o[0]>o[1]&&(o[0]=o[1]),l);this._intervalPrecision=h.intervalPrecision,this._interval=h.interval,this._niceExtent=h.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var i=Math.abs(t[0]);e.fixMax||(t[1]+=i/2),t[0]-=i/2}else t[1]=1;isFinite(t[1]-t[0])||(t[0]=0,t[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var r=this._interval;e.fixMin||(t[0]=cp(Math.floor(t[0]/r)*r)),e.fixMax||(t[1]=cp(Math.ceil(t[1]/r)*r))},t.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},t.type="interval",t}(E6);E6.registerClass(Tn);var To=function(e,t,i,r){for(;i<r;){var n=i+r>>>1;e[n][1]<t?i=n+1:r=n}return i},Ts=function(e){function t(t){var i=e.call(this,t)||this;return i.type="time",i}return aF(t,e),t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return mr(e.value,f9[function(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(mi(this._minLevelUnit))]||f9.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,i){var r=this.getSetting("useUTC");return function(e,t,i,r,n){var o=null;if(lg(i))o=i;else if(lp(i))o=i(e.value,t,{level:e.level});else{var s=a8({},f6);if(e.level>0)for(var a=0;a<f7.length;++a)s[f7[a]]="{primary|"+s[f7[a]]+"}";var l=i?!1===i.inherit?i:a9(i,s):s,u=mn(e.value,n);if(l[u])o=l[u];else if(l.inherit){for(var d=me.indexOf(u),a=d-1;a>=0;--a)if(l[u]){o=l[u];break}o=o||s.none}if(lc(o)){var h=null==e.level?0:e.level>=0?e.level:o.length+e.level;h=Math.min(h,o.length-1),o=o[h]}}return mr(new Date(e.value),o,n,r)}(e,t,i,this.getSetting("locale"),r)},t.prototype.getTicks=function(){var e=this._interval,t=this._extent,i=[];if(!e)return i;i.push({value:t[0],level:0});var r=this.getSetting("useUTC"),n=function(e,t,i,r){for(var n=0,o=[],s=[],a=0,l=0,u=0;u<me.length&&n++<1e4;++u){var d,h=mi(me[u]);if((d=me[u])===mi(d)&&(!function(e,n,o){var s=[],a=!n.length;if(!function(e,t,i,r){var n=cx(t),o=cx(i),s=function(e){return mo(n,e,r)===mo(o,e,r)},a=function(){return s("year")},l=function(){return a()&&s("month")},u=function(){return l()&&s("day")},d=function(){return u()&&s("hour")},h=function(){return d()&&s("minute")},c=function(){return h()&&s("second")};switch(e){case"year":return a();case"month":return l();case"day":return u();case"hour":return d();case"minute":return h();case"second":return c();case"millisecond":return c()&&s("millisecond")}}(mi(e),r[0],r[1],i)){a&&(n=[{value:function(e,t,i){var r=new Date(e);switch(mi(t)){case"year":case"month":r[mp(i)](0);case"day":r[mg(i)](1);case"hour":r[mf(i)](0);case"minute":r[mm(i)](0);case"second":r[mv(i)](0),r[my(i)](0)}return r.getTime()}(new Date(r[0]),e,i)},{value:r[1]}]);for(var l=0;l<n.length-1;l++){var u=n[l].value,d=n[l+1].value;if(u!==d){var h,c,p,g=void 0,f=void 0,m=void 0;switch(e){case"year":g=Math.max(1,Math.round(t/864e5/365)),f=ms(i),m=i?"setUTCFullYear":"setFullYear";break;case"half-year":case"quarter":case"month":g=(h=t/2592e6)>6?6:h>3?3:h>2?2:1,f=ma(i),m=mp(i);break;case"week":case"half-week":case"day":g=(c=t/864e5)>16?16:c>7.5?7:c>3.5?4:c>1.5?2:1,f=ml(i),m=mg(i);break;case"half-day":case"quarter-day":case"hour":g=(p=t/36e5)>12?12:p>6?6:p>3.5?4:p>2?2:1,f=mu(i),m=mf(i);break;case"minute":g=Tl(t,!0),f=md(i),m=mm(i);break;case"second":g=Tl(t,!1),f=mh(i),m=mv(i);break;case"millisecond":g=cT(t,!0),f=mc(i),m=my(i)}!function(e,t,i,n,o,s,a){for(var l=new Date(t),u=t,d=l[n]();u<i&&u<=r[1];)a.push({value:u}),d+=e,l[o](d),u=l.getTime();a.push({value:u,notAdd:!0})}(g,u,d,f,m,0,s),"year"===e&&o.length>1&&0===l&&o.unshift({value:o[0].value-g})}}for(var l=0;l<s.length;l++)o.push(s[l])}}(me[u],o[o.length-1]||[],s),h!==(me[u+1]?mi(me[u+1]):null))){if(s.length){l=a,s.sort(function(e,t){return e.value-t.value});for(var c=[],p=0;p<s.length;++p){var g=s[p].value;(0===p||s[p-1].value!==g)&&(c.push(s[p]),g>=r[0]&&g<=r[1]&&a++)}var f=(r[1]-r[0])/t;if(a>1.5*f&&l>f/1.5||(o.push(c),a>f||e===me[u]))break}s=[]}}for(var m=la(lo(o,function(e){return la(e,function(e){return e.value>=r[0]&&e.value<=r[1]&&!e.notAdd})}),function(e){return e.length>0}),v=[],y=m.length-1,u=0;u<m.length;++u)for(var C=m[u],w=0;w<C.length;++w)v.push({value:C[w].value,level:y-u});v.sort(function(e,t){return e.value-t.value});for(var b=[],u=0;u<v.length;++u)(0===u||v[u].value!==v[u-1].value)&&b.push(v[u]);return b}(this._minLevelUnit,this._approxInterval,r,t);return(i=i.concat(n)).push({value:t[1],level:0}),i},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=864e5,t[1]+=864e5),t[1]===-1/0&&t[0]===1/0){var i=new Date;t[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),t[0]=t[1]-864e5}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,t,i){e=e||10;var r=this._extent,n=r[1]-r[0];this._approxInterval=n/e,null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var o=Ta.length,s=Math.min(To(Ta,this._approxInterval,0,o),o-1);this._interval=Ta[s][1],this._minLevelUnit=Ta[Math.max(s-1,0)][0]},t.prototype.parse=function(e){return lm(e)?e:+cx(e)},t.prototype.contain=function(e){return Te(this.parse(e),this._extent)},t.prototype.normalize=function(e){return Tt(this.parse(e),this._extent)},t.prototype.scale=function(e){return Ti(e,this._extent)},t.type="time",t}(Tn),Ta=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",15768e6],["year",31536e6]];function Tl(e,t){return(e/=t?6e4:1e3)>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}E6.registerClass(Ts);var Tu=E6.prototype,Td=Tn.prototype,Th=Math.floor,Tc=Math.ceil,Tp=Math.pow,Tg=Math.log,Tf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Tn,t._interval=0,t}return aF(t,e),t.prototype.getTicks=function(e){var t=this._originalScale,i=this._extent,r=t.getExtent();return lo(Td.getTicks.call(this,e),function(e){var t=e.value,n=cp(Tp(this.base,t));return n=t===i[0]&&this._fixMin?cp(n,cf(r[0])):n,{value:n=t===i[1]&&this._fixMax?cp(n,cf(r[1])):n}},this)},t.prototype.setExtent=function(e,t){var i=Tg(this.base);e=Tg(Math.max(0,e))/i,t=Tg(Math.max(0,t))/i,Td.setExtent.call(this,e,t)},t.prototype.getExtent=function(){var e,t,i=this.base,r=Tu.getExtent.call(this);r[0]=Tp(i,r[0]),r[1]=Tp(i,r[1]);var n=this._originalScale.getExtent();return this._fixMin&&(r[0]=(e=r[0],cp(e,cf(n[0])))),this._fixMax&&(r[1]=(t=r[1],cp(t,cf(n[1])))),r},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=Tg(e[0])/Tg(t),e[1]=Tg(e[1])/Tg(t),Tu.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.calcNiceTicks=function(e){e=e||10;var t=this._extent,i=t[1]-t[0];if(i!==1/0&&!(i<=0)){var r=c_(i);for(e/i*r<=.5&&(r*=10);!isNaN(r)&&1>Math.abs(r)&&Math.abs(r)>0;)r*=10;var n=[cp(Tc(t[0]/r)*r),cp(Th(t[1]/r)*r)];this._interval=r,this._niceExtent=n}},t.prototype.calcNiceExtent=function(e){Td.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Te(e=Tg(e)/Tg(this.base),this._extent)},t.prototype.normalize=function(e){return Tt(e=Tg(e)/Tg(this.base),this._extent)},t.prototype.scale=function(e){return e=Ti(e,this._extent),Tp(this.base,e)},t.type="log",t}(E6),Tm=Tf.prototype;Tm.getMinorTicks=Td.getMinorTicks,Tm.getLabel=Td.getLabel,E6.registerClass(Tf);var Tv=function(){function e(e,t,i){this._prepareParams(e,t,i)}return e.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var n=t.get("min",!0);null==n&&(n=t.get("startValue",!0));var o=this._modelMinRaw=n;lp(o)?this._modelMinNum=Tb(e,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=Tb(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(lp(s)?this._modelMaxNum=Tb(e,s({min:i[0],max:i[1]})):"dataMax"!==s&&(this._modelMaxNum=Tb(e,s)),r)this._axisDataLen=t.getCategories().length;else{var a=t.get("boundaryGap"),l=lc(a)?a:[a||0,a||0];"boolean"==typeof l[0]||"boolean"==typeof l[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[h0(l[0],1),h0(l[1],1)]}},e.prototype.calculate=function(){var e,t,i=this._isOrdinal,r=this._dataMin,n=this._dataMax,o=this._axisDataLen,s=this._boundaryGapInner,a=i?null:n-r||Math.abs(r),l="dataMin"===this._modelMinRaw?r:this._modelMinNum,u="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,d=null!=l,h=null!=u;null==l&&(l=i?o?0:NaN:r-s[0]*a),null==u&&(u=i?o?o-1:NaN:n+s[1]*a),null!=l&&isFinite(l)||(l=NaN),null!=u&&isFinite(u)||(u=NaN);var c=(e=l)!=e||(t=u)!=t||i&&!o;this._needCrossZero&&(l>0&&u>0&&!d&&(l=0),l<0&&u<0&&!h&&(u=0));var p=this._determinedMin,g=this._determinedMax;return null!=p&&(l=p,d=!0),null!=g&&(u=g,h=!0),{min:l,max:u,minFixed:d,maxFixed:h,isBlank:c}},e.prototype.modifyDataMinMax=function(e,t){this[TC[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){this[Ty[e]]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),Ty={min:"_determinedMin",max:"_determinedMax"},TC={min:"_dataMin",max:"_dataMax"};function Tw(e,t,i){var r=e.rawExtentInfo;return r||(r=new Tv(e,t,i),e.rawExtentInfo=r),r}function Tb(e,t){return null==t?null:t!=t?NaN:e.parse(t)}function TS(e,t){var i=e.type,r=Tw(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var n=r.min,o=r.max,s=t.ecModel;if(s&&"time"===i){var a=_P("bar",s),l=!1;if(ln(a,function(e){l=l||e.getBaseAxis()===t.axis}),l){var u=function(e,t,i,r){var n=i.axis.getExtent(),o=Math.abs(n[1]-n[0]),s=function(e,t,i){if(e&&t)return e[_I(t)]}(r,i.axis);if(void 0===s)return{min:e,max:t};var a=1/0;ln(s,function(e){a=Math.min(e.offset,a)});var l=-1/0;ln(s,function(e){l=Math.max(e.offset+e.width,l)});var u=(a=Math.abs(a))+(l=Math.abs(l)),d=t-e,h=d/(1-(a+l)/o)-d;return t+=l/u*h,{min:e-=a/u*h,max:t}}(n,o,t,_L(a));n=u.min,o=u.max}}return{extent:[n,o],fixMin:r.minFixed,fixMax:r.maxFixed}}function Tx(e,t){var i=TS(e,t),r=i.extent,n=t.get("splitNumber");e instanceof Tf&&(e.base=t.get("logBase"));var o=e.type,s=t.get("interval"),a="interval"===o||"time"===o;e.setExtent(r[0],r[1]),e.calcNiceExtent({splitNumber:n,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:a?t.get("minInterval"):null,maxInterval:a?t.get("maxInterval"):null}),null!=s&&e.setInterval&&e.setInterval(s)}function T_(e,t){if(t=t||e.get("type"))switch(t){case"category":return new Tr({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new Ts({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(E6.getClass(t)||Tn)}}function TE(e){var t=e.getLabelModel().get("formatter"),i="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?function(i,r){return e.scale.getFormattedLabel(i,r,t)}:lg(t)?function(i){var r=e.scale.getLabel(i);return t.replace("{value}",null!=r?r:"")}:lp(t)?function(r,n){return null!=i&&(n=r.value-i),t(TT(e,r),n,null!=r.level?{level:r.level}:null)}:function(t){return e.scale.getLabel(t)}}function TT(e,t){return"category"===e.type?e.scale.getLabel(t):t.value}function TM(e){var t=e.get("interval");return null==t?"auto":t}function TR(e){return"category"===e.type&&0===TM(e.getLabelModel())}function TD(e,t){var i={};return ln(e.mapDimensionsAll(t),function(t){i[xQ(e,t)]=!0}),lu(i)}var TA=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return lo(this._dimList,function(e){return this._axes[e]},this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),la(this.getAxes(),function(t){return t.scale.type===e})},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),TI=["x","y"];function TP(e){return"interval"===e.type||"time"===e.type}var TL=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=TI,t}return aF(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(TP(e)&&TP(t)){var i=e.getExtent(),r=t.getExtent(),n=this.dataToPoint([i[0],r[0]]),o=this.dataToPoint([i[1],r[1]]),s=i[1]-i[0],a=r[1]-r[0];if(s&&a){var l=(o[0]-n[0])/s,u=(o[1]-n[1])/a,d=n[0]-i[0]*l,h=n[1]-r[0]*u,c=this._transform=[l,0,0,u,d,h];this._invTransform=uO([],c)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,t){var i=this.dataToPoint(e),r=this.dataToPoint(t),n=this.getArea(),o=new uY(i[0],i[1],r[0]-i[0],r[1]-i[1]);return n.intersect(o)},t.prototype.dataToPoint=function(e,t,i){i=i||[];var r=e[0],n=e[1];if(this._transform&&null!=r&&isFinite(r)&&null!=n&&isFinite(n))return ut(i,e,this._transform);var o=this.getAxis("x"),s=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(r,t)),i[1]=s.toGlobalCoord(s.dataToCoord(n,t)),i},t.prototype.clampData=function(e,t){var i=this.getAxis("x").scale,r=this.getAxis("y").scale,n=i.getExtent(),o=r.getExtent(),s=i.parse(e[0]),a=r.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1])),t[1]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),t},t.prototype.pointToData=function(e,t){var i=[];if(this._invTransform)return ut(i,e,this._invTransform);var r=this.getAxis("x"),n=this.getAxis("y");return i[0]=r.coordToData(r.toLocalCoord(e[0]),t),i[1]=n.coordToData(n.toLocalCoord(e[1]),t),i},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(e){e=e||0;var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1])-e,n=Math.min(i[0],i[1])-e,o=Math.max(t[0],t[1])-r+e,s=Math.max(i[0],i[1])-n+e;return new uY(r,n,o,s)},t}(TA),Tk=c$();function TN(e,t){var i=lo(t,function(t){return e.scale.parse(t)});return"time"===e.type&&i.length>0&&(i.sort(),i.unshift(i[0]),i.push(i[i.length-1])),i}function TF(e,t){var i,r,n,o,s=TO(e,"labels"),a=TM(t),l=TG(s,a);return l||(lp(a)?n=TH(e,a):(o="auto"===a?null!=(r=Tk(i=e).autoInterval)?r:Tk(i).autoInterval=i.calculateCategoryInterval():a,n=TB(e,o)),TV(s,a,{labels:n,labelCategoryInterval:o}))}function TO(e,t){return Tk(e)[t]||(Tk(e)[t]=[])}function TG(e,t){for(var i=0;i<e.length;i++)if(e[i].key===t)return e[i].value}function TV(e,t,i){return e.push({key:t,value:i}),i}function TB(e,t,i){var r=TE(e),n=e.scale,o=n.getExtent(),s=e.getLabelModel(),a=[],l=Math.max((t||0)+1,1),u=o[0],d=n.count();0!==u&&l>1&&d/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=TR(e),c=s.get("showMinLabel")||h,p=s.get("showMaxLabel")||h;c&&u!==o[0]&&f(o[0]);for(var g=u;g<=o[1];g+=l)f(g);function f(e){var t={value:e};a.push(i?e:{formattedLabel:r(t),rawLabel:n.getLabel(t),tickValue:e})}return p&&g-l!==o[1]&&f(o[1]),a}function TH(e,t,i){var r=e.scale,n=TE(e),o=[];return ln(r.getTicks(),function(e){var s=r.getLabel(e),a=e.value;t(e.value,s)&&o.push(i?a:{formattedLabel:n(e),rawLabel:s,tickValue:a})}),o}var Tz=[0,1],TW=function(){function e(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return e.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=i&&e<=r},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return cv(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},e.prototype.dataToCoord=function(e,t){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&TU(i=i.slice(),r.count()),ch(e,Tz,i,t)},e.prototype.coordToData=function(e,t){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&TU(i=i.slice(),r.count());var n=ch(e,i,Tz,t);return this.scale.scale(n)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),i=function(e,t){var i=e.getTickModel().get("customValues");if(i){var r=e.scale.getExtent();return{ticks:la(TN(e,i),function(e){return e>=r[0]&&e<=r[1]})}}return"category"===e.type?function(e,t){var i,r,n=TO(e,"ticks"),o=TM(t),s=TG(n,o);if(s)return s;if((!t.get("show")||e.scale.isBlank())&&(i=[]),lp(o))i=TH(e,o,!0);else if("auto"===o){var a=TF(e,e.getLabelModel());r=a.labelCategoryInterval,i=lo(a.labels,function(e){return e.tickValue})}else i=TB(e,r=o,!0);return TV(n,o,{ticks:i,tickCategoryInterval:r})}(e,t):{ticks:lo(e.scale.getTicks(),function(e){return e.value})}}(this,t).ticks,r=lo(i,function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}},this);return function(e,t,i,r){var n,o,s=t.length;if(e.onBand&&!i&&s){var a=e.getExtent();if(1===s)t[0].coord=a[0],n=t[1]={coord:a[1],tickValue:t[0].tickValue};else{var l=t[s-1].tickValue-t[0].tickValue,u=(t[s-1].coord-t[0].coord)/l;ln(t,function(e){e.coord-=u/2});var d=e.scale.getExtent();o=1+d[1]-t[s-1].tickValue,n={coord:t[s-1].coord+u*o,tickValue:d[1]+1},t.push(n)}var h=a[0]>a[1];c(t[0].coord,a[0])&&(r?t[0].coord=a[0]:t.shift()),r&&c(a[0],t[0].coord)&&t.unshift({coord:a[0]}),c(a[1],n.coord)&&(r?n.coord=a[1]:t.pop()),r&&c(n.coord,a[1])&&t.push({coord:a[1]})}function c(e,t){return e=cp(e),t=cp(t),h?e>t:e<t}}(this,r,t.get("alignWithLabel"),e.clamp),r},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),lo(this.scale.getMinorTicks(e),function(e){return lo(e,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this)},this)},e.prototype.getViewLabels=function(){return function(e){var t,i,r,n,o,s,a=e.getLabelModel().get("customValues");if(a){var l=TE(e),u=e.scale.getExtent();return{labels:lo(la(TN(e,a),function(e){return e>=u[0]&&e<=u[1]}),function(t){var i={value:t};return{formattedLabel:l(i),rawLabel:e.scale.getLabel(i),tickValue:t}})}}return"category"===e.type?(i=(t=e).getLabelModel(),r=TF(t,i),!i.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r):(o=(n=e).scale.getTicks(),s=TE(n),{labels:lo(o,function(e,t){return{level:e.level,formattedLabel:s(e,t),rawLabel:n.scale.getLabel(e),tickValue:e.value}})})}(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+ +!!this.onBand;return 0===i&&(i=1),Math.abs(Math.abs(e[1]-e[0]))/i},e.prototype.calculateCategoryInterval=function(){return function(e){var t,i,r=(i=(t=e).getLabelModel(),{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:i.get("rotate")||0,font:i.getFont()}),n=TE(e),o=(r.axisRotate-r.labelRotate)/180*Math.PI,s=e.scale,a=s.getExtent(),l=s.count();if(a[1]-a[0]<1)return 0;var u=1;l>40&&(u=Math.max(1,Math.floor(l/40)));for(var d=a[0],h=e.dataToCoord(d+1)-e.dataToCoord(d),c=Math.abs(h*Math.cos(o)),p=Math.abs(h*Math.sin(o)),g=0,f=0;d<=a[1];d+=u){var m=0,v=0,y=hX(n({value:d}),r.font,"center","top");m=1.3*y.width,v=1.3*y.height,g=Math.max(g,m,7),f=Math.max(f,v,7)}var C=g/c,w=f/p;isNaN(C)&&(C=1/0),isNaN(w)&&(w=1/0);var b=Math.max(0,Math.floor(Math.min(C,w))),S=Tk(e.model),x=e.getExtent(),_=S.lastAutoInterval,E=S.lastTickCount;return null!=_&&null!=E&&1>=Math.abs(_-b)&&1>=Math.abs(E-l)&&_>b&&S.axisExtent0===x[0]&&S.axisExtent1===x[1]?b=_:(S.lastTickCount=l,S.lastAutoInterval=b,S.axisExtent0=x[0],S.axisExtent1=x[1]),b}(this)},e}();function TU(e,t){var i=(e[1]-e[0])/t/2;e[0]+=i,e[1]-=i}var Tj=function(e){function t(t,i,r,n,o){var s=e.call(this,t,i,r)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return aF(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e[+("x"!==this.dim)]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(TW);function T$(e,t,i){i=i||{};var r=e.coordinateSystem,n=t.axis,o={},s=n.getAxesOnZeroOf()[0],a=n.position,l=s?"onZero":a,u=n.dim,d=r.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],c={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,g="x"===u?[h[2]-p,h[3]+p]:[h[0]-p,h[1]+p];if(s){var f=s.toGlobalCoord(s.dataToCoord(0));g[c.onZero]=Math.max(Math.min(f,g[1]),g[0])}o.position=["y"===u?g[c[l]]:h[0],"x"===u?g[c[l]]:h[3]],o.rotation=Math.PI/2*("x"!==u),o.labelDirection=o.tickDirection=o.nameDirection=({top:-1,bottom:1,left:-1,right:1})[a],o.labelOffset=s?g[c[a]]-g[c.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),lE(i.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var m=t.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-m:m,o.z2=1,o}function TK(e){return"cartesian2d"===e.get("coordinateSystem")}function TY(e){var t={xAxisModel:null,yAxisModel:null};return ln(t,function(i,r){var n=r.replace(/Model$/,""),o=e.getReferringComponents(n,cX).models[0];t[r]=o}),t}var Tq=Math.log;function TX(e,t,i){var r=Tn.prototype,n=r.getTicks.call(i),o=r.getTicks.call(i,!0),s=n.length-1,a=r.getInterval.call(i),l=TS(e,t),u=l.extent,d=l.fixMin,h=l.fixMax;if("log"===e.type){var c=Tq(e.base);u=[Tq(u[0])/c,Tq(u[1])/c]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:s,fixMin:d,fixMax:h});var p=r.getExtent.call(e);d&&(u[0]=p[0]),h&&(u[1]=p[1]);var g=r.getInterval.call(e),f=u[0],m=u[1];if(d&&h)g=(m-f)/s;else if(d)for(m=u[0]+g*s;m<u[1]&&isFinite(m)&&isFinite(u[1]);)g=E9(g),m=u[0]+g*s;else if(h)for(f=u[1]-g*s;f>u[0]&&isFinite(f)&&isFinite(u[0]);)g=E9(g),f=u[1]-g*s;else{e.getTicks().length-1>s&&(g=E9(g));var v=g*s;(f=cp((m=Math.ceil(u[1]/g)*g)-v))<0&&u[0]>=0?(f=0,m=cp(v)):m>0&&u[1]<=0&&(m=0,f=-cp(v))}var y=(n[0].value-o[0].value)/a,C=(n[s].value-o[s].value)/a;r.setExtent.call(e,f+g*y,m+g*C),r.setInterval.call(e,g),(y||C)&&r.setNiceExtent.call(e,f+g,m-g)}var TZ=function(){function e(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=TI,this._initCartesian(e,t,i),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var i=this._axesMap;function r(e){var t,i=lu(e),r=i.length;if(r){for(var n=[],o=r-1;o>=0;o--){var s=e[+i[o]],a=s.model,l=s.scale;E8(l)&&a.get("alignTicks")&&null==a.get("interval")?n.push(s):(Tx(l,a),E8(l)&&(t=s))}n.length&&(t||Tx((t=n.pop()).scale,t.model),ln(n,function(e){TX(e.scale,e.model,t.scale)}))}}this._updateScale(e,this.model),r(i.x),r(i.y);var n={};ln(i.x,function(e){TJ(i,"y",e,n)}),ln(i.y,function(e){TJ(i,"x",e,n)}),this.resize(this.model,t)},e.prototype.resize=function(e,t,i){var r=e.getBoxLayoutParams(),n=!i&&e.get("containLabel"),o=mL(r,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;function a(){ln(s,function(e){var t,i,r,n,s=e.isHorizontal(),a=s?[0,o.width]:[0,o.height],l=+!!e.inverse;e.setExtent(a[l],a[1-l]),t=e,i=s?o.x:o.y,n=(r=t.getExtent())[0]+r[1],t.toGlobalCoord="x"===t.dim?function(e){return e+i}:function(e){return n-e+i},t.toLocalCoord="x"===t.dim?function(e){return e-i}:function(e){return n-e+i}})}a(),n&&(ln(s,function(e){if(!e.model.get(["axisLabel","inside"])){var t=function(e){var t,i,r,n=e.model,o=e.scale;if(!(!n.get(["axisLabel","show"])||o.isBlank())){var s=o.getExtent();i=o instanceof Tr?o.count():(t=o.getTicks()).length;var a=e.getLabelModel(),l=TE(e),u=1;i>40&&(u=Math.ceil(i/40));for(var d=0;d<i;d+=u){var h=l(t?t[d]:{value:s[0]+d},d),c=function(e,t){var i=t*Math.PI/180,r=e.width,n=e.height,o=r*Math.abs(Math.cos(i))+Math.abs(n*Math.sin(i)),s=r*Math.abs(Math.sin(i))+Math.abs(n*Math.cos(i));return new uY(e.x,e.y,o,s)}(a.getTextRect(h),a.get("rotate")||0);r?r.union(c):r=c}return r}}(e);if(t){var i=e.isHorizontal()?"height":"width",r=e.model.get(["axisLabel","margin"]);o[i]-=t[i]+r,"top"===e.position?o.y+=t.height+r:"left"===e.position&&(o.x+=t.width+r)}}}),a()),ln(this._coordsList,function(e){e.calcAffineTransform()})},e.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i)return i[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var i="x"+e+"y"+t;return this._coordsMap[i]}lv(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,n=this._coordsList;r<n.length;r++)if(n[r].getAxis("x").index===e||n[r].getAxis("y").index===t)return n[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},e.prototype.convertFromPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},e.prototype._findConvertTarget=function(e){var t,i,r=e.seriesModel,n=e.xAxisModel||r&&r.getReferringComponents("xAxis",cX).models[0],o=e.yAxisModel||r&&r.getReferringComponents("yAxis",cX).models[0],s=e.gridModel,a=this._coordsList;return r?0>le(a,t=r.coordinateSystem)&&(t=null):n&&o?t=this.getCartesian(n.componentIndex,o.componentIndex):n?i=this.getAxis("x",n.componentIndex):o?i=this.getAxis("y",o.componentIndex):s&&s.coordinateSystem===this&&(t=this._coordsList[0]),{cartesian:t,axis:i}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,i){var r=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},a={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!a.x||!a.y){this._axesMap={},this._axesList=[];return}function l(t){return function(i,r){if(TQ(i,e)){var l=i.get("position");"x"===t?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0;var u=new Tj(t,T_(i),[0,0],i.get("type"),l),d="category"===u.type;u.onBand=d&&i.get("boundaryGap"),u.inverse=i.get("inverse"),i.axis=u,u.model=i,u.grid=n,u.index=r,n._axesList.push(u),s[t][r]=u,a[t]++}}}this._axesMap=s,ln(s.x,function(t,i){ln(s.y,function(n,o){var s="x"+i+"y"+o,a=new TL(s);a.master=r,a.model=e,r._coordsMap[s]=a,r._coordsList.push(a),a.addAxis(t),a.addAxis(n)})})},e.prototype._updateScale=function(e,t){function i(e,t){ln(TD(e,t.dim),function(i){t.scale.unionExtentFromData(e,i)})}ln(this._axesList,function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}}),e.eachSeries(function(e){if(TK(e)){var r=TY(e),n=r.xAxisModel,o=r.yAxisModel;if(TQ(n,t)&&TQ(o,t)){var s=this.getCartesian(n.componentIndex,o.componentIndex),a=e.getData(),l=s.getAxis("x"),u=s.getAxis("y");i(a,l),i(a,u)}}},this)},e.prototype.getTooltipAxes=function(e){var t=[],i=[];return ln(this.getCartesians(),function(r){var n=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),o=r.getOtherAxis(n);0>le(t,n)&&t.push(n),0>le(i,o)&&i.push(o)}),{baseAxes:t,otherAxes:i}},e.create=function(t,i){var r=[];return t.eachComponent("grid",function(n,o){var s=new e(n,t,i);s.name="grid_"+o,s.resize(n,i,!0),n.coordinateSystem=s,r.push(s)}),t.eachSeries(function(e){if(TK(e)){var t=TY(e),i=t.xAxisModel,r=t.yAxisModel;e.coordinateSystem=i.getCoordSysModel().coordinateSystem.getCartesian(i.componentIndex,r.componentIndex)}}),r},e.dimensions=TI,e}();function TQ(e,t){return e.getCoordSysModel()===t}function TJ(e,t,i,r){i.getAxesOnZeroOf=function(){return n?[n]:[]};var n,o=e[t],s=i.model,a=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(a){if(null!=l)T0(o[l])&&(n=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&T0(o[u])&&!r[d(o[u])]){n=o[u];break}n&&(r[d(n)]=!0)}function d(e){return e.dim+"_"+e.index}}function T0(e){var t,i,r;return e&&"category"!==e.type&&"time"!==e.type&&(i=(t=e.scale.getExtent())[0],r=t[1],!(i>0&&r>0||i<0&&r<0))}var T1=Math.PI,T2=function(){function e(e,t){this.group=new ce,this.opt=t,this.axisModel=e,a9(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new ce({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return e.prototype.hasBuilder=function(e){return!!T5[e]},e.prototype.add=function(e){T5[e](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(e,t,i){var r,n,o=cw(t-e);return cb(o)?(n=i>0?"top":"bottom",r="center"):cb(o-T1)?(n=i>0?"bottom":"top",r="center"):(n="middle",r=o>0&&o<T1?i>0?"right":"left":i>0?"left":"right"),{rotation:o,textAlign:r,textVerticalAlign:n}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},e}(),T5={axisLine:function(e,t,i,r){var n=t.get(["axisLine","show"]);if("auto"===n&&e.handleAutoShown&&(n=e.handleAutoShown("axisLine")),n){var o=t.axis.getExtent(),s=r.transform,a=[o[0],0],l=[o[1],0],u=a[0]>l[0];s&&(ut(a,a,s),ut(l,l,s));var d=a8({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new CR({shape:{x1:a[0],y1:a[1],x2:l[0],y2:l[1]},style:d,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});C4(h.shape,h.style.lineWidth),h.anid="line",i.add(h);var c=t.get(["axisLine","symbol"]);if(null!=c){var p=t.get(["axisLine","symbolSize"]);lg(c)&&(c=[c,c]),(lg(p)||lm(p))&&(p=[p,p]);var g=bu(t.get(["axisLine","symbolOffset"])||0,p),f=p[0],m=p[1];ln([{rotate:e.rotation+Math.PI/2,offset:g[0],r:0},{rotate:e.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((a[0]-l[0])*(a[0]-l[0])+(a[1]-l[1])*(a[1]-l[1]))}],function(t,r){if("none"!==c[r]&&null!=c[r]){var n=ba(c[r],-f/2,-m/2,f,m,d.stroke,!0),o=t.r+t.offset,s=u?l:a;n.attr({rotation:t.rotate,x:s[0]+o*Math.cos(e.rotation),y:s[1]-o*Math.sin(e.rotation),silent:!0,z2:11}),i.add(n)}})}}},axisTickLabel:function(e,t,i,r){var n=function(e,t,i,r){var n=i.axis,o=i.getModel("axisTick"),s=o.get("show");if("auto"===s&&r.handleAutoShown&&(s=r.handleAutoShown("axisTick")),!(!s||n.scale.isBlank())){for(var a=o.getModel("lineStyle"),l=r.tickDirection*o.get("length"),u=T8(n.getTicksCoords(),t.transform,l,a9(a.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<u.length;d++)e.add(u[d]);return u}}(i,r,t,e),o=function(e,t,i,r){var n=i.axis;if(!(!lE(r.axisLabelShow,i.get(["axisLabel","show"]))||n.scale.isBlank())){var o=i.getModel("axisLabel"),s=o.get("margin"),a=n.getViewLabels(),l=(lE(r.labelRotate,o.get("rotate"))||0)*T1/180,u=T2.innerTextLayout(r.rotation,l,r.labelDirection),d=i.getCategories&&i.getCategories(!0),h=[],c=T2.isLabelSilent(i),p=i.get("triggerEvent");return ln(a,function(l,g){var f="ordinal"===n.scale.type?n.scale.getRawOrdinalNumber(l.tickValue):l.tickValue,m=l.formattedLabel,v=l.rawLabel,y=o;if(d&&d[f]){var C=d[f];lv(C)&&C.textStyle&&(y=new fQ(C.textStyle,o,i.ecModel))}var w=y.getTextColor()||i.get(["axisLine","lineStyle","color"]),b=n.dataToCoord(f),S=y.getShallow("align",!0)||u.textAlign,x=lT(y.getShallow("alignMinLabel",!0),S),_=lT(y.getShallow("alignMaxLabel",!0),S),E=y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||u.textVerticalAlign,T=lT(y.getShallow("verticalAlignMinLabel",!0),E),M=lT(y.getShallow("verticalAlignMaxLabel",!0),E),R=new gx({x:b,y:r.labelOffset+r.labelDirection*s,rotation:u.rotation,silent:c,z2:10+(l.level||0),style:fP(y,{text:m,align:0===g?x:g===a.length-1?_:S,verticalAlign:0===g?T:g===a.length-1?M:E,fill:lp(w)?w("category"===n.type?v:"value"===n.type?f+"":f,g):w})});if(R.anid="label_"+f,wa({el:R,componentModel:i,itemName:m,formatterParamsExtra:{isTruncated:function(){return R.isTruncated},value:v,tickIndex:g}}),p){var D=T2.makeAxisEventDataBase(i);D.targetType="axisLabel",D.value=v,D.tickIndex=g,"category"===n.type&&(D.dataIndex=f),gF(R).eventData=D}t.add(R),R.updateTransform(),h.push(R),e.add(R),R.decomposeTransform()}),h}}(i,r,t,e);(function(e,t,i){if(!TR(e.axis)){var r=e.get(["axisLabel","showMinLabel"]),n=e.get(["axisLabel","showMaxLabel"]);i=i||[];var o=(t=t||[])[0],s=t[1],a=t[t.length-1],l=t[t.length-2],u=i[0],d=i[1],h=i[i.length-1],c=i[i.length-2];!1===r?(T3(o),T3(u)):T4(o,s)&&(r?(T3(s),T3(d)):(T3(o),T3(u))),!1===n?(T3(a),T3(h)):T4(l,a)&&(n?(T3(l),T3(c)):(T3(a),T3(h)))}})(t,o,n),function(e,t,i,r){var n=i.axis,o=i.getModel("minorTick");if(!(!o.get("show")||n.scale.isBlank())){var s=n.getMinorTicksCoords();if(s.length)for(var a=o.getModel("lineStyle"),l=r*o.get("length"),u=a9(a.getLineStyle(),a9(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),d=0;d<s.length;d++)for(var h=T8(s[d],t.transform,l,u,"minorticks_"+d),c=0;c<h.length;c++)e.add(h[c])}}(i,r,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])&&ED(ET(lo(o,function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}})))},axisName:function(e,t,i,r){var n,o,s=lE(e.axisName,t.get("name"));if(s){var a,l,u,d,h,c,p,g,f,m=t.get("nameLocation"),v=e.nameDirection,y=t.getModel("nameTextStyle"),C=t.get("nameGap")||0,w=t.axis.getExtent(),b=w[0]>w[1]?-1:1,S=["start"===m?w[0]-b*C:"end"===m?w[1]+b*C:(w[0]+w[1])/2,T6(m)?e.labelOffset+v*C:0],x=t.get("nameRotate");null!=x&&(x=x*T1/180),T6(m)?n=T2.innerTextLayout(e.rotation,null!=x?x:e.rotation,v):(a=e.rotation,l=m,u=x||0,d=w,p=cw(u-a),g=d[0]>d[1],f="start"===l&&!g||"start"!==l&&g,cb(p-T1/2)?(c=f?"bottom":"top",h="center"):cb(p-1.5*T1)?(c=f?"top":"bottom",h="center"):(c="middle",h=p<1.5*T1&&p>T1/2?f?"left":"right":f?"right":"left"),n={rotation:p,textAlign:h,textVerticalAlign:c},null!=(o=e.axisNameAvailableWidth)&&(isFinite(o=Math.abs(o/Math.sin(n.rotation)))||(o=null)));var _=y.getFont(),E=t.get("nameTruncate",!0)||{},T=E.ellipsis,M=lE(e.nameTruncateMaxWidth,E.maxWidth,o),R=new gx({x:S[0],y:S[1],rotation:n.rotation,silent:T2.isLabelSilent(t),style:fP(y,{text:s,font:_,overflow:"truncate",width:M,ellipsis:T,fill:y.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:y.get("align")||n.textAlign,verticalAlign:y.get("verticalAlign")||n.textVerticalAlign}),z2:1});if(wa({el:R,componentModel:t,itemName:s}),R.__fullText=s,R.anid="name",t.get("triggerEvent")){var D=T2.makeAxisEventDataBase(t);D.targetType="axisName",D.name=s,gF(R).eventData=D}r.add(R),R.updateTransform(),i.add(R),R.decomposeTransform()}}};function T3(e){e&&(e.ignore=!0)}function T4(e,t){var i=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(i&&r){var n=uI([]);return uN(n,n,-e.rotation),i.applyTransform(uL([],n,e.getLocalTransform())),r.applyTransform(uL([],n,t.getLocalTransform())),i.intersect(r)}}function T6(e){return"middle"===e||"center"===e}function T8(e,t,i,r,n){for(var o=[],s=[],a=[],l=0;l<e.length;l++){var u=e[l].coord;s[0]=u,s[1]=0,a[0]=u,a[1]=i,t&&(ut(s,s,t),ut(a,a,t));var d=new CR({shape:{x1:s[0],y1:s[1],x2:a[0],y2:a[1]},style:r,z2:2,autoBatch:!0,silent:!0});C4(d.shape,d.style.lineWidth),d.anid=n+"_"+e[l].tickValue,o.push(d)}return o}function T9(e,t){return"all"===e||lc(e)&&le(e,t)>=0||e===t}function T7(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Mt(e)]}function Me(e){return!!e.get(["handle","show"])}function Mt(e){return e.type+"||"+e.id}var Mi={},Mr=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(t,i,r,n){this.axisPointerClass&&function(e){var t=T7(e);if(t){var i=t.axisPointerModel,r=t.axis.scale,n=i.option,o=i.get("status"),s=i.get("value");null!=s&&(s=r.parse(s));var a=Me(i);null==o&&(n.status=a?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==s||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),n.value=s,a&&(n.status=t.axis.scale.isBlank()?"hide":"show")}}(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},t.prototype.updateAxisPointer=function(e,t,i,r){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,t){var i=this._axisPointer;i&&i.remove(t)},t.prototype.dispose=function(t,i){this._disposeAxisPointer(i),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,i,r){var n=t.getAxisPointerClass(this.axisPointerClass);if(n){var o,s=(o=T7(e))&&o.axisPointerModel;s?(this._axisPointer||(this._axisPointer=new n)).render(e,s,i,r):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){Mi[e]=t},t.getAxisPointerClass=function(e){return e&&Mi[e]},t.type="axis",t}(yj),Mn=c$();function Mo(e,t,i,r){var n=i.axis;if(!n.scale.isBlank()){var o=i.getModel("splitArea"),s=o.getModel("areaStyle"),a=s.get("color"),l=r.coordinateSystem.getRect(),u=n.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var d=a.length,h=Mn(e).splitAreaColors,c=lG(),p=0;if(h)for(var g=0;g<u.length;g++){var f=h.get(u[g].tickValue);if(null!=f){p=(f+(d-1)*g)%d;break}}var m=n.toGlobalCoord(u[0].coord),v=s.getAreaStyle();a=lc(a)?a:[a];for(var g=1;g<u.length;g++){var y=n.toGlobalCoord(u[g].coord),C=void 0,w=void 0,b=void 0,S=void 0;n.isHorizontal()?(C=m,w=l.y,b=y-C,S=l.height,m=C+b):(C=l.x,w=m,b=l.width,S=y-w,m=w+S);var x=u[g-1].tickValue;null!=x&&c.set(x,p),t.add(new gw({anid:null!=x?"area_"+x:null,shape:{x:C,y:w,width:b,height:S},style:a9({fill:a[p]},v),autoBatch:!0,silent:!0})),p=(p+1)%d}Mn(e).splitAreaColors=c}}}function Ms(e){Mn(e).splitAreaColors=null}var Ma=["axisLine","axisTickLabel","axisName"],Ml=["splitArea","splitLine","minorSplitLine"],Mu=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.axisPointerClass="CartesianAxisPointer",i}return aF(t,e),t.prototype.render=function(t,i,r,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ce,this.group.add(this._axisGroup),t.get("show")){var s=t.getCoordSysModel(),a=T$(s,t),l=new T2(t,a8({handleAutoShown:function(e){for(var i=s.coordinateSystem.getCartesians(),r=0;r<i.length;r++)if(E8(i[r].getOtherAxis(t.axis).scale))return!0;return!1}},a));ln(Ma,l.add,l),this._axisGroup.add(l.getGroup()),ln(Ml,function(e){t.get([e,"show"])&&Md[e](this,this._axisGroup,t,s)},this),n&&"changeAxisOrder"===n.type&&n.isInitSort||wt(o,this._axisGroup,t),e.prototype.render.call(this,t,i,r,n)}},t.prototype.remove=function(){Ms(this)},t.type="cartesianAxis",t}(Mr),Md={splitLine:function(e,t,i,r){var n=i.axis;if(!n.scale.isBlank()){var o=i.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color"),l=!1!==o.get("showMinLine"),u=!1!==o.get("showMaxLine");a=lc(a)?a:[a];for(var d=r.coordinateSystem.getRect(),h=n.isHorizontal(),c=0,p=n.getTicksCoords({tickModel:o}),g=[],f=[],m=s.getLineStyle(),v=0;v<p.length;v++){var y=n.toGlobalCoord(p[v].coord);if((0!==v||l)&&(v!==p.length-1||u)){var C=p[v].tickValue;h?(g[0]=y,g[1]=d.y,f[0]=y,f[1]=d.y+d.height):(g[0]=d.x,g[1]=y,f[0]=d.x+d.width,f[1]=y);var w=c++%a.length,b=new CR({anid:null!=C?"line_"+C:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:f[0],y2:f[1]},style:a9({stroke:a[w]},m),silent:!0});C4(b.shape,m.lineWidth),t.add(b)}}}},minorSplitLine:function(e,t,i,r){var n=i.axis,o=i.getModel("minorSplitLine").getModel("lineStyle"),s=r.coordinateSystem.getRect(),a=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var u=[],d=[],h=o.getLineStyle(),c=0;c<l.length;c++)for(var p=0;p<l[c].length;p++){var g=n.toGlobalCoord(l[c][p].coord);a?(u[0]=g,u[1]=s.y,d[0]=g,d[1]=s.y+s.height):(u[0]=s.x,u[1]=g,d[0]=s.x+s.width,d[1]=g);var f=new CR({anid:"minor_line_"+l[c][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:h,silent:!0});C4(f.shape,h.lineWidth),t.add(f)}},splitArea:function(e,t,i,r){Mo(e,t,i,r)}},Mh=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="xAxis",t}(Mu),Mc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Mh.type,t}return aF(t,e),t.type="yAxis",t}(Mu),Mp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return aF(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new gw({shape:e.coordinateSystem.getRect(),style:a9({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(yj),Mg={offset:0};function Mf(e){e.registerComponentView(Mp),e.registerComponentModel(Ej),e.registerCoordinateSystem("cartesian2d",TZ),E3(e,"x",EK,Mg),E3(e,"y",EK,Mg),e.registerComponentView(Mh),e.registerComponentView(Mc),e.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function Mm(e){e.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],r=e.coordinateSystem;if(r){var n=r.getIndicatorAxes();ln(n,function(e,o){t.each(t.mapDimension(n[o].dim),function(e,t){i[t]=i[t]||[];var n,s=r.dataToPoint(e,o);i[t][o]=Mv(s)?s:[(n=r).cx,n.cy]})}),t.each(function(e){var n,o=ll(i[e],function(e){return Mv(e)})||[(n=r).cx,n.cy];i[e].push(o.slice()),t.setItemLayout(e,i[e])})}})}function Mv(e){return!isNaN(e[0])&&!isNaN(e[1])}function My(e){var t=e.polar;if(t){lc(t)||(t=[t]);var i=[];ln(t,function(t,r){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],lc(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):i.push(t)}),e.polar=i}ln(e.series,function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})}e.i(97505),e.s(["Arc",0,Ck,"BezierCurve",0,CP,"BoundingRect",0,uY,"Circle",0,Cr,"CompoundPath",0,CN,"Ellipse",0,Co,"Group",0,ce,"Image",0,gp,"IncrementalDisplayable",0,Cj,"Line",0,CR,"LinearGradient",0,CO,"OrientedBoundingRect",0,CW,"Path",0,gl,"Point",0,uV,"Polygon",0,Cx,"Polyline",0,CE,"RadialGradient",0,CG,"Rect",0,gw,"Ring",0,Cw,"Sector",0,Cy,"Text",0,gx,"applyTransform",()=>C7,"clipPointsByRect",()=>wi,"clipRectByRect",()=>wr,"createIcon",()=>wn,"extendPath",()=>CZ,"extendShape",()=>Cq,"getShapeClass",()=>CJ,"getTransform",()=>C9,"groupTransition",()=>wt,"initProps",()=>fb,"isElementRemoved",()=>fS,"lineLineIntersect",()=>ws,"linePolygonIntersect",()=>wo,"makeImage",()=>C1,"makePath",()=>C0,"mergePath",()=>C5,"registerShape",()=>CQ,"removeElement",()=>fx,"removeElementWithFadeOut",()=>fE,"resizePath",()=>C3,"setTooltipConfig",()=>wa,"subPixelOptimize",()=>C8,"subPixelOptimizeLine",()=>C4,"subPixelOptimizeRect",()=>C6,"transformDirection",()=>we,"traverseElements",()=>wu,"updateProps",()=>fw],55078);var MC=e.i(55078),Mw=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){var r=e.coordinateSystem,n=this.group,o=e.getData(),s=this._data;function a(t,i,r,n,o,s){r.removeAll();for(var a=0;a<i.length-1;a++){var l=function(e,t){var i=e.getItemVisual(t,"symbol")||"circle";if("none"!==i){var r=bl(e.getItemVisual(t,"symbolSize")),n=ba(i,-1,-1,2,2),o=e.getItemVisual(t,"symbolRotate")||0;return n.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:o*Math.PI/180||0}),n}}(n,o);l&&(l.__dimIdx=a,t[a]?(l.setPosition(t[a]),MC[s?"initProps":"updateProps"](l,{x:i[a][0],y:i[a][1]},e,o)):l.setPosition(i[a]),r.add(l))}}function l(e){return lo(e,function(e){return[r.cx,r.cy]})}o.diff(s).add(function(t){var i=o.getItemLayout(t);if(i){var r=new MC.Polygon,n=new MC.Polyline,s={shape:{points:i}};r.shape.points=l(i),n.shape.points=l(i),MC.initProps(r,s,e,t),MC.initProps(n,s,e,t);var u=new MC.Group,d=new MC.Group;u.add(n),u.add(r),u.add(d),a(n.shape.points,i,d,o,t,!0),o.setItemGraphicEl(t,u)}}).update(function(t,i){var r=s.getItemGraphicEl(i),n=r.childAt(0),l=r.childAt(1),u=r.childAt(2),d={shape:{points:o.getItemLayout(t)}};d.shape.points&&(a(n.shape.points,d.shape.points,u,o,t,!1),fT(l),fT(n),MC.updateProps(n,d,e),MC.updateProps(l,d,e),o.setItemGraphicEl(t,r))}).remove(function(e){n.remove(s.getItemGraphicEl(e))}).execute(),o.eachItemGraphicEl(function(e,t){var i=o.getItemModel(t),r=e.childAt(0),s=e.childAt(1),a=e.childAt(2),l=o.getItemVisual(t,"style"),u=l.fill;n.add(e),r.useStyle(a9(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),fc(r,i,"lineStyle"),fc(s,i,"areaStyle");var d=i.getModel("areaStyle"),h=d.isEmpty()&&d.parentModel.isEmpty();s.ignore=h,ln(["emphasis","select","blur"],function(e){var t=i.getModel([e,"areaStyle"]),r=t.isEmpty()&&t.parentModel.isEmpty();s.ensureState(e).ignore=r&&h}),s.useStyle(a9(d.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var c=i.getModel("emphasis"),p=c.getModel("itemStyle").getItemStyle();a.eachChild(function(e){if(e instanceof gp){var r=e.style;e.useStyle(a8({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},l))}else e.useStyle(l),e.setColor(u),e.style.strokeNoScale=!0;e.ensureState("emphasis").style=a3(p);var n=o.getStore().get(o.getDimensionIndex(e.__dimIdx),t);(null==n||isNaN(n))&&(n=""),fA(e,fI(i),{labelFetcher:o.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:n,inheritColor:u,defaultOpacity:l.opacity})}),fl(e,c.get("focus"),c.get("blurScope"),c.get("disabled"))}),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(wc),Mb=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return aF(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new EO(ld(this.getData,this),ld(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return EF(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,i){var r=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(e),s=""===o?this.name:o,a=yA(this,e);return yx("section",{header:s,sortBlocks:!0,blocks:lo(n,function(t){var i=r.get(r.mapDimension(t.dim),e);return yx("nameValue",{markerType:"subItem",markerColor:a,name:t.name,value:i,sortParam:i})})})},t.prototype.getTooltipPosition=function(e){if(null!=e){for(var t=this.getData(),i=this.coordinateSystem,r=t.getValues(lo(i.dimensions,function(e){return t.mapDimension(e)}),e),n=0,o=r.length;n<o;n++)if(!isNaN(r[n])){var s=i.getIndicatorAxes();return i.coordToPoint(s[n].dataToCoord(r[n]),n)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(yO),MS=EJ.value;function Mx(e,t){return a9({show:t},e)}var M_=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),i=this.get("scale"),r=this.get("axisLine"),n=this.get("axisTick"),o=this.get("axisLabel"),s=this.get("axisName"),a=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),d=this.get("triggerEvent"),h=lo(this.get("indicator")||[],function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var c=s;null!=h.color&&(c=a9({color:h.color},s));var p=a4(a3(h),{boundaryGap:e,splitNumber:t,scale:i,axisLine:r,axisTick:n,axisLabel:o,name:h.text,showName:a,nameLocation:"end",nameGap:u,nameTextStyle:c,triggerEvent:d},!1);if(lg(l)){var g=p.name;p.name=l.replace("{value}",null!=g?g:"")}else lp(l)&&(p.name=l(p.name,p));var f=new fQ(p,null,this.ecModel);return li(f,E$.prototype),f.mainType="radar",f.componentIndex=this.componentIndex,f},this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:a4({lineStyle:{color:"#bbb"}},MS.axisLine),axisLabel:Mx(MS.axisLabel,!1),axisTick:Mx(MS.axisTick,!1),splitLine:Mx(MS.splitLine,!0),splitArea:Mx(MS.splitArea,!0),indicator:[]},t}(mB),ME=["axisLine","axisTickLabel","axisName"],MT=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var t=e.coordinateSystem;ln(lo(t.getIndicatorAxes(),function(e){var i=e.model.get("showName")?e.name:"";return new T2(e.model,{axisName:i,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(e){ln(ME,e.add,e),this.group.add(e.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,i=t.getIndicatorAxes();if(i.length){var r=e.get("shape"),n=e.getModel("splitLine"),o=e.getModel("splitArea"),s=n.getModel("lineStyle"),a=o.getModel("areaStyle"),l=n.get("show"),u=o.get("show"),d=s.get("color"),h=a.get("color"),c=lc(d)?d:[d],p=lc(h)?h:[h],g=[],f=[];if("circle"===r)for(var m=i[0].getTicksCoords(),v=t.cx,y=t.cy,C=0;C<m.length;C++){if(l){var w=R(g,c,C);g[w].push(new Cr({shape:{cx:v,cy:y,r:m[C].coord}}))}if(u&&C<m.length-1){var w=R(f,p,C);f[w].push(new Cw({shape:{cx:v,cy:y,r0:m[C].coord,r:m[C+1].coord}}))}}else for(var b,S=lo(i,function(e,i){var r=e.getTicksCoords();return b=null==b?r.length-1:Math.min(r.length-1,b),lo(r,function(e){return t.coordToPoint(e.coord,i)})}),x=[],C=0;C<=b;C++){for(var _=[],E=0;E<i.length;E++)_.push(S[E][C]);if(_[0]&&_.push(_[0].slice()),l){var w=R(g,c,C);g[w].push(new CE({shape:{points:_}}))}if(u&&x){var w=R(f,p,C-1);f[w].push(new Cx({shape:{points:_.concat(x)}}))}x=_.slice().reverse()}var T=s.getLineStyle(),M=a.getAreaStyle();ln(f,function(e,t){this.group.add(C5(e,{style:a9({stroke:"none",fill:p[t%p.length]},M),silent:!0}))},this),ln(g,function(e,t){this.group.add(C5(e,{style:a9({fill:"none",stroke:c[t%c.length]},T),silent:!0}))},this)}function R(e,t,i){var r=i%t.length;return e[r]=e[r]||[],r}},t.type="radar",t}(yj),MM=function(e){function t(t,i,r){var n=e.call(this,t,i,r)||this;return n.type="value",n.angle=0,n.name="",n}return aF(t,e),t}(TW),MR=function(){function e(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=lo(e.getIndicatorModels(),function(e,t){var i="indicator_"+t,r=new MM(i,new Tn);return r.name=e.get("name"),r.model=e,e.axis=r,this.dimensions.push(i),r},this),this.resize(e,i)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var i=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(i),this.cy-e*Math.sin(i)]},e.prototype.pointToData=function(e){var t,i=e[0]-this.cx,r=e[1]-this.cy,n=Math.sqrt(i*i+r*r);i/=n;for(var o=Math.atan2(-(r/=n),i),s=1/0,a=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],d=Math.abs(o-u.angle);d<s&&(t=u,a=l,s=d)}return[a,+(t&&t.coordToData(n))]},e.prototype.resize=function(e,t){var i=e.get("center"),r=t.getWidth(),n=t.getHeight(),o=Math.min(r,n)/2;this.cx=cc(i[0],r),this.cy=cc(i[1],n),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(lg(s)||lm(s))&&(s=[0,s]),this.r0=cc(s[0],o),this.r=cc(s[1],o),ln(this._indicatorAxes,function(e,t){e.setExtent(this.r0,this.r);var i=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;e.angle=Math.atan2(Math.sin(i),Math.cos(i))},this)},e.prototype.update=function(e,t){var i=this._indicatorAxes,r=this._model;ln(i,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(t,n){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===r){var o=t.getData();ln(i,function(e){e.scale.unionExtentFromData(o,o.mapDimension(e.dim))})}},this);var n=r.get("splitNumber"),o=new Tn;o.setExtent(0,n),o.setInterval(1),ln(i,function(e,t){TX(e.scale,e.model,o)})},e.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.create=function(t,i){var r=[];return t.eachComponent("radar",function(n){var o=new e(n,t,i);r.push(o),n.coordinateSystem=o}),t.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("radarIndex")||0])}),r},e.dimensions=[],e}();function MD(e){e.registerCoordinateSystem("radar",MR),e.registerComponentModel(M_),e.registerComponentView(MT),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(e){t.setItemVisual(e,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var MA="\0_ec_interaction_mutex";function MI(e){return e[MA]||(e[MA]={})}Sf({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},lW);var MP=function(e){function t(t){var i=e.call(this)||this;i._zr=t;var r=ld(i._mousedownHandler,i),n=ld(i._mousemoveHandler,i),o=ld(i._mouseupHandler,i),s=ld(i._mousewheelHandler,i),a=ld(i._pinchHandler,i);return i.enable=function(e,i){this.disable(),this._opt=a9(a3(i)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),(!0===e||"move"===e||"pan"===e)&&(t.on("mousedown",r),t.on("mousemove",n),t.on("mouseup",o)),(!0===e||"scale"===e||"zoom"===e)&&(t.on("mousewheel",s),t.on("pinch",a))},i.disable=function(){t.off("mousedown",r),t.off("mousemove",n),t.off("mouseup",o),t.off("mousewheel",s),t.off("pinch",a)},i}return aF(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!uT(e)){for(var t=e.target;t;){if(t.draggable)return;t=t.__hostTarget||t.parent}var i=e.offsetX,r=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,r)&&(this._x=i,this._y=r,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!MN("moveOnMouseMove",e,this._opt)||"pinch"===e.gestureEvent||MI(this._zr).globalPan)){var t=e.offsetX,i=e.offsetY,r=this._x,n=this._y;this._x=t,this._y=i,this._opt.preventDefaultMouseMove&&uE(e.event),Mk(this,"pan","moveOnMouseMove",e,{dx:t-r,dy:i-n,oldX:r,oldY:n,newX:t,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){uT(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=MN("zoomOnMouseWheel",e,this._opt),i=MN("moveOnMouseWheel",e,this._opt),r=e.wheelDelta,n=Math.abs(r),o=e.offsetX,s=e.offsetY;if(0!==r&&(t||i)){if(t){var a=n>3?1.4:n>1?1.2:1.1;ML(this,"zoom","zoomOnMouseWheel",e,{scale:r>0?a:1/a,originX:o,originY:s,isAvailableBehavior:null})}if(i){var l=Math.abs(r);ML(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(r>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:s,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!MI(this._zr).globalPan){var t=e.pinchScale>1?1.1:1/1.1;ML(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(us);function ML(e,t,i,r,n){e.pointerChecker&&e.pointerChecker(r,n.originX,n.originY)&&(uE(r.event),Mk(e,t,i,r,n))}function Mk(e,t,i,r,n){n.isAvailableBehavior=ld(MN,null,i,r),e.trigger(t,n)}function MN(e,t,i){var r=i[e];return!e||r&&(!lg(r)||t.event[r+"Key"])}function MF(e,t,i){var r=e.target;r.x+=t,r.y+=i,r.dirty()}function MO(e,t,i,r){var n=e.target,o=e.zoomLimit,s=e.zoom=e.zoom||1;if(s*=t,o){var a=o.min||0;s=Math.max(Math.min(o.max||1/0,s),a)}var l=s/e.zoom;e.zoom=s,n.x-=(i-n.x)*(l-1),n.y-=(r-n.y)*(l-1),n.scaleX*=l,n.scaleY*=l,n.dirty()}var MG={axisPointer:1,tooltip:1,brush:1};function MV(e,t,i){var r=t.getComponentByElement(e.topTarget),n=r&&r.coordinateSystem;return r&&r!==i&&!MG.hasOwnProperty(r.mainType)&&n&&n.model!==i}function MB(e){lg(e)&&(e=new DOMParser().parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var MH={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Mz=lu(MH),MW={"alignment-baseline":"textBaseline","stop-color":"stopColor"},MU=lu(MW),Mj=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var i,r,n=MB(e);this._defsUsePending=[];var o=new ce;this._root=o;var s=[],a=n.getAttribute("viewBox")||"",l=parseFloat(n.getAttribute("width")||t.width),u=parseFloat(n.getAttribute("height")||t.height);isNaN(l)&&(l=null),isNaN(u)&&(u=null),MZ(n,o,null,!0,!1);for(var d=n.firstChild;d;)this._parseNode(d,o,s,null,!1,!1),d=d.nextSibling;if(function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r[0].style[r[1]]=e[r[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var h=M1(a);h.length>=4&&(i={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(i&&null!=l&&null!=u&&(r=M6(i,{x:0,y:0,width:l,height:u}),!t.ignoreViewBox)){var c=o;(o=new ce).add(c),c.scaleX=c.scaleY=r.scale,c.x=r.x,c.y=r.y}return t.ignoreRootClip||null==l||null==u||o.setClipPath(new gw({shape:{x:0,y:0,width:l,height:u}})),{root:o,width:l,height:u,viewBoxRect:i,viewBoxTransform:r,named:s}},e.prototype._parseNode=function(e,t,i,r,n,o){var s,a=e.nodeName.toLowerCase(),l=r;if("defs"===a&&(n=!0),"text"===a&&(o=!0),"defs"===a||"switch"===a)s=t;else{if(!n){var u=eR[a];if(u&&lz(eR,a)){s=u.call(this,e,t);var d=e.getAttribute("name");if(d){var h={name:d,namedFrom:null,svgNodeTagLower:a,el:s};i.push(h),"g"===a&&(l=h)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:a,el:s});t.add(s)}}var c=M$[a];if(c&&lz(M$,a)){var p=c.call(this,e),g=e.getAttribute("id");g&&(this._defs[g]=p)}}if(s&&s.isGroup)for(var f=e.firstChild;f;)1===f.nodeType?this._parseNode(f,s,i,l,n,o):3===f.nodeType&&o&&this._parseText(f,s),f=f.nextSibling},e.prototype._parseText=function(e,t){var i=new gd({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Mq(t,i),MZ(e,i,this._defsUsePending,!1,!1),function(e,t){var i=t.__selfStyle;if(i){var r=i.textBaseline,n=r;r&&"auto"!==r?"baseline"===r?n="alphabetic":"before-edge"===r||"text-before-edge"===r?n="top":"after-edge"===r||"text-after-edge"===r?n="bottom":("central"===r||"mathematical"===r)&&(n="middle"):n="alphabetic",e.style.textBaseline=n}var o=t.__inheritedStyle;if(o){var s=o.textAlign,a=s;s&&("middle"===s&&(a="center"),e.style.textAlign=a)}}(i,t);var r=i.style,n=r.fontSize;n&&n<9&&(r.fontSize=9,i.scaleX*=n/9,i.scaleY*=n/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=o;var s=i.getBoundingRect();return this._textX+=s.width,t.add(i),i},e.internalField=void(eR={g:function(e,t){var i=new ce;return Mq(t,i),MZ(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new gw;return Mq(t,i),MZ(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new Cr;return Mq(t,i),MZ(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new CR;return Mq(t,i),MZ(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new Co;return Mq(t,i),MZ(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var i,r=e.getAttribute("points");r&&(i=MX(r));var n=new Cx({shape:{points:i||[]},silent:!0});return Mq(t,n),MZ(e,n,this._defsUsePending,!1,!1),n},polyline:function(e,t){var i,r=e.getAttribute("points");r&&(i=MX(r));var n=new CE({shape:{points:i||[]},silent:!0});return Mq(t,n),MZ(e,n,this._defsUsePending,!1,!1),n},image:function(e,t){var i=new gp;return Mq(t,i),MZ(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",n=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(n),this._textY=parseFloat(r)+parseFloat(o);var s=new ce;return Mq(t,s),MZ(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var i=e.getAttribute("x"),r=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var n=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0",s=new ce;return Mq(t,s),MZ(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(n),this._textY+=parseFloat(o),s},path:function(e,t){var i=new y9(Ce(e.getAttribute("d")||"",void 0));return Mq(t,i),MZ(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),e}(),M$={lineargradient:function(e){var t=new CO(parseInt(e.getAttribute("x1")||"0",10),parseInt(e.getAttribute("y1")||"0",10),parseInt(e.getAttribute("x2")||"10",10),parseInt(e.getAttribute("y2")||"0",10));return MK(e,t),MY(e,t),t},radialgradient:function(e){var t=new CG(parseInt(e.getAttribute("cx")||"0",10),parseInt(e.getAttribute("cy")||"0",10),parseInt(e.getAttribute("r")||"0",10));return MK(e,t),MY(e,t),t}};function MK(e,t){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(t.global=!0)}function MY(e,t){for(var i=e.firstChild;i;){if(1===i.nodeType&&"stop"===i.nodeName.toLocaleLowerCase()){var r=i.getAttribute("offset"),n=void 0;n=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var o={};M4(i,o,o);var s=o.stopColor||i.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:n,color:s})}i=i.nextSibling}}function Mq(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),a9(t.__inheritedStyle,e.__inheritedStyle))}function MX(e){for(var t=M1(e),i=[],r=0;r<t.length;r+=2){var n=parseFloat(t[r]),o=parseFloat(t[r+1]);i.push([n,o])}return i}function MZ(e,t,i,r,n){var o=t.__inheritedStyle=t.__inheritedStyle||{},s={};1===e.nodeType&&(function(e,t){var i=e.getAttribute("transform");if(i){i=i.replace(/,/g," ");var r=[],n=null;i.replace(M2,function(e,t,i){return r.push(t,i),""});for(var o=r.length-1;o>0;o-=2){var s=r[o],a=r[o-1],l=M1(s);switch(n=n||uA(),a){case"translate":uk(n,n,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":uF(n,n,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":uN(n,n,-parseFloat(l[0])*M5,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":uL(n,[1,0,Math.tan(parseFloat(l[0])*M5),1,0,0],n);break;case"skewY":uL(n,[1,Math.tan(parseFloat(l[0])*M5),0,1,0,0],n);break;case"matrix":n[0]=parseFloat(l[0]),n[1]=parseFloat(l[1]),n[2]=parseFloat(l[2]),n[3]=parseFloat(l[3]),n[4]=parseFloat(l[4]),n[5]=parseFloat(l[5])}}t.setLocalTransform(n)}}(e,t),M4(e,o,s),r||function(e,t,i){for(var r=0;r<Mz.length;r++){var n=Mz[r],o=e.getAttribute(n);null!=o&&(t[MH[n]]=o)}for(var r=0;r<MU.length;r++){var n=MU[r],o=e.getAttribute(n);null!=o&&(i[MW[n]]=o)}}(e,o,s)),t.style=t.style||{},null!=o.fill&&(t.style.fill=MJ(t,"fill",o.fill,i)),null!=o.stroke&&(t.style.stroke=MJ(t,"stroke",o.stroke,i)),ln(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(e){null!=o[e]&&(t.style[e]=parseFloat(o[e]))}),ln(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(e){null!=o[e]&&(t.style[e]=o[e])}),n&&(t.__selfStyle=s),o.lineDash&&(t.style.lineDash=lo(M1(o.lineDash),function(e){return parseFloat(e)})),("hidden"===o.visibility||"collapse"===o.visibility)&&(t.invisible=!0),"none"===o.display&&(t.ignore=!0)}var MQ=/^url\(\s*#(.*?)\)/;function MJ(e,t,i,r){var n=i&&i.match(MQ);if(n){var o=lI(n[1]);r.push([e,t,o]);return}return"none"===i&&(i=null),i}var M0=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function M1(e){return e.match(M0)||[]}var M2=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,M5=Math.PI/180,M3=/([^\s:;]+)\s*:\s*([^:;]+)/g;function M4(e,t,i){var r,n=e.getAttribute("style");if(n)for(M3.lastIndex=0;null!=(r=M3.exec(n));){var o=r[1],s=lz(MH,o)?MH[o]:null;s&&(t[s]=r[2]);var a=lz(MW,o)?MW[o]:null;a&&(i[a]=r[2])}}function M6(e,t){var i=Math.min(t.width/e.width,t.height/e.height);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function M8(e,t){return 1e-8>Math.abs(e-t)}function M9(e,t,i){var r=0,n=e[0];if(!n)return!1;for(var o=1;o<e.length;o++){var s=e[o];r+=p7(n[0],n[1],s[0],s[1],t,i),n=s}var a=e[0];return M8(n[0],a[0])&&M8(n[1],a[1])||(r+=p7(n[0],n[1],a[0],a[1],t,i)),0!==r}var M7=[];function Re(e,t){for(var i=0;i<e.length;i++)ut(e[i],e[i],t)}function Rt(e,t,i,r){for(var n=0;n<e.length;n++){var o=e[n];r&&(o=r.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(ui(t,t,o),ur(i,i,o))}}var Ri=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),Rr=function(e,t){this.type="polygon",this.exterior=e,this.interiors=t},Rn=function(e){this.type="linestring",this.points=e},Ro=function(e){function t(t,i,r){var n=e.call(this,t)||this;return n.type="geoJSON",n.geometries=i,n._center=r&&[r[0],r[1]],n}return aF(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,i=0,r=0;r<t.length;r++){var n=t[r],o=n.exterior,s=o&&o.length;s>i&&(e=n,i=s)}if(e)return function(e){for(var t=0,i=0,r=0,n=e.length,o=e[n-1][0],s=e[n-1][1],a=0;a<n;a++){var l=e[a][0],u=e[a][1],d=o*u-l*s;t+=d,i+=(o+l)*d,r+=(s+u)*d,o=l,s=u}return t?[i/t/3,r/t/3,t]:[e[0][0]||0,e[0][1]||0]}(e.exterior);var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var i=[1/0,1/0],r=[-1/0,-1/0];return ln(this.geometries,function(t){"polygon"===t.type?Rt(t.exterior,i,r,e):ln(t.points,function(t){Rt(t,i,r,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])||(i[0]=i[1]=r[0]=r[1]=0),t=new uY(i[0],i[1],r[0]-i[0],r[1]-i[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),i=this.geometries;if(!t.contain(e[0],e[1]))return!1;n:for(var r=0,n=i.length;r<n;r++){var o=i[r];if("polygon"===o.type){var s=o.exterior,a=o.interiors;if(M9(s,e[0],e[1])){for(var l=0;l<(a?a.length:0);l++)if(M9(a[l],e[0],e[1]))continue n;return!0}}}return!1},t.prototype.transformTo=function(e,t,i,r){var n=this.getBoundingRect(),o=n.width/n.height;i?r||(r=i/o):i=o*r;for(var s=new uY(e,t,i,r),a=n.calculateTransform(s),l=this.geometries,u=0;u<l.length;u++){var d=l[u];"polygon"===d.type?(Re(d.exterior,a),ln(d.interiors,function(e){Re(e,a)})):ln(d.points,function(e){Re(e,a)})}(n=this._rect).copy(s),this._center=[n.x+n.width/2,n.y+n.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var i=new t(e,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},t}(Ri),Rs=function(e){function t(t,i){var r=e.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return aF(t,e),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,t=e.getBoundingRect(),i=[t.x+t.width/2,t.y+t.height/2],r=uI(M7),n=e;n&&!n.isGeoSVGGraphicRoot;)uL(r,n.getLocalTransform(),r),n=n.parent;return uO(r,r),ut(i,i,r),i},t}(Ri),Ra=lG(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Rl=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=lG(),this._freedGraphics=[],this._mapName=e,this._parsedXML=MB(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t,i,r,n=(t=e.named,i=[],r=lG(),ln(t,function(e){if(null==e.namedFrom){var t=new Rs(e.name,e.el);i.push(t),r.set(e.name,t)}}),{regions:i,regionsMap:r}),o=n.regions,s=n.regionsMap;this._regions=o,this._regionsMap=s}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){try{var t;r=(i=e&&(t={ignoreViewBox:!0,ignoreRootClip:!0},new Mj().parse(e,t))||{}).root,lA(null!=r)}catch(e){throw Error("Invalid svg format\n"+e.message)}var i,r,n=new ce;n.add(r),n.isGeoSVGGraphicRoot=!0;var o=i.width,s=i.height,a=i.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,d=void 0,h=void 0,c=void 0;if(null!=o?(u=0,h=o):a&&(u=a.x,h=a.width),null!=s?(d=0,c=s):a&&(d=a.y,c=a.height),null==u||null==d){var p=r.getBoundingRect();null==u&&(u=p.x,h=p.width),null==d&&(d=p.y,c=p.height)}l=this._boundingRect=new uY(u,d,h,c)}if(a){var g=M6(a,l);r.scaleX=r.scaleY=g.scale,r.x=g.x,r.y=g.y}n.setClipPath(new gw({shape:l.plain()}));var f=[];return ln(i.named,function(e){var t;null!=Ra.get(e.svgNodeTagLower)&&(f.push(e),(t=e.el).silent=!1,t.isGroup&&t.traverse(function(e){e.silent=!1}))}),{root:n,boundingRect:l,named:f}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i)),i},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},e}();function Ru(e,t,i){for(var r=0;r<e.length;r++)e[r]=Rd(e[r],t[r],i)}function Rd(e,t,i){for(var r=[],n=t[0],o=t[1],s=0;s<e.length;s+=2){var a=e.charCodeAt(s)-64,l=e.charCodeAt(s+1)-64;l=l>>1^-(1&l),a=(a>>1^-(1&a))+n,l+=o,n=a,o=l,r.push([a/i,l/i])}return r}function Rh(e,t){return lo(la((e=function(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;return null==t&&(t=1024),ln(e.features,function(e){var i=e.geometry,r=i.encodeOffsets,n=i.coordinates;if(r)switch(i.type){case"LineString":i.coordinates=Rd(n,r,t);break;case"Polygon":case"MultiLineString":Ru(n,r,t);break;case"MultiPolygon":ln(n,function(e,i){return Ru(e,r[i],t)})}}),e.UTF8Encoding=!1,e}(e)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var i=e.properties,r=e.geometry,n=[];switch(r.type){case"Polygon":var o=r.coordinates;n.push(new Rr(o[0],o.slice(1)));break;case"MultiPolygon":ln(r.coordinates,function(e){e[0]&&n.push(new Rr(e[0],e.slice(1)))});break;case"LineString":n.push(new Rn([r.coordinates]));break;case"MultiLineString":n.push(new Rn(r.coordinates))}var s=new Ro(i[t||"name"],n,i.cp);return s.properties=i,s})}for(var Rc=[126,25],Rp="å—æµ·è¯¸å²›",Rg=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Rf=0;Rf<Rg.length;Rf++)for(var Rm=0;Rm<Rg[Rf].length;Rm++)Rg[Rf][Rm][0]/=10.5,Rg[Rf][Rm][1]/=-14,Rg[Rf][Rm][0]+=Rc[0],Rg[Rf][Rm][1]+=Rc[1];var Rv={å—æµ·è¯¸å²›:[32,80],å¹¿ä¸œ:[0,-10],é¦™æ¸¯:[10,5],æ¾³é—¨:[-10,10],å¤©æ´¥:[5,5]},Ry=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],RC=function(){function e(e,t,i){var r;this.type="geoJSON",this._parsedMap=lG(),this._mapName=e,this._specialAreas=i,this._geoJSON=lg(r=t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(r):Function("return ("+r+");")():r}return e.prototype.load=function(e,t){t=t||"name";var i=this._parsedMap.get(t);if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:function(e){for(var t,i=0;i<e.length;i++){var r=e[i].getBoundingRect();(t=t||r.clone()).union(r)}return t}(r)})}var n=lG(),o=[];return ln(i.regions,function(t){var i=t.name;e&&lz(e,i)&&(t=t.cloneShallow(i=e[i])),o.push(t),n.set(i,t)}),{regions:o,boundingRect:i.boundingRect||new uY(0,0,0,0),regionsMap:n}},e.prototype._parseToRegions=function(e){var t,i=this._mapName,r=this._geoJSON;try{t=r?Rh(r,e):[]}catch(e){throw Error("Invalid geoJson format\n"+e.message)}return!function(e,t){if("china"===e){for(var i=0;i<t.length;i++)if(t[i].name===Rp)return;t.push(new Ro(Rp,lo(Rg,function(e){return{type:"polygon",exterior:e}}),Rc))}}(i,t),ln(t,function(e){var t=e.name;if("china"===i){var r=Rv[e.name];if(r){var n=e.getCenter();n[0]+=r[0]/10.5,n[1]+=-r[1]/14,e.setCenter(n)}}"china"===i&&"å°æ¹¾"===e.name&&e.geometries.push({type:"polygon",exterior:Ry[0]});var o=this._specialAreas&&this._specialAreas[t];o&&e.transformTo(o.left,o.top,o.width,o.height)},this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}(),Rw=lG();let Rb=function(e,t,i){if(t.svg){var r=new Rl(e,t.svg);Rw.set(e,r)}else{var n=t.geoJson||t.geoJSON;n&&!t.features?i=t.specialAreas:n=t;var r=new RC(e,n,i);Rw.set(e,r)}},RS=function(e){return Rw.get(e)},Rx=function(e){var t=Rw.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},R_=function(e,t,i){var r=Rw.get(e);return r?r.load(t,i):void 0};var RE=["rect","circle","line","ellipse","polygon","polyline","path"],RT=lG(RE),RM=lG(RE.concat(["g"])),RR=lG(RE.concat(["g"])),RD=c$();function RA(e){var t=e.getItemStyle(),i=e.get("areaColor");return null!=i&&(t.fill=i),t}function RI(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var RP=function(){function e(e){var t=new ce;this.uid=f0("ec_map_draw"),this._controller=new MP(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new ce),t.add(this._svgGroup=new ce)}return e.prototype.draw=function(e,t,i,r,n){var o="geo"===e.mainType,s=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},function(t){s||t.getHostGeoModel()!==e||(s=t.getData())});var a=e.coordinateSystem,l=this._regionsGroup,u=this.group,d=a.getTransformInfo(),h=d.raw,c=d.roam;!l.childAt(0)||n?(u.x=c.x,u.y=c.y,u.scaleX=c.scaleX,u.scaleY=c.scaleY,u.dirty()):fw(u,c,e);var p=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,g={api:i,geo:a,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:p,isGeo:o,transformInfoRaw:h};"geoJSON"===a.resourceType?this._buildGeoJSON(g):"geoSVG"===a.resourceType&&this._buildSVG(g),this._updateController(e,t,i),this._updateMapSelectHandler(e,l,i,r)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=lG(),i=lG(),r=this._regionsGroup,n=e.transformInfoRaw,o=e.mapOrGeoModel,s=e.data,a=e.geo.projection,l=a&&a.stream;function u(e,t){return t&&(e=t(e)),e&&[e[0]*n.scaleX+n.x,e[1]*n.scaleY+n.y]}function d(e){return{shape:{points:function(e){for(var t=[],i=!l&&a&&a.project,r=0;r<e.length;++r){var n=u(e[r],i);n&&t.push(n)}return t}(e)}}}r.removeAll(),ln(e.geo.regions,function(n){var h=n.name,c=t.get(h),p=i.get(h)||{},g=p.dataIdx,f=p.regionModel;if(!c){c=t.set(h,new ce),r.add(c),g=s?s.indexOfName(h):null;var m=(f=e.isGeo?o.getRegionModel(h):s?s.getItemModel(g):null).get("silent",!0);null!=m&&(c.silent=m),i.set(h,{dataIdx:g,regionModel:f})}var v=[],y=[];ln(n.geometries,function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);l&&(t=RG(t,l)),ln(t,function(e){v.push(new Cx(d(e)))})}else{var i=e.points;l&&(i=RG(i,l,!0)),ln(i,function(e){y.push(new CE(d(e)))})}});var C=u(n.getCenter(),a&&a.project);function w(t,i){if(t.length){var r=new CN({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});c.add(r),RL(e,r,g,f),Rk(e,r,h,f,o,g,C),i&&(RI(r),ln(r.states,RI))}}w(v),w(y,!0)}),t.each(function(t,r){var n=i.get(r),s=n.dataIdx,a=n.regionModel;RN(e,t,r,a,o,s),RF(e,t,r,a,o),RO(e,t,r,a,o)},this)},e.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=lG(),n=!1;ln(this._svgGraphicRecord.named,function(t){var i=t.name,o=e.mapOrGeoModel,s=e.data,a=t.svgNodeTagLower,l=t.el,u=s?s.indexOfName(i):null,d=o.getRegionModel(i);null!=RT.get(a)&&l instanceof p_&&RL(e,l,u,d),l instanceof p_&&(l.culling=!0);var h=d.get("silent",!0);null!=h&&(l.silent=h),l.z2EmphasisLift=0,t.namedFrom||(null!=RR.get(a)&&Rk(e,l,i,d,o,u,null),RN(e,l,i,d,o,u),RF(e,l,i,d,o),null!=RM.get(a)&&("self"===RO(e,l,i,d,o)&&(n=!0),(r.get(i)||r.set(i,[])).push(l)))},this),this._enableBlurEntireSVG(n,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var i=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(e){if(!e.isGroup){g6(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=i&&(t.opacity=i),e.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var i=t.coordinateSystem;if("geoJSON"===i.resourceType){var r=this._regionsGroupByName;if(r){var n=r.get(e);return n?[n]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=RS(e);if(t&&"geoSVG"===t.type){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=RS(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,i){var r=e.coordinateSystem,n=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=r.getZoom(),n.enable(e.get("roam")||!1);var s=e.mainType;function a(){var t={type:"geoRoam",componentType:s};return t[s+"Id"]=e.id,t}n.off("pan").on("pan",function(e){this._mouseDownFlag=!1,MF(o,e.dx,e.dy),i.dispatchAction(a8(a(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))},this),n.off("zoom").on("zoom",function(e){this._mouseDownFlag=!1,MO(o,e.scale,e.originX,e.originY),i.dispatchAction(a8(a(),{totalZoom:o.zoom,zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))},this),n.setPointerChecker(function(t,n,o){return r.containPoint([n,o])&&!MV(t,i,e)})},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=RD(t).ignore)})},e.prototype._updateMapSelectHandler=function(e,t,i,r){var n=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){n._mouseDownFlag=!0}),t.on("click",function(e){n._mouseDownFlag&&(n._mouseDownFlag=!1)}))},e}();function RL(e,t,i,r){var n=r.getModel("itemStyle"),o=r.getModel(["emphasis","itemStyle"]),s=r.getModel(["blur","itemStyle"]),a=r.getModel(["select","itemStyle"]),l=RA(n),u=RA(o),d=RA(a),h=RA(s),c=e.data;if(c){var p=c.getItemVisual(i,"style"),g=c.getItemVisual(i,"decal");e.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=bk(g,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=d,t.ensureState("blur").style=h,g6(t)}function Rk(e,t,i,r,n,o,s){var a=e.data,l=e.isGeo,u=a&&isNaN(a.get(a.mapDimension("value"),o)),d=a&&a.getItemLayout(o);if(l||u||d&&d.showLabel){var h=l?i:o,c=void 0;(!a||o>=0)&&(c=n);var p=s?{normal:{align:"center",verticalAlign:"middle"}}:null;fA(t,fI(r),{labelFetcher:c,labelDataIndex:h,defaultText:i},p);var g=t.getTextContent();if(g&&(RD(g).ignore=g.ignore,t.textConfig&&s)){var f=t.getBoundingRect().clone();t.textConfig.layoutRect=f,t.textConfig.position=[(s[0]-f.x)/f.width*100+"%",(s[1]-f.y)/f.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function RN(e,t,i,r,n,o){e.data?e.data.setItemGraphicEl(o,t):gF(t).eventData={componentType:"geo",componentIndex:n.componentIndex,geoIndex:n.componentIndex,name:i,region:r&&r.option||{}}}function RF(e,t,i,r,n){e.data||wa({el:t,componentModel:n,itemName:i,itemTooltipOption:r.get("tooltip")})}function RO(e,t,i,r,n){t.highDownSilentOnTouch=!!n.get("selectedMode");var o,s=r.getModel("emphasis"),a=s.get("focus");return fl(t,a,s.get("blurScope"),s.get("disabled")),e.isGeo&&((o=gF(t)).componentMainType=n.mainType,o.componentIndex=n.componentIndex,o.componentHighDownName=i),a}function RG(e,t,i){var r,n=[];function o(){r=[]}function s(){r.length&&(n.push(r),r=[])}var a=t({polygonStart:o,polygonEnd:s,lineStart:o,lineEnd:s,point:function(e,t){isFinite(e)&&isFinite(t)&&r.push([e,t])},sphere:function(){}});return i||a.polygonStart(),ln(e,function(e){a.lineStart();for(var t=0;t<e.length;t++)a.point(e[t][0],e[t][1]);a.lineEnd()}),i||a.polygonEnd(),n}var RV=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var n=this.group;if(n.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&r&&"geoRoam"===r.type&&this._mapDraw.resetForLabelLayout(),r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===e.id){var o=this._mapDraw;o&&n.add(o.group)}else if(e.needsDrawMap){var o=this._mapDraw||new RP(i);n.add(o.group),o.draw(e,t,i,this,r),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,i){var r=e.originalData,n=this.group;r.each(r.mapDimension("value"),function(t,i){if(!isNaN(t)){var o=r.getItemLayout(i);if(o&&o.point){var s=o.point,a=o.offset,l=new Cr({style:{fill:e.getData().getVisual("style").fill},shape:{cx:s[0]+9*a,cy:s[1],r:3},silent:!0,z2:8+11*!a});if(!a){var u=e.mainSeries.getData(),d=r.getName(i),h=u.indexOfName(d),c=r.getItemModel(i),p=c.getModel("label"),g=u.getItemGraphicEl(h);fA(l,fI(c),{labelFetcher:{getFormattedLabel:function(t,i){return e.getFormattedLabel(h,i)}},defaultText:d}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),g.onHoverStateChange=function(e){g3(l,e)}}n.add(l)}}})},t.type="map",t}(wc),RB=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.needsDrawMap=!1,i.seriesGroup=[],i.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),i=this.coordinateSystem,r=i.getRegion(t);return r&&i.dataToPoint(r.getCenter())}},i}return aF(t,e),t.prototype.getInitialData=function(e){for(var t=EF(this,{coordDimensions:["value"],encodeDefaulter:lh(m2,this)}),i=lG(),r=[],n=0,o=t.count();n<o;n++){var s=t.getName(n);i.set(s,n)}return ln(R_(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(e){var n,o=e.name,s=i.get(o),a=e.properties&&e.properties.echartsStyle;null==s?(n={name:o},r.push(n)):n=t.getRawDataItem(s),a&&a4(n,a)}),t.appendData(r),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,i){for(var r=this.getData(),n=this.getRawValue(e),o=r.getName(e),s=this.seriesGroup,a=[],l=0;l<s.length;l++){var u=s[l].originalData.indexOfName(o),d=r.mapDimension("value");isNaN(s[l].originalData.get(d,u))||a.push(s[l].name)}return yx("section",{header:a.join(", "),noHeader:!a.length,blocks:[yx("nameValue",{name:o,value:n})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",i=ba(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",t.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(yO);function RH(e){var t={};e.eachSeriesByType("map",function(e){var i=e.getHostGeoModel(),r=i?"o"+i.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)}),ln(t,function(e,t){for(var i,r,n,o=(i=lo(e,function(e){return e.getData()}),r=e[0].get("mapValueCalculation"),n={},ln(i,function(e){e.each(e.mapDimension("value"),function(t,i){var r="ec-"+e.getName(i);n[r]=n[r]||[],isNaN(t)||n[r].push(t)})}),i[0].map(i[0].mapDimension("value"),function(e,t){for(var o,s="ec-"+i[0].getName(t),a=0,l=1/0,u=-1/0,d=n[s].length,h=0;h<d;h++)l=Math.min(l,n[s][h]),u=Math.max(u,n[s][h]),a+=n[s][h];return o="min"===r?l:"max"===r?u:"average"===r?a/d:a,0===d?NaN:o})),s=0;s<e.length;s++)e[s].originalData=e[s].getData();for(var s=0;s<e.length;s++)e[s].seriesGroup=e,e[s].needsDrawMap=0===s&&!e[s].getHostGeoModel(),e[s].setData(o.cloneShallow()),e[s].mainSeries=e[0]})}function Rz(e){var t={};e.eachSeriesByType("map",function(i){var r=i.getMapType();if(!i.getHostGeoModel()&&!t[r]){var n={};ln(i.seriesGroup,function(t){var i=t.coordinateSystem,r=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&r.each(r.mapDimension("value"),function(e,t){var o=r.getName(t),s=i.getRegion(o);if(!(!s||isNaN(e))){var a=n[o]||0,l=i.dataToPoint(s.getCenter());n[o]=a+1,r.setItemLayout(t,{point:l,offset:a})}})});var o=i.getData();o.each(function(e){var t=o.getName(e),i=o.getItemLayout(e)||{};i.showLabel=!n[t],o.setItemLayout(e,i)}),t[r]=!0}})}var RW=function(e){function t(t){var i=e.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new hU,i._rawTransformable=new hU,i.name=t,i}return aF(t,e),t.prototype.setBoundingRect=function(e,t,i,r){return this._rect=new uY(e,t,i,r),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,i,r){this._transformTo(e,t,i,r),this._viewRect=new uY(e,t,i,r)},t.prototype._transformTo=function(e,t,i,r){var n=this.getBoundingRect(),o=this._rawTransformable;o.transform=n.calculateTransform(new uY(e,t,i,r));var s=o.parent;o.parent=null,o.decomposeTransform(),o.parent=s,this._updateTransform()},t.prototype.setCenter=function(e,t){e&&(this._center=[cc(e[0],t.getWidth()),cc(e[1],t.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,i=this.getDefaultCenter(),r=this.getCenter(),n=this.getZoom();r=ut([],r,e),i=ut([],i,e),t.originX=r[0],t.originY=r[1],t.x=i[0]-r[0],t.y=i[1]-r[1],t.scaleX=t.scaleY=n,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),uP(this.transform||(this.transform=[]),t.transform||uA()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],uO(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,i=new hU;return i.transform=t.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,i){var r=t?this._rawTransform:this.transform;return i=i||[],r?ut(i,e,r):lY(i,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?ut([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,i){var r=RU(t);return r===this?r.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,t,i){var r=RU(t);return r===this?r.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(hU);function RU(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var Rj={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},R$=["lng","lat"],RK=function(e){function t(t,i,r){var n,o=e.call(this,t)||this;o.dimensions=R$,o.type="geo",o._nameCoordMap=lG(),o.map=i;var s=r.projection,a=R_(i,r.nameMap,r.nameProperty),l=RS(i);o.resourceType=l?l.type:null;var u=o.regions=a.regions,d=Rj[l.type];if(o._regionsMap=a.regionsMap,o.regions=a.regions,o.projection=s,s)for(var h=0;h<u.length;h++){var c=u[h].getBoundingRect(s);(n=n||c.clone()).union(c)}else n=a.boundingRect;return o.setBoundingRect(n.x,n.y,n.width,n.height),o.aspectScale=s?1:lT(r.aspectScale,d.aspectScale),o._invertLongitute=!s&&d.invertLongitute,o}return aF(t,e),t.prototype._transformTo=function(e,t,i,r){var n=this.getBoundingRect(),o=this._invertLongitute;n=n.clone(),o&&(n.y=-n.y-n.height);var s=this._rawTransformable;s.transform=n.calculateTransform(new uY(e,t,i,r));var a=s.parent;s.parent=null,s.decomposeTransform(),s.parent=a,o&&(s.scaleY=-s.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,i=0;i<t.length;i++){var r=t[i];if("geoJSON"===r.type&&r.contain(e))return t[i]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,i){if(lg(e)&&(e=this.getGeoCoord(e)),e){var r=this.projection;return r&&(e=r.project(e)),e&&this.projectedToPoint(e,t,i)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,i,r){return e.prototype.dataToPoint.call(this,t,i,r)},t.prototype.convertToPixel=function(e,t,i){var r=RY(t);return r===this?r.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,t,i){var r=RY(t);return r===this?r.pointToData(i):null},t}(RW);function RY(e){var t=e.geoModel,i=e.seriesModel;return t?t.coordinateSystem:i?i.coordinateSystem||(i.getReferringComponents("geo",cX).models[0]||{}).coordinateSystem:null}function Rq(e,t){var i,r,n,o=e.get("boundingCoords");if(null!=o){var s=o[0],a=o[1];if(isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])){var l=this.projection;if(l){var u=s[0],d=s[1],h=a[0],c=a[1];s=[1/0,1/0],a=[-1/0,-1/0];var p=function(e,t,i,r){for(var n=i-e,o=r-t,u=0;u<=100;u++){var d=u/100,h=l.project([e+n*d,t+o*d]);ui(s,s,h),ur(a,a,h)}};p(u,d,h,d),p(h,d,h,c),p(h,c,u,c),p(u,c,h,d)}this.setBoundingRect(s[0],s[1],a[0]-s[0],a[1]-s[1])}}var g=this.getBoundingRect(),f=e.get("layoutCenter"),m=e.get("layoutSize"),v=t.getWidth(),y=t.getHeight(),C=g.width/g.height*this.aspectScale,w=!1;if(f&&m&&(i=[cc(f[0],v),cc(f[1],y)],r=cc(m,Math.min(v,y)),isNaN(i[0])||isNaN(i[1])||isNaN(r)||(w=!0)),w)n={},C>1?(n.width=r,n.height=r/C):(n.height=r,n.width=r*C),n.y=i[1]-n.height/2,n.x=i[0]-n.width/2;else{var b=e.getBoxLayoutParams();b.aspect=C,n=mL(b,{width:v,height:y})}this.setViewRect(n.x,n.y,n.width,n.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}li(RK,RW);var RX=new(function(){function e(){this.dimensions=R$}return e.prototype.create=function(e,t){var i=[];function r(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",function(e,n){var o=e.get("map"),s=new RK(o+n,o,a8({nameMap:e.get("nameMap")},r(e)));s.zoomLimit=e.get("scaleLimit"),i.push(s),e.coordinateSystem=s,s.model=e,s.resize=Rq,s.resize(e,t)}),e.eachSeries(function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=i[t]}});var n={};return e.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();n[t]=n[t]||[],n[t].push(e)}}),ln(n,function(e,n){var o=new RK(n,n,a8({nameMap:a6(lo(e,function(e){return e.get("nameMap")}))},r(e[0])));o.zoomLimit=lE.apply(null,lo(e,function(e){return e.get("scaleLimit")})),i.push(o),o.resize=Rq,o.resize(e[0],t),ln(e,function(e){e.coordinateSystem=o,ln(e.get("geoCoord"),function(e,t){o.addGeoCoord(t,e)})})}),i},e.prototype.getFilledRegions=function(e,t,i,r){for(var n=(e||[]).slice(),o=lG(),s=0;s<n.length;s++)o.set(n[s].name,n[s]);return ln(R_(t,i,r).regions,function(e){var t=e.name,i=o.get(t),r=e.properties&&e.properties.echartsStyle;i||(i={name:t},n.push(i)),r&&a4(i,r)}),n},e}()),RZ=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(e,t,i){var r=RS(e.map);if(r&&"geoJSON"===r.type){var n=e.itemStyle=e.itemStyle||{};"color"in n||(n.color="#eee")}this.mergeDefaultAndTheme(e,i),cF(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=RX.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var i={};this._optionModelMap=ls(t.regions||[],function(t,r){var n=r.name;return n&&(t.set(n,new fQ(r,e,e.ecModel)),r.selected&&(i[n]=!0)),t},lG()),t.selectedMap||(t.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new fQ(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var i=this.getRegionModel(e),r="normal"===t?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),n={name:e};return lp(r)?(n.status=t,r(n)):lg(r)?r.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,i=t.selectedMode;i&&("multiple"!==i&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!!(t&&t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(mB);function RQ(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function RJ(e,t,i,r){var n=e.getZoom(),o=e.getCenter(),s=t.zoom,a=e.projectedToPoint?e.projectedToPoint(o):e.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(a[0]-=t.dx,a[1]-=t.dy,e.setCenter(RQ(e,a),r)),null!=s){if(i){var l=i.min||0;s=Math.max(Math.min(n*s,i.max||1/0),l)/n}e.scaleX*=s,e.scaleY*=s;var u=(t.originX-e.x)*(s-1),d=(t.originY-e.y)*(s-1);e.x-=u,e.y-=d,e.updateTransform(),e.setCenter(RQ(e,a),r),e.setZoom(s*n)}return{center:e.getCenter(),zoom:e.getZoom()}}var R0=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.focusBlurEnabled=!0,i}return aF(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,i,r){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new RP(i));var n=this._mapDraw;n.draw(e,t,i,this,r),n.group.on("click",this._handleRegionClick,this),n.group.silent=e.get("silent"),this.group.add(n.group),this.updateSelectStatus(e,t,i)},t.prototype._handleRegionClick=function(e){var t;w4(e.target,function(e){return null!=(t=gF(e).eventData)},!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,i){var r=this;this._mapDraw.group.traverse(function(e){var t=gF(e).eventData;if(t)return r._model.isSelected(t.name)?i.enterSelect(e):i.leaveSelect(e),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(yj);function R1(e,t,i){Rb(e,t,i)}function R2(e){function t(t,i){i.update="geo:updateSelectStatus",e.registerAction(i,function(e,i){var r={},n=[];return i.eachComponent({mainType:"geo",query:e},function(i){i[t](e.name),ln(i.coordinateSystem.regions,function(e){r[e.name]=i.isSelected(e.name)||!1});var o=[];ln(r,function(e,t){r[t]&&o.push(t)}),n.push({geoIndex:i.componentIndex,name:o})}),{selected:r,allSelected:n,name:e.name}})}e.registerCoordinateSystem("geo",RX),e.registerComponentModel(RZ),e.registerComponentView(R0),e.registerImpl("registerMap",R1),e.registerImpl("getMap",function(e){return Rx(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t,i){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(t){var n=t.coordinateSystem;if("geo"===n.type){var o=RJ(n,e,t.get("scaleLimit"),i);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom),"series"===r&&ln(t.seriesGroup,function(e){e.setCenter(o.center),e.setZoom(o.zoom)})}})})}function R5(e,t){var i=e.isExpand?e.children:[],r=e.parentNode.children,n=e.hierNode.i?r[e.hierNode.i-1]:null;if(i.length){!function(e){for(var t=e.children,i=t.length,r=0,n=0;--i>=0;){var o=t[i];o.hierNode.prelim+=r,o.hierNode.modifier+=r,n+=o.hierNode.change,r+=o.hierNode.shift+n}}(e);var o=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;n?(e.hierNode.prelim=n.hierNode.prelim+t(e,n),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else n&&(e.hierNode.prelim=n.hierNode.prelim+t(e,n));e.parentNode.hierNode.defaultAncestor=function(e,t,i,r){if(t){for(var n=e,o=e,s=o.parentNode.children[0],a=t,l=n.hierNode.modifier,u=o.hierNode.modifier,d=s.hierNode.modifier,h=a.hierNode.modifier;a=R8(a),o=R9(o),a&&o;){n=R8(n),s=R9(s),n.hierNode.ancestor=e;var c,p,g,f=a.hierNode.prelim+h-o.hierNode.prelim-u+r(a,o);f>0&&(function(e,t,i){var r=i/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=i,t.hierNode.modifier+=i,t.hierNode.prelim+=i,e.hierNode.change+=r}((c=a,p=e,g=i,c.hierNode.ancestor.parentNode===p.parentNode?c.hierNode.ancestor:g),e,f),u+=f,l+=f),h+=a.hierNode.modifier,u+=o.hierNode.modifier,l+=n.hierNode.modifier,d+=s.hierNode.modifier}a&&!R8(n)&&(n.hierNode.thread=a,n.hierNode.modifier+=h-l),o&&!R9(s)&&(s.hierNode.thread=o,s.hierNode.modifier+=u-d,i=e)}return i}(e,n,e.parentNode.hierNode.defaultAncestor||r[0],t)}function R3(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function R4(e){return arguments.length?e:R7}function R6(e,t){return{x:t*Math.cos(e-=Math.PI/2),y:t*Math.sin(e)}}function R8(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function R9(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function R7(e,t){return e.parentNode===t.parentNode?1:2}var De=function(){this.parentPoint=[],this.childPoints=[]},Dt=function(e){function t(t){return e.call(this,t)||this}return aF(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new De},t.prototype.buildPath=function(e,t){var i=t.childPoints,r=i.length,n=t.parentPoint,o=i[0],s=i[r-1];if(1===r){e.moveTo(n[0],n[1]),e.lineTo(o[0],o[1]);return}var a=t.orient,l=+("TB"!==a&&"BT"!==a),u=1-l,d=cc(t.forkPosition,1),h=[];h[l]=n[l],h[u]=n[u]+(s[u]-n[u])*d,e.moveTo(n[0],n[1]),e.lineTo(h[0],h[1]),e.moveTo(o[0],o[1]),h[l]=o[l],e.lineTo(h[0],h[1]),h[l]=s[l],e.lineTo(h[0],h[1]),e.lineTo(s[0],s[1]);for(var c=1;c<r-1;c++){var p=i[c];e.moveTo(p[0],p[1]),h[l]=p[l],e.lineTo(h[0],h[1])}},t}(gl),Di=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._mainGroup=new ce,i}return aF(t,e),t.prototype.init=function(e,t){this._controller=new MP(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,i){var r=e.getData(),n=e.layoutInfo,o=this._mainGroup;"radial"===e.get("layout")?(o.x=n.x+n.width/2,o.y=n.y+n.height/2):(o.x=n.x,o.y=n.y),this._updateViewCoordSys(e,i),this._updateController(e,t,i);var s=this._data;r.diff(s).add(function(t){Dr(r,t)&&Dn(r,t,null,o,e)}).update(function(t,i){var n=s.getItemGraphicEl(i);if(!Dr(r,t)){n&&Da(s,i,n,o,e);return}Dn(r,t,n,o,e)}).remove(function(t){var i=s.getItemGraphicEl(t);i&&Da(s,t,i,o,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&r.eachItemGraphicEl(function(t,r){t.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:r})})}),this._data=r},t.prototype._updateViewCoordSys=function(e,t){var i=e.getData(),r=[];i.each(function(e){var t=i.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||r.push([+t.x,+t.y])});var n=[],o=[];pN(r,n,o);var s=this._min,a=this._max;o[0]-n[0]==0&&(n[0]=s?s[0]:n[0]-1,o[0]=a?a[0]:o[0]+1),o[1]-n[1]==0&&(n[1]=s?s[1]:n[1]-1,o[1]=a?a[1]:o[1]+1);var l=e.coordinateSystem=new RW;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1]),l.setCenter(e.get("center"),t),l.setZoom(e.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=n,this._max=o},t.prototype._updateController=function(e,t,i){var r=this,n=this._controller,o=this._controllerHost,s=this.group;n.setPointerChecker(function(t,r,n){var o=s.getBoundingRect();return o.applyTransform(s.transform),o.contain(r,n)&&!MV(t,i,e)}),n.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",function(t){MF(o,t.dx,t.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})}).on("zoom",function(t){MO(o,t.scale,t.originX,t.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(e),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),i=this._getNodeGlobalScale(e);t.eachItemGraphicEl(function(e,t){e.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var i=this._nodeScaleRatio,r=t.scaleX||1;return((t.getZoom()-1)*i+1)/r},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(wc);function Dr(e,t){var i=e.getItemLayout(t);return i&&!isNaN(i.x)&&!isNaN(i.y)}function Dn(e,t,i,r,n){var o=!i,s=e.tree.getNodeByDataIndex(t),a=s.getModel(),l=s.getVisual("style").fill,u=!1===s.isExpand&&0!==s.children.length?l:"#fff",d=e.tree.root,h=s.parentNode===d?s:s.parentNode||s,c=e.getItemGraphicEl(h.dataIndex),p=h.getLayout(),g=c?{x:c.__oldX,y:c.__oldY,rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:p,f=s.getLayout();o?((i=new x5(e,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=g.x,i.y=g.y):i.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=f.rawX,i.__radialRawY=f.rawY,r.add(i),e.setItemGraphicEl(t,i),i.__oldX=i.x,i.__oldY=i.y,fw(i,{x:f.x,y:f.y},n);var m=i.getSymbolPath();if("radial"===n.get("layout")){var v=d.children[0],y=v.getLayout(),C=v.children.length,w=void 0,b=void 0;if(f.x===y.x&&!0===s.isExpand&&v.children.length){var S={x:(v.children[0].getLayout().x+v.children[C-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[C-1].getLayout().y)/2};(w=Math.atan2(S.y-y.y,S.x-y.x))<0&&(w=2*Math.PI+w),(b=S.x<y.x)&&(w-=Math.PI)}else(w=Math.atan2(f.y-y.y,f.x-y.x))<0&&(w=2*Math.PI+w),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(b=f.x<y.x)&&(w-=Math.PI):(b=f.x>y.x)||(w-=Math.PI);var x=b?"left":"right",_=a.getModel("label"),E=_.get("rotate"),T=Math.PI/180*E,M=m.getTextContent();M&&(m.setTextConfig({position:_.get("position")||x,rotation:null==E?-w:T,origin:"center"}),M.setStyle("verticalAlign","middle"))}var R=a.get(["emphasis","focus"]),D="relative"===R?lV(s.getAncestorsIndices(),s.getDescendantIndices()):"ancestor"===R?s.getAncestorsIndices():"descendant"===R?s.getDescendantIndices():null;D&&(gF(i).focus=D),function(e,t,i,r,n,o,s,a){var l=t.getModel(),u=e.get("edgeShape"),d=e.get("layout"),h=e.getOrient(),c=e.get(["lineStyle","curveness"]),p=e.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),f=r.__edge;if("curve"===u)t.parentNode&&t.parentNode!==i&&(f||(f=r.__edge=new CP({shape:Dl(d,h,c,n,n)})),fw(f,{shape:Dl(d,h,c,o,s)},e));else if("polyline"===u&&"orthogonal"===d&&t!==i&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var m=t.children,v=[],y=0;y<m.length;y++){var C=m[y].getLayout();v.push([C.x,C.y])}f||(f=r.__edge=new Dt({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:h,forkPosition:p}})),fw(f,{shape:{parentPoint:[s.x,s.y],childPoints:v}},e)}f&&!("polyline"===u&&!t.isExpand)&&(f.useStyle(a9({strokeNoScale:!0,fill:null},g)),fc(f,l,"lineStyle"),g6(f),a.add(f))}(n,s,d,i,g,p,f,r),i.__edge&&(i.onHoverStateChange=function(t){if("blur"!==t){var r=s.parentNode&&e.getItemGraphicEl(s.parentNode.dataIndex);r&&1===r.hoverState||g3(i.__edge,t)}})}function Do(e,t,i,r,n){var o=Ds(t.tree.root,e),s=o.source,a=o.sourceLayout,l=t.getItemGraphicEl(e.dataIndex);if(l){var u=t.getItemGraphicEl(s.dataIndex).__edge,d=l.__edge||(!1===s.isExpand||1===s.children.length?u:void 0),h=r.get("edgeShape"),c=r.get("layout"),p=r.get("orient"),g=r.get(["lineStyle","curveness"]);d&&("curve"===h?fx(d,{shape:Dl(c,p,g,a,a),style:{opacity:0}},r,{cb:function(){i.remove(d)},removeOpt:n}):"polyline"===h&&"orthogonal"===r.get("layout")&&fx(d,{shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]]},style:{opacity:0}},r,{cb:function(){i.remove(d)},removeOpt:n}))}}function Ds(e,t){for(var i,r=t.parentNode===e?t:t.parentNode||t;null==(i=r.getLayout());)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:i}}function Da(e,t,i,r,n){var o=e.tree.getNodeByDataIndex(t),s=Ds(e.tree.root,o).sourceLayout,a={duration:n.get("animationDurationUpdate"),easing:n.get("animationEasingUpdate")};fx(i,{x:s.x+1,y:s.y+1},n,{cb:function(){r.remove(i),e.setItemGraphicEl(t,null)},removeOpt:a}),i.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:a}),o.children.forEach(function(t){Do(t,e,r,n,a)}),Do(o,e,r,n,a)}function Dl(e,t,i,r,n){if("radial"===e){u=r.rawX,h=r.rawY,d=n.rawX;var o,s,a,l,u,d,h,c=n.rawY,p=R6(u,h),g=R6(u,h+(c-h)*i),f=R6(d,c+(h-c)*i),m=R6(d,c);return{x1:p.x||0,y1:p.y||0,x2:m.x||0,y2:m.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:f.x||0,cpy2:f.y||0}}return u=r.x,h=r.y,d=n.x,c=n.y,("LR"===t||"RL"===t)&&(o=u+(d-u)*i,s=h,a=d+(u-d)*i,l=c),("TB"===t||"BT"===t)&&(o=u,s=h+(c-h)*i,a=d,l=c+(h-c)*i),{x1:u,y1:h,x2:d,y2:c,cpx1:o,cpy1:s,cpx2:a,cpy2:l}}var Du=c$();function Dd(e,t){var i;if(i=this,Du(i).mainData===i){var r=a8({},Du(this).datas);r[this.dataType]=t,Df(t,r,e)}else Dm(t,this.dataType,Du(this).mainData,e);return t}function Dh(e,t){return e.struct&&e.struct.update(),t}function Dc(e,t){return ln(Du(t).datas,function(i,r){i!==t&&Dm(i.cloneShallow(),r,t,e)}),t}function Dp(e){var t=Du(this).mainData;return null==e||null==t?t:Du(t).datas[e]}function Dg(){var e=Du(this).mainData;return null==e?[{data:e}]:lo(lu(Du(e).datas),function(t){return{type:t,data:Du(e).datas[t]}})}function Df(e,t,i){Du(e).datas={},ln(t,function(t,r){Dm(t,r,e,i)})}function Dm(e,t,i,r){Du(i).datas[t]=e,Du(e).mainData=i,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=Dp,e.getLinkedDataAll=Dg}let Dv=function(e){var t=e.mainData,i=e.datas;i||(i={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,Df(t,i,e),ln(i,function(i){ln(t.TRANSFERABLE_METHODS,function(t){i.wrapMethod(t,lh(Dd,e))})}),t.wrapMethod("cloneShallow",lh(Dc,e)),ln(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,lh(Dh,e))}),lA(i[t.dataType]===t)};var Dy=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,i){lp(e)&&(i=t,t=e,e=null),lg(e=e||{})&&(e={order:e});var r,n=e.order||"preorder",o=this[e.attr||"children"];"preorder"===n&&(r=t.call(i,this));for(var s=0;!r&&s<o.length;s++)o[s].eachNode(e,t,i);"postorder"===n&&t.call(i,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,r=i.length;t<r;t++){var n=i[t].getNodeById(e);if(n)return n}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,r=i.length;t<r;t++){var n=i[t].contains(e);if(n)return n}},e.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t}return -1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),DC=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,r=t.length;i<r;i++)t[i].dataIndex=-1;for(var i=0,r=e.count();i<r;i++)t[e.getRawIndex(i)].dataIndex=i},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,i,r){var n=new e(i),o=[],s=1;!function e(t,i){var r,a,l,u=t.value;s=Math.max(s,lc(u)?u.length:1),o.push(t);var d=new Dy(cz(t.name,""),n);i?(r=d,l=(a=i).children,r.parentNode!==a&&(l.push(r),r.parentNode=a)):n.root=d,n._nodes.push(d);var h=t.children;if(h)for(var c=0;c<h.length;c++)e(h[c],d)}(t),n.root.updateDepthAndHeight(0);var a=new xU(x$(o,{coordDimensions:["value"],dimensionsCount:s}).dimensions,i);return a.initData(o),r&&r(a),Dv({mainData:a,struct:n,structAttr:"tree"}),n.update(),n},e}();function Dw(e,t,i){if(e&&le(t,e.type)>=0){var r=i.getData().tree.root,n=e.targetNode;if(lg(n)&&(n=r.getNodeById(n)),n&&r.contains(n))return{node:n};var o=e.targetNodeId;if(null!=o&&(n=r.getNodeById(o)))return{node:n}}}function Db(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function DS(e,t){return le(Db(e),t)>=0}function Dx(e,t){for(var i=[];e;){var r=e.dataIndex;i.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return i.reverse(),i}var D_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return aF(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},i=new fQ(e.leaves||{},this,this.ecModel),r=DC.createTree(t,this,function(e){e.wrapMethod("getItemModel",function(e,t){var n=r.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=i),e})}),n=0;r.eachNode("preorder",function(e){e.depth>n&&(n=e.depth)});var o=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:n;return r.root.eachNode("preorder",function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=o}),r.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,i){for(var r=this.getData().tree,n=r.root.children[0],o=r.getNodeByDataIndex(e),s=o.getValue(),a=o.name;o&&o!==n;)a=o.parentNode.name+"."+a,o=o.parentNode;return yx("nameValue",{name:a,value:s,noValue:isNaN(s)||null==s})},t.prototype.getDataParams=function(t){var i=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=Dx(r,this),i.collapsed=!r.isExpand,i},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(yO);function DE(e,t){for(var i,r=[e];i=r.pop();)if(t(i),i.isExpand){var n=i.children;if(n.length)for(var o=n.length-1;o>=0;o--)r.push(n[o])}}function DT(e,t){e.eachSeriesByType("tree",function(e){!function(e,t){var i=mL(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});e.layoutInfo=i;var r=e.get("layout"),n=0,o=0,s=null;"radial"===r?(n=2*Math.PI,o=Math.min(i.height,i.width)/2,s=R4(function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth})):(n=i.width,o=i.height,s=R4());var a=e.getData().tree.root,l=a.children[0];if(l){!function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,i,r=[e];t=r.pop();)if(i=t.children,t.isExpand&&i.length)for(var n=i.length,o=n-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(s)}}(a),function(e,t,i){for(var r,n=[e],o=[];r=n.pop();)if(o.push(r),r.isExpand){var s=r.children;if(s.length)for(var a=0;a<s.length;a++)n.push(s[a])}for(;r=o.pop();)t(r,i)}(l,R5,s),a.hierNode.modifier=-l.hierNode.prelim,DE(l,R3);var u=l,d=l,h=l;DE(l,function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>d.getLayout().x&&(d=e),e.depth>h.depth&&(h=e)});var c=u===d?1:s(u,d)/2,p=c-u.getLayout().x,g=0,f=0,m=0,v=0;if("radial"===r)g=n/(d.getLayout().x+c+p),f=o/(h.depth-1||1),DE(l,function(e){m=(e.getLayout().x+p)*g,v=(e.depth-1)*f;var t=R6(m,v);e.setLayout({x:t.x,y:t.y,rawX:m,rawY:v},!0)});else{var y=e.getOrient();"RL"===y||"LR"===y?(f=o/(d.getLayout().x+c+p),g=n/(h.depth-1||1),DE(l,function(e){v=(e.getLayout().x+p)*f,m="LR"===y?(e.depth-1)*g:n-(e.depth-1)*g,e.setLayout({x:m,y:v},!0)})):("TB"===y||"BT"===y)&&(g=n/(d.getLayout().x+c+p),f=o/(h.depth-1||1),DE(l,function(e){m=(e.getLayout().x+p)*g,v="TB"===y?(e.depth-1)*f:o-(e.depth-1)*f,e.setLayout({x:m,y:v},!0)}))}}}(e,t)})}function DM(e){e.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(e){var i=e.getModel().getModel("itemStyle").getItemStyle();a8(t.ensureUniqueItemVisual(e.dataIndex,"style"),i)})})}var DR=["treemapZoomToNode","treemapRender","treemapMove"];function DD(e){var t=e.getData().tree,i={};t.eachNode(function(t){for(var r=t;r&&r.depth>1;)r=r.parentNode;var n=ve(e.ecModel,r.name||r.dataIndex+"",i);t.setVisual("decal",n)})}var DA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.preventUsingHoverLayer=!0,i}return aF(t,e),t.prototype.getInitialData=function(e,t){var i={name:e.name,children:e.data};!function e(t){var i=0;ln(t.children,function(t){e(t);var r=t.value;lc(r)&&(r=r[0]),i+=r});var r=t.value;lc(r)&&(r=r[0]),(null==r||isNaN(r))&&(r=i),r<0&&(r=0),lc(t.value)?t.value[0]=r:t.value=r}(i);var r=e.levels||[],n=new fQ({itemStyle:this.designatedVisualItemStyle={}},this,t),o=lo((r=e.levels=function(e,t){var i,r,n=cN(t.get("color")),o=cN(t.get(["aria","decal","decals"]));if(n){ln(e=e||[],function(e){var t=new fQ(e),n=t.get("color"),o=t.get("decal");(t.get(["itemStyle","color"])||n&&"none"!==n)&&(i=!0),(t.get(["itemStyle","decal"])||o&&"none"!==o)&&(r=!0)});var s=e[0]||(e[0]={});return i||(s.color=n.slice()),!r&&o&&(s.decal=o.slice()),e}}(r,t))||[],function(e){return new fQ(e,n,t)},this),s=DC.createTree(i,this,function(e){e.wrapMethod("getItemModel",function(e,t){var i=s.getNodeByDataIndex(t);return e.parentModel=(i?o[i.depth]:null)||n,e})});return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,i){var r=this.getData(),n=this.getRawValue(e);return yx("nameValue",{name:r.getName(e),value:n})},t.prototype.getDataParams=function(t){var i=e.prototype.getDataParams.apply(this,arguments);return i.treeAncestors=Dx(this.getData().tree.getNodeByDataIndex(t),this),i.treePathInfo=i.treeAncestors,i},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},a8(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=lG(),this._idIndexMapCount=0);var i=t.get(e);return null==i&&t.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){DD(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(yO),DI=function(){function e(e){this.group=new ce,e.add(this.group)}return e.prototype.render=function(e,t,i,r){var n=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),n.get("show")&&i){var s=n.getModel("itemStyle"),a=n.getModel("emphasis"),l=s.getModel("textStyle"),u=a.getModel(["itemStyle","textStyle"]),d={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,d,l),this._renderContent(e,d,s,a,l,u,r),mk(o,d.pos,d.box)}},e.prototype._prepare=function(e,t,i){for(var r=e;r;r=r.parentNode){var n=cz(r.getModel().get("name"),""),o=Math.max(i.getTextRect(n).width+16,t.emptyItemWidth);t.totalWidth+=o+8,t.renderList.push({node:r,text:n,width:o})}},e.prototype._renderContent=function(e,t,i,r,n,o,s){for(var a,l,u,d,h,c,p,g,f,m=0,v=t.emptyItemWidth,y=e.get(["breadcrumb","height"]),C=(a=t.pos,d=(l=t.box).width,h=l.height,c=cc(a.left,d),p=cc(a.top,h),g=cc(a.right,d),f=cc(a.bottom,h),(isNaN(c)||isNaN(parseFloat(a.left)))&&(c=0),(isNaN(g)||isNaN(parseFloat(a.right)))&&(g=d),(isNaN(p)||isNaN(parseFloat(a.top)))&&(p=0),(isNaN(f)||isNaN(parseFloat(a.bottom)))&&(f=h),{width:Math.max(g-c-(u=lD(u||0))[1]-u[3],0),height:Math.max(f-p-u[0]-u[2],0)}),w=t.totalWidth,b=t.renderList,S=r.getModel("itemStyle").getItemStyle(),x=b.length-1;x>=0;x--){var _,E,T,M=b[x],R=M.node,D=M.width,A=M.text;w>C.width&&(w-=D-v,D=v,A=null);var I=new Cx({shape:{points:function(e,t,i,r,n,o){var s=[[n?e:e-5,0],[e+i,0],[e+i,0+r],[n?e:e-5,0+r]];return o||s.splice(2,0,[e+i+5,0+r/2]),n||s.push([e,0+r/2]),s}(m,0,D,y,x===b.length-1,0===x)},style:a9(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new gx({style:fP(n,{text:A})}),textConfig:{position:"inside"},z2:1e5,onclick:lh(s,R)});I.disableLabelAnimation=!0,I.getTextContent().ensureState("emphasis").style=fP(o,{text:A}),I.ensureState("emphasis").style=S,fl(I,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(I),_=I,E=e,T=R,gF(_).eventData={componentType:"series",componentSubType:"treemap",componentIndex:E.componentIndex,seriesIndex:E.seriesIndex,seriesName:E.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:T&&T.dataIndex,name:T&&T.name},treePathInfo:T&&Dx(T,E)},m+=D+8}},e.prototype.remove=function(){this.group.removeAll()},e}(),DP=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,i,r,n){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:r,easing:n}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,n=this._storage.length;r<n;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:i,aborted:i})}return this},e}(),DL="label",Dk="upperLabel",DN=pt([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),DF=function(e){var t=DN(e);return t.stroke=t.fill=t.lineWidth=null,t},DO=c$(),DG=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._state="ready",i._storage=DV(),i}return aF(t,e),t.prototype.render=function(e,t,i,r){if(!(0>le(t.findComponents({mainType:"series",subType:"treemap",query:r}),e))){this.seriesModel=e,this.api=i,this.ecModel=t;var n=Dw(r,["treemapZoomToNode","treemapRootToNode"],e),o=r&&r.type,s=e.layoutInfo,a=!this._oldTree,l=this._storage,u="treemapRootToNode"===o&&n&&l?{rootNodeGroup:l.nodeGroup[n.node.getRawIndex()],direction:r.direction}:null,d=this._giveContainerGroup(s),h=e.get("animation"),c=this._doRender(d,e,u);!h||a||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?c.renderFinally():this._doAnimation(d,c,e,u),this._resetController(i),this._renderBreadcrumb(e,i,n)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new ce,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,i){var r,n,o=t.getData().tree,s=this._oldTree,a=DV(),l=DV(),u=this._storage,d=[];!function e(r,n,o,s,h){function c(e){return e.getId()}function p(c,p){var g=null!=c?r[c]:null,f=null!=p?n[p]:null,m=function(e,t,i,r,n,o,s,a,l,u){if(s){var d=s.getLayout(),h=e.getData(),c=s.getModel();if(h.setItemGraphicEl(s.dataIndex,null),d&&d.isInView){var p=d.width,g=d.height,f=d.borderWidth,m=d.invisible,v=s.getRawIndex(),y=a&&a.getRawIndex(),C=s.viewChildren,w=d.upperHeight,b=C&&C.length,S=c.getModel("itemStyle"),x=c.getModel(["emphasis","itemStyle"]),_=c.getModel(["blur","itemStyle"]),E=c.getModel(["select","itemStyle"]),T=S.get("borderRadius")||0,M=V("nodeGroup",ce);if(M){if(l.add(M),M.x=d.x||0,M.y=d.y||0,M.markRedraw(),DO(M).nodeWidth=p,DO(M).nodeHeight=g,d.isAboveViewRoot)return M;var R=V("background",gw,u,20);R&&function(t,i,r){var n=gF(i);if(n.dataIndex=s.dataIndex,n.seriesIndex=e.seriesIndex,i.setShape({x:0,y:0,width:p,height:g,r:T}),m)F(i);else{i.invisible=!1;var o=s.getVisual("style"),a=o.stroke,l=DF(S);l.fill=a;var u=DN(x);u.fill=x.get("borderColor");var d=DN(_);d.fill=_.get("borderColor");var h=DN(E);if(h.fill=E.get("borderColor"),r){var c=p-2*f;O(i,a,o.opacity,{x:f,y:0,width:c,height:w})}else i.removeTextContent();i.setStyle(l),i.ensureState("emphasis").style=u,i.ensureState("blur").style=d,i.ensureState("select").style=h,g6(i)}t.add(i)}(M,R,b&&d.upperLabelHeight);var D=c.getModel("emphasis"),A=D.get("focus"),I=D.get("blurScope"),P=D.get("disabled"),L="ancestor"===A?s.getAncestorsIndices():"descendant"===A?s.getDescendantIndices():A;if(b)fg(M)&&fp(M,!1),R&&(fp(R,!P),h.setItemGraphicEl(s.dataIndex,R),fu(R,L,I));else{var k=V("content",gw,u,30);k&&function(t,i){var r=gF(i);r.dataIndex=s.dataIndex,r.seriesIndex=e.seriesIndex;var n=Math.max(p-2*f,0),o=Math.max(g-2*f,0);if(i.culling=!0,i.setShape({x:f,y:f,width:n,height:o,r:T}),m)F(i);else{i.invisible=!1;var a=s.getVisual("style"),l=a.fill,u=DF(S);u.fill=l,u.decal=a.decal;var d=DN(x),h=DN(_),c=DN(E);O(i,l,a.opacity,null),i.setStyle(u),i.ensureState("emphasis").style=d,i.ensureState("blur").style=h,i.ensureState("select").style=c,g6(i)}t.add(i)}(M,k),R.disableMorphing=!0,R&&fg(R)&&fp(R,!1),fp(M,!P),h.setItemGraphicEl(s.dataIndex,M);var N=c.getShallow("cursor");N&&k.attr("cursor",N),fu(M,L,I)}return M}}}function F(e){e.invisible||o.push(e)}function O(t,i,r,n){var o=c.getModel(n?Dk:DL),a=cz(c.get("name"),null),l=o.getShallow("show");fA(t,fI(c,n?Dk:DL),{defaultText:l?a:null,inheritColor:i,defaultOpacity:r,labelFetcher:e,labelDataIndex:s.dataIndex});var u=t.getTextContent();if(u){var h=u.style,p=lD(h.padding||0);n&&(t.setTextConfig({layoutRect:n}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var e=Math.max((n?n.width:t.shape.width)-p[1]-p[3],0),i=Math.max((n?n.height:t.shape.height)-p[0]-p[2],0);(h.width!==e||h.height!==i)&&u.setStyle({width:e,height:i})},h.truncateMinChar=2,h.lineOverflow="truncate",G(h,n,d);var g=u.getState("emphasis");G(g?g.style:null,n,d)}}function G(t,i,r){var n=t?t.text:null;if(!i&&r.isLeafRoot&&null!=n){var o=e.get("drillDownIcon",!0);t.text=o?o+" "+n:n}}function V(e,o,a,l){var u,d,h,c=null!=y&&i[e][y],p=n[e];return c?(i[e][y]=null,u=p,d=c,h=u[v]={},d instanceof ce?(h.oldX=d.x,h.oldY=d.y):h.oldShape=a8({},d.shape)):m||((c=new o)instanceof p_&&(c.z2=100*a+l),function(e,t){var i=e[v]={},o=s.parentNode,a=t instanceof ce;if(o&&(!r||"drillDown"===r.direction)){var l=0,u=0,d=n.background[o.getRawIndex()];!r&&d&&d.oldShape&&(l=d.oldShape.width,u=d.oldShape.height),a?(i.oldX=0,i.oldY=u):i.oldShape={x:l,y:u,width:0,height:0}}i.fadein=!a}(p,c)),t[e][v]=c}}(t,l,u,i,a,d,g,f,o,h);m&&e(g&&g.viewChildren||[],f&&f.viewChildren||[],m,s,h+1)}s?(n=r,ln(r,function(e,t){e.isRemoved()||p(t,t)})):new xD(n,r,c,c).add(p).update(p).remove(lh(p,null)).execute()}(o.root?[o.root]:[],s&&s.root?[s.root]:[],e,o===s||!s,0);var h=(r=u,n=DV(),r&&ln(r,function(e,t){var i=n[t];ln(e,function(e){e&&(i.push(e),DO(e).willDelete=!0)})}),n);if(this._oldTree=o,this._storage=l,this._controllerHost){var c=this.seriesModel.layoutInfo,p=o.root.getLayout();p.width===c.width&&p.height===c.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:a,willDeleteEls:h,renderFinally:function(){ln(h,function(e){ln(e,function(e){e.parent&&e.parent.remove(e)})}),ln(d,function(e){e.invisible=!0,e.dirty()})}}},t.prototype._doAnimation=function(e,t,i,r){var n=i.get("animationDurationUpdate"),o=i.get("animationEasing"),s=(lp(n)?0:n)||0,a=(lp(o)?null:o)||"cubicOut",l=new DP;ln(t.willDeleteEls,function(e,t){ln(e,function(e,i){if(!e.invisible){var n,o=e.parent,u=DO(o);if(r&&"drillDown"===r.direction)n=o===r.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,h=0;u.willDelete||(d=u.nodeWidth/2,h=u.nodeHeight/2),n="nodeGroup"===t?{x:d,y:h,style:{opacity:0}}:{shape:{x:d,y:h,width:0,height:0},style:{opacity:0}}}n&&l.add(e,n,s,0,a)}})}),ln(this._storage,function(e,i){ln(e,function(e,r){var n=t.lastsForAnimation[i][r],o={};n&&(e instanceof ce?null!=n.oldX&&(o.x=e.x,o.y=e.y,e.x=n.oldX,e.y=n.oldY):(n.oldShape&&(o.shape=a8({},e.shape),e.setShape(n.oldShape)),n.fadein?(e.setStyle("opacity",0),o.style={opacity:1}):1!==e.style.opacity&&(o.style={opacity:1})),l.add(e,o,s,0,a))})},this),this._state="animating",l.finished(ld(function(){this._state="ready",t.renderFinally()},this)).start()},t.prototype._resetController=function(e){var t=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),t||((t=this._controller=new MP(e.getZr())).enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),t.on("pan",ld(this._onPan,this)),t.on("zoom",ld(this._onZoom,this)));var r=new uY(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(e,t,i){return r.contain(t,i)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(t){var i=t.getLayout();i&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}}},t.prototype._onZoom=function(e){var t=e.originX,i=e.originY,r=e.scale;if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var s=new uY(o.x,o.y,o.width,o.height),a=null,l=this._controllerHost;a=l.zoomLimit;var u=l.zoom=l.zoom||1;if(u*=r,a){var d=a.min||0;u=Math.max(Math.min(a.max||1/0,u),d)}var h=u/l.zoom;l.zoom=u;var c=this.seriesModel.layoutInfo;t-=c.x,i-=c.y;var p=uA();uk(p,p,[-t,-i]),uF(p,p,[h,h]),uk(p,p,[t,i]),s.applyTransform(p),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",function(e){if("ready"===t._state){var i=t.seriesModel.get("nodeClick",!0);if(i){var r=t.findTarget(e.offsetX,e.offsetY);if(r){var n=r.node;if(n.getLayout().isLeafRoot)t._rootToNode(r);else if("zoomToNode"===i)t._zoomToNode(r);else if("link"===i){var o=n.hostTree.data.getItemModel(n.dataIndex),s=o.get("link",!0),a=o.get("target",!0)||"blank";s&&mD(s,a)}}}}},this)},t.prototype._renderBreadcrumb=function(e,t,i){var r=this;!i&&((i=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new DI(this.group))).render(e,t,i.node,function(t){"animating"!==r._state&&(DS(e.getViewRoot(),t)?r._rootToNode({node:t}):r._zoomToNode({node:t}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=DV(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(r){var n=this._storage.background[r.getRawIndex()];if(n){var o=n.transformCoordToLocal(e,t),s=n.shape;if(!(s.x<=o[0])||!(o[0]<=s.x+s.width)||!(s.y<=o[1])||!(o[1]<=s.y+s.height))return!1;i={node:r,offsetX:o[0],offsetY:o[1]}}},this),i},t.type="treemap",t}(wc);function DV(){return{nodeGroup:[],background:[],content:[]}}var DB=function(){function e(t){var i,r,n=t.mappingMethod,o=t.type,s=this.option=a3(t);this.type=o,this.mappingMethod=n,this._normalizeData=DX[n];var a=e.visualHandlers[o];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[n],"piecewise"===n?(DH(s),r=(i=s).pieceList,i.hasSpecialVisual=!1,ln(r,function(e,t){e.originIndex=t,null!=e.visual&&(i.hasSpecialVisual=!0)})):"category"===n?s.categories?function(e){var t=e.categories,i=e.categoryMap={},r=e.visual;if(ln(t,function(e,t){i[e]=t}),!lc(r)){var n=[];lv(r)?ln(r,function(e,t){var r=i[t];n[null!=r?r:-1]=e}):n[-1]=r,r=Dq(e,n)}for(var o=t.length-1;o>=0;o--)null==r[o]&&(delete i[t[o]],t.pop())}(s):DH(s,!0):(lA("linear"!==n||s.dataExtent),DH(s))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return ld(this._normalizeData,this)},e.listVisualTypes=function(){return lu(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,i){lv(e)?ln(e,t,i):t.call(i,e)},e.mapVisual=function(t,i,r){var n,o=lc(t)?[]:lv(t)?{}:(n=!0,null);return e.eachVisual(t,function(e,t){var s=i.call(r,e,t);n?o=s:o[t]=s}),o},e.retrieveVisuals=function(t){var i,r={};return t&&ln(e.visualHandlers,function(e,n){t.hasOwnProperty(n)&&(r[n]=t[n],i=!0)}),i?r:null},e.prepareVisualTypes=function(e){if(lc(e))e=e.slice();else{if(!lv(e))return[];var t=[];ln(e,function(e,i){t.push(i)}),e=t}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},e.dependsOn=function(e,t){return"color"===t?!!(e&&0===e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,i){for(var r,n=1/0,o=0,s=t.length;o<s;o++){var a=t[o].value;if(null!=a){if(a===e||lg(a)&&a===e+"")return o;i&&x(a,o)}}for(var o=0,s=t.length;o<s;o++){var l,u,d,h,c,p,g,f,m,v,y,C,w=t[o],b=w.interval,S=w.close;if(b){if(b[0]===-1/0){if(l=S[1],u=e,d=b[1],l?u<=d:u<d)return o}else if(b[1]===1/0){if(h=S[0],c=b[0],p=e,h?c<=p:c<p)return o}else{if(g=S[0],f=b[0],m=e,(g?f<=m:f<m)&&(v=S[1],y=e,C=b[1],v?y<=C:y<C))return o}i&&x(b[0],o),i&&x(b[1],o)}}if(i)return e===1/0?t.length-1:e===-1/0?0:r;function x(t,i){var o=Math.abs(t-e);o<n&&(n=o,r=i)}},e.visualHandlers={color:{applyVisual:DU("color"),getColorMapper:function(){var e=this.option;return ld("category"===e.mappingMethod?function(e,t){return t||(e=this._normalizeData(e)),Dj.call(this,e)}:function(t,i,r){var n=!!r;return i||(t=this._normalizeData(t)),r=d$(t,e.parsedVisual,r),n?r:dX(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return dX(d$(e,this.option.parsedVisual),"rgba")},category:Dj,piecewise:function(e,t){var i=DY.call(this,t);return null==i&&(i=dX(d$(e,this.option.parsedVisual),"rgba")),i},fixed:D$}},colorHue:Dz(function(e,t){return dY(e,t)}),colorSaturation:Dz(function(e,t){return dY(e,null,t)}),colorLightness:Dz(function(e,t){return dY(e,null,null,t)}),colorAlpha:Dz(function(e,t){return dq(e,t)}),decal:{applyVisual:DU("decal"),_normalizedToVisual:{linear:null,category:Dj,piecewise:null,fixed:null}},opacity:{applyVisual:DU("opacity"),_normalizedToVisual:DK([0,1])},liftZ:{applyVisual:DU("liftZ"),_normalizedToVisual:{linear:D$,category:D$,piecewise:D$,fixed:D$}},symbol:{applyVisual:function(e,t,i){i("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:DW,category:Dj,piecewise:function(e,t){var i=DY.call(this,t);return null==i&&(i=DW.call(this,e)),i},fixed:D$}},symbolSize:{applyVisual:DU("symbolSize"),_normalizedToVisual:DK([0,1])}},e}();function DH(e,t){var i=e.visual,r=[];lv(i)?ln(i,function(e){r.push(e)}):null!=i&&r.push(i),t||1!==r.length||({color:1,symbol:1}).hasOwnProperty(e.type)||(r[1]=r[0]),Dq(e,r)}function Dz(e){return{applyVisual:function(t,i,r){var n=this.mapValueToVisual(t);r("color",e(i("color"),n))},_normalizedToVisual:DK([0,1])}}function DW(e){var t=this.option.visual;return t[Math.round(ch(e,[0,1],[0,t.length-1],!0))]||{}}function DU(e){return function(t,i,r){r(e,this.mapValueToVisual(t))}}function Dj(e){var t=this.option.visual;return t[this.option.loop&&-1!==e?e%t.length:e]}function D$(){return this.option.visual[0]}function DK(e){return{linear:function(t){return ch(t,e,this.option.visual,!0)},category:Dj,piecewise:function(t,i){var r=DY.call(this,i);return null==r&&(r=ch(t,e,this.option.visual,!0)),r},fixed:D$}}function DY(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var r=DB.findPieceIndex(e,i),n=i[r];if(n&&n.visual)return n.visual[this.type]}}function Dq(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=lo(t,function(e){return dz(e)||[0,0,0,1]})),t}var DX={linear:function(e){return ch(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=DB.findPieceIndex(e,t,!0);if(null!=i)return ch(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?-1:t},fixed:lW},DZ=c$();let DQ={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||function e(t,i,r,n){var o=t.getModel(),s=t.getLayout(),a=t.hostTree.data;if(s&&!s.invisible&&s.isInView){var l,u,d,h,c,p,g,f=o.getModel("itemStyle"),m=(l=f,u=i,d=n,h=a8({},u),c=d.designatedVisualItemStyle,ln(["color","colorAlpha","colorSaturation"],function(e){c[e]=u[e];var t=l.get(e);c[e]=null,null!=t&&(h[e]=t)}),h),v=a.ensureUniqueItemVisual(t.dataIndex,"style"),y=f.get("borderColor"),C=f.get("borderColorSaturation");null!=C&&(p=C,y=null!=(g=DJ(m))?dY(g,null,null,p):null),v.stroke=y;var w=t.viewChildren;if(w&&w.length){var b=function(e,t,i,r,n,o){if(o&&o.length){var s=D1(t,"color")||null!=n.color&&"none"!==n.color&&(D1(t,"colorAlpha")||D1(t,"colorSaturation"));if(s){var a=t.get("visualMin"),l=t.get("visualMax"),u=i.dataExtent.slice();null!=a&&a<u[0]&&(u[0]=a),null!=l&&l>u[1]&&(u[1]=l);var d=t.get("colorMappingBy"),h={type:s.name,dataExtent:u,visual:s.range};"color"===h.type&&("index"===d||"id"===d)?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var c=new DB(h);return DZ(c).drColorMappingBy=d,c}}}(0,o,s,0,m,w);ln(w,function(t,i){if(t.depth>=r.length||t===r[t.depth]){var s=function(e,t,i,r,n,o){var s=a8({},t);if(n){var a=n.type,l="color"===a&&DZ(n).drColorMappingBy,u="index"===l?r:"id"===l?o.mapIdToIndex(i.getId()):i.getValue(e.get("visualDimension"));s[a]=n.mapValueToVisual(u)}return s}(o,m,t,i,b,n);e(t,s,r,n)}})}else v.fill=DJ(m)}}(t,{},e.getViewRoot().getAncestors(),e)}};function DJ(e){var t=D0(e,"color");if(t){var i=D0(e,"colorAlpha"),r=D0(e,"colorSaturation");return r&&(t=dY(t,null,null,r)),i&&(t=dq(t,i)),t}}function D0(e,t){var i=e[t];if(null!=i&&"none"!==i)return i}function D1(e,t){var i=e.get(t);return lc(i)&&i.length?{name:t,range:i}:null}var D2=Math.max,D5=Math.min,D3=["itemStyle","borderWidth"],D4=["itemStyle","gapWidth"],D6=["upperLabel","show"],D8=["upperLabel","height"];let D9={seriesType:"treemap",reset:function(e,t,i,r){var n=i.getWidth(),o=i.getHeight(),s=e.option,a=mL(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),l=s.size||[],u=cc(lE(a.width,l[0]),n),d=cc(lE(a.height,l[1]),o),h=r&&r.type,c=Dw(r,["treemapZoomToNode","treemapRootToNode"],e),p="treemapRender"===h||"treemapMove"===h?r.rootRect:null,g=e.getViewRoot(),f=Db(g);if("treemapMove"!==h){var m="treemapZoomToNode"===h?function(e,t,i,r,n){var o,s=(t||{}).node,a=[r,n];if(!s||s===i)return a;for(var l=r*n,u=l*e.option.zoomToNodeRatio;o=s.parentNode;){for(var d=0,h=o.children,c=0,p=h.length;c<p;c++)d+=h[c].getValue();var g=s.getValue();if(0===g)return a;u*=d/g;var f=o.getModel(),m=f.get(D3),v=Math.max(m,Ae(f));(u+=4*m*m+(3*m+v)*Math.pow(u,.5))>0x1fffffffffffff&&(u=0x1fffffffffffff),s=o}u<l&&(u=l);var y=Math.pow(u/l,.5);return[r*y,n*y]}(e,c,g,u,d):p?[p.width,p.height]:[u,d],v=s.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var y={squareRatio:s.squareRatio,sort:v,leafDepth:s.leafDepth};g.hostTree.clearLayouts();var C={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};g.setLayout(C),function e(t,i,r,n){if(!t.isRemoved()){var o,s,a=t.getLayout();o=a.width,s=a.height;var l=t.getModel(),u=l.get(D3),d=l.get(D4)/2,h=Ae(l),c=Math.max(u,h),p=u-d,g=c-d;t.setLayout({borderWidth:u,upperHeight:c,upperLabelHeight:h},!0);var f=(o=D2(o-2*p,0))*(s=D2(s-p-g,0)),m=function(e,t,i,r,n,o){var s,a,l=e.children||[],u=r.sort;"asc"!==u&&"desc"!==u&&(u=null);var d=null!=r.leafDepth&&r.leafDepth<=o;if(n&&!d)return e.viewChildren=[];s=l=la(l,function(e){return!e.isRemoved()}),(a=u)&&s.sort(function(e,t){var i="asc"===a?e.getValue()-t.getValue():t.getValue()-e.getValue();return 0===i?"asc"===a?e.dataIndex-t.dataIndex:t.dataIndex-e.dataIndex:i});var h=function(e,t,i){for(var r,n=0,o=0,s=t.length;o<s;o++)n+=t[o].getValue();var a=e.get("visualDimension");return t&&t.length?"value"===a&&i?(r=[t[t.length-1].getValue(),t[0].getValue()],"asc"===i&&r.reverse()):(r=[1/0,-1/0],ln(t,function(e){var t=e.getValue(a);t<r[0]&&(r[0]=t),t>r[1]&&(r[1]=t)})):r=[NaN,NaN],{sum:n,dataExtent:r}}(t,l,u);if(0===h.sum||(h.sum=function(e,t,i,r,n){if(!r)return i;for(var o=e.get("visibleMin"),s=n.length,a=s,l=s-1;l>=0;l--){var u=n["asc"===r?s-l-1:l].getValue();u/i*t<o&&(a=l,i-=u)}return"asc"===r?n.splice(0,s-a):n.splice(a,s-a),i}(t,i,h.sum,u,l),0===h.sum))return e.viewChildren=[];for(var c=0,p=l.length;c<p;c++){var g=l[c].getValue()/h.sum*i;l[c].setLayout({area:g})}return d&&(l.length&&e.setLayout({isLeafRoot:!0},!0),l.length=0),e.viewChildren=l,e.setLayout({dataExtent:h.dataExtent},!0),l}(t,l,f,i,r,n);if(m.length){var v={x:p,y:g,width:o,height:s},y=D5(o,s),C=1/0,w=[];w.area=0;for(var b=0,S=m.length;b<S;){var x=m[b];w.push(x),w.area+=x.getLayout().area;var _=function(e,t,i){for(var r=0,n=1/0,o=0,s=void 0,a=e.length;o<a;o++)(s=e[o].getLayout().area)&&(s<n&&(n=s),s>r&&(r=s));var l=e.area*e.area,u=t*t*i;return l?D2(u*r/l,l/(u*n)):1/0}(w,y,i.squareRatio);_<=C?(b++,C=_):(w.area-=w.pop().getLayout().area,D7(w,y,v,d,!1),y=D5(v.width,v.height),w.length=w.area=0,C=1/0)}if(w.length&&D7(w,y,v,d,!0),!r){var E=l.get("childrenVisibleMin");null!=E&&f<E&&(r=!0)}for(var b=0,S=m.length;b<S;b++)e(m[b],i,r,n+1)}}}(g,y,!1,0),C=g.getLayout(),ln(f,function(e,t){var i=(f[t+1]||g).getValue();e.setLayout(a8({dataExtent:[i,i],borderWidth:0,upperHeight:0},C))})}var w=e.getData().tree.root;w.setLayout(function(e,t,i){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!i)return r;var n=i.node,o=n.getLayout();if(!o)return r;for(var s=[o.width/2,o.height/2],a=n;a;){var l=a.getLayout();s[0]+=l.x,s[1]+=l.y,a=a.parentNode}return{x:e.width/2-s[0],y:e.height/2-s[1]}}(a,p,c),!0),e.setLayoutInfo(a),function e(t,i,r,n,o){var s=t.getLayout(),a=r[o],l=a&&a===t;if((!a||l)&&(o!==r.length||t===n)){t.setLayout({isInView:!0,invisible:!l&&!i.intersect(s),isAboveViewRoot:l},!0);var u=new uY(i.x-s.x,i.y-s.y,i.width,i.height);ln(t.viewChildren||[],function(t){e(t,u,r,n,o+1)})}}(w,new uY(-a.x,-a.y,n,o),f,g,0)}};function D7(e,t,i,r,n){var o=+(t!==i.width),s=1-o,a=["x","y"],l=["width","height"],u=i[a[o]],d=t?e.area/t:0;(n||d>i[l[s]])&&(d=i[l[s]]);for(var h=0,c=e.length;h<c;h++){var p=e[h],g={},f=d?p.getLayout().area/d:0,m=g[l[s]]=D2(d-2*r,0),v=i[a[o]]+i[l[o]]-u,y=h===c-1||v<f?v:f,C=g[l[o]]=D2(y-2*r,0);g[a[s]]=i[a[s]]+D5(r,m/2),g[a[o]]=u+D5(r,C/2),u+=y,p.setLayout(g,!0)}i[a[s]]+=d,i[l[s]]-=d}function Ae(e){return e.get(D6)?e.get(D8):0}function At(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getGraph().data,n=i.mapArray(i.getName);r.filterSelf(function(e){var i=r.getItemModel(e).getShallow("category");if(null!=i){lm(i)&&(i=n[i]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(i))return!1}return!0})})}function Ai(e){var t={};e.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getData(),n={};i.each(function(r){var o=i.getName(r);n["ec-"+o]=r;var s=i.getItemModel(r),a=s.getModel("itemStyle").getItemStyle();a.fill||(a.fill=e.getColorFromPalette(o,t)),i.setItemVisual(r,"style",a);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var d=s.getShallow(l[u],!0);null!=d&&i.setItemVisual(r,l[u],d)}}),i.count()&&r.each(function(e){var t=r.getItemModel(e).getShallow("category");if(null!=t){lg(t)&&(t=n["ec-"+t]);var o=i.getItemVisual(t,"style");a8(r.ensureUniqueItemVisual(e,"style"),o);for(var s=["symbol","symbolSize","symbolKeepAspect"],a=0;a<s.length;a++)r.setItemVisual(e,s[a],i.getItemVisual(t,s[a]))}})})}function Ar(e){return e instanceof Array||(e=[e,e]),e}function An(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),r=Ar(e.get("edgeSymbol")),n=Ar(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",n&&n[0]),i.setVisual("toSymbolSize",n&&n[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(e){var r=i.getItemModel(e),n=t.getEdgeByIndex(e),o=Ar(r.getShallow("symbol",!0)),s=Ar(r.getShallow("symbolSize",!0)),a=r.getModel("lineStyle").getLineStyle(),l=i.ensureUniqueItemVisual(e,"style");switch(a8(l,a),l.stroke){case"source":var u=n.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":var u=n.node2.getVisual("style");l.stroke=u&&u.fill}o[0]&&n.setVisual("fromSymbol",o[0]),o[1]&&n.setVisual("toSymbol",o[1]),s[0]&&n.setVisual("fromSymbolSize",s[0]),s[1]&&n.setVisual("toSymbolSize",s[1])})})}var Ao=function(e){return e.get("autoCurveness")||null},As=function(e,t){var i=Ao(e),r=20,n=[];if(lm(i))r=i;else if(lc(i)){e.__curvenessList=i;return}t>r&&(r=t);var o=r%2?r+2:r+3;n=[];for(var s=0;s<o;s++)n.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=n},Aa=function(e,t,i){var r=[e.id,e.dataIndex].join("."),n=[t.id,t.dataIndex].join(".");return[i.uid,r,n].join("-->")},Al=function(e){var t=e.split("-->");return[t[0],t[2],t[1]].join("-->")},Au=function(e,t){var i=Aa(e.node1,e.node2,t);return t.__edgeMap[i]},Ad=function(e,t){var i=t.__edgeMap;return i[e]?i[e].length:0};function Ah(e,t,i,r){var n=Ao(t),o=lc(n);if(!n)return null;var s=Au(e,t);if(!s)return null;for(var a=-1,l=0;l<s.length;l++)if(s[l]===i){a=l;break}var u=Ad(Aa(e.node1,e.node2,t),t)+Ad(Aa(e.node2,e.node1,t),t);As(t,u),e.lineStyle=e.lineStyle||{};var d=Aa(e.node1,e.node2,t),h=t.__curvenessList,c=o||u%2?0:1;if(s.isForward)return h[c+a];var p=Ad(Al(d),t),g=h[a+p+c];return r?o?n&&0===n[0]?(p+c)%2?g:-g:((p%2?0:1)+c)%2?g:-g:(p+c)%2?g:-g:h[a+p+c]}function Ac(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var i=e.getGraph();i.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),Ap(i,e)}}function Ap(e,t){e.eachEdge(function(e,i){var r=lM(e.getModel().get(["lineStyle","curveness"]),-Ah(e,t,i,!0),0),n=lq(e.node1.getLayout()),o=lq(e.node2.getLayout()),s=[n,o];+r&&s.push([(n[0]+o[0])/2-(n[1]-o[1])*r,(n[1]+o[1])/2-(o[0]-n[0])*r]),e.setLayout(s)})}function Ag(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),i=e.coordinateSystem;if(i&&"view"!==i.type){var r=e.getData(),n=[];ln(i.dimensions,function(e){n=n.concat(r.mapDimensionsAll(e))});for(var o=0;o<r.count();o++){for(var s=[],a=!1,l=0;l<n.length;l++){var u=r.get(n[l],o);isNaN(u)||(a=!0),s.push(u)}a?r.setItemLayout(o,i.dataToPoint(s)):r.setItemLayout(o,[NaN,NaN])}Ap(r.graph,e)}else t&&"none"!==t||Ac(e)})}function Af(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var i=e.option.nodeScaleRatio,r=t.scaleX;return((t.getZoom()-1)*i+1)/r}function Am(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Av=Math.PI,Ay=[];function AC(e,t,i,r){var n=e.coordinateSystem;if(!n||"view"===n.type){var o=n.getBoundingRect(),s=e.getData(),a=s.graph,l=o.width/2+o.x,u=o.height/2+o.y,d=Math.min(o.width,o.height)/2,h=s.count();if(s.setLayout({cx:l,cy:u}),h){if(i){var c=n.pointToData(r),p=[c[0]-l,c[1]-u];l6(p,p),l4(p,p,d),i.setLayout([l+p[0],u+p[1]],!0),Ab(i,e.get(["circular","rotateLabel"]),l,u)}Aw[t](e,a,s,d,l,u,h),a.eachEdge(function(t,i){var r,n=lM(t.getModel().get(["lineStyle","curveness"]),Ah(t,e,i),0),o=lq(t.node1.getLayout()),s=lq(t.node2.getLayout()),a=(o[0]+s[0])/2,d=(o[1]+s[1])/2;+n&&(n*=3,r=[l*n+a*(1-n),u*n+d*(1-n)]),t.setLayout([o,s,r])})}}}var Aw={value:function(e,t,i,r,n,o,s){var a=0,l=i.getSum("value"),u=2*Math.PI/(l||s);t.eachNode(function(e){var t=e.getValue("value"),i=u*(l?t:1)/2;a+=i,e.setLayout([r*Math.cos(a)+n,r*Math.sin(a)+o]),a+=i})},symbolSize:function(e,t,i,r,n,o,s){var a=0;Ay.length=s;var l=Af(e);t.eachNode(function(e){var t=Am(e);isNaN(t)&&(t=2),t<0&&(t=0);var i=Math.asin((t*=l)/2/r);isNaN(i)&&(i=Av/2),Ay[e.dataIndex]=i,a+=2*i});var u=(2*Av-a)/s/2,d=0;t.eachNode(function(e){var t=u+Ay[e.dataIndex];d+=t,e.getLayout()&&e.getLayout().fixed||e.setLayout([r*Math.cos(d)+n,r*Math.sin(d)+o]),d+=t})}};function Ab(e,t,i,r){var n=e.getGraphicEl();if(n){var o=e.getModel().get(["label","rotate"])||0,s=n.getSymbolPath();if(t){var a=e.getLayout(),l=Math.atan2(a[1]-r,a[0]-i);l<0&&(l=2*Math.PI+l);var u=a[0]<i;u&&(l-=Math.PI);var d=u?"left":"right";s.setTextConfig({rotation:-l,position:d,origin:"center"});var h=s.ensureState("emphasis");a8(h.textConfig||(h.textConfig={}),{position:d})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function AS(e){e.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&AC(e,"symbolSize")})}function Ax(e){e.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var i=e.preservedPoints||{},r=e.getGraph(),n=r.data,o=r.edgeData,s=e.getModel("force"),a=s.get("initLayout");e.preservedPoints?n.each(function(e){var t=n.getId(e);n.setItemLayout(e,i[t]||[NaN,NaN])}):a&&"none"!==a?"circular"===a&&AC(e,"value"):Ac(e);var l=n.getDataExtent("value"),u=o.getDataExtent("value"),d=s.get("repulsion"),h=s.get("edgeLength"),c=lc(d)?d:[d,d],p=lc(h)?h:[h,h];p=[p[1],p[0]];var g=n.mapArray("value",function(e,t){var i=n.getItemLayout(t),r=ch(e,l,c);return isNaN(r)&&(r=(c[0]+c[1])/2),{w:r,rep:r,fixed:n.getItemModel(t).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),f=o.mapArray("value",function(t,i){var n=r.getEdgeByIndex(i),o=ch(t,u,p);isNaN(o)&&(o=(p[0]+p[1])/2);var s=n.getModel(),a=lM(n.getModel().get(["lineStyle","curveness"]),-Ah(n,e,i,!0),0);return{n1:g[n.node1.dataIndex],n2:g[n.node2.dataIndex],d:o,curveness:a,ignoreForceLayout:s.get("ignoreForceLayout")}}),m=function(e,t,i){for(var r,n,o=i.rect,s=o.width,a=o.height,l=[o.x+s/2,o.y+a/2],u=null==i.gravity?.1:i.gravity,d=0;d<e.length;d++){var h=e[d];h.p||(h.p=lK(s*(Math.random()-.5)+l[0],a*(Math.random()-.5)+l[1])),h.pp=lq(h.p),h.edges=null}var c=null==i.friction?.6:i.friction,p=c;return{warmUp:function(){p=.8*c},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},beforeStep:function(e){r=e},afterStep:function(e){n=e},step:function(i){r&&r(e,t);for(var o=[],s=e.length,a=0;a<t.length;a++){var d=t[a];if(!d.ignoreForceLayout){var h=d.n1,c=d.n2;lJ(o,c.p,h.p);var g=l0(o)-d.d,f=c.w/(h.w+c.w);isNaN(f)&&(f=0),l6(o,o),h.fixed||lQ(h.p,h.p,o,f*g*p),c.fixed||lQ(c.p,c.p,o,-(1-f)*g*p)}}for(var a=0;a<s;a++){var m=e[a];m.fixed||(lJ(o,l,m.p),lQ(m.p,m.p,o,u*p))}for(var a=0;a<s;a++)for(var h=e[a],v=a+1;v<s;v++){var c=e[v];lJ(o,c.p,h.p);var g=l0(o);0===g&&(lX(o,Math.random()-.5,Math.random()-.5),g=1);var y=(h.rep+c.rep)/g/g;h.fixed||lQ(h.pp,h.pp,o,y),c.fixed||lQ(c.pp,c.pp,o,-y)}for(var C=[],a=0;a<s;a++){var m=e[a];m.fixed||(lJ(C,m.p,m.pp),lQ(m.p,m.p,C,p),lY(m.pp,m.p))}var w=(p*=.992)<.01;n&&n(e,t,w),i&&i(w)}}}(g,f,{rect:t.getBoundingRect(),gravity:s.get("gravity"),friction:s.get("friction")});m.beforeStep(function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].fixed&&lY(e[i].p,r.getNodeByIndex(i).getLayout())}),m.afterStep(function(e,t,o){for(var s=0,a=e.length;s<a;s++)e[s].fixed||r.getNodeByIndex(s).setLayout(e[s].p),i[n.getId(s)]=e[s].p;for(var s=0,a=t.length;s<a;s++){var l=t[s],u=r.getEdgeByIndex(s),d=l.n1.p,h=l.n2.p,c=u.getLayout();(c=c?c.slice():[])[0]=c[0]||[],c[1]=c[1]||[],lY(c[0],d),lY(c[1],h),+l.curveness&&(c[2]=[(d[0]+h[0])/2-(d[1]-h[1])*l.curveness,(d[1]+h[1])/2-(h[0]-d[0])*l.curveness]),u.setLayout(c)}}),e.forceLayout=m,e.preservedPoints=i,m.step()}else e.forceLayout=null})}function A_(e,t){var i=[];return e.eachSeriesByType("graph",function(e){var r=e.get("coordinateSystem");if(!r||"view"===r){var n=e.getData(),o=n.mapArray(function(e){var t=n.getItemModel(e);return[+t.get("x"),+t.get("y")]}),s=[],a=[];pN(o,s,a),a[0]-s[0]==0&&(a[0]+=1,s[0]-=1),a[1]-s[1]==0&&(a[1]+=1,s[1]-=1);var l=(a[0]-s[0])/(a[1]-s[1]),u=mL(a8(e.getBoxLayoutParams(),{aspect:l}),{width:t.getWidth(),height:t.getHeight()});isNaN(l)&&(s=[u.x,u.y],a=[u.x+u.width,u.y+u.height]);var d=a[0]-s[0],h=a[1]-s[1],c=u.width,p=u.height,g=e.coordinateSystem=new RW;g.zoomLimit=e.get("scaleLimit"),g.setBoundingRect(s[0],s[1],d,h),g.setViewRect(u.x,u.y,c,p),g.setCenter(e.get("center"),t),g.setZoom(e.get("zoom")),i.push(g)}}),i}var AE=CR.prototype,AT=CP.prototype,AM=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function AR(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}aF(function(){return null!==w&&w.apply(this,arguments)||this},w=AM);var AD=function(e){function t(t){var i=e.call(this,t)||this;return i.type="ec-line",i}return aF(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new AM},t.prototype.buildPath=function(e,t){AR(t)?AE.buildPath.call(this,e,t):AT.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return AR(this.shape)?AE.pointAt.call(this,e):AT.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,i=AR(t)?[t.x2-t.x1,t.y2-t.y1]:AT.tangentAt.call(this,e);return l6(i,i)},t}(gl),AA=["fromSymbol","toSymbol"];function AI(e){return"_"+e+"Type"}function AP(e,t,i){var r=t.getItemVisual(i,e);if(!r||"none"===r)return r;var n=t.getItemVisual(i,e+"Size"),o=t.getItemVisual(i,e+"Rotate"),s=t.getItemVisual(i,e+"Offset"),a=t.getItemVisual(i,e+"KeepAspect"),l=bl(n),u=bu(s||0,l);return r+l+u+(o||"")+(a||"")}function AL(e,t,i){var r=t.getItemVisual(i,e);if(r&&"none"!==r){var n=t.getItemVisual(i,e+"Size"),o=t.getItemVisual(i,e+"Rotate"),s=t.getItemVisual(i,e+"Offset"),a=t.getItemVisual(i,e+"KeepAspect"),l=bl(n),u=bu(s||0,l),d=ba(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,a);return d.__specifiedRotation=null==o||isNaN(o)?void 0:o*Math.PI/180||0,d.name=e,d}}function Ak(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var i=t[2];i?(e.cpx1=i[0],e.cpy1=i[1]):(e.cpx1=NaN,e.cpy1=NaN)}var AN=function(e){function t(t,i,r){var n=e.call(this)||this;return n._createLine(t,i,r),n}return aF(t,e),t.prototype._createLine=function(e,t,i){var r,n,o=e.hostModel,s=(r=e.getItemLayout(t),Ak((n=new AD({name:"line",subPixelOptimize:!0})).shape,r),n);s.shape.percent=0,fb(s,{shape:{percent:1}},o,t),this.add(s),ln(AA,function(i){var r=AL(i,e,t);this.add(r),this[AI(i)]=AP(i,e,t)},this),this._updateCommonStl(e,t,i)},t.prototype.updateData=function(e,t,i){var r=e.hostModel,n=this.childOfName("line"),o=e.getItemLayout(t),s={shape:{}};Ak(s.shape,o),fw(n,s,r,t),ln(AA,function(i){var r=AP(i,e,t),n=AI(i);if(this[n]!==r){this.remove(this.childOfName(i));var o=AL(i,e,t);this.add(o)}this[n]=r},this),this._updateCommonStl(e,t,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,i){var r=e.hostModel,n=this.childOfName("line"),o=i&&i.emphasisLineStyle,s=i&&i.blurLineStyle,a=i&&i.selectLineStyle,l=i&&i.labelStatesModels,u=i&&i.emphasisDisabled,d=i&&i.focus,h=i&&i.blurScope;if(!i||e.hasItemOption){var c=e.getItemModel(t),p=c.getModel("emphasis");o=p.getModel("lineStyle").getLineStyle(),s=c.getModel(["blur","lineStyle"]).getLineStyle(),a=c.getModel(["select","lineStyle"]).getLineStyle(),u=p.get("disabled"),d=p.get("focus"),h=p.get("blurScope"),l=fI(c)}var g=e.getItemVisual(t,"style"),f=g.stroke;n.useStyle(g),n.style.fill=null,n.style.strokeNoScale=!0,n.ensureState("emphasis").style=o,n.ensureState("blur").style=s,n.ensureState("select").style=a,ln(AA,function(e){var t=this.childOfName(e);if(t){t.setColor(f),t.style.opacity=g.opacity;for(var i=0;i<gz.length;i++){var r=gz[i],o=n.getState(r);if(o){var s=o.style||{},a=t.ensureState(r),l=a.style||(a.style={});null!=s.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=s.stroke),null!=s.opacity&&(l.opacity=s.opacity)}}t.markRedraw()}},this);var m=r.getRawValue(t);fA(this,l,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,i){return r.getFormattedLabel(t,i,e.dataType)}},inheritColor:f||"#000",defaultOpacity:g.opacity,defaultText:(null==m?e.getName(t):isFinite(m)?cp(m):m)+""});var v=this.getTextContent();if(v){var y=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=y.get("position")||"middle";var C=y.get("distance");lc(C)||(C=[C,C]),v.__labelDistance=C}this.setTextConfig({position:null,local:!0,inside:!1}),fl(this,d,h,u)},t.prototype.highlight=function(){g7(this)},t.prototype.downplay=function(){fe(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");Ak(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),i=this.getTextContent();if(e||t||i&&!i.ignore){for(var r=1,n=this.parent;n;)n.scaleX&&(r/=n.scaleX),n=n.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var s=o.shape.percent,a=o.pointAt(0),l=o.pointAt(s),u=lJ([],l,a);if(l6(u,u),e&&(e.setPosition(a),S(e,0),e.scaleX=e.scaleY=r*s,e.markRedraw()),t&&(t.setPosition(l),S(t,1),t.scaleX=t.scaleY=r*s,t.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var d=void 0,h=void 0,c=i.__labelDistance,p=c[0]*r,g=c[1]*r,f=s/2,m=o.tangentAt(f),v=[m[1],-m[0]],y=o.pointAt(f);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]);var C=m[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var w=-Math.atan2(m[1],m[0]);l[0]<a[0]&&(w=Math.PI+w),i.rotation=w}var b=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":b=-g,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":b=g,h="top";break;default:b=0,h="middle"}switch(i.__position){case"end":i.x=u[0]*p+l[0],i.y=u[1]*g+l[1],d=u[0]>.8?"left":u[0]<-.8?"right":"center",h=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";break;case"start":i.x=-u[0]*p+a[0],i.y=-u[1]*g+a[1],d=u[0]>.8?"right":u[0]<-.8?"left":"center",h=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=p*C+a[0],i.y=a[1]+b,d=m[0]<0?"right":"left",i.originX=-p*C,i.originY=-b;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=y[0],i.y=y[1]+b,d="center",i.originY=-b;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-p*C+l[0],i.y=l[1]+b,d=m[0]>=0?"right":"left",i.originX=p*C,i.originY=-b}i.scaleX=i.scaleY=r,i.setStyle({verticalAlign:i.__verticalAlign||h,align:i.__align||d})}}}function S(e,t){var i=e.__specifiedRotation;if(null==i){var r=o.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else e.attr("rotation",i)}},t}(ce),AF=function(){function e(e){this.group=new ce,this._LineCtor=e||AN}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this.group,r=this._lineData;this._lineData=e,r||i.removeAll();var n=AO(e);e.diff(r).add(function(i){t._doAdd(e,i,n)}).update(function(i,o){t._doUpdate(r,e,o,i,n)}).remove(function(e){i.remove(r.getItemGraphicEl(e))}).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=AO(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function i(e){var t;e.isGroup||(t=e).animators&&t.animators.length>0||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++)if(AV(t.getItemLayout(r))){var n=new this._LineCtor(t,r,this._seriesScope);n.traverse(i),this.group.add(n),t.setItemGraphicEl(r,n),this._progressiveEls.push(n)}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){wu(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,i){if(AV(e.getItemLayout(t))){var r=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,r),this.group.add(r)}},e.prototype._doUpdate=function(e,t,i,r,n){var o=e.getItemGraphicEl(i);AV(t.getItemLayout(r))?(o?o.updateData(t,r,n):o=new this._LineCtor(t,r,n),t.setItemGraphicEl(r,o),this.group.add(o)):this.group.remove(o)},e}();function AO(e){var t=e.hostModel,i=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:i.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:i.get("disabled"),blurScope:i.get("blurScope"),focus:i.get("focus"),labelStatesModels:fI(t)}}function AG(e){return isNaN(e[0])||isNaN(e[1])}function AV(e){return e&&!AG(e[0])&&!AG(e[1])}var AB=[],AH=[],Az=[],AW=Math.abs;function AU(e,t,i){for(var r,n=e[0],o=e[1],s=e[2],a=1/0,l=i*i,u=.1,d=.1;d<=.9;d+=.1){AB[0]=dw(n[0],o[0],s[0],d),AB[1]=dw(n[1],o[1],s[1],d);var h=AW(l9(AB,t)-l);h<a&&(a=h,r=d)}for(var c=0;c<32;c++){var p=r+u;AH[0]=dw(n[0],o[0],s[0],r),AH[1]=dw(n[1],o[1],s[1],r),Az[0]=dw(n[0],o[0],s[0],p),Az[1]=dw(n[1],o[1],s[1],p);var h=l9(AH,t)-l;if(.01>AW(h))break;var g=l9(Az,t)-l;u/=2,h<0?g>=0?r+=u:r-=u:g>=0?r-=u:r+=u}return r}function Aj(e,t){var i=[],r=[[],[],[]],n=[[],[]],o=[];t/=2,e.eachEdge(function(e,s){var a=e.getLayout(),l=e.getVisual("fromSymbol"),u=e.getVisual("toSymbol");!a.__original&&(a.__original=[lq(a[0]),lq(a[1])],a[2]&&a.__original.push(lq(a[2])));var d=a.__original;if(null!=a[2]){if(lY(r[0],d[0]),lY(r[1],d[2]),lY(r[2],d[1]),l&&"none"!==l){var h=Am(e.node1),c=AU(r,d[0],h*t);dx(r[0][0],r[1][0],r[2][0],c,i),r[0][0]=i[3],r[1][0]=i[4],dx(r[0][1],r[1][1],r[2][1],c,i),r[0][1]=i[3],r[1][1]=i[4]}if(u&&"none"!==u){var h=Am(e.node2),c=AU(r,d[1],h*t);dx(r[0][0],r[1][0],r[2][0],c,i),r[1][0]=i[1],r[2][0]=i[2],dx(r[0][1],r[1][1],r[2][1],c,i),r[1][1]=i[1],r[2][1]=i[2]}lY(a[0],r[0]),lY(a[1],r[2]),lY(a[2],r[1])}else{if(lY(n[0],d[0]),lY(n[1],d[1]),lJ(o,n[1],n[0]),l6(o,o),l&&"none"!==l){var h=Am(e.node1);lQ(n[0],n[0],o,h*t)}if(u&&"none"!==u){var h=Am(e.node2);lQ(n[1],n[1],o,-h*t)}lY(a[0],n[0]),lY(a[1],n[1])}})}function A$(e){return"view"===e.type}var AK=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(e,t){var i=new x9,r=new AF,n=this.group;this._controller=new MP(t.getZr()),this._controllerHost={target:n},n.add(i.group),n.add(r.group),this._symbolDraw=i,this._lineDraw=r,this._firstRender=!0},t.prototype.render=function(e,t,i){var r=this,n=e.coordinateSystem;this._model=e;var o=this._symbolDraw,s=this._lineDraw,a=this.group;if(A$(n)){var l={x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY};this._firstRender?a.attr(l):fw(a,l,e)}Aj(e.getGraph(),Af(e));var u=e.getData();o.updateData(u);var d=e.getEdgeData();s.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,t,i),clearTimeout(this._layoutTimeout);var h=e.forceLayout,c=e.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,c);var p=e.get("layout");u.graph.eachNode(function(t){var i=t.dataIndex,n=t.getGraphicEl(),o=t.getModel();if(n){n.off("drag").off("dragend");var s=o.get("draggable");s&&n.on("drag",function(o){switch(p){case"force":h.warmUp(),r._layouting||r._startForceLayoutIteration(h,c),h.setFixed(i),u.setItemLayout(i,[n.x,n.y]);break;case"circular":u.setItemLayout(i,[n.x,n.y]),t.setLayout({fixed:!0},!0),AC(e,"symbolSize",t,[o.offsetX,o.offsetY]),r.updateLayout(e);break;default:u.setItemLayout(i,[n.x,n.y]),Ap(e.getGraph(),e),r.updateLayout(e)}}).on("dragend",function(){h&&h.setUnfixed(i)}),n.setDraggable(s,!!o.get("cursor")),"adjacency"===o.get(["emphasis","focus"])&&(gF(n).focus=t.getAdjacentDataIndices())}}),u.graph.eachEdge(function(e){var t=e.getGraphicEl(),i=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===i&&(gF(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})});var g="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),f=u.getLayout("cx"),m=u.getLayout("cy");u.graph.eachNode(function(e){Ab(e,g,f,m)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var i=this;!function r(){e.step(function(e){i.updateLayout(i._model),(i._layouting=!e)&&(t?i._layoutTimeout=setTimeout(r,16):r())})}()},t.prototype._updateController=function(e,t,i){var r=this,n=this._controller,o=this._controllerHost,s=this.group;(n.setPointerChecker(function(t,r,n){var o=s.getBoundingRect();return o.applyTransform(s.transform),o.contain(r,n)&&!MV(t,i,e)}),A$(e.coordinateSystem))?(n.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",function(t){MF(o,t.dx,t.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})}).on("zoom",function(t){MO(o,t.scale,t.originX,t.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(),Aj(e.getGraph(),Af(e)),r._lineDraw.updateLayout(),i.updateLabelLayout()})):n.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),i=Af(e);t.eachItemGraphicEl(function(e,t){e&&e.setSymbolScale(i)})},t.prototype.updateLayout=function(e){Aj(e.getGraph(),Af(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(wc);function AY(e){return"_EC_"+e}var Aq=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var i=this._nodesMap;if(!i[AY(e)]){var r=new AX(e,t);return r.hostGraph=this,this.nodes.push(r),i[AY(e)]=r,r}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[AY(e)]},e.prototype.addEdge=function(e,t,i){var r=this._nodesMap,n=this._edgesMap;if(lm(e)&&(e=this.nodes[e]),lm(t)&&(t=this.nodes[t]),e instanceof AX||(e=r[AY(e)]),t instanceof AX||(t=r[AY(t)]),e&&t){var o=e.id+"-"+t.id,s=new AZ(e,t,i);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),n[o]=s,s}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof AX&&(e=e.id),t instanceof AX&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var i=this.nodes,r=i.length,n=0;n<r;n++)i[n].dataIndex>=0&&e.call(t,i[n],n)},e.prototype.eachEdge=function(e,t){for(var i=this.edges,r=i.length,n=0;n<r;n++)i[n].dataIndex>=0&&i[n].node1.dataIndex>=0&&i[n].node2.dataIndex>=0&&e.call(t,i[n],n)},e.prototype.breadthFirstTraverse=function(e,t,i,r){if(t instanceof AX||(t=this._nodesMap[AY(t)]),t){for(var n="out"===i?"outEdges":"in"===i?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(r,t,null))for(var s=[t];s.length;)for(var a=s.shift(),l=a[n],o=0;o<l.length;o++){var u=l[o],d=u.node1===a?u.node2:u.node1;if(!d.__visited){if(e.call(r,d,a))return;s.push(d),d.__visited=!0}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,r=this.edges,n=0,o=i.length;n<o;n++)i[n].dataIndex=-1;for(var n=0,o=e.count();n<o;n++)i[e.getRawIndex(n)].dataIndex=n;t.filterSelf(function(e){var i=r[t.getRawIndex(e)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(var n=0,o=r.length;n<o;n++)r[n].dataIndex=-1;for(var n=0,o=t.count();n<o;n++)r[t.getRawIndex(n)].dataIndex=n},e.prototype.clone=function(){for(var t=new e(this._directed),i=this.nodes,r=this.edges,n=0;n<i.length;n++)t.addNode(i[n].id,i[n].dataIndex);for(var n=0;n<r.length;n++){var o=r[n];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},e}(),AX=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},e.prototype.getTrajectoryDataIndices=function(){for(var e=lG(),t=lG(),i=0;i<this.edges.length;i++){var r=this.edges[i];if(!(r.dataIndex<0)){e.set(r.dataIndex,!0);for(var n=[r.node1],o=[r.node2],s=0;s<n.length;){var a=n[s];s++,t.set(a.dataIndex,!0);for(var l=0;l<a.inEdges.length;l++)e.set(a.inEdges[l].dataIndex,!0),n.push(a.inEdges[l].node1)}for(s=0;s<o.length;){var u=o[s];s++,t.set(u.dataIndex,!0);for(var l=0;l<u.outEdges.length;l++)e.set(u.outEdges[l].dataIndex,!0),o.push(u.outEdges[l].node2)}}}return{edge:e.keys(),node:t.keys()}},e}(),AZ=function(){function e(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==i?-1:i}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var e=lG(),t=lG();e.set(this.dataIndex,!0);for(var i=[this.node1],r=[this.node2],n=0;n<i.length;){var o=i[n];n++,t.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)e.set(o.inEdges[s].dataIndex,!0),i.push(o.inEdges[s].node1)}for(n=0;n<r.length;){var a=r[n];n++,t.set(a.dataIndex,!0);for(var s=0;s<a.outEdges.length;s++)e.set(a.outEdges[s].dataIndex,!0),r.push(a.outEdges[s].node2)}return{edge:e.keys(),node:t.keys()}},e}();function AQ(e,t){return{getValue:function(i){var r=this[e][t];return r.getStore().get(r.getDimensionIndex(i||"value"),this.dataIndex)},setVisual:function(i,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,i,r)},getVisual:function(i){return this[e][t].getItemVisual(this.dataIndex,i)},setLayout:function(i,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,i,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}function AJ(e,t,i,r,n){for(var o,s=new Aq(r),a=0;a<e.length;a++)s.addNode(lE(e[a].id,e[a].name,a),a);for(var l=[],u=[],d=0,a=0;a<t.length;a++){var h=t[a],c=h.source,p=h.target;s.addEdge(c,p,d)&&(u.push(h),l.push(lE(cz(h.id,null),c+" > "+p)),d++)}var g=i.get("coordinateSystem");if("cartesian2d"===g||"polar"===g)o=xJ(e,i);else{var f=vc.get(g),m=f&&f.dimensions||[];0>le(m,"value")&&m.concat(["value"]),(o=new xU(x$(e,{coordDimensions:m,encodeDefine:i.getEncode()}).dimensions,i)).initData(e)}var v=new xU(["value"],i);return v.initData(u,l),n&&n(o,v),Dv({mainData:o,struct:s,structAttr:"graph",datas:{node:o,edge:v},datasAttr:{node:"data",edge:"edgeData"}}),s.update(),s}li(AX,AQ("hostGraph","data")),li(AZ,AQ("hostGraph","edgeData"));var A0=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return aF(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new EO(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),cF(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var i=e.edges||e.links||[],r=e.data||e.nodes||[],n=this;Ao(this)&&(this.__curvenessList=[],this.__edgeMap={},As(this));var o=AJ(r,i,this,!0,function(e,t){e.wrapMethod("getItemModel",function(e){var t=n._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e});var i=fQ.prototype.getModel;function r(e,t){var r=i.call(this,e,t);return r.resolveParentPath=o,r}function o(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",function(e){return e.resolveParentPath=o,e.getModel=r,e})});return ln(o.edges,function(e){!function(e,t,i,r){if(Ao(i)){var n=Aa(e,t,i),o=i.__edgeMap,s=o[Al(n)];o[n]&&!s?o[n].isForward=!0:s&&o[n]&&(s.isForward=!0,o[n].isForward=!1),o[n]=o[n]||[],o[n].push(r)}}(e.node1,e.node2,this,e.dataIndex)},this),o.data},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,i){if("edge"===i){var r=this.getData(),n=this.getDataParams(e,i),o=r.graph.getEdgeByIndex(e),s=r.getName(o.node1.dataIndex),a=r.getName(o.node2.dataIndex),l=[];return null!=s&&l.push(s),null!=a&&l.push(a),yx("nameValue",{name:l.join(" > "),value:n.value,noValue:null==n.value})}return yL({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=lo(this.option.categories||[],function(e){return null!=e.value?e:a8({value:0},e)}),t=new xU(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(yO),A1={type:"graphRoam",event:"graphRoam",update:"none"},A2=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},A5=function(e){function t(t){var i=e.call(this,t)||this;return i.type="pointer",i}return aF(t,e),t.prototype.getDefaultShape=function(){return new A2},t.prototype.buildPath=function(e,t){var i=Math.cos,r=Math.sin,n=t.r,o=t.width,s=t.angle,a=t.x-i(s)*o*(o>=n/3?1:2),l=t.y-r(s)*o*(o>=n/3?1:2);s=t.angle-Math.PI/2,e.moveTo(a,l),e.lineTo(t.x+i(s)*o,t.y+r(s)*o),e.lineTo(t.x+i(t.angle)*n,t.y+r(t.angle)*n),e.lineTo(t.x-i(s)*o,t.y-r(s)*o),e.lineTo(a,l)},t}(gl);function A3(e,t){var i=null==e?"":e+"";return t&&(lg(t)?i=t.replace("{value}",i):lp(t)&&(i=t(e))),i}var A4=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){this.group.removeAll();var r,n,o=e.get(["axisLine","lineStyle","color"]),s=(r=e.get("center"),n=Math.min(i.getWidth(),i.getHeight()),{cx:cc(r[0],i.getWidth()),cy:cc(r[1],i.getHeight()),r:cc(e.get("radius"),n/2)});this._renderMain(e,t,i,o,s),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,i,r,n){var o=this.group,s=e.get("clockwise"),a=-e.get("startAngle")/180*Math.PI,l=-e.get("endAngle")/180*Math.PI,u=e.getModel("axisLine"),d=u.get("roundCap")?_z:Cy,h=u.get("show"),c=u.getModel("lineStyle"),p=c.get("width"),g=[a,l];p2(g,!s),a=g[0];for(var f=(l=g[1])-a,m=a,v=[],y=0;h&&y<r.length;y++){var C=new d({shape:{startAngle:m,endAngle:l=a+f*Math.min(Math.max(r[y][0],0),1),cx:n.cx,cy:n.cy,clockwise:s,r0:n.r-p,r:n.r},silent:!0});C.setStyle({fill:r[y][1]}),C.setStyle(c.getLineStyle(["color","width"])),v.push(C),m=l}v.reverse(),ln(v,function(e){return o.add(e)});var w=function(e){var t;if(e<=0)return r[0][1];for(t=0;t<r.length;t++)if(r[t][0]>=e&&(0===t?0:r[t-1][0])<e)return r[t][1];return r[t-1][1]};this._renderTicks(e,t,i,w,n,a,l,s,p),this._renderTitleAndDetail(e,t,i,w,n),this._renderAnchor(e,n),this._renderPointer(e,t,i,w,n,a,l,s,p)},t.prototype._renderTicks=function(e,t,i,r,n,o,s,a,l){for(var u,d,h=this.group,c=n.cx,p=n.cy,g=n.r,f=+e.get("min"),m=+e.get("max"),v=e.getModel("splitLine"),y=e.getModel("axisTick"),C=e.getModel("axisLabel"),w=e.get("splitNumber"),b=y.get("splitNumber"),S=cc(v.get("length"),g),x=cc(y.get("length"),g),_=o,E=(s-o)/w,T=E/b,M=v.getModel("lineStyle").getLineStyle(),R=y.getModel("lineStyle").getLineStyle(),D=v.get("distance"),A=0;A<=w;A++){if(u=Math.cos(_),d=Math.sin(_),v.get("show")){var I=D?D+l:l,P=new CR({shape:{x1:u*(g-I)+c,y1:d*(g-I)+p,x2:u*(g-S-I)+c,y2:d*(g-S-I)+p},style:M,silent:!0});"auto"===M.stroke&&P.setStyle({stroke:r(A/w)}),h.add(P)}if(C.get("show")){var I=C.get("distance")+D,L=A3(cp(A/w*(m-f)+f),C.get("formatter")),k=r(A/w),N=u*(g-S-I)+c,F=d*(g-S-I)+p,O=C.get("rotate"),G=0;"radial"===O?(G=-_+2*Math.PI)>Math.PI/2&&(G+=Math.PI):"tangential"===O?G=-_-Math.PI/2:lm(O)&&(G=O*Math.PI/180),0===G?h.add(new gx({style:fP(C,{text:L,x:N,y:F,verticalAlign:d<-.8?"top":d>.8?"bottom":"middle",align:u<-.4?"left":u>.4?"right":"center"},{inheritColor:k}),silent:!0})):h.add(new gx({style:fP(C,{text:L,x:N,y:F,verticalAlign:"middle",align:"center"},{inheritColor:k}),silent:!0,originX:N,originY:F,rotation:G}))}if(y.get("show")&&A!==w){var I=y.get("distance");I=I?I+l:l;for(var V=0;V<=b;V++){var B=new CR({shape:{x1:(u=Math.cos(_))*(g-I)+c,y1:(d=Math.sin(_))*(g-I)+p,x2:u*(g-x-I)+c,y2:d*(g-x-I)+p},silent:!0,style:R});"auto"===R.stroke&&B.setStyle({stroke:r((A+V/b)/w)}),h.add(B),_+=T}_-=T}else _+=E}},t.prototype._renderPointer=function(e,t,i,r,n,o,s,a,l){var u=this.group,d=this._data,h=this._progressEls,c=[],p=e.get(["pointer","show"]),g=e.getModel("progress"),f=g.get("show"),m=e.getData(),v=m.mapDimension("value"),y=+e.get("min"),C=+e.get("max"),w=[y,C],b=[o,s];function S(t,i){var r,o=m.getItemModel(t).getModel("pointer"),s=cc(o.get("width"),n.r),a=cc(o.get("length"),n.r),l=e.get(["pointer","icon"]),u=o.get("offsetCenter"),d=cc(u[0],n.r),h=cc(u[1],n.r),c=o.get("keepAspect");return(r=l?ba(l,d-s/2,h-a,s,a,null,c):new A5({shape:{angle:-Math.PI/2,width:s,r:a,x:d,y:h}})).rotation=-(i+Math.PI/2),r.x=n.cx,r.y=n.cy,r}function x(e,t){var i=g.get("roundCap")?_z:Cy,r=g.get("overlap"),s=r?g.get("width"):l/m.count(),u=r?n.r-s:n.r-(e+1)*s,d=r?n.r:n.r-e*s,h=new i({shape:{startAngle:o,endAngle:t,cx:n.cx,cy:n.cy,clockwise:a,r0:u,r:d}});return r&&(h.z2=ch(m.get(v,e),[y,C],[100,0],!0)),h}(f||p)&&(m.diff(d).add(function(t){var i=m.get(v,t);if(p){var r=S(t,o);fb(r,{rotation:-((isNaN(+i)?b[0]:ch(i,w,b,!0))+Math.PI/2)},e),u.add(r),m.setItemGraphicEl(t,r)}if(f){var n=x(t,o);fb(n,{shape:{endAngle:ch(i,w,b,g.get("clip"))}},e),u.add(n),gO(e.seriesIndex,m.dataType,t,n),c[t]=n}}).update(function(t,i){var r=m.get(v,t);if(p){var n=d.getItemGraphicEl(i),s=n?n.rotation:o,a=S(t,s);a.rotation=s,fw(a,{rotation:-((isNaN(+r)?b[0]:ch(r,w,b,!0))+Math.PI/2)},e),u.add(a),m.setItemGraphicEl(t,a)}if(f){var l=h[i],y=x(t,l?l.shape.endAngle:o);fw(y,{shape:{endAngle:ch(r,w,b,g.get("clip"))}},e),u.add(y),gO(e.seriesIndex,m.dataType,t,y),c[t]=y}}).execute(),m.each(function(e){var t=m.getItemModel(e),i=t.getModel("emphasis"),n=i.get("focus"),o=i.get("blurScope"),s=i.get("disabled");if(p){var a=m.getItemGraphicEl(e),l=m.getItemVisual(e,"style"),u=l.fill;if(a instanceof gp){var d=a.style;a.useStyle(a8({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},l))}else a.useStyle(l),"pointer"!==a.type&&a.setColor(u);a.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===a.style.fill&&a.setStyle("fill",r(ch(m.get(v,e),w,[0,1],!0))),a.z2EmphasisLift=0,fc(a,t),fl(a,n,o,s)}if(f){var h=c[e];h.useStyle(m.getItemVisual(e,"style")),h.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),h.z2EmphasisLift=0,fc(h,t),fl(h,n,o,s)}}),this._progressEls=c)},t.prototype._renderAnchor=function(e,t){var i=e.getModel("anchor");if(i.get("show")){var r=i.get("size"),n=i.get("icon"),o=i.get("offsetCenter"),s=i.get("keepAspect"),a=ba(n,t.cx-r/2+cc(o[0],t.r),t.cy-r/2+cc(o[1],t.r),r,r,null,s);a.z2=+!!i.get("showAbove"),a.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(a)}},t.prototype._renderTitleAndDetail=function(e,t,i,r,n){var o=this,s=e.getData(),a=s.mapDimension("value"),l=+e.get("min"),u=+e.get("max"),d=new ce,h=[],c=[],p=e.isAnimationEnabled(),g=e.get(["pointer","showAbove"]);s.diff(this._data).add(function(e){h[e]=new gx({silent:!0}),c[e]=new gx({silent:!0})}).update(function(e,t){h[e]=o._titleEls[t],c[e]=o._detailEls[t]}).execute(),s.each(function(t){var i=s.getItemModel(t),o=s.get(a,t),f=new ce,m=r(ch(o,[l,u],[0,1],!0)),v=i.getModel("title");if(v.get("show")){var y=v.get("offsetCenter"),C=n.cx+cc(y[0],n.r),w=n.cy+cc(y[1],n.r),b=h[t];b.attr({z2:2*!g,style:fP(v,{x:C,y:w,text:s.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:m})}),f.add(b)}var S=i.getModel("detail");if(S.get("show")){var x=S.get("offsetCenter"),_=n.cx+cc(x[0],n.r),E=n.cy+cc(x[1],n.r),T=cc(S.get("width"),n.r),M=cc(S.get("height"),n.r),R=e.get(["progress","show"])?s.getItemVisual(t,"style").fill:m,b=c[t],D=S.get("formatter");b.attr({z2:2*!g,style:fP(S,{x:_,y:E,text:A3(o,D),width:isNaN(T)?null:T,height:isNaN(M)?null:M,align:"center",verticalAlign:"middle"},{inheritColor:R})}),fB(b,{normal:S},o,function(e){return A3(e,D)}),p&&fH(b,t,s,e,{getFormattedLabel:function(e,t,i,r,n,s){return A3(s?s.interpolatedValue:o,D)}}),f.add(b)}d.add(f)}),this.group.add(d),this._titleEls=h,this._detailEls=c},t.type="gauge",t}(wc),A6=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.visualStyleAccessPath="itemStyle",i}return aF(t,e),t.prototype.getInitialData=function(e,t){return EF(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(yO),A8=["itemStyle","opacity"],A9=function(e){function t(t,i){var r=e.call(this)||this,n=new CE,o=new gx;return r.setTextContent(o),r.setTextGuideLine(n),r.updateData(t,i,!0),r}return aF(t,e),t.prototype.updateData=function(e,t,i){var r=e.hostModel,n=e.getItemModel(t),o=e.getItemLayout(t),s=n.getModel("emphasis"),a=n.get(A8);a=null==a?1:a,i||fT(this),this.useStyle(e.getItemVisual(t,"style")),this.style.lineJoin="round",i?(this.setShape({points:o.points}),this.style.opacity=0,fb(this,{style:{opacity:a}},r,t)):fw(this,{style:{opacity:a},shape:{points:o.points}},r,t),fc(this,n),this._updateLabel(e,t),fl(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e,t){var i=this.getTextGuideLine(),r=this.getTextContent(),n=e.hostModel,o=e.getItemModel(t),s=e.getItemLayout(t).label,a=e.getItemVisual(t,"style"),l=a.fill;fA(r,fI(o),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:a.opacity,defaultText:e.getName(t)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),this.setTextConfig({local:!0,inside:!!s.inside,insideStroke:l,outsideFill:l});var u=s.linePoints;i.setShape({points:u}),this.textGuideLineConfig={anchor:u?new uV(u[0][0],u[0][1]):null},fw(r,{style:{x:s.x,y:s.y}},n,t),r.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),E_(this,EE(o),{stroke:l})},t}(Cx),A7=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.ignoreLabelLineUpdate=!0,i}return aF(t,e),t.prototype.render=function(e,t,i){var r=e.getData(),n=this._data,o=this.group;r.diff(n).add(function(e){var t=new A9(r,e);r.setItemGraphicEl(e,t),o.add(t)}).update(function(e,t){var i=n.getItemGraphicEl(t);i.updateData(r,e),o.add(i),r.setItemGraphicEl(e,i)}).remove(function(t){fE(n.getItemGraphicEl(t),e,t)}).execute(),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(wc),Ie=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new EO(ld(this.getData,this),ld(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return EF(this,{coordDimensions:["value"],encodeDefaulter:lh(m2,this)})},t.prototype._defaultLabelLine=function(e){cF(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var i=this.getData(),r=e.prototype.getDataParams.call(this,t),n=i.mapDimension("value"),o=i.getSum(n);return r.percent=o?+(i.get(n,t)/o*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(yO);function It(e,t){e.eachSeriesByType("funnel",function(e){var i,r=e.getData(),n=r.mapDimension("value"),o=e.get("sort"),s=mL(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),a=e.get("orient"),l=s.width,u=s.height,d=function(e,t){for(var i=e.mapDimension("value"),r=e.mapArray(i,function(e){return e}),n=[],o="ascending"===t,s=0,a=e.count();s<a;s++)n[s]=s;return lp(t)?n.sort(t):"none"!==t&&n.sort(function(e,t){return o?r[e]-r[t]:r[t]-r[e]}),n}(r,o),h=s.x,c=s.y,p="horizontal"===a?[cc(e.get("minSize"),u),cc(e.get("maxSize"),u)]:[cc(e.get("minSize"),l),cc(e.get("maxSize"),l)],g=r.getDataExtent(n),f=e.get("min"),m=e.get("max");null==f&&(f=Math.min(g[0],0)),null==m&&(m=g[1]);var v=e.get("funnelAlign"),y=e.get("gap"),C=(("horizontal"===a?l:u)-y*(r.count()-1))/r.count(),w=function(e,t){if("horizontal"===a){var i,o=ch(r.get(n,e)||0,[f,m],p,!0),s=void 0;switch(v){case"top":s=c;break;case"center":s=c+(u-o)/2;break;case"bottom":s=c+(u-o)}return[[t,s],[t,s+o]]}var d=ch(r.get(n,e)||0,[f,m],p,!0);switch(v){case"left":i=h;break;case"center":i=h+(l-d)/2;break;case"right":i=h+l-d}return[[i,t],[i+d,t]]};"ascending"===o&&(C=-C,y=-y,"horizontal"===a?h+=l:c+=u,d=d.reverse());for(var b=0;b<d.length;b++){var S=d[b],x=d[b+1],_=r.getItemModel(S);if("horizontal"===a){var E=_.get(["itemStyle","width"]);null==E?E=C:(E=cc(E,l),"ascending"===o&&(E=-E));var T=w(S,h),M=w(x,h+E);h+=E+y,r.setItemLayout(S,{points:T.concat(M.slice().reverse())})}else{var R=_.get(["itemStyle","height"]);null==R?R=C:(R=cc(R,u),"ascending"===o&&(R=-R));var T=w(S,c),M=w(x,c+R);c+=R+y,r.setItemLayout(S,{points:T.concat(M.slice().reverse())})}}i=r.hostModel.get("orient"),r.each(function(e){var t,n,o,s,a=r.getItemModel(e),l=a.getModel("label").get("position"),u=a.getModel("labelLine"),d=r.getItemLayout(e),h=d.points,c="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(c)"insideLeft"===l?(n=(h[0][0]+h[3][0])/2+5,o=(h[0][1]+h[3][1])/2,t="left"):"insideRight"===l?(n=(h[1][0]+h[2][0])/2-5,o=(h[1][1]+h[2][1])/2,t="right"):(n=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,t="center"),s=[[n,o],[n,o]];else{var p=void 0,g=void 0,f=void 0,m=void 0,v=u.get("length");"left"===l?(p=(h[3][0]+h[0][0])/2,g=(h[3][1]+h[0][1])/2,n=(f=p-v)-5,t="right"):"right"===l?(p=(h[1][0]+h[2][0])/2,g=(h[1][1]+h[2][1])/2,n=(f=p+v)+5,t="left"):"top"===l?(p=(h[3][0]+h[0][0])/2,o=(m=(g=(h[3][1]+h[0][1])/2)-v)-5,t="center"):"bottom"===l?(p=(h[1][0]+h[2][0])/2,o=(m=(g=(h[1][1]+h[2][1])/2)+v)+5,t="center"):"rightTop"===l?(p="horizontal"===i?h[3][0]:h[1][0],g="horizontal"===i?h[3][1]:h[1][1],"horizontal"===i?(o=(m=g-v)-5,t="center"):(n=(f=p+v)+5,t="top")):"rightBottom"===l?(p=h[2][0],g=h[2][1],"horizontal"===i?(o=(m=g+v)+5,t="center"):(n=(f=p+v)+5,t="bottom")):"leftTop"===l?(p=h[0][0],g="horizontal"===i?h[0][1]:h[1][1],"horizontal"===i?(o=(m=g-v)-5,t="center"):(n=(f=p-v)-5,t="right")):"leftBottom"===l?(p="horizontal"===i?h[1][0]:h[3][0],g="horizontal"===i?h[1][1]:h[2][1],"horizontal"===i?(o=(m=g+v)+5,t="center"):(n=(f=p-v)-5,t="right")):(p=(h[1][0]+h[2][0])/2,g=(h[1][1]+h[2][1])/2,"horizontal"===i?(o=(m=g+v)+5,t="center"):(n=(f=p+v)+5,t="left")),"horizontal"===i?n=f=p:o=m=g,s=[[p,g],[f,m]]}d.label={linePoints:s,x:n,y:o,verticalAlign:"middle",textAlign:t,inside:c}})})}var Ii=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._dataGroup=new ce,i._initialized=!1,i}return aF(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,i,r){this._progressiveEls=null;var n=this._dataGroup,o=e.getData(),s=this._data,a=e.coordinateSystem,l=a.dimensions,u=Io(e);if(o.diff(s).add(function(e){Is(In(o,n,e,l,a),o,e,u)}).update(function(t,i){var r=s.getItemGraphicEl(i),n=Ir(o,t,l,a);o.setItemGraphicEl(t,r),fw(r,{shape:{points:n}},e,t),fT(r),Is(r,o,t,u)}).remove(function(e){var t=s.getItemGraphicEl(e);n.remove(t)}).execute(),!this._initialized){this._initialized=!0;var d,h,c,p,g,f,m,v=(d=a,h=e,c=function(){setTimeout(function(){n.removeClipPath()})},p=d.model,f=new gw({shape:{x:(g=d.getRect()).x,y:g.y,width:g.width,height:g.height}}),m="horizontal"===p.get("layout")?"width":"height",f.setShape(m,0),fb(f,{shape:{width:g.width,height:g.height}},h,c),f);n.setClipPath(v)}this._data=o},t.prototype.incrementalPrepareRender=function(e,t,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,i){for(var r=t.getData(),n=t.coordinateSystem,o=n.dimensions,s=Io(t),a=this._progressiveEls=[],l=e.start;l<e.end;l++){var u=In(r,this._dataGroup,l,o,n);u.incremental=!0,Is(u,r,l,s),a.push(u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(wc);function Ir(e,t,i,r){for(var n=[],o=0;o<i.length;o++){var s,a=i[o],l=e.get(e.mapDimension(a),t);s=l,("category"===r.getAxis(a).type?null==s:null==s||isNaN(s))||n.push(r.dataToPoint(l,a))}return n}function In(e,t,i,r,n){var o=new CE({shape:{points:Ir(e,i,r,n)},z2:10});return t.add(o),e.setItemGraphicEl(i,o),o}function Io(e){var t,i=e.get("smooth",!0);return!0===i&&(i=.3),(t=i=cD(i))!=t&&(i=0),{smooth:i}}function Is(e,t,i,r){e.useStyle(t.getItemVisual(i,"style")),e.style.fill=null,e.setShape("smooth",r.smooth);var n=t.getItemModel(i),o=n.getModel("emphasis");fc(e,n,"lineStyle"),fl(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var Ia=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return aF(t,e),t.prototype.getInitialData=function(e,t){return xJ(null,this,{useEncodeDefaulter:ld(Il,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,i=this.getData(),r=[];return t.eachActiveState(i,function(t,n){e===t&&r.push(i.getRawIndex(n))}),r},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(yO);function Il(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var i={};return ln(t.dimensions,function(e){var t=+e.replace("dim","");i[e]=t}),i}}var Iu=["lineStyle","opacity"];let Id={seriesType:"parallel",reset:function(e,t){var i=e.coordinateSystem,r={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){i.eachActiveState(t,function(e,i){var n=r[e];if("normal"===e&&t.hasItemOption){var o=t.getItemModel(i).get(Iu,!0);null!=o&&(n=o)}t.ensureUniqueItemVisual(i,"style").opacity=n},e.start,e.end)}}}};function Ih(e){var t;(function(e){if(!e.parallel){var t=!1;ln(e.series,function(e){e&&"parallel"===e.type&&(t=!0)}),t&&(e.parallel=[{}])}})(e),ln(cN((t=e).parallelAxis),function(e){if(lv(e)){var i=e.parallelIndex||0,r=cN(t.parallel)[i];r&&r.parallelAxisDefault&&a4(e,r.parallelAxisDefault,!1)}})}var Ic=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){this._model=e,this._api=i,this._handlers||(this._handlers={},ln(Ip,function(e,t){i.getZr().on(t,this._handlers[t]=ld(e,this))},this)),wS(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){w_(this,"_throttledDispatchExpand"),ln(this._handlers,function(e,i){t.getZr().off(i,e)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(a8({type:"parallelAxisExpand"},e))},t.type="parallel",t}(yj),Ip={mousedown:function(e){Ig(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(Ig(this,"click")&&t){var i=[e.offsetX,e.offsetY];if(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Ig(this,"mousemove")){var t=this._model,i=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),r=i.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function Ig(e,t){var i=e._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===t}var If=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&a4(t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var i=e.get("parallelIndex");return null!=i&&t.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){ln(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];ln(la(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(e){return(e.get("parallelIndex")||0)===this.componentIndex},this),function(i){e.push("dim"+i.get("dim")),t.push(i.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(mB),Im=function(e){function t(t,i,r,n,o){var s=e.call(this,t,i,r)||this;return s.type=n||"value",s.axisIndex=o,s}return aF(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(TW);function Iv(e,t,i,r,n,o){e=e||0;var s,a=i[1]-i[0];if(null!=n&&(n=IC(n,[0,a])),null!=o&&(o=Math.max(o,null!=n?n:0)),"all"===r){var l=Math.abs(t[1]-t[0]);l=IC(l,[0,a]),n=o=IC(l,[n,o]),r=0}t[0]=IC(t[0],i),t[1]=IC(t[1],i);var u=Iy(t,r);t[r]+=e;var d=n||0,h=i.slice();return u.sign<0?h[0]+=d:h[1]-=d,t[r]=IC(t[r],h),s=Iy(t,r),null!=n&&(s.sign!==u.sign||s.span<n)&&(t[1-r]=t[r]+u.sign*n),s=Iy(t,r),null!=o&&s.span>o&&(t[1-r]=t[r]+s.sign*o),t}function Iy(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function IC(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var Iw=Math.min,Ib=Math.max,IS=Math.floor,Ix=Math.ceil,I_=Math.PI,IE=function(){function e(e,t,i){this.type="parallel",this._axesMap=lG(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return e.prototype._init=function(e,t,i){var r=e.dimensions,n=e.parallelAxisIndex;ln(r,function(e,i){var r=n[i],o=t.getComponent("parallelAxis",r),s=this._axesMap.set(e,new Im(e,T_(o),[0,0],o.get("type"),r)),a="category"===s.type;s.onBand=a&&o.get("boundaryGap"),s.inverse=o.get("inverse"),o.axis=s,s.model=o,s.coordinateSystem=o.coordinateSystem=this},this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,n=t.pixelDimIndex,o=e[1-n],s=e[n];return o>=i&&o<=i+t.axisLength&&s>=r&&s<=r+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var r=i.getData();ln(this.dimensions,function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(r,r.mapDimension(e)),Tx(t.scale,t.model)},this)}},this)},e.prototype.resize=function(e,t){this._rect=mL(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,i=this._rect,r=["x","y"],n=["width","height"],o=t.get("layout"),s=+("horizontal"!==o),a=i[n[s]],l=[0,a],u=this.dimensions.length,d=IT(t.get("axisExpandWidth"),l),h=IT(t.get("axisExpandCount")||0,[0,u]),c=t.get("axisExpandable")&&u>3&&u>h&&h>1&&d>0&&a>0,p=t.get("axisExpandWindow");p?(e=IT(p[1]-p[0],l),p[1]=p[0]+e):(e=IT(d*(h-1),l),(p=[d*(t.get("axisExpandCenter")||IS(u/2))-e/2])[1]=p[0]+e);var g=(a-e)/(u-h);g<3&&(g=0);var f=[IS(cp(p[0]/d,1))+1,Ix(cp(p[1]/d,1))-1],m=g/d*p[0];return{layout:o,pixelDimIndex:s,layoutBase:i[r[s]],layoutLength:a,axisBase:i[r[1-s]],axisLength:i[n[1-s]],axisExpandable:c,axisExpandWidth:d,axisCollapseWidth:g,axisExpandWindow:p,axisCount:u,winInnerIndices:f,axisExpandWindow0Pos:m}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),n=r.layout;t.each(function(e){var t=[0,r.axisLength],i=+!!e.inverse;e.setExtent(t[i],t[1-i])}),ln(i,function(t,i){var o=(r.axisExpandable?function(e,t){var i,r,n=t.layoutLength,o=t.axisExpandWidth,s=t.axisCount,a=t.axisCollapseWidth,l=t.winInnerIndices,u=a,d=!1;return e<l[0]?(i=e*a,r=a):e<=l[1]?(i=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],u=o,d=!0):(i=n-(s-1-e)*a,r=a),{position:i,axisNameAvailableWidth:u,axisLabelShow:d,nameTruncateMaxWidth:r}}:function(e,t){var i=t.layoutLength/(t.axisCount-1);return{position:i*e,axisNameAvailableWidth:i,axisLabelShow:!0}})(i,r),s={horizontal:{x:o.position,y:r.axisLength},vertical:{x:0,y:o.position}},a=[s[n].x+e.x,s[n].y+e.y],l={horizontal:I_/2,vertical:0}[n],u=uA();uN(u,u,l),uk(u,u,a),this._axesLayout[t]={position:a,rotation:l,transform:u,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,i,r){null==i&&(i=0),null==r&&(r=e.count());var n=this._axesMap,o=this.dimensions,s=[],a=[];ln(o,function(t){s.push(e.mapDimension(t)),a.push(n.get(t).model)});for(var l=this.hasAxisBrushed(),u=i;u<r;u++){var d=void 0;if(l){d="active";for(var h=e.getValues(s,u),c=0,p=o.length;c<p;c++)if("inactive"===a[c].getActiveState(h[c])){d="inactive";break}}else d="normal";t(d,u)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,r=0,n=e.length;r<n;r++)"normal"!==t.get(e[r]).model.getActiveState()&&(i=!0);return i},e.prototype.axisCoordToPoint=function(e,t){return C7([e,0],this._axesLayout[t].transform)},e.prototype.getAxisLayout=function(e){return a3(this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t,i=this._makeLayoutInfo(),r=i.pixelDimIndex,n=i.axisExpandWindow.slice(),o=n[1]-n[0],s=[0,i.axisExpandWidth*(i.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:n};var a=e[r]-i.layoutBase-i.axisExpandWindow0Pos,l="slide",u=i.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=null!=d[0];if(u)h&&u&&a<o*d[0]?(l="jump",t=a-o*d[2]):h&&u&&a>o*(1-d[0])?(l="jump",t=a-o*(1-d[2])):(t=a-o*d[1])>=0&&(t=a-o*(1-d[1]))<=0&&(t=0),(t*=i.axisExpandWidth/u)?Iv(t,n,s,"all"):l="none";else{var c=n[1]-n[0];(n=[Ib(0,s[1]*a/c-c/2)])[1]=Iw(s[1],n[0]+c),n[0]=n[1]-c}return{axisExpandWindow:n,behavior:l}},e}();function IT(e,t){return Iw(Ib(e,t[0]),t[1])}let IM={create:function(e,t){var i=[];return e.eachComponent("parallel",function(r,n){var o=new IE(r,e,t);o.name="parallel_"+n,o.resize(r,t),r.coordinateSystem=o,o.model=r,i.push(o)}),e.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",cX).models[0];e.coordinateSystem=t.coordinateSystem}}),i}};var IR=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.activeIntervals=[],i}return aF(t,e),t.prototype.getAreaSelectStyle=function(){return pt([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=a3(e);if(t)for(var i=t.length-1;i>=0;i--)cg(t[i])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var i=t[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var r=0,n=t.length;r<n;r++)if(t[r][0]<=e&&e<=t[r][1])return"active";return"inactive"},t}(mB);li(IR,E$);var ID=Math.min,IA=Math.max,II=Math.pow,IP="globalPan",IL={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Ik={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},IN={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},IF=0,IO=function(e){function t(t){var i=e.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new ce,i._uid="brushController_"+IF++,ln(Pe,function(e,t){this._handlers[t]=ld(e,this)},i),i}return aF(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t,i=this._zr;this._enableGlobalPan||(t=this._uid,MI(i)[IP]=t),ln(this._handlers,function(e,t){i.on(t,e)}),this._brushType=e.brushType,this._brushOption=a4(a3(IN),e,!0)},t.prototype._doDisableBrush=function(){var e,t,i=this._zr;e=this._uid,(t=MI(i))[IP]===e&&(t[IP]=null),ln(this._handlers,function(e,t){i.off(t,e)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};ln(e,function(e){t[e.panelId]=a3(e)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=lo(e,function(e){return a4(a3(IN),e,!0)});var t=this._covers,i=this._covers=[],r=this,n=this._creatingCover;return new xD(t,e,function(e,t){return o(e.__brushOption,t)},o).add(s).update(s).remove(function(e){t[e]!==n&&r.group.remove(t[e])}).execute(),this;function o(e,t){return(null!=e.id?e.id:"\0-brush-index-"+t)+"-"+e.brushType}function s(o,s){var a=e[o];if(null!=s&&t[s]===n)i[o]=t[s];else{var l=i[o]=null!=s?(t[s].__brushOption=a,t[s]):IV(r,IG(r,a));Iz(r,l)}}},t.prototype.unmount=function(){return this.enableBrush(!1),I$(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(us);function IG(e,t){var i=Pi[t.brushType].createCover(e,t);return i.__brushOption=t,IH(i,t),e.group.add(i),i}function IV(e,t){var i=IW(t);return i.endCreating&&(i.endCreating(e,t),IH(t,t.__brushOption)),t}function IB(e,t){var i=t.__brushOption;IW(t).updateCoverShape(e,t,i.range,i)}function IH(e,t){var i=t.z;null==i&&(i=1e4),e.traverse(function(e){e.z=i,e.z2=i})}function Iz(e,t){IW(t).updateCommon(e,t),IB(e,t)}function IW(e){return Pi[e.__brushOption.brushType]}function IU(e,t,i){var r,n=e._panels;if(!n)return!0;var o=e._transform;return ln(n,function(e){e.isTargetByCursor(t,i,o)&&(r=e)}),r}function Ij(e,t){var i=e._panels;if(!i)return!0;var r=t.__brushOption.panelId;return null==r||i[r]}function I$(e){var t=e._covers,i=t.length;return ln(t,function(t){e.group.remove(t)},e),t.length=0,!!i}function IK(e,t){var i=lo(e._covers,function(e){var t=e.__brushOption,i=a3(t.range);return{brushType:t.brushType,panelId:t.panelId,range:i}});e.trigger("brush",{areas:i,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function IY(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function Iq(e,t,i,r){var n=new ce;return n.add(new gw({name:"main",style:IJ(i),silent:!0,draggable:!0,cursor:"move",drift:lh(I2,e,t,n,["n","s","w","e"]),ondragend:lh(IK,t,{isEnd:!0})})),ln(r,function(i){n.add(new gw({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:lh(I2,e,t,n,i),ondragend:lh(IK,t,{isEnd:!0})}))}),n}function IX(e,t,i,r){var n=r.brushStyle.lineWidth||0,o=IA(n,6),s=i[0][0],a=i[1][0],l=s-n/2,u=a-n/2,d=i[0][1],h=i[1][1],c=d-o+n/2,p=h-o+n/2,g=d-s,f=h-a,m=g+n,v=f+n;IQ(e,t,"main",s,a,g,f),r.transformable&&(IQ(e,t,"w",l,u,o,v),IQ(e,t,"e",c,u,o,v),IQ(e,t,"n",l,u,m,o),IQ(e,t,"s",l,p,m,o),IQ(e,t,"nw",l,u,o,o),IQ(e,t,"ne",c,u,o,o),IQ(e,t,"sw",l,p,o,o),IQ(e,t,"se",c,p,o,o))}function IZ(e,t){var i=t.__brushOption,r=i.transformable,n=t.childAt(0);n.useStyle(IJ(i)),n.attr({silent:!r,cursor:r?"move":"default"}),ln([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var n,o,s,a=t.childOfName(i.join("")),l=1===i.length?I1(e,i[0]):(("e"===(s=[I1(n=e,(o=i)[0]),I1(n,o[1])])[0]||"w"===s[0])&&s.reverse(),s.join(""));a&&a.attr({silent:!r,invisible:!r,cursor:r?Ik[l]+"-resize":null})})}function IQ(e,t,i,r,n,o,s){var a,l,u,d=t.childOfName(i);d&&d.setShape((l=ID((a=I4(e,t,[[r,n],[r+o,n+s]]))[0][0],a[1][0]),{x:l,y:u=ID(a[0][1],a[1][1]),width:IA(a[0][0],a[1][0])-l,height:IA(a[0][1],a[1][1])-u}))}function IJ(e){return a9({strokeNoScale:!0},e.brushStyle)}function I0(e,t,i,r){var n=[ID(e,i),ID(t,r)],o=[IA(e,i),IA(t,r)];return[[n[0],o[0]],[n[1],o[1]]]}function I1(e,t){return({left:"w",right:"e",top:"n",bottom:"s"})[we({w:"left",e:"right",n:"top",s:"bottom"}[t],C9(e.group))]}function I2(e,t,i,r,n,o){var s=i.__brushOption,a=e.toRectRange(s.range),l=I3(t,n,o);ln(r,function(e){var t=IL[e];a[t[0]][t[1]]+=l[t[0]]}),s.range=e.fromRectRange(I0(a[0][0],a[1][0],a[0][1],a[1][1])),Iz(t,i),IK(t,{isEnd:!1})}function I5(e,t,i,r){var n=t.__brushOption.range,o=I3(e,i,r);ln(n,function(e){e[0]+=o[0],e[1]+=o[1]}),Iz(e,t),IK(e,{isEnd:!1})}function I3(e,t,i){var r=e.group,n=r.transformCoordToLocal(t,i),o=r.transformCoordToLocal(0,0);return[n[0]-o[0],n[1]-o[1]]}function I4(e,t,i){var r=Ij(e,t);return r&&!0!==r?r.clipPath(i,e._transform):a3(i)}function I6(e){var t=e.event;t.preventDefault&&t.preventDefault()}function I8(e,t,i){return e.childOfName("main").contain(t,i)}function I9(e,t,i,r){var n,o=e._creatingCover,s=e._creatingPanel,a=e._brushOption;if(e._track.push(i.slice()),function(e){var t=e._track;if(!t.length)return!1;var i=t[t.length-1],r=t[0],n=i[0]-r[0],o=i[1]-r[1];return II(n*n+o*o,.5)>6}(e)||o){if(s&&!o){"single"===a.brushMode&&I$(e);var l=a3(a);l.brushType=I7(l.brushType,s),l.panelId=!0===s?null:s.panelId,o=e._creatingCover=IG(e,l),e._covers.push(o)}if(o){var u=Pi[I7(e._brushType,s)];o.__brushOption.range=u.getCreatingRange(I4(e,o,e._track)),r&&(IV(e,o),u.updateCommon(e,o)),IB(e,o),n={isEnd:r}}}else r&&"single"===a.brushMode&&a.removeOnClick&&IU(e,t,i)&&I$(e)&&(n={isEnd:r,removeOnClick:!0});return n}function I7(e,t){return"auto"===e?t.defaultBrushType:e}var Pe={mousedown:function(e){if(this._dragging)Pt(this,e);else if(!e.target||!e.target.draggable){I6(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=IU(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,i=e.offsetY,r=this.group.transformCoordToLocal(t,i);if(!function(e,t,i){if(!(!e._brushType||(r=e,n=t.offsetX,o=t.offsetY,s=r._zr,n<0||n>s.getWidth()||o<0||o>s.getHeight()))){var r,n,o,s,a=e._zr,l=e._covers,u=IU(e,t,i);if(!e._dragging)for(var d=0;d<l.length;d++){var h=l[d].__brushOption;if(u&&(!0===u||h.panelId===u.panelId)&&Pi[h.brushType].contain(l[d],i[0],i[1]))return}u&&a.setCursorStyle("crosshair")}}(this,e,r),this._dragging){I6(e);var n=I9(this,e,r,!1);n&&IK(this,n)}},mouseup:function(e){Pt(this,e)}};function Pt(e,t){if(e._dragging){I6(t);var i=t.offsetX,r=t.offsetY,n=e.group.transformCoordToLocal(i,r),o=I9(e,t,n,!0);e._dragging=!1,e._track=[],e._creatingCover=null,o&&IK(e,o)}}var Pi={lineX:Pr(0),lineY:Pr(1),rect:{createCover:function(e,t){function i(e){return e}return Iq({toRectRange:i,fromRectRange:i},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=IY(e);return I0(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,i,r){IX(e,t,i,r)},updateCommon:IZ,contain:I8},polygon:{createCover:function(e,t){var i=new ce;return i.add(new CE({name:"main",style:IJ(t),silent:!0})),i},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Cx({name:"main",draggable:!0,drift:lh(I5,e,t),ondragend:lh(IK,e,{isEnd:!0})}))},updateCoverShape:function(e,t,i,r){t.childAt(0).setShape({points:I4(e,t,i)})},updateCommon:IZ,contain:I8}};function Pr(e){return{createCover:function(t,i){return Iq({toRectRange:function(t){var i=[t,[0,100]];return e&&i.reverse(),i},fromRectRange:function(t){return t[e]}},t,i,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var i=IY(t);return[ID(i[0][e],i[1][e]),IA(i[0][e],i[1][e])]},updateCoverShape:function(t,i,r,n){var o,s=Ij(t,i);if(!0!==s&&s.getLinearBrushOtherExtent)o=s.getLinearBrushOtherExtent(e);else{var a=t._zr;o=[0,[a.getWidth(),a.getHeight()][1-e]]}var l=[r,o];e&&l.reverse(),IX(t,i,l,n)},updateCommon:IZ,contain:I8}}function Pn(e){return e=Pa(e),function(t){return wi(t,e)}}function Po(e,t){return e=Pa(e),function(i){var r=null!=t?t:i,n=r?e.width:e.height,o=r?e.x:e.y;return[o,o+(n||0)]}}function Ps(e,t,i){var r=Pa(e);return function(e,n){return r.contain(n[0],n[1])&&!MV(e,t,i)}}function Pa(e){return uY.create(e)}var Pl=["axisLine","axisTickLabel","axisName"],Pu=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(t,i){e.prototype.init.apply(this,arguments),(this._brushController=new IO(i.getZr())).on("brush",ld(this._onBrush,this))},t.prototype.render=function(e,t,i,r){var n,o,s;if(n=e,o=t,!(s=r)||"axisAreaSelect"!==s.type||o.findComponents({mainType:"parallelAxis",query:s})[0]!==n){this.axisModel=e,this.api=i,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new ce,this.group.add(this._axisGroup),e.get("show")){var l,u=(l=e,t.getComponent("parallel",l.get("parallelIndex"))),d=u.coordinateSystem,h=e.getAreaSelectStyle(),c=h.width,p=e.axis.dim,g=a8({strokeContainThreshold:c},d.getAxisLayout(p)),f=new T2(e,g);ln(Pl,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(g,h,e,u,c,i),wt(a,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,i,r,n,o){var s,a,l=i.axis.getExtent(),u=l[1]-l[0],d=Math.min(30,.1*Math.abs(u)),h=uY.create({x:l[0],y:-n/2,width:u,height:n});h.x-=d,h.width+=2*d,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:Pn(h),isTargetByCursor:Ps(h,o,r),getLinearBrushOtherExtent:Po(h,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers((a=(s=i).axis,lo(s.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[a.dataToCoord(e[0],!0),a.dataToCoord(e[1],!0)]}})))},t.prototype._onBrush=function(e){var t=e.areas,i=this.axisModel,r=i.axis,n=lo(t,function(e){return[r.coordToData(e.range[0],!0),r.coordToData(e.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:n})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(yj),Pd={type:"axisAreaSelect",event:"axisAreaSelected"},Ph={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Pc(e){e.registerComponentView(Ic),e.registerComponentModel(If),e.registerCoordinateSystem("parallel",IM),e.registerPreprocessor(Ih),e.registerComponentModel(IR),e.registerComponentView(Pu),E3(e,"parallel",IR,Ph),e.registerAction(Pd,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),e.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(t){t.setAxisExpand(e)})})}var Pp=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},Pg=function(e){function t(t){return e.call(this,t)||this}return aF(t,e),t.prototype.getDefaultShape=function(){return new Pp},t.prototype.buildPath=function(e,t){var i=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+i,t.y2),e.bezierCurveTo(t.cpx2+i,t.cpy2,t.cpx1+i,t.cpy1,t.x1+i,t.y1)):(e.lineTo(t.x2,t.y2+i),e.bezierCurveTo(t.cpx2,t.cpy2+i,t.cpx1,t.cpy1+i,t.x1,t.y1+i)),e.closePath()},t.prototype.highlight=function(){g7(this)},t.prototype.downplay=function(){fe(this)},t}(gl),Pf=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._focusAdjacencyDisabled=!1,i}return aF(t,e),t.prototype.render=function(e,t,i){var r,n,o,s,a=this,l=e.getGraph(),u=this.group,d=e.layoutInfo,h=d.width,c=d.height,p=e.getData(),g=e.getData("edge"),f=e.get("orient");this._model=e,u.removeAll(),u.x=d.x,u.y=d.y,l.eachEdge(function(t){var i,r,n,o,s,a,l,d,p=new Pg,m=gF(p);m.dataIndex=t.dataIndex,m.seriesIndex=e.seriesIndex,m.dataType="edge";var v=t.getModel(),y=v.getModel("lineStyle"),C=y.get("curveness"),w=t.node1.getLayout(),b=t.node1.getModel(),S=b.get("localX"),x=b.get("localY"),_=t.node2.getLayout(),E=t.node2.getModel(),T=E.get("localX"),M=E.get("localY"),R=t.getLayout();p.shape.extent=Math.max(1,R.dy),p.shape.orient=f,"vertical"===f?(i=(null!=S?S*h:w.x)+R.sy,r=(null!=x?x*c:w.y)+w.dy,n=(null!=T?T*h:_.x)+R.ty,o=null!=M?M*c:_.y,s=i,a=r*(1-C)+o*C,l=n,d=r*C+o*(1-C)):(i=(null!=S?S*h:w.x)+w.dx,r=(null!=x?x*c:w.y)+R.sy,n=null!=T?T*h:_.x,o=(null!=M?M*c:_.y)+R.ty,s=i*(1-C)+n*C,a=r,l=i*C+n*(1-C),d=o),p.setShape({x1:i,y1:r,x2:n,y2:o,cpx1:s,cpy1:a,cpx2:l,cpy2:d}),p.useStyle(y.getItemStyle()),Pm(p.style,f,t);var D=""+v.get("value"),A=fI(v,"edgeLabel");fA(p,A,{labelFetcher:{getFormattedLabel:function(t,i,r,n,o,s){return e.getFormattedLabel(t,i,"edge",n,lM(o,A.normal&&A.normal.get("formatter"),D),s)}},labelDataIndex:t.dataIndex,defaultText:D}),p.setTextConfig({position:"inside"});var I=v.getModel("emphasis");fc(p,v,"lineStyle",function(e){var i=e.getItemStyle();return Pm(i,f,t),i}),u.add(p),g.setItemGraphicEl(t.dataIndex,p);var P=I.get("focus");fl(p,"adjacency"===P?t.getAdjacentDataIndices():"trajectory"===P?t.getTrajectoryDataIndices():P,I.get("blurScope"),I.get("disabled"))}),l.eachNode(function(t){var i=t.getLayout(),r=t.getModel(),n=r.get("localX"),o=r.get("localY"),s=r.getModel("emphasis"),a=r.get(["itemStyle","borderRadius"])||0,l=new gw({shape:{x:null!=n?n*h:i.x,y:null!=o?o*c:i.y,width:i.dx,height:i.dy,r:a},style:r.getModel("itemStyle").getItemStyle(),z2:10});fA(l,fI(r),{labelFetcher:{getFormattedLabel:function(t,i){return e.getFormattedLabel(t,i,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),l.disableLabelAnimation=!0,l.setStyle("fill",t.getVisual("color")),l.setStyle("decal",t.getVisual("style").decal),fc(l,r),u.add(l),p.setItemGraphicEl(t.dataIndex,l),gF(l).dataType="node";var d=s.get("focus");fl(l,"adjacency"===d?t.getAdjacentDataIndices():"trajectory"===d?t.getTrajectoryDataIndices():d,s.get("blurScope"),s.get("disabled"))}),p.eachItemGraphicEl(function(t,r){p.getItemModel(r).get("draggable")&&(t.drift=function(t,n){a._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=n,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:p.getRawIndex(r),localX:this.shape.x/h,localY:this.shape.y/c})},t.ondragend=function(){a._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")}),!this._data&&e.isAnimationEnabled()&&u.setClipPath((r=u.getBoundingRect(),n=e,o=function(){u.removeClipPath()},fb(s=new gw({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}}),{shape:{width:r.width+20}},n,o),s)),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(wc);function Pm(e,t,i){switch(e.fill){case"source":e.fill=i.node1.getVisual("color"),e.decal=i.node1.getVisual("style").decal;break;case"target":e.fill=i.node2.getVisual("color"),e.decal=i.node2.getVisual("style").decal;break;case"gradient":var r=i.node1.getVisual("color"),n=i.node2.getVisual("color");lg(r)&&lg(n)&&(e.fill=new CO(0,0,+("horizontal"===t),+("vertical"===t),[{color:r,offset:0},{color:n,offset:1}]))}}var Pv=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.getInitialData=function(e,t){var i=e.edges||e.links||[],r=e.data||e.nodes||[],n=e.levels||[];this.levelModels=[];for(var o=this.levelModels,s=0;s<n.length;s++)null!=n[s].depth&&n[s].depth>=0&&(o[n[s].depth]=new fQ(n[s],this,t));return AJ(r,i,this,!0,function(e,t){e.wrapMethod("getItemModel",function(e,t){var i=e.parentModel,r=i.getData().getItemLayout(t);if(r){var n=r.depth,o=i.levelModels[n];o&&(e.parentModel=o)}return e}),t.wrapMethod("getItemModel",function(e,t){var i=e.parentModel,r=i.getGraph().getEdgeByIndex(t).node1.getLayout();if(r){var n=r.depth,o=i.levelModels[n];o&&(e.parentModel=o)}return e})}).data},t.prototype.setNodePosition=function(e,t){var i=(this.option.data||this.option.nodes)[e];i.localX=t[0],i.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,i){function r(e){return isNaN(e)||null==e}if("edge"===i){var n=this.getDataParams(e,i),o=n.data,s=n.value;return yx("nameValue",{name:o.source+" -- "+o.target,value:s,noValue:r(s)})}var a=this.getGraph().getNodeByIndex(e).getLayout().value,l=this.getDataParams(e,i).data.name;return yx("nameValue",{name:null!=l?l+"":null,value:a,noValue:r(a)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,i){var r=e.prototype.getDataParams.call(this,t,i);return null==r.value&&"node"===i&&(r.value=this.getGraph().getNodeByIndex(t).getLayout().value),r},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(yO);function Py(e,t){e.eachSeriesByType("sankey",function(e){var i,r,n,o,s,a,l,u,d,h,c,p,g=e.get("nodeWidth"),f=e.get("nodeGap"),m=(i=e,r=t,mL(i.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}));e.layoutInfo=m;var v=m.width,y=m.height,C=e.getGraph(),w=C.nodes,b=C.edges;ln(w,function(e){var t=Math.max(PM(e.outEdges,PT),PM(e.inEdges,PT),e.getValue()||0);e.setLayout({value:t},!0)});var S=0!==la(w,function(e){return 0===e.getLayout().value}).length?0:e.get("layoutIterations");n=w,o=b,s=g,a=f,l=v,u=y,d=S,h=e.get("orient"),function(e,t,i,r,n,o,s){for(var a,l,u,d=[],h=[],c=[],p=[],g=0,f=0;f<t.length;f++)d[f]=1;for(var f=0;f<e.length;f++)h[f]=e[f].inEdges.length,0===h[f]&&c.push(e[f]);for(var m=-1;c.length;){for(var v=0;v<c.length;v++){var y=c[v],C=y.hostGraph.data.getRawDataItem(y.dataIndex),w=null!=C.depth&&C.depth>=0;w&&C.depth>m&&(m=C.depth),y.setLayout({depth:w?C.depth:g},!0),"vertical"===o?y.setLayout({dy:i},!0):y.setLayout({dx:i},!0);for(var b=0;b<y.outEdges.length;b++){var S=y.outEdges[b];d[t.indexOf(S)]=0;var x=S.node2,_=e.indexOf(x);0==--h[_]&&0>p.indexOf(x)&&p.push(x)}}++g,c=p,p=[]}for(var f=0;f<d.length;f++)if(1===d[f])throw Error("Sankey is a DAG, the original data has cycle!");var E=m>g-1?m:g-1;s&&"left"!==s&&function(e,t,i,r){if("right"===t){for(var n,o,s=[],a=e,l=0;a.length;){for(var u=0;u<a.length;u++){var d=a[u];d.setLayout({skNodeHeight:l},!0);for(var h=0;h<d.inEdges.length;h++){var c=d.inEdges[h];0>s.indexOf(c.node1)&&s.push(c.node1)}}a=s,s=[],++l}ln(e,function(e){PC(e)||e.setLayout({depth:Math.max(0,r-e.getLayout().skNodeHeight)},!0)})}else{"justify"===t&&(n=e,o=r,ln(n,function(e){PC(e)||e.outEdges.length||e.setLayout({depth:o},!0)}))}}(e,s,0,E),a=e,l="vertical"===o?(n-i)/E:(r-i)/E,u=o,ln(a,function(e){var t=e.getLayout().depth*l;"vertical"===u?e.setLayout({y:t},!0):e.setLayout({x:t},!0)})}(n,o,s,l,u,h,e.get("nodeAlign")),function(e,t,i,r,n,o,s){var a,l,u,d,h,c,p,g,f,m,v,y=(a=e,l=[],u="vertical"===s?"y":"x",(d=c0(a,function(e){return e.getLayout()[u]})).keys.sort(function(e,t){return e-t}),ln(d.keys,function(e){l.push(d.buckets.get(e))}),l);h=y,c=t,p=i,g=r,f=n,m=s,v=1/0,ln(h,function(e){var t=e.length,i=0;ln(e,function(e){i+=e.getLayout().value});var r="vertical"===m?(g-(t-1)*f)/i:(p-(t-1)*f)/i;r<v&&(v=r)}),ln(h,function(e){ln(e,function(e,t){var i=e.getLayout().value*v;"vertical"===m?(e.setLayout({x:t},!0),e.setLayout({dx:i},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:i},!0))})}),ln(c,function(e){var t=e.getValue()*v;e.setLayout({dy:t},!0)}),Pw(y,n,i,r,s);for(var C=1;o>0;o--)(function(e,t,i){ln(e.slice().reverse(),function(e){ln(e,function(e){if(e.outEdges.length){var r=PM(e.outEdges,Pb,i)/PM(e.outEdges,PT);if(isNaN(r)){var n=e.outEdges.length;r=n?PM(e.outEdges,PS,i)/n:0}if("vertical"===i){var o=e.getLayout().x+(r-PE(e,i))*t;e.setLayout({x:o},!0)}else{var s=e.getLayout().y+(r-PE(e,i))*t;e.setLayout({y:s},!0)}}})})})(y,C*=.99,s),Pw(y,n,i,r,s),function(e,t,i){ln(e,function(e){ln(e,function(e){if(e.inEdges.length){var r=PM(e.inEdges,Px,i)/PM(e.inEdges,PT);if(isNaN(r)){var n=e.inEdges.length;r=n?PM(e.inEdges,P_,i)/n:0}if("vertical"===i){var o=e.getLayout().x+(r-PE(e,i))*t;e.setLayout({x:o},!0)}else{var s=e.getLayout().y+(r-PE(e,i))*t;e.setLayout({y:s},!0)}}})})}(y,C,s),Pw(y,n,i,r,s)}(n,o,u,l,a,d,h),c=n,p="vertical"===h?"x":"y",ln(c,function(e){e.outEdges.sort(function(e,t){return e.node2.getLayout()[p]-t.node2.getLayout()[p]}),e.inEdges.sort(function(e,t){return e.node1.getLayout()[p]-t.node1.getLayout()[p]})}),ln(c,function(e){var t=0,i=0;ln(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),ln(e.inEdges,function(e){e.setLayout({ty:i},!0),i+=e.getLayout().dy})})})}function PC(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function Pw(e,t,i,r,n){var o="vertical"===n?"x":"y";ln(e,function(e){e.sort(function(e,t){return e.getLayout()[o]-t.getLayout()[o]});for(var s,a,l,u=0,d=e.length,h="vertical"===n?"dx":"dy",c=0;c<d;c++)(l=u-(a=e[c]).getLayout()[o])>0&&(s=a.getLayout()[o]+l,"vertical"===n?a.setLayout({x:s},!0):a.setLayout({y:s},!0)),u=a.getLayout()[o]+a.getLayout()[h]+t;if((l=u-t-("vertical"===n?r:i))>0){s=a.getLayout()[o]-l,"vertical"===n?a.setLayout({x:s},!0):a.setLayout({y:s},!0),u=s;for(var c=d-2;c>=0;--c)(l=(a=e[c]).getLayout()[o]+a.getLayout()[h]+t-u)>0&&(s=a.getLayout()[o]-l,"vertical"===n?a.setLayout({x:s},!0):a.setLayout({y:s},!0)),u=a.getLayout()[o]}})}function Pb(e,t){return PE(e.node2,t)*e.getValue()}function PS(e,t){return PE(e.node2,t)}function Px(e,t){return PE(e.node1,t)*e.getValue()}function P_(e,t){return PE(e.node1,t)}function PE(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function PT(e){return e.getValue()}function PM(e,t,i){for(var r=0,n=e.length,o=-1;++o<n;){var s=+t(e[o],i);isNaN(s)||(r+=s)}return r}function PR(e){e.eachSeriesByType("sankey",function(e){var t=e.getGraph(),i=t.nodes,r=t.edges;if(i.length){var n=1/0,o=-1/0;ln(i,function(e){var t=e.getLayout().value;t<n&&(n=t),t>o&&(o=t)}),ln(i,function(t){var i=new DB({type:"color",mappingMethod:"linear",dataExtent:[n,o],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),r=t.getModel().get(["itemStyle","color"]);null!=r?(t.setVisual("color",r),t.setVisual("style",{fill:r})):(t.setVisual("color",i),t.setVisual("style",{fill:i}))})}r.length&&ln(r,function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)})})}var PD=function(){function e(){}return e.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&null!=t.get(e)},e.prototype.getInitialData=function(e,t){var i,r,n=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),s=n.get("type"),a=o.get("type");"category"===s?(e.layout="horizontal",i=n.getOrdinalMeta(),r=!this._hasEncodeRule("x")):"category"===a?(e.layout="vertical",i=o.getOrdinalMeta(),r=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var l=["x","y"],u=+("horizontal"!==e.layout),d=this._baseAxisDim=l[u],h=l[1-u],c=[n,o],p=c[u].get("type"),g=c[1-u].get("type"),f=e.data;if(f&&r){var m=[];ln(f,function(e,t){var i;lc(e)?(i=e.slice(),e.unshift(t)):lc(e.value)?((i=a8({},e)).value=i.value.slice(),e.value.unshift(t)):i=e,m.push(i)}),e.data=m}var v=this.defaultValueDimensions,y=[{name:d,type:xP(p),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:xP(g),dimsDef:v.slice()}];return EF(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:lh(m1,y,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),PA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],i.visualDrawType="stroke",i}return aF(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(yO);li(PA,PD,!0);var PI=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){var r=e.getData(),n=this.group,o=this._data;this._data||n.removeAll();var s=+("horizontal"===e.get("layout"));r.diff(o).add(function(e){if(r.hasValue(e)){var t=Pk(r.getItemLayout(e),r,e,s,!0);r.setItemGraphicEl(e,t),n.add(t)}}).update(function(e,t){var i=o.getItemGraphicEl(t);if(!r.hasValue(e))return void n.remove(i);var a=r.getItemLayout(e);i?(fT(i),PN(a,i,r,e)):i=Pk(a,r,e,s),n.add(i),r.setItemGraphicEl(e,i)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&n.remove(t)}).execute(),this._data=r},t.prototype.remove=function(e){var t=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(e){e&&t.remove(e)})},t.type="boxplot",t}(wc),PP=function(){},PL=function(e){function t(t){var i=e.call(this,t)||this;return i.type="boxplotBoxPath",i}return aF(t,e),t.prototype.getDefaultShape=function(){return new PP},t.prototype.buildPath=function(e,t){var i=t.points,r=0;for(e.moveTo(i[r][0],i[r][1]),r++;r<4;r++)e.lineTo(i[r][0],i[r][1]);for(e.closePath();r<i.length;r++)e.moveTo(i[r][0],i[r][1]),r++,e.lineTo(i[r][0],i[r][1])},t}(gl);function Pk(e,t,i,r,n){var o,s,a,l=e.ends,u=new PL({shape:{points:n?(o=l,s=r,a=e,lo(o,function(e){return(e=e.slice())[s]=a.initBaseline,e})):l}});return PN(e,u,t,i,n),u}function PN(e,t,i,r,n){var o=i.hostModel;(0,MC[n?"initProps":"updateProps"])(t,{shape:{points:e.ends}},o,r),t.useStyle(i.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=i.getItemModel(r),a=s.getModel("emphasis");fc(t,s),fl(t,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function PF(e){var t,i;ln((t=[],i=[],e.eachSeriesByType("boxplot",function(e){var r=e.getBaseAxis(),n=le(i,r);n<0&&(n=i.length,i[n]=r,t[n]={axis:r,seriesModels:[]}),t[n].seriesModels.push(e)}),t),function(e){var t=e.seriesModels;t.length&&(function(e){var t,i=e.axis,r=e.seriesModels,n=r.length,o=e.boxWidthList=[],s=e.boxOffsetList=[],a=[];if("category"===i.type)t=i.getBandWidth();else{var l=0;ln(r,function(e){l=Math.max(l,e.getData().count())});var u=i.getExtent();t=Math.abs(u[1]-u[0])/l}ln(r,function(e){var i=e.get("boxWidth");lc(i)||(i=[i,i]),a.push([cc(i[0],t)||0,cc(i[1],t)||0])});var d=.8*t-2,h=d/n*.3,c=(d-h*(n-1))/n,p=c/2-d/2;ln(r,function(e,t){s.push(p),p+=h+c,o.push(Math.min(Math.max(c,a[t][0]),a[t][1]))})}(e),ln(t,function(t,i){!function(e,t,i){var r=e.coordinateSystem,n=e.getData(),o=i/2,s=+("horizontal"!==e.get("layout")),a=1-s,l=["x","y"],u=n.mapDimension(l[s]),d=n.mapDimensionsAll(l[a]);if(null!=u&&!(d.length<5))for(var h=0;h<n.count();h++){var c=n.get(u,h),p=C(c,d[2],h),g=C(c,d[0],h),f=C(c,d[1],h),m=C(c,d[3],h),v=C(c,d[4],h),y=[];w(y,f,!1),w(y,m,!0),y.push(g,f,v,m),b(y,g),b(y,v),b(y,p),n.setItemLayout(h,{initBaseline:p[a],ends:y})}function C(e,i,o){var l,u=n.get(i,o),d=[];return d[s]=e,d[a]=u,isNaN(e)||isNaN(u)?l=[NaN,NaN]:(l=r.dataToPoint(d),l[s]+=t),l}function w(e,t,i){var r=t.slice(),n=t.slice();r[s]+=o,n[s]-=o,i?e.push(r,n):e.push(n,r)}function b(e,t){var i=t.slice(),r=t.slice();i[s]-=o,r[s]+=o,e.push(i,r)}}(t,e.boxOffsetList[i],e.boxWidthList[i])}))})}var PO={type:"echarts:boxplot",transform:function(e){var t=e.upstream;t.sourceFormat!==mY&&vr("");var i=function(e,t){for(var i=[],r=[],n=(t=t||{}).boundIQR,o="none"===n||0===n,s=0;s<e.length;s++){var a=cg(e[s].slice()),l=cM(a,.25),u=cM(a,.5),d=cM(a,.75),h=a[0],c=a[a.length-1],p=(null==n?1.5:n)*(d-l),g=o?h:Math.max(h,l-p),f=o?c:Math.min(c,d+p),m=t.itemNameFormatter,v=lp(m)?m({value:s}):lg(m)?m.replace("{value}",s+""):s+"";i.push([v,g,l,u,d,f]);for(var y=0;y<a.length;y++){var C=a[y];if(C<g||C>f){var w=[v,C];r.push(w)}}}return{boxData:i,outliers:r}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},PG=["itemStyle","borderColor"],PV=["itemStyle","borderColor0"],PB=["itemStyle","borderColorDoji"],PH=["itemStyle","color"],Pz=["itemStyle","color0"];function PW(e,t){return t.get(e>0?PH:Pz)}function PU(e,t){return t.get(0===e?PB:e>0?PG:PV)}var Pj={seriesType:"candlestick",plan:y$(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var i;null!=(i=e.next());){var r=t.getItemModel(i),n=t.getItemLayout(i).sign,o=r.getItemStyle();o.fill=PW(n,r),o.stroke=PU(n,r)||o.fill,a8(t.ensureUniqueItemVisual(i,"style"),o)}}}}},P$=["color","borderColor"],PK=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,i,r){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){wu(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t!==this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),i=this._data,r=this.group,n=t.getLayout("isSimpleBox"),o=e.get("clip",!0),s=e.coordinateSystem,a=s.getArea&&s.getArea();this._data||r.removeAll(),t.diff(i).add(function(i){if(t.hasValue(i)){var s=t.getItemLayout(i);if(!(o&&PZ(a,s))){var l=PX(s,i,!0);fb(l,{shape:{points:s.ends}},e,i),PQ(l,t,i,n),r.add(l),t.setItemGraphicEl(i,l)}}}).update(function(s,l){var u=i.getItemGraphicEl(l);if(!t.hasValue(s))return void r.remove(u);var d=t.getItemLayout(s);o&&PZ(a,d)?r.remove(u):(u?(fw(u,{shape:{points:d.ends}},e,s),fT(u)):u=PX(d,s),PQ(u,t,s,n),r.add(u),t.setItemGraphicEl(s,u))}).remove(function(e){var t=i.getItemGraphicEl(e);t&&r.remove(t)}).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),P1(e,this.group);var t=e.get("clip",!0)?_g(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var i,r=t.getData(),n=r.getLayout("isSimpleBox");null!=(i=e.next());){var o=PX(r.getItemLayout(i),i);PQ(o,r,i,n),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},t.prototype._incrementalRenderLarge=function(e,t){P1(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(wc),PY=function(){},Pq=function(e){function t(t){var i=e.call(this,t)||this;return i.type="normalCandlestickBox",i}return aF(t,e),t.prototype.getDefaultShape=function(){return new PY},t.prototype.buildPath=function(e,t){var i=t.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t}(gl);function PX(e,t,i){var r,n,o=e.ends;return new Pq({shape:{points:i?(r=o,n=e,lo(r,function(e){return(e=e.slice())[1]=n.initBaseline,e})):o},z2:100})}function PZ(e,t){for(var i=!0,r=0;r<t.ends.length;r++)if(e.contain(t.ends[r][0],t.ends[r][1])){i=!1;break}return i}function PQ(e,t,i,r){var n=t.getItemModel(i);e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.__simpleBox=r,fc(e,n);var o=t.getItemLayout(i).sign;ln(e.states,function(e,t){var i=n.getModel(t),r=PW(o,i),s=PU(o,i)||r,a=e.style||(e.style={});r&&(a.fill=r),s&&(a.stroke=s)});var s=n.getModel("emphasis");fl(e,s.get("focus"),s.get("blurScope"),s.get("disabled"))}var PJ=function(){},P0=function(e){function t(t){var i=e.call(this,t)||this;return i.type="largeCandlestickBox",i}return aF(t,e),t.prototype.getDefaultShape=function(){return new PJ},t.prototype.buildPath=function(e,t){for(var i=t.points,r=0;r<i.length;)if(this.__sign===i[r++]){var n=i[r++];e.moveTo(n,i[r++]),e.lineTo(n,i[r++])}else r+=3},t}(gl);function P1(e,t,i,r){var n=e.getData(),o=n.getLayout("largePoints"),s=new P0({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});t.add(s);var a=new P0({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});t.add(a);var l=new P0({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});t.add(l),P2(1,s,e,n),P2(-1,a,e,n),P2(0,l,e,n),r&&(s.incremental=!0,a.incremental=!0),i&&i.push(s,a)}function P2(e,t,i,r){var n=PU(e,i)||PW(e,i),o=i.getModel("itemStyle").getItemStyle(P$);t.useStyle(o),t.style.fill=null,t.style.stroke=n}var P5=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],i}return aF(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,i){var r=t.getItemLayout(e);return r&&i.rect(r.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(yO);function P3(e){e&&lc(e.series)&&ln(e.series,function(e){lv(e)&&"k"===e.type&&(e.type="candlestick")})}li(P5,PD,!0);var P4={seriesType:"candlestick",plan:y$(),reset:function(e){var t,i,r,n,o,s,a,l,u=e.coordinateSystem,d=e.getData(),h=(t=e,i=d,o="category"===(n=t.getBaseAxis()).type?n.getBandWidth():Math.abs((r=n.getExtent())[1]-r[0])/i.count(),s=cc(lT(t.get("barMaxWidth"),o),o),a=cc(lT(t.get("barMinWidth"),1),o),null!=(l=t.get("barWidth"))?cc(l,o):Math.max(Math.min(o/2,s),a)),c=d.getDimensionIndex(d.mapDimension("x")),p=lo(d.mapDimensionsAll("y"),d.getDimensionIndex,d),g=p[0],f=p[1],m=p[2],v=p[3];if(d.setLayout({candleWidth:h,isSimpleBox:h<=1.3}),!(c<0)&&!(p.length<4))return{progress:e.pipelineContext.large?function(t,i){for(var r,n,o=_r(4*t.count),s=0,a=[],l=[],d=i.getStore(),h=!!e.get(["itemStyle","borderColorDoji"]);null!=(n=t.next());){var p=d.get(c,n),y=d.get(g,n),C=d.get(f,n),w=d.get(m,n),b=d.get(v,n);if(isNaN(p)||isNaN(w)||isNaN(b)){o[s++]=NaN,s+=3;continue}o[s++]=P6(d,n,y,C,f,h),a[0]=p,a[1]=w,r=u.dataToPoint(a,null,l),o[s++]=r?r[0]:NaN,o[s++]=r?r[1]:NaN,a[1]=b,r=u.dataToPoint(a,null,l),o[s++]=r?r[1]:NaN}i.setLayout("largePoints",o)}:function(e,t){for(var i,r=t.getStore();null!=(i=e.next());){var n=r.get(c,i),o=r.get(g,i),s=r.get(f,i),a=r.get(m,i),l=r.get(v,i),d=Math.min(o,s),p=Math.max(o,s),y=_(d,n),C=_(p,n),w=_(a,n),b=_(l,n),S=[];E(S,C,0),E(S,y,1),S.push(T(b),T(C),T(w),T(y));var x=!!t.getItemModel(i).get(["itemStyle","borderColorDoji"]);t.setItemLayout(i,{sign:P6(r,i,o,s,f,x),initBaseline:o>s?C[1]:y[1],ends:S,brushRect:function(e,t,i){var r=_(e,i),n=_(t,i);return r[0]-=h/2,n[0]-=h/2,{x:r[0],y:r[1],width:h,height:n[1]-r[1]}}(a,l,n)})}function _(e,t){var i=[];return i[0]=t,i[1]=e,isNaN(t)||isNaN(e)?[NaN,NaN]:u.dataToPoint(i)}function E(e,t,i){var r=t.slice(),n=t.slice();r[0]=C8(r[0]+h/2,1,!1),n[0]=C8(n[0]-h/2,1,!0),i?e.push(r,n):e.push(n,r)}function T(e){return e[0]=C8(e[0],1),e}}}}};function P6(e,t,i,r,n,o){return i>r?-1:i<r?1:o?0:t>0?e.get(n,t-1)<=r?1:-1:1}function P8(e,t){var i=t.rippleEffectColor||t.color;e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?i:null,fill:"fill"===t.brushType?i:null}})})}var P9=function(e){function t(t,i){var r=e.call(this)||this,n=new x5(t,i),o=new ce;return r.add(n),r.add(o),r.updateData(t,i),r}return aF(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,i=e.color,r=e.rippleNumber,n=this.childAt(1),o=0;o<r;o++){var s=ba(t,-1,-1,2,2,i);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var a=-o/r*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(a).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(a).start(),n.add(s)}P8(n,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,i=this.childAt(1),r=["symbolType","period","rippleScale","rippleNumber"],n=0;n<r.length;n++){var o=r[n];if(t[o]!==e[o]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}P8(i,e)},t.prototype.highlight=function(){g7(this)},t.prototype.downplay=function(){fe(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var i=this,r=e.hostModel;this.childAt(0).updateData(e,t);var n=this.childAt(1),o=e.getItemModel(t),s=e.getItemVisual(t,"symbol"),a=bl(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"style"),u=l&&l.fill,d=o.getModel("emphasis");n.setScale(a),n.traverse(function(e){e.setStyle("fill",u)});var h=bu(e.getItemVisual(t,"symbolOffset"),a);h&&(n.x=h[0],n.y=h[1]),n.rotation=(e.getItemVisual(t,"symbolRotate")||0)*Math.PI/180||0;var c={};c.showEffectOn=r.get("showEffectOn"),c.rippleScale=o.get(["rippleEffect","scale"]),c.brushType=o.get(["rippleEffect","brushType"]),c.period=1e3*o.get(["rippleEffect","period"]),c.effectOffset=t/e.count(),c.z=r.getShallow("z")||0,c.zlevel=r.getShallow("zlevel")||0,c.symbolType=s,c.color=u,c.rippleEffectColor=o.get(["rippleEffect","color"]),c.rippleNumber=o.get(["rippleEffect","number"]),"render"===c.showEffectOn?(this._effectCfg?this.updateEffectAnimation(c):this.startEffectAnimation(c),this._effectCfg=c):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==c.showEffectOn&&i.startEffectAnimation(c):"normal"===e&&"render"!==c.showEffectOn&&i.stopEffectAnimation()}),this._effectCfg=c,fl(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(ce),P7=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(){this._symbolDraw=new x9(P9)},t.prototype.render=function(e,t,i){var r=e.getData(),n=this._symbolDraw;n.updateData(r,{clipShape:this._getClipShape(e)}),this.group.add(n.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,i=t&&t.getArea&&t.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,t,i){var r=e.getData();this.group.dirty();var n=_E("").reset(e,t,i);n.progress&&n.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=uG(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(wc),Le=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return aF(t,e),t.prototype.getInitialData=function(e,t){return xJ(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,i){return i.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(yO),Lt=function(e){function t(t,i,r){var n=e.call(this)||this;return n.add(n.createLine(t,i,r)),n._updateEffectSymbol(t,i),n}return aF(t,e),t.prototype.createLine=function(e,t,i){return new AN(e,t,i)},t.prototype._updateEffectSymbol=function(e,t){var i=e.getItemModel(t).getModel("effect"),r=i.get("symbolSize"),n=i.get("symbol");lc(r)||(r=[r,r]);var o=e.getItemVisual(t,"style"),s=i.get("color")||o&&o.stroke,a=this.childAt(1);this._symbolType!==n&&(this.remove(a),(a=ba(n,-.5,-.5,1,1,s)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",s),a.setStyle(i.getItemStyle(["color"])),a.scaleX=r[0],a.scaleY=r[1],a.setColor(s),this._symbolType=n,this._symbolScale=r,this._updateEffectAnimation(e,i,t))},t.prototype._updateEffectAnimation=function(e,t,i){var r=this.childAt(1);if(r){var n=e.getItemLayout(i),o=1e3*t.get("period"),s=t.get("loop"),a=t.get("roundTrip"),l=t.get("constantSpeed"),u=lE(t.get("delay"),function(t){return t/e.count()*o/3});if(r.ignore=!0,this._updateAnimationPoints(r,n),l>0&&(o=this._getLineLength(r)/l*1e3),o!==this._period||s!==this._loop||a!==this._roundTrip){r.stopAnimation();var d=void 0;d=lp(u)?u(i):u,r.__t>0&&(d=-o*r.__t),this._animateSymbol(r,o,d,s,a)}this._period=o,this._loop=s,this._roundTrip=a}},t.prototype._animateSymbol=function(e,t,i,r,n){if(t>0){e.__t=0;var o=this,s=e.animate("",r).when(n?2*t:t,{__t:n?2:1}).delay(i).during(function(){o._updateSymbolPosition(e)});r||s.done(function(){o.remove(e)}),s.start()}},t.prototype._getLineLength=function(e){return l8(e.__p1,e.__cp1)+l8(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,i){this.childAt(0).updateData(e,t,i),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,i=e.__p2,r=e.__cp1,n=e.__t<1?e.__t:2-e.__t,o=[e.x,e.y],s=o.slice();o[0]=dw(t[0],r[0],i[0],n),o[1]=dw(t[1],r[1],i[1],n);var a=e.__t<1?db(t[0],r[0],i[0],n):db(i[0],r[0],t[0],1-n),l=e.__t<1?db(t[1],r[1],i[1],n):db(i[1],r[1],t[1],1-n);e.rotation=-Math.atan2(l,a)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*l8(s,o),1===n&&(o[0]=s[0]+(o[0]-s[0])/2,o[1]=s[1]+(o[1]-s[1])/2)):1===e.__lastT?e.scaleY=2*l8(t,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var i=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,i,t)},t}(ce),Li=function(e){function t(t,i,r){var n=e.call(this)||this;return n._createPolyline(t,i,r),n}return aF(t,e),t.prototype._createPolyline=function(e,t,i){var r=new CE({shape:{points:e.getItemLayout(t)}});this.add(r),this._updateCommonStl(e,t,i)},t.prototype.updateData=function(e,t,i){var r=e.hostModel;fw(this.childAt(0),{shape:{points:e.getItemLayout(t)}},r,t),this._updateCommonStl(e,t,i)},t.prototype._updateCommonStl=function(e,t,i){var r=this.childAt(0),n=e.getItemModel(t),o=i&&i.emphasisLineStyle,s=i&&i.focus,a=i&&i.blurScope,l=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var u=n.getModel("emphasis");o=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),s=u.get("focus"),a=u.get("blurScope")}r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,fl(this,s,a,l)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(ce),Lr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return aF(t,e),t.prototype.createLine=function(e,t,i){return new Li(e,t,i)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var i=[0],r=0,n=1;n<t.length;n++)r+=l8(t[n-1],t[n]),i.push(r);if(0===r){this._length=0;return}for(var n=0;n<i.length;n++)i[n]/=r;this._offsets=i,this._length=r},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t,i=e.__t<1?e.__t:2-e.__t,r=this._points,n=this._offsets,o=r.length;if(n){var s=this._lastFrame;if(i<this._lastFramePercent){for(t=Math.min(s+1,o-1);t>=0&&!(n[t]<=i);t--);t=Math.min(t,o-2)}else{for(t=s;t<o&&!(n[t]>i);t++);t=Math.min(t-1,o-2)}var a=(i-n[t])/(n[t+1]-n[t]),l=r[t],u=r[t+1];e.x=l[0]*(1-a)+a*u[0],e.y=l[1]*(1-a)+a*u[1];var d=e.__t<1?u[0]-l[0]:l[0]-u[0],h=e.__t<1?u[1]-l[1]:l[1]-u[1];e.rotation=-Math.atan2(h,d)-Math.PI/2,this._lastFrame=t,this._lastFramePercent=i,e.ignore=!1}},t}(Lt),Ln=function(){this.polyline=!1,this.curveness=0,this.segs=[]},Lo=function(e){function t(t){var i=e.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return aF(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Ln},t.prototype.buildPath=function(e,t){var i,r=t.segs,n=t.curveness;if(t.polyline)for(i=this._off;i<r.length;){var o=r[i++];if(o>0){e.moveTo(r[i++],r[i++]);for(var s=1;s<o;s++)e.lineTo(r[i++],r[i++])}}else for(i=this._off;i<r.length;){var a=r[i++],l=r[i++],u=r[i++],d=r[i++];if(e.moveTo(a,l),n>0){var h=(a+u)/2-(l-d)*n,c=(l+d)/2-(u-a)*n;e.quadraticCurveTo(h,c,u,d)}else e.lineTo(u,d)}this.incremental&&(this._off=i,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var i=this.shape,r=i.segs,n=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var s=0,a=0;a<r.length;){var l=r[a++];if(l>0)for(var u=r[a++],d=r[a++],h=1;h<l;h++){var c=r[a++],p=r[a++];if(p3(u,d,c,p,o,e,t))return s}s++}else for(var s=0,a=0;a<r.length;){var u=r[a++],d=r[a++],c=r[a++],p=r[a++];if(n>0){var g=(u+c)/2-(d-p)*n,f=(d+p)/2-(c-u)*n;if(p4(u,d,g,f,c,p,o,e,t))return s}else if(p3(u,d,c,p,o,e,t))return s;s++}return -1},t.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return(e=i[0],t=i[1],r.contain(e,t))?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,i=1/0,r=1/0,n=-1/0,o=-1/0,s=0;s<t.length;){var a=t[s++],l=t[s++];i=Math.min(a,i),n=Math.max(a,n),r=Math.min(l,r),o=Math.max(l,o)}e=this._rect=new uY(i,r,n,o)}return e},t}(gl),Ls=function(){function e(){this.group=new ce}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],r=t.getLayout("linesPoints"),n=i&&i.shape.segs;if(n&&n.length<2e4){var o=n.length,s=new Float32Array(o+r.length);s.set(n),s.set(r,o),i.setShape({segs:s})}else{this._newAdded=[];var a=this._create();a.incremental=!0,a.setShape({segs:r}),this._setCommon(a,t),a.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Lo({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,i){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var n=t.getVisual("style");n&&n.stroke&&e.setStyle("stroke",n.stroke),e.setStyle("fill",null);var o=gF(e);o.seriesIndex=r.seriesIndex,e.on("mousemove",function(t){o.dataIndex=null;var i=e.hoverDataIdx;i>0&&(o.dataIndex=i+e.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),La={seriesType:"lines",plan:y$(),reset:function(e){var t=e.coordinateSystem;if(t){var i=e.get("polyline"),r=e.pipelineContext.large;return{progress:function(n,o){var s=[];if(r){var a=void 0,l=n.end-n.start;if(i){for(var u=0,d=n.start;d<n.end;d++)u+=e.getLineCoordsCount(d);a=new Float32Array(l+2*u)}else a=new Float32Array(4*l);for(var h=0,c=[],d=n.start;d<n.end;d++){var p=e.getLineCoords(d,s);i&&(a[h++]=p);for(var g=0;g<p;g++)c=t.dataToPoint(s[g],!1,c),a[h++]=c[0],a[h++]=c[1]}o.setLayout("linesPoints",a)}else for(var d=n.start;d<n.end;d++){var f=o.getItemModel(d),p=e.getLineCoords(d,s),m=[];if(i)for(var v=0;v<p;v++)m.push(t.dataToPoint(s[v]));else{m[0]=t.dataToPoint(s[0]),m[1]=t.dataToPoint(s[1]);var y=f.get(["lineStyle","curveness"]);+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}o.setItemLayout(d,m)}}}}}},Ll=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){var r=e.getData(),n=this._updateLineDraw(r,e),o=e.get("zlevel"),s=e.get(["effect","trailLength"]),a=i.getZr(),l="svg"===a.painter.getType();l||a.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||a.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s>0&&(l||a.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),n.updateData(r);var u=e.get("clip",!0)&&_g(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,i){var r=e.getData();this._updateLineDraw(r,e).incrementalPrepareUpdate(r),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,t,i){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,i){var r=e.getData(),n=e.pipelineContext;if(!this._finished||n.large||n.progressiveRender)return{update:!0};var o=La.reset(e,t,i);o.progress&&o.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,t){var i=this._lineDraw,r=this._showEffect(t),n=!!t.get("polyline"),o=t.pipelineContext.large;return i&&r===this._hasEffet&&n===this._isPolyline&&o===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=o?new Ls:new AF(n?r?Lr:Li:r?Lt:AN),this._hasEffet=r,this._isPolyline=n,this._isLargeDraw=o),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"!==t.painter.getType()&&null!=this._lastZlevel&&t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(wc),Lu="undefined"==typeof Uint32Array?Array:Uint32Array,Ld="undefined"==typeof Float64Array?Array:Float64Array;function Lh(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=lo(t,function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),a6([t,e[0],e[1]])}))}var Lc=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return aF(t,e),t.prototype.init=function(t){t.data=t.data||[],Lh(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(Lh(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=lV(this._flatCoords,t.flatCoords),this._flatCoordsOffset=lV(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],n=0;n<r;n++)t[n]=t[n]||[],t[n][0]=this._flatCoords[i+2*n],t[n][1]=this._flatCoords[i+2*n+1];return r}for(var o=this._getCoordsFromItemModel(e),n=0;n<o.length;n++)t[n]=t[n]||[],t[n][0]=o[n][0],t[n][1]=o[n][1];return o.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),lm(e[0])){for(var i=e.length,r=new Lu(i),n=new Ld(i),o=0,s=0,a=0,l=0;l<i;){a++;var u=e[l++];r[s++]=o+t,r[s++]=u;for(var d=0;d<u;d++){var h=e[l++],c=e[l++];n[o++]=h,n[o++]=c}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,s),flatCoords:n,count:a}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var i=new xU(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(e,t,r,n){if(e instanceof Array)return NaN;i.hasItemOption=!0;var o=e.value;if(null!=o)return o instanceof Array?o[n]:o}),i},t.prototype.formatTooltip=function(e,t,i){var r=this.getData().getItemModel(e),n=r.get("name");if(n)return n;var o=r.get("fromName"),s=r.get("toName"),a=[];return null!=o&&a.push(o),null!=s&&a.push(s),yx("nameValue",{name:a.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(yO);function Lp(e){return e instanceof Array||(e=[e,e]),e}let Lg={seriesType:"lines",reset:function(e){var t=Lp(e.get("symbol")),i=Lp(e.get("symbolSize")),r=e.getData();return r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",i&&i[0]),r.setVisual("toSymbolSize",i&&i[1]),{dataEach:r.hasItemOption?function(e,t){var i=e.getItemModel(t),r=Lp(i.getShallow("symbol",!0)),n=Lp(i.getShallow("symbolSize",!0));r[0]&&e.setItemVisual(t,"fromSymbol",r[0]),r[1]&&e.setItemVisual(t,"toSymbol",r[1]),n[0]&&e.setItemVisual(t,"fromSymbolSize",n[0]),n[1]&&e.setItemVisual(t,"toSymbolSize",n[1])}:null}}};var Lf=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=az.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,i,r,n,o){var s=this._getBrush(),a=this._getGradient(n,"inRange"),l=this._getGradient(n,"outOfRange"),u=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),c=e.length;d.width=t,d.height=i;for(var p=0;p<c;++p){var g=e[p],f=g[0],m=g[1],v=r(g[2]);h.globalAlpha=v,h.drawImage(s,f-u,m-u)}if(!d.width||!d.height)return d;for(var y=h.getImageData(0,0,d.width,d.height),C=y.data,w=0,b=C.length,S=this.minOpacity,x=this.maxOpacity-S;w<b;){var v=C[w+3]/256,_=4*Math.floor(255*v);if(v>0){var E=o(v)?a:l;v>0&&(v=v*x+S),C[w++]=E[_],C[w++]=E[_+1],C[w++]=E[_+2],C[w++]=E[_+3]*v*256}else w+=4}return h.putImageData(y,0,0),d},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=az.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var r=e.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},e.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,r=i[t]||(i[t]=new Uint8ClampedArray(1024)),n=[0,0,0,0],o=0,s=0;s<256;s++)e[t](s/255,!0,n),r[o++]=n[0],r[o++]=n[1],r[o++]=n[2],r[o++]=n[3];return r},e}();function Lm(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var Lv=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(i){i===e&&(r=t)})}),this._progressiveEls=null,this.group.removeAll();var r,n=e.coordinateSystem;"cartesian2d"===n.type||"calendar"===n.type?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):Lm(n)&&this._renderOnGeo(n,e,r,i)},t.prototype.incrementalPrepareRender=function(e,t,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,i,r){var n=t.coordinateSystem;n&&(Lm(n)?this.render(t,i,r):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,r,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){wu(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,i,r,n){var o,s,a,l,u=e.coordinateSystem,d=_f(u,"cartesian2d");if(d){var h=u.getAxis("x"),c=u.getAxis("y");o=h.getBandWidth()+.5,s=c.getBandWidth()+.5,a=h.scale.getExtent(),l=c.scale.getExtent()}for(var p=this.group,g=e.getData(),f=e.getModel(["emphasis","itemStyle"]).getItemStyle(),m=e.getModel(["blur","itemStyle"]).getItemStyle(),v=e.getModel(["select","itemStyle"]).getItemStyle(),y=e.get(["itemStyle","borderRadius"]),C=fI(e),w=e.getModel("emphasis"),b=w.get("focus"),S=w.get("blurScope"),x=w.get("disabled"),_=d?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],E=i;E<r;E++){var T=void 0,M=g.getItemVisual(E,"style");if(d){var R=g.get(_[0],E),D=g.get(_[1],E);if(isNaN(g.get(_[2],E))||isNaN(R)||isNaN(D)||R<a[0]||R>a[1]||D<l[0]||D>l[1])continue;var A=u.dataToPoint([R,D]);T=new gw({shape:{x:A[0]-o/2,y:A[1]-s/2,width:o,height:s},style:M})}else{if(isNaN(g.get(_[1],E)))continue;T=new gw({z2:1,shape:u.dataToRect([g.get(_[0],E)]).contentShape,style:M})}if(g.hasItemOption){var I=g.getItemModel(E),P=I.getModel("emphasis");f=P.getModel("itemStyle").getItemStyle(),m=I.getModel(["blur","itemStyle"]).getItemStyle(),v=I.getModel(["select","itemStyle"]).getItemStyle(),y=I.get(["itemStyle","borderRadius"]),b=P.get("focus"),S=P.get("blurScope"),x=P.get("disabled"),C=fI(I)}T.shape.r=y;var L=e.getRawValue(E),k="-";L&&null!=L[2]&&(k=L[2]+""),fA(T,C,{labelFetcher:e,labelDataIndex:E,defaultOpacity:M.opacity,defaultText:k}),T.ensureState("emphasis").style=f,T.ensureState("blur").style=m,T.ensureState("select").style=v,fl(T,b,S,x),T.incremental=n,n&&(T.states.emphasis.hoverLayer=!0),p.add(T),g.setItemGraphicEl(E,T),this._progressiveEls&&this._progressiveEls.push(T)}},t.prototype._renderOnGeo=function(e,t,i,r){var n,o,s,a,l,u,d,h=i.targetVisuals.inRange,c=i.targetVisuals.outOfRange,p=t.getData(),g=this._hmLayer||this._hmLayer||new Lf;g.blurSize=t.get("blurSize"),g.pointSize=t.get("pointSize"),g.minOpacity=t.get("minOpacity"),g.maxOpacity=t.get("maxOpacity");var f=e.getViewRect().clone(),m=e.getRoamTransform();f.applyTransform(m);var v=Math.max(f.x,0),y=Math.max(f.y,0),C=Math.min(f.width+f.x,r.getWidth()),w=Math.min(f.height+f.y,r.getHeight()),b=C-v,S=w-y,x=[p.mapDimension("lng"),p.mapDimension("lat"),p.mapDimension("value")],_=p.mapArray(x,function(t,i,r){var n=e.dataToPoint([t,i]);return n[0]-=v,n[1]-=y,n.push(r),n}),E=i.getExtent(),T="visualMap.continuous"===i.type?(n=i.option.range,o=E[1]-E[0],n=[(n[0]-E[0])/o,(n[1]-E[0])/o],function(e){return e>=n[0]&&e<=n[1]}):(s=i.getPieceList(),a=i.option.selected,l=E[1]-E[0],u=(s=lo(s,function(e){return{interval:[(e.interval[0]-E[0])/l,(e.interval[1]-E[0])/l]}})).length,d=0,function(e){var t;for(t=d;t<u;t++){var i=s[t].interval;if(i[0]<=e&&e<=i[1]){d=t;break}}if(t===u)for(t=d-1;t>=0;t--){var i=s[t].interval;if(i[0]<=e&&e<=i[1]){d=t;break}}return t>=0&&t<u&&a[t]});g.update(_,b,S,h.color.getNormalizer(),{inRange:h.color.getColorMapper(),outOfRange:c.color.getColorMapper()},T);var M=new gp({style:{width:b,height:S,x:v,y:y,image:g.canvas},silent:!0});this.group.add(M)},t.type="heatmap",t}(wc),Ly=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.getInitialData=function(e,t){return xJ(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=vc.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(yO),LC=["itemStyle","borderWidth"],Lw=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Lb=new MC.Circle,LS=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){var r=this.group,n=e.getData(),o=this._data,s=e.coordinateSystem,a=s.getBaseAxis().isHorizontal(),l=s.master.getRect(),u={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:a,valueDim:Lw[+a],categoryDim:Lw[1-a]};n.diff(o).add(function(e){if(n.hasValue(e)){var t=LA(n,e),i=Lx(n,e,t,u),o=LL(n,u,i);n.setItemGraphicEl(e,o),r.add(o),LG(o,u,i)}}).update(function(e,t){var i,s,a,l,d,h,c=o.getItemGraphicEl(t);if(!n.hasValue(e))return void r.remove(c);var p=LA(n,e),g=Lx(n,e,p,u),f=LN(n,g);c&&f!==c.__pictorialShapeStr&&(r.remove(c),n.setItemGraphicEl(e,null),c=null),c?(i=c,s=u,l=(a=g).animationModel,d=a.dataIndex,h=i.__pictorialBundle,MC.updateProps(h,{x:a.bundlePosition[0],y:a.bundlePosition[1]},l,d),a.symbolRepeat?LT(i,s,a,!0):LM(i,s,a,!0),LR(i,a,!0),LD(i,s,a,!0)):c=LL(n,u,g,!0),n.setItemGraphicEl(e,c),c.__pictorialSymbolMeta=g,r.add(c),LG(c,u,g)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&Lk(o,e,t.__pictorialSymbolMeta.animationModel,t)}).execute();var d=e.get("clip",!0)?_g(e.coordinateSystem,!1,e):null;return d?r.setClipPath(d):r.removeClipPath(),this._data=n,this.group},t.prototype.remove=function(e,t){var i=this.group,r=this._data;e.get("animation")?r&&r.eachItemGraphicEl(function(t){Lk(r,gF(t).dataIndex,e,t)}):i.removeAll()},t.type="pictorialBar",t}(wc);function Lx(e,t,i,r){var n,o,s,a,l,u,d,h,c,p,g,f,m,v,y,C,w,b,S,x,_,E=e.getItemLayout(t),T=i.get("symbolRepeat"),M=i.get("symbolClip"),R=i.get("symbolPosition")||"start",D=(i.get("symbolRotate")||0)*Math.PI/180||0,A=i.get("symbolPatternSize")||2,I=i.isAnimationEnabled(),P={dataIndex:t,layout:E,itemModel:i,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:M,symbolRepeat:T,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:A,rotation:D,animationModel:I?i:null,hoverScale:I&&i.get(["emphasis","scale"]),z2:i.getShallow("z",!0)||0};(function(e,t,i,r,n){var o,s=r.valueDim,a=e.get("symbolBoundingData"),l=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),d=1-(i[s.wh]<=0);if(lc(a)){var h=[L_(l,a[0])-u,L_(l,a[1])-u];h[1]<h[0]&&h.reverse(),o=h[d]}else o=null!=a?L_(l,a)-u:t?r.coordSysExtent[s.index][d]-u:i[s.wh];n.boundingLength=o,t&&(n.repeatCutLength=i[s.wh]);var c="x"===s.xy,p=l.inverse;n.pxSign=c&&!p||!c&&p?o>=0?1:-1:o>0?1:-1})(i,T,E,r,P),n=e,o=t,s=E,a=T,l=P.boundingLength,u=P.pxSign,d=A,h=r,c=P,g=h.valueDim,m=Math.abs(s[(f=h.categoryDim).wh]),(p=lc(v=n.getItemVisual(o,"symbolSize"))?v.slice():null==v?["100%","100%"]:[v,v])[f.index]=cc(p[f.index],m),p[g.index]=cc(p[g.index],a?m:Math.abs(l)),c.symbolSize=p,y=c.symbolScale=[p[0]/d,p[1]/d],y[g.index]*=(h.isHorizontal?-1:1)*u,C=i,w=P.symbolScale,b=D,S=r,x=P,(_=C.get(LC)||0)&&(Lb.attr({scaleX:w[0],scaleY:w[1],rotation:b}),Lb.updateTransform(),_/=Lb.getLineScale(),_*=w[S.valueDim.index]),x.valueLineWidth=_||0;var L=P.symbolSize,k=bu(i.get("symbolOffset"),L);return function(e,t,i,r,n,o,s,a,l,u,d,h){var c=d.categoryDim,p=d.valueDim,g=h.pxSign,f=Math.max(t[p.index]+a,0),m=f;if(r){var v=Math.abs(l),y=lE(e.get("symbolMargin"),"15%")+"",C=!1;y.lastIndexOf("!")===y.length-1&&(C=!0,y=y.slice(0,y.length-1));var w=cc(y,t[p.index]),b=Math.max(f+2*w,0),S=C?0:2*w,x=cA(r),_=x?r:LV((v+S)/b);w=(v-_*f)/2/(C?_:Math.max(_-1,1)),b=f+2*w,S=C?0:2*w,x||"fixed"===r||(_=u?LV((Math.abs(u)+S)/b):0),m=_*b-S,h.repeatTimes=_,h.symbolMargin=w}var E=m/2*g,T=h.pathPosition=[];T[c.index]=i[c.wh]/2,T[p.index]="start"===s?E:"end"===s?l-E:l/2,o&&(T[0]+=o[0],T[1]+=o[1]);var M=h.bundlePosition=[];M[c.index]=i[c.xy],M[p.index]=i[p.xy];var R=h.barRectShape=a8({},i);R[p.wh]=g*Math.max(Math.abs(i[p.wh]),Math.abs(T[p.index]+E)),R[c.wh]=i[c.wh];var D=h.clipShape={};D[c.xy]=-i[c.xy],D[c.wh]=d.ecSize[c.wh],D[p.xy]=0,D[p.wh]=i[p.wh]}(i,L,E,T,0,k,R,P.valueLineWidth,P.boundingLength,P.repeatCutLength,r,P),P}function L_(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function LE(e){var t=e.symbolPatternSize,i=ba(e.symbolType,-t/2,-t/2,t,t);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function LT(e,t,i,r){var n=e.__pictorialBundle,o=i.symbolSize,s=i.valueLineWidth,a=i.pathPosition,l=t.valueDim,u=i.repeatTimes||0,d=0,h=o[t.valueDim.index]+s+2*i.symbolMargin;for(LF(e,function(e){e.__pictorialAnimationIndex=d,e.__pictorialRepeatTimes=u,d<u?LO(e,null,g(d),i,r):LO(e,null,{scaleX:0,scaleY:0},i,r,function(){n.remove(e)}),d++});d<u;d++){var c=LE(i);c.__pictorialAnimationIndex=d,c.__pictorialRepeatTimes=u,n.add(c);var p=g(d);LO(c,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},i,r)}function g(e){var t=a.slice(),r=i.pxSign,n=e;return("start"===i.symbolRepeatDirection?r>0:r<0)&&(n=u-1-e),t[l.index]=h*(n-u/2+.5)+a[l.index],{x:t[0],y:t[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation}}}function LM(e,t,i,r){var n=e.__pictorialBundle,o=e.__pictorialMainPath;o?LO(o,null,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation},i,r):(o=e.__pictorialMainPath=LE(i),n.add(o),LO(o,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:0,scaleY:0,rotation:i.rotation},{scaleX:i.symbolScale[0],scaleY:i.symbolScale[1]},i,r))}function LR(e,t,i){var r=a8({},t.barRectShape),n=e.__pictorialBarRect;n?LO(n,null,{shape:r},t,i):((n=e.__pictorialBarRect=new MC.Rect({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(n))}function LD(e,t,i,r){if(i.symbolClip){var n=e.__pictorialClipPath,o=a8({},i.clipShape),s=t.valueDim,a=i.animationModel,l=i.dataIndex;if(n)MC.updateProps(n,{shape:o},a,l);else{o[s.wh]=0,n=new MC.Rect({shape:o}),e.__pictorialBundle.setClipPath(n),e.__pictorialClipPath=n;var u={};u[s.wh]=i.clipShape[s.wh],MC[r?"updateProps":"initProps"](n,{shape:u},a,l)}}}function LA(e,t){var i=e.getItemModel(t);return i.getAnimationDelayParams=LI,i.isAnimationEnabled=LP,i}function LI(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function LP(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function LL(e,t,i,r){var n=new MC.Group,o=new MC.Group;return n.add(o),n.__pictorialBundle=o,o.x=i.bundlePosition[0],o.y=i.bundlePosition[1],i.symbolRepeat?LT(n,t,i):LM(n,t,i),LR(n,i,r),LD(n,t,i,r),n.__pictorialShapeStr=LN(e,i),n.__pictorialSymbolMeta=i,n}function Lk(e,t,i,r){var n=r.__pictorialBarRect;n&&n.removeTextContent();var o=[];LF(r,function(e){o.push(e)}),r.__pictorialMainPath&&o.push(r.__pictorialMainPath),r.__pictorialClipPath&&(i=null),ln(o,function(e){MC.removeElement(e,{scaleX:0,scaleY:0},i,t,function(){r.parent&&r.parent.remove(r)})}),e.setItemGraphicEl(t,null)}function LN(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function LF(e,t,i){ln(e.__pictorialBundle.children(),function(r){r!==e.__pictorialBarRect&&t.call(i,r)})}function LO(e,t,i,r,n,o){t&&e.attr(t),r.symbolClip&&!n?i&&e.attr(i):i&&MC[n?"updateProps":"initProps"](e,i,r.animationModel,r.dataIndex,o)}function LG(e,t,i){var r=i.dataIndex,n=i.itemModel,o=n.getModel("emphasis"),s=o.getModel("itemStyle").getItemStyle(),a=n.getModel(["blur","itemStyle"]).getItemStyle(),l=n.getModel(["select","itemStyle"]).getItemStyle(),u=n.getShallow("cursor"),d=o.get("focus"),h=o.get("blurScope"),c=o.get("scale");LF(e,function(e){if(e instanceof gp){var t=e.style;e.useStyle(a8({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},i.style))}else e.useStyle(i.style);var r=e.ensureState("emphasis");r.style=s,c&&(r.scaleX=1.1*e.scaleX,r.scaleY=1.1*e.scaleY),e.ensureState("blur").style=a,e.ensureState("select").style=l,u&&(e.cursor=u),e.z2=i.z2});var p=t.valueDim.posDesc[+(i.boundingLength>0)],g=e.__pictorialBarRect;g.ignoreClip=!0,fA(g,fI(n),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:x1(t.seriesModel.getData(),r),inheritColor:i.style.fill,defaultOpacity:i.style.opacity,defaultOutsidePosition:p}),fl(e,d,h,o.get("disabled"))}function LV(e){var t=Math.round(e);return 1e-4>Math.abs(e-t)?t:Math.ceil(e)}var LB=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i.defaultSymbol="roundRect",i}return aF(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=f1(_V.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(_V),LH=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._layers=[],i}return aF(t,e),t.prototype.render=function(e,t,i){var r=e.getData(),n=this,o=this.group,s=e.getLayerSeries(),a=r.getLayout("layoutInfo"),l=a.rect,u=a.boundaryGap;function d(e){return e.name}o.x=0,o.y=l.y+u[0];var h=new xD(this._layersSeries||[],s,d,d),c=[];function p(t,i,a){var l,u,d=n._layers;if("remove"===t)return void o.remove(d[i]);for(var h=[],p=[],g=s[i].indices,f=0;f<g.length;f++){var m=r.getItemLayout(g[f]),v=m.x,y=m.y0,C=m.y;h.push(v,y),p.push(v,y+C),l=r.getItemVisual(g[f],"style")}var w=r.getItemLayout(g[0]),b=e.getModel("label").get("margin"),S=e.getModel("emphasis");if("add"===t){var x,_,E,T,M=c[i]=new ce;u=new _h({shape:{points:h,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),M.add(u),o.add(M),e.isAnimationEnabled()&&u.setClipPath((x=u.getBoundingRect(),_=e,E=function(){u.removeClipPath()},fb(T=new gw({shape:{x:x.x-10,y:x.y-10,width:0,height:x.height+20}}),{shape:{x:x.x-50,width:x.width+100,height:x.height+20}},_,E),T))}else{var M=d[a];u=M.childAt(0),o.add(M),c[i]=M,fw(u,{shape:{points:h,stackedOnPoints:p}},e),fT(u)}fA(u,fI(e),{labelDataIndex:g[f-1],defaultText:r.getName(g[f-1]),inheritColor:l.fill},{normal:{verticalAlign:"middle"}}),u.setTextConfig({position:null,local:!0});var R=u.getTextContent();R&&(R.x=w.x-b,R.y=w.y0+w.y/2),u.useStyle(l),r.setItemGraphicEl(i,u),fc(u,e),fl(u,S.get("focus"),S.get("blurScope"),S.get("disabled"))}h.add(ld(p,this,"add")).update(ld(p,this,"update")).remove(ld(p,this,"remove")).execute(),this._layersSeries=s,this._layers=c},t.type="themeRiver",t}(wc),Lz=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new EO(ld(this.getData,this),ld(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,i={},r=c0(e,function(e){return i.hasOwnProperty(e[0]+"")||(i[e[0]+""]=-1),e[2]}),n=[];r.buckets.each(function(e,t){n.push({name:t,dataList:e})});for(var o=n.length,s=0;s<o;++s){for(var a=n[s].name,l=0;l<n[s].dataList.length;++l){var u=n[s].dataList[l][0]+"";i[u]=s}for(var u in i)i.hasOwnProperty(u)&&i[u]!==s&&(i[u]=s,e[t]=[u,0,a],t++)}return e},t.prototype.getInitialData=function(e,t){for(var i=this.getReferringComponents("singleAxis",cX).models[0].get("type"),r=la(e.data,function(e){return void 0!==e[2]}),n=this.fixData(r||[]),o=[],s=this.nameMap=lG(),a=0,l=0;l<n.length;++l)o.push(n[l][2]),!s.get(n[l][2])&&(s.set(n[l][2],a),a++);var u=new xU(x$(n,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:xP(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,this);return u.initData(n),u},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),i=[],r=0;r<t;++r)i[r]=r;var n=e.mapDimension("single"),o=c0(i,function(t){return e.get("name",t)}),s=[];return o.buckets.each(function(t,i){t.sort(function(t,i){return e.get(n,t)-e.get(n,i)}),s.push({name:i,indices:t})}),s},t.prototype.getAxisTooltipData=function(e,t,i){lc(e)||(e=e?[e]:[]);for(var r,n=this.getData(),o=this.getLayerSeries(),s=[],a=o.length,l=0;l<a;++l){for(var u=Number.MAX_VALUE,d=-1,h=o[l].indices.length,c=0;c<h;++c){var p=n.get(e[0],o[l].indices[c]),g=Math.abs(p-t);g<=u&&(r=p,u=g,d=o[l].indices[c])}s.push(d)}return{dataIndices:s,nestestValue:r}},t.prototype.formatTooltip=function(e,t,i){var r=this.getData();return yx("nameValue",{name:r.getName(e),value:r.get(r.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(yO);function LW(e,t){e.eachSeriesByType("themeRiver",function(e){var t=e.getData(),i=e.coordinateSystem,r={},n=i.getRect();r.rect=n;var o=e.get("boundaryGap"),s=i.getAxis();r.boundaryGap=o,"horizontal"===s.orient?(o[0]=cc(o[0],n.height),o[1]=cc(o[1],n.height),LU(t,e,n.height-o[0]-o[1])):(o[0]=cc(o[0],n.width),o[1]=cc(o[1],n.width),LU(t,e,n.width-o[0]-o[1])),t.setLayout("layoutInfo",r)})}function LU(e,t,i){if(e.count())for(var r,n=t.coordinateSystem,o=t.getLayerSeries(),s=e.mapDimension("single"),a=e.mapDimension("value"),l=lo(o,function(t){return lo(t.indices,function(t){var i=n.dataToPoint(e.get(s,t));return i[1]=e.get(a,t),i})}),u=function(e){for(var t=e.length,i=e[0].length,r=[],n=[],o=0,s=0;s<i;++s){for(var a=0,l=0;l<t;++l)a+=e[l][s][1];a>o&&(o=a),r.push(a)}for(var u=0;u<i;++u)n[u]=(o-r[u])/2;o=0;for(var d=0;d<i;++d){var h=r[d]+n[d];h>o&&(o=h)}return{y0:n,max:o}}(l),d=u.y0,h=i/u.max,c=o.length,p=o[0].indices.length,g=0;g<p;++g){r=d[g]*h,e.setItemLayout(o[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:r,y:l[0][g][1]*h});for(var f=1;f<c;++f)r+=l[f-1][g][1]*h,e.setItemLayout(o[f].indices[g],{layerIndex:f,x:l[f][g][0],y0:r,y:l[f][g][1]*h})}}var Lj=function(e){function t(t,i,r,n){var o=e.call(this)||this;o.z2=2,o.textConfig={inside:!0},gF(o).seriesIndex=i.seriesIndex;var s=new gx({z2:4,silent:t.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,t,i,r,n),o}return aF(t,e),t.prototype.updateData=function(e,t,i,r,n){this.node=t,t.piece=this,i=i||this._seriesModel,r=r||this._ecModel;var o=this;gF(o).dataIndex=t.dataIndex;var s=t.getModel(),a=s.getModel("emphasis"),l=t.getLayout(),u=a8({},l);u.label=null;var d=t.getVisual("style");d.lineJoin="bevel";var h=t.getVisual("decal");h&&(d.decal=bk(h,n));var c=_j(s.getModel("itemStyle"),u,!0);a8(u,c),ln(gz,function(e){var t=o.ensureState(e),i=s.getModel([e,"itemStyle"]);t.style=i.getItemStyle();var r=_j(i,u);r&&(t.shape=r)}),e?(o.setShape(u),o.shape.r=l.r0,fb(o,{shape:{r:l.r}},i,t.dataIndex)):(fw(o,{shape:u},i),fT(o)),o.useStyle(d),this._updateLabel(i);var p=s.getShallow("cursor");p&&o.attr("cursor",p),this._seriesModel=i||this._seriesModel,this._ecModel=r||this._ecModel;var g=a.get("focus");fl(this,"relative"===g?lV(t.getAncestorsIndices(),t.getDescendantIndices()):"ancestor"===g?t.getAncestorsIndices():"descendant"===g?t.getDescendantIndices():g,a.get("blurScope"),a.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,i=this.node.getModel(),r=i.getModel("label"),n=this.node.getLayout(),o=n.endAngle-n.startAngle,s=(n.startAngle+n.endAngle)/2,a=Math.cos(s),l=Math.sin(s),u=this,d=u.getTextContent(),h=this.node.dataIndex,c=r.get("minAngle")/180*Math.PI;function p(e,t){var i=e.get(t);return null==i?r.get(t):i}d.ignore=!(r.get("show")&&!(null!=c&&Math.abs(o)<c)),ln(gW,function(r){var c,g="normal"===r?i.getModel("label"):i.getModel([r,"label"]),f="normal"===r,m=f?d:d.ensureState(r),v=e.getFormattedLabel(h,r);f&&(v=v||t.node.name),m.style=fP(g,{},null,"normal"!==r,!0),v&&(m.style.text=v);var y=g.get("show");null==y||f||(m.ignore=!y);var C=p(g,"position"),w=f?u:u.states[r],b=w.style.fill;w.textConfig={outsideFill:"inherit"===g.get("color")?b:null,inside:"outside"!==C};var S=p(g,"distance")||0,x=p(g,"align"),_=p(g,"rotate"),E=.5*Math.PI,T=1.5*Math.PI,M=p8("tangential"===_?Math.PI/2-s:s),R=M>E&&!cb(M-E)&&M<T;"outside"===C?(c=n.r+S,x=R?"right":"left"):x&&"center"!==x?"left"===x?(c=n.r0+S,x=R?"right":"left"):"right"===x&&(c=n.r-S,x=R?"left":"right"):(c=o===2*Math.PI&&0===n.r0?0:(n.r+n.r0)/2,x="center"),m.style.align=x,m.style.verticalAlign=p(g,"verticalAlign")||"middle",m.x=c*a+n.cx,m.y=c*l+n.cy;var D=0;"radial"===_?D=p8(-s)+(R?Math.PI:0):"tangential"===_?D=p8(Math.PI/2-s)+(R?Math.PI:0):lm(_)&&(D=_*Math.PI/180),m.rotation=p8(D)}),d.dirtyStyle()},t}(Cy),L$="sunburstRootToNode",LK="sunburstHighlight",LY=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i,r){var n,o,s=this;this.seriesModel=e,this.api=i,this.ecModel=t;var a=e.getData(),l=a.tree.root,u=e.getViewRoot(),d=this.group,h=e.get("renderLabelForZeroData"),c=[];u.eachNode(function(e){c.push(e)}),function(r,n){function o(e){return e.getId()}function s(o,s){!function(r,n){if(h||!r||r.getValue()||(r=null),r!==l&&n!==l){if(n&&n.piece){var o;r?(n.piece.updateData(!1,r,e,t,i),a.setItemGraphicEl(r.dataIndex,n.piece)):(o=n)&&o.piece&&(d.remove(o.piece),o.piece=null)}else if(r){var s=new Lj(r,e,t,i);d.add(s),a.setItemGraphicEl(r.dataIndex,s)}}}(null==o?null:r[o],null==s?null:n[s])}(0!==r.length||0!==n.length)&&new xD(n,r,o,o).add(s).update(s).remove(lh(s,null)).execute()}(c,this._oldChildren||[]),n=l,(o=u).depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,n,e,t,i):(s.virtualPiece=new Lj(n,e,t,i),d.add(s.virtualPiece)),o.piece.off("click"),s.virtualPiece.on("click",function(e){s._rootToNode(o.parentNode)})):s.virtualPiece&&(d.remove(s.virtualPiece),s.virtualPiece=null),this._initEvents(),this._oldChildren=c},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(t){var i=!1;e.seriesModel.getViewRoot().eachNode(function(r){if(!i&&r.piece&&r.piece===t.target){var n=r.getModel().get("nodeClick");if("rootToNode"===n)e._rootToNode(r);else if("link"===n){var o=r.getModel(),s=o.get("link");s&&mD(s,o.get("target",!0)||"_blank")}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:L$,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var i=t.getData().getItemLayout(0);if(i){var r=e[0]-i.cx,n=e[1]-i.cy,o=Math.sqrt(r*r+n*n);return o<=i.r&&o>=i.r0}},t.type="sunburst",t}(wc),Lq=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.ignoreStyleOnData=!0,i}return aF(t,e),t.prototype.getInitialData=function(e,t){var i={name:e.name,children:e.data};!function e(t){var i=0;ln(t.children,function(t){e(t);var r=t.value;lc(r)&&(r=r[0]),i+=r});var r=t.value;lc(r)&&(r=r[0]),(null==r||isNaN(r))&&(r=i),r<0&&(r=0),lc(t.value)?t.value[0]=r:t.value=r}(i);var r=this._levelModels=lo(e.levels||[],function(e){return new fQ(e,this,t)},this),n=DC.createTree(i,this,function(e){e.wrapMethod("getItemModel",function(e,t){var i=r[n.getNodeByDataIndex(t).depth];return i&&(e.parentModel=i),e})});return n.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var i=e.prototype.getDataParams.apply(this,arguments);return i.treePathInfo=Dx(this.getData().tree.getNodeByDataIndex(t),this),i},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){DD(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(yO),LX=Math.PI/180;function LZ(e,t,i){t.eachSeriesByType(e,function(e){var t=e.get("center"),r=e.get("radius");lc(r)||(r=[0,r]),lc(t)||(t=[t,t]);var n=i.getWidth(),o=i.getHeight(),s=Math.min(n,o),a=cc(t[0],n),l=cc(t[1],o),u=cc(r[0],s/2),d=cc(r[1],s/2),h=-e.get("startAngle")*LX,c=e.get("minAngle")*LX,p=e.getData().tree.root,g=e.getViewRoot(),f=g.depth,m=e.get("sort");null!=m&&function e(t,i){var r=t.children||[];t.children=function(e,t){if(lp(t)){var i=lo(e,function(e,t){var i=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return i}},index:t}});return i.sort(function(e,i){return t(e.params,i.params)}),lo(i,function(t){return e[t.index]})}var r="asc"===t;return e.sort(function(e,t){var i=(e.getValue()-t.getValue())*(r?1:-1);return 0===i?(e.dataIndex-t.dataIndex)*(r?-1:1):i})}(r,i),r.length&&ln(t.children,function(t){e(t,i)})}(g,m);var v=0;ln(g.children,function(e){!isNaN(e.getValue())&&v++});var y=g.getValue(),C=Math.PI/(y||v)*2,w=g.depth>0,b=(d-u)/(g.height-(w?-1:1)||1),S=e.get("clockwise"),x=e.get("stillShowZeroSum"),_=S?1:-1,E=function(t,i){if(t){var r=i;if(t!==p){var n=t.getValue(),o=0===y&&x?C:n*C;o<c&&(o=c),r=i+_*o;var d=t.depth-f-(w?-1:1),h=u+b*d,g=u+b*(d+1),m=e.getLevelModel(t);if(m){var v=m.get("r0",!0),T=m.get("r",!0),M=m.get("radius",!0);null!=M&&(v=M[0],T=M[1]),null!=v&&(h=cc(v,s/2)),null!=T&&(g=cc(T,s/2))}t.setLayout({angle:o,startAngle:i,endAngle:r,clockwise:S,cx:a,cy:l,r0:h,r:g})}if(t.children&&t.children.length){var R=0;ln(t.children,function(e){R+=E(e,i+R)})}return r-i}};if(w){var T=2*Math.PI;p.setLayout({angle:T,startAngle:h,endAngle:h+T,clockwise:S,cx:a,cy:l,r0:u,r:u+b})}E(g,h)})}function LQ(e){var t={};e.eachSeriesByType("sunburst",function(e){var i=e.getData(),r=i.tree;r.eachNode(function(n){var o=n.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(e,i,r){for(var n=e;n&&n.depth>1;)n=n.parentNode;var o=i.getColorFromPalette(n.name||n.dataIndex+"",t);return e.depth>1&&lg(o)&&(o=dU(o,(e.depth-1)/(r-1)*.5)),o}(n,e,r.root.height)),a8(i.ensureUniqueItemVisual(n.dataIndex,"style"),o)})})}var LJ={color:"fill",borderColor:"stroke"},L0={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},L1=c$(),L2=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return xJ(null,this)},t.prototype.getDataParams=function(t,i,r){var n=e.prototype.getDataParams.call(this,t,i);return r&&(n.info=L1(r).info),n},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(yO);function L5(e,t){return t=t||[0,0],lo(["x","y"],function(i,r){var n=this.getAxis(i),o=t[r],s=e[r]/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(o-s)-n.dataToCoord(o+s))},this)}function L3(e,t){return t=t||[0,0],lo([0,1],function(i){var r=t[i],n=e[i]/2,o=[],s=[];return o[i]=r-n,s[i]=r+n,o[1-i]=s[1-i]=t[1-i],Math.abs(this.dataToPoint(o)[i]-this.dataToPoint(s)[i])},this)}function L4(e,t){var i=this.getAxis(),r=t instanceof Array?t[0]:t,n=(e instanceof Array?e[0]:e)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(r-n)-i.dataToCoord(r+n))}function L6(e,t){return t=t||[0,0],lo(["Radius","Angle"],function(i,r){var n=this["get"+i+"Axis"](),o=t[r],s=e[r]/2,a="category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(o-s)-n.dataToCoord(o+s));return"Angle"===i&&(a=a*Math.PI/180),a},this)}function L8(e,t,i,r){return e&&(e.legacy||!1!==e.legacy&&!i&&!r&&"tspan"!==t&&("text"===t||lz(e,"text")))}function L9(e,t,i){var r,n,o;if("text"===t)o=e;else{o={},lz(e,"text")&&(o.text=e.text),lz(e,"rich")&&(o.rich=e.rich),lz(e,"textFill")&&(o.fill=e.textFill),lz(e,"textStroke")&&(o.stroke=e.textStroke),lz(e,"fontFamily")&&(o.fontFamily=e.fontFamily),lz(e,"fontSize")&&(o.fontSize=e.fontSize),lz(e,"fontStyle")&&(o.fontStyle=e.fontStyle),lz(e,"fontWeight")&&(o.fontWeight=e.fontWeight),n={type:"text",style:o,silent:!0},r={};var s=lz(e,"textPosition");i?r.position=s?e.textPosition:"inside":s&&(r.position=e.textPosition),lz(e,"textPosition")&&(r.position=e.textPosition),lz(e,"textOffset")&&(r.offset=e.textOffset),lz(e,"textRotation")&&(r.rotation=e.textRotation),lz(e,"textDistance")&&(r.distance=e.textDistance)}return L7(o,e),ln(o.rich,function(e){L7(e,e)}),{textConfig:r,textContent:n}}function L7(e,t){t&&(t.font=t.textFont||t.font,lz(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),lz(t,"textAlign")&&(e.align=t.textAlign),lz(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),lz(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),lz(t,"textWidth")&&(e.width=t.textWidth),lz(t,"textHeight")&&(e.height=t.textHeight),lz(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),lz(t,"textPadding")&&(e.padding=t.textPadding),lz(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),lz(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),lz(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),lz(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),lz(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),lz(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),lz(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function ke(e,t,i){e.textPosition=e.textPosition||i.position||"inside",null!=i.offset&&(e.textOffset=i.offset),null!=i.rotation&&(e.textRotation=i.rotation),null!=i.distance&&(e.textDistance=i.distance);var r=e.textPosition.indexOf("inside")>=0,n=e.fill||"#000";kt(e,t);var o=null==e.textFill;return r?o&&(e.textFill=i.insideFill||"#fff",!e.textStroke&&i.insideStroke&&(e.textStroke=i.insideStroke),e.textStroke||(e.textStroke=n),null==e.textStrokeWidth&&(e.textStrokeWidth=2)):(o&&(e.textFill=e.fill||i.outsideFill||"#000"),!e.textStroke&&i.outsideStroke&&(e.textStroke=i.outsideStroke)),e.text=t.text,e.rich=t.rich,ln(t.rich,function(e){kt(e,e)}),e}function kt(e,t){t&&(lz(t,"fill")&&(e.textFill=t.fill),lz(t,"stroke")&&(e.textStroke=t.fill),lz(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),lz(t,"font")&&(e.font=t.font),lz(t,"fontStyle")&&(e.fontStyle=t.fontStyle),lz(t,"fontWeight")&&(e.fontWeight=t.fontWeight),lz(t,"fontSize")&&(e.fontSize=t.fontSize),lz(t,"fontFamily")&&(e.fontFamily=t.fontFamily),lz(t,"align")&&(e.textAlign=t.align),lz(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),lz(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),lz(t,"width")&&(e.textWidth=t.width),lz(t,"height")&&(e.textHeight=t.height),lz(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),lz(t,"padding")&&(e.textPadding=t.padding),lz(t,"borderColor")&&(e.textBorderColor=t.borderColor),lz(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),lz(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),lz(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),lz(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),lz(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),lz(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),lz(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),lz(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),lz(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),lz(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var ki={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},kr=lu(ki);ls(hj,function(e,t){return e[t]=1,e},{}),hj.join(", ");var kn=["","style","shape","extra"],ko=c$();function ks(e,t,i,r,n){var o=e+"Animation",s=fy(e,r,n)||{},a=ko(t).userDuring;return s.duration>0&&(s.during=a?ld(kp,{el:t,userDuring:a}):null,s.setToFinal=!0,s.scope=e),a8(s,i[o]),s}function ka(e,t,i,r){var n,o,s=(r=r||{}).dataIndex,a=r.isInit,l=r.clearStyle,u=i.isAnimationEnabled(),d=ko(e),h=t.style;d.userDuring=t.during;var c={},p={};if(function(e,t,i){for(var r=0;r<kr.length;r++){var n=kr[r],o=ki[n],s=t[n];s&&(i[o[0]]=s[0],i[o[1]]=s[1])}for(var r=0;r<hj.length;r++){var a=hj[r];null!=t[a]&&(i[a]=t[a])}}(0,t,p),kf("shape",t,p),kf("extra",t,p),!a&&u&&(function(e,t,i){for(var r=t.transition,n=kd(r)?hj:cN(r||[]),o=0;o<n.length;o++){var s=n[o];if("style"!==s&&"shape"!==s&&"extra"!==s){var a=e[s];i[s]=a}}}(e,t,c),kg("shape",e,t,c),kg("extra",e,t,c),function(e,t,i,r){if(i){var n,o=e.style;if(o){var s=i.transition,a=t.transition;if(s&&!kd(s)){var l=cN(s);n||(n=r.style={});for(var u=0;u<l.length;u++){var d=l[u],h=o[d];n[d]=h}}else if(e.getAnimationStyleProps&&(kd(a)||kd(s)||le(a,"style")>=0)){var c=e.getAnimationStyleProps(),p=c?c.style:null;if(p){n||(n=r.style={});for(var g=lu(i),u=0;u<g.length;u++){var d=g[u];if(p[d]){var h=o[d];n[d]=h}}}}}}}(e,t,h,c)),p.style=h,function(e,t,i){var r=t.style;if(!e.isGroup&&r){if(i){e.useStyle({});for(var n=e.animators,o=0;o<n.length;o++){var s=n[o];"style"===s.targetName&&s.changeTarget(e.style)}}e.setStyle(r)}t&&(t.style=null,t&&e.attr(t),t.style=r)}(e,p,l),n=e,lz(o=t,"silent")&&(n.silent=o.silent),lz(o,"ignore")&&(n.ignore=o.ignore),n instanceof p_&&lz(o,"invisible")&&(n.invisible=o.invisible),n instanceof gl&&lz(o,"autoBatch")&&(n.autoBatch=o.autoBatch),u)if(a){var g={};ln(kn,function(e){var i=e?t[e]:t;i&&i.enterFrom&&(e&&(g[e]=g[e]||{}),a8(e?g[e]:g,i.enterFrom))});var f=ks("enter",e,t,i,s);f.duration>0&&e.animateFrom(g,f)}else{var m=e,v=t,y=s||0,C=i,w=c;if(w){var b=ks("update",m,v,C,y);b.duration>0&&m.animateFrom(w,b)}}kl(e,t),h?e.dirty():e.markRedraw()}function kl(e,t){for(var i=ko(e).leaveToProps,r=0;r<kn.length;r++){var n=kn[r],o=n?t[n]:t;o&&o.leaveTo&&(i||(i=ko(e).leaveToProps={}),n&&(i[n]=i[n]||{}),a8(n?i[n]:i,o.leaveTo))}}function ku(e,t,i,r){if(e){var n=e.parent,o=ko(e).leaveToProps;if(o){var s=ks("update",e,t,i,0);s.done=function(){n.remove(e),r&&r()},e.animateTo(o,s)}else n.remove(e),r&&r()}}function kd(e){return"all"===e}var kh={},kc={setTransform:function(e,t){return kh.el[e]=t,this},getTransform:function(e){return kh.el[e]},setShape:function(e,t){var i=kh.el;return(i.shape||(i.shape={}))[e]=t,i.dirtyShape&&i.dirtyShape(),this},getShape:function(e){var t=kh.el.shape;if(t)return t[e]},setStyle:function(e,t){var i=kh.el,r=i.style;return r&&(r[e]=t,i.dirtyStyle&&i.dirtyStyle()),this},getStyle:function(e){var t=kh.el.style;if(t)return t[e]},setExtra:function(e,t){return(kh.el.extra||(kh.el.extra={}))[e]=t,this},getExtra:function(e){var t=kh.el.extra;if(t)return t[e]}};function kp(){var e=this.el;if(e){var t=ko(e).userDuring,i=this.userDuring;if(t!==i){this.el=this.userDuring=null;return}kh.el=e,i(kc)}}function kg(e,t,i,r){var n,o=i[e];if(o){var s=t[e];if(s){var a=i.transition,l=o.transition;if(l)if(n||(n=r[e]={}),kd(l))a8(n,s);else for(var u=cN(l),d=0;d<u.length;d++){var h=u[d],c=s[h];n[h]=c}else if(kd(a)||le(a,e)>=0){n||(n=r[e]={});for(var p=lu(s),d=0;d<p.length;d++){var g,f,h=p[d],c=s[h];g=o[h],f=c,(lr(g)?g!==f:null!=g&&isFinite(g))&&(n[h]=c)}}}}}function kf(e,t,i){var r=t[e];if(r)for(var n=i[e]={},o=lu(r),s=0;s<o.length;s++){var a=o[s];n[a]=hh(r[a])}}var km=c$(),kv=["percent","easing","shape","style","extra"];function ky(e){e.stopAnimation("keyframe"),e.attr(km(e))}function kC(e,t,i){if(i.isAnimationEnabled()&&t){if(lc(t))return void ln(t,function(t){kC(e,t,i)});var r=t.keyframes,n=t.duration;if(i&&null==n){var o=fy("enter",i,0);n=o&&o.duration}if(r&&n){var s=km(e);ln(kn,function(i){var o;i&&!e[i]||(r.sort(function(e,t){return e.percent-t.percent}),ln(r,function(r){var a=e.animators,l=i?r[i]:r;if(l){var u=lu(l);if(i||(u=la(u,function(e){return 0>le(kv,e)})),u.length){o||((o=e.animate(i,t.loop,!0)).scope="keyframe");for(var d=0;d<a.length;d++)a[d]!==o&&a[d].targetName===o.targetName&&a[d].stopTracks(u);i&&(s[i]=s[i]||{});var h=i?s[i]:s;ln(u,function(t){h[t]=((i?e[i]:e)||{})[t]}),o.whenWithKeys(n*r.percent,l,u,r.easing)}}}),o&&o.delay(t.delay||0).duration(n).start(t.easing))})}}}var kw="emphasis",kb="normal",kS="blur",kx="select",k_=[kb,kw,kS,kx],kE={normal:["itemStyle"],emphasis:[kw,"itemStyle"],blur:[kS,"itemStyle"],select:[kx,"itemStyle"]},kT={normal:["label"],emphasis:[kw,"label"],blur:[kS,"label"],select:[kx,"label"]},kM=["x","y"],kR={normal:{},emphasis:{},blur:{},select:{}},kD={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:ld(L5,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:ld(L3,e)}}},single:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:ld(L4,e)}}},polar:function(e){var t=e.getRadiusAxis(),i=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:function(r){var n=t.dataToRadius(r[0]),o=i.dataToAngle(r[1]),s=e.coordToPoint([n,o]);return s.push(n,o*Math.PI/180),s},size:ld(L6,e)}}},calendar:function(e){var t=e.getRect(),i=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(t,i){return e.dataToPoint(t,i)}}}}};function kA(e){return e instanceof gl}function kI(e){return e instanceof p_}var kP=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i,r){this._progressiveEls=null;var n=this._data,o=e.getData(),s=this.group,a=kF(e,o,t,i);n||s.removeAll(),o.diff(n).add(function(t){kO(i,null,t,a(t,r),e,s,o)}).remove(function(t){var i=n.getItemGraphicEl(t);i&&ku(i,L1(i).option,e)}).update(function(t,l){kO(i,n.getItemGraphicEl(l),t,a(t,r),e,s,o)}).execute();var l=e.get("clip",!0)?_g(e.coordinateSystem,!1,e):null;l?s.setClipPath(l):s.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(e,t,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,i,r,n){var o=t.getData(),s=kF(t,o,i,r),a=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var d=kO(null,null,u,s(u,n),t,this.group,o);d&&(d.traverse(l),a.push(d))}},t.prototype.eachRendered=function(e){wu(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,i,r){var n=t.element;if(null==n||i.name===n)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===n)return!0;return!1},t.type="custom",t}(wc);function kL(e){var t,i=e.type;if("path"===i){var r=e.shape,n=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,o=k$(r);L1(t=C0(o,null,n,r.layout||"center")).customPathData=o}else if("image"===i)L1(t=new gp({})).customImagePath=e.style.image;else if("text"===i)t=new gx({});else if("group"===i)t=new ce;else if("compoundPath"===i)throw Error('"compoundPath" is not supported yet.');else{var s=CJ(i);s||vr(""),t=new s}return L1(t).customGraphicType=i,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function kk(e,t,i,r,n,o,s){ky(t);var a=n&&n.normal.cfg;a&&t.setTextConfig(a),r&&null==r.transition&&(r.transition=kM);var l=r&&r.style;if(l){"text"===t.type&&(lz(l,"textFill")&&(l.fill=l.textFill),lz(l,"textStroke")&&(l.stroke=l.textStroke));var u=void 0,d=kA(t)?l.decal:null;e&&d&&(d.dirty=!0,u=bk(d,e)),l.__decalPattern=u}if(kI(t)&&l){var u=l.__decalPattern;u&&(l.decal=u)}ka(t,r,o,{dataIndex:i,isInit:s,clearStyle:!0}),kC(t,r.keyframeAnimation,o)}function kN(e,t,i,r,n){var o=t.isGroup?null:t,s=n&&n[e].cfg;if(o){var a=o.ensureState(e);if(!1===r){var l=o.getState(e);l&&(l.style=null)}else a.style=r||null;s&&(a.textConfig=s),g6(o)}}function kF(e,t,i,r){var n,o,s,a,l=e.get("renderItem"),u=e.coordinateSystem,d={};u&&(d=u.prepareCustoms?u.prepareCustoms(u):kD[u.type](u));for(var h=a9({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(e,i){return null==i&&(i=s),t.getStore().get(t.getDimensionIndex(e||0),i)},style:function(i,r){null==r&&(r=s);var n=t.getItemVisual(r,"style"),o=n&&n.fill,a=n&&n.opacity,l=w(r,kb).getItemStyle();null!=o&&(l.fill=o),null!=a&&(l.opacity=a);var u={inheritColor:lg(o)?o:"#000"},d=b(r,kb),h=fP(d,null,u,!1,!0);h.text=d.getShallow("show")?lT(e.getFormattedLabel(r,kb),x1(t,r)):null;var c=fL(d,u,!1);return x(i,l),l=ke(l,h,c),i&&S(l,i),l.legacy=!0,l},ordinalRawValue:function(e,i){null==i&&(i=s),e=e||0;var r=t.getDimensionInfo(e);if(!r){var n=t.getDimensionIndex(e);return n>=0?t.getStore().get(n,i):void 0}var o=t.get(r.name,i),a=r&&r.ordinalMeta;return a?a.categories[o]:o},styleEmphasis:function(i,r){null==r&&(r=s);var n=w(r,kw).getItemStyle(),o=b(r,kw),a=fP(o,null,null,!0,!0);a.text=o.getShallow("show")?lM(e.getFormattedLabel(r,kw),e.getFormattedLabel(r,kb),x1(t,r)):null;var l=fL(o,null,!0);return x(i,n),n=ke(n,a,l),i&&S(n,i),n.legacy=!0,n},visual:function(e,i){if(null==i&&(i=s),lz(LJ,e)){var r=t.getItemVisual(i,"style");return r?r[LJ[e]]:null}if(lz(L0,e))return t.getItemVisual(i,e)},barLayout:function(e){if("cartesian2d"===u.type)return function(e){var t=[],i=e.axis,r="axis0";if("category"===i.type){for(var n=i.getBandWidth(),o=0;o<e.count||0;o++)t.push(a9({bandWidth:n,axisKey:r,stackId:_D+o},e));for(var s=_k(t),a=[],o=0;o<e.count;o++){var l=s[r][_D+o];l.offsetCenter=l.offset+l.width/2,a.push(l)}return a}}(a9({axis:u.getBaseAxis()},e))},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(e){return fG(e,i)}},d.api||{}),c={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:d.coordSys,dataInsideLength:t.count(),encode:(n=e.getData(),o={},ln(n.dimensions,function(e){var t=n.getDimensionInfo(e);if(!t.isExtraCoord){var i=t.coordDim;(o[i]=o[i]||[])[t.coordDimIndex]=n.getDimensionIndex(e)}}),o)},p={},g={},f={},m={},v=0;v<k_.length;v++){var y=k_[v];f[y]=e.getModel(kE[y]),m[y]=e.getModel(kT[y])}function C(e){return e===s?a||(a=t.getItemModel(e)):t.getItemModel(e)}function w(e,i){return t.hasItemOption?e===s?p[i]||(p[i]=C(e).getModel(kE[i])):C(e).getModel(kE[i]):f[i]}function b(e,i){return t.hasItemOption?e===s?g[i]||(g[i]=C(e).getModel(kT[i])):C(e).getModel(kT[i]):m[i]}return function(e,i){return s=e,a=null,p={},g={},l&&l(a9({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:i?i.type:null},c),h)};function S(e,t){for(var i in t)lz(t,i)&&(e[i]=t[i])}function x(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function kO(e,t,i,r,n,o,s){if(!r)return void o.remove(t);var a=kG(e,t,i,r,n,o);return a&&s.setItemGraphicEl(i,a),a&&fl(a,r.focus,r.blurScope,r.emphasisDisabled),a}function kG(e,t,i,r,n,o){var s,a=-1,l=t;t&&kV(t,r,n)&&(a=le(o.childrenRef(),t),t=null);var u=!t,d=t;d?d.clearStates():(d=kL(r),l&&((s=d).copyTransform(l),kI(s)&&kI(l)&&(s.setStyle(l.style),s.z=l.z,s.z2=l.z2,s.zlevel=l.zlevel,s.invisible=l.invisible,s.ignore=l.ignore,kA(s)&&kA(l)&&s.setShape(l.shape)))),!1===r.morph?d.disableMorphing=!0:d.disableMorphing&&(d.disableMorphing=!1),kR.normal.cfg=kR.normal.conOpt=kR.emphasis.cfg=kR.emphasis.conOpt=kR.blur.cfg=kR.blur.conOpt=kR.select.cfg=kR.select.conOpt=null,kR.isLegacy=!1,function(e,t,i,r,n,o){if(!e.isGroup){kB(i,null,o),kB(i,kw,o);var s=o.normal.conOpt,a=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(null!=s||null!=a||null!=u||null!=l){var d=e.getTextContent();if(!1===s)d&&e.removeTextContent();else{s=o.normal.conOpt=s||{type:"text"},d?d.clearStates():(d=kL(s),e.setTextContent(d)),kk(null,d,t,s,null,r,n);for(var h=s&&s.style,c=0;c<k_.length;c++){var p=k_[c];if(p!==kb){var g=o[p].conOpt;kN(p,d,g,kz(s,g,p),null)}}h?d.dirty():d.markRedraw()}}}}(d,i,r,n,u,kR),function(e,t,i,r,n){var o=i.clipPath;if(!1===o)e&&e.getClipPath()&&e.removeClipPath();else if(o){var s=e.getClipPath();s&&kV(s,o,r)&&(s=null),s||(s=kL(o),e.setClipPath(s)),kk(null,s,t,o,null,r,n)}}(d,i,r,n,u),kk(e,d,i,r,kR,n,u),lz(r,"info")&&(L1(d).info=r.info);for(var h=0;h<k_.length;h++){var c=k_[h];if(c!==kb){var p=kH(r,c),g=kz(r,p,c);kN(c,d,p,g,kR)}}var f=d;if(!f.isGroup){var m=n.currentZ,v=n.currentZLevel;f.z=m,f.zlevel=v;var y=r.z2;null!=y&&(f.z2=y||0);for(var C=0;C<k_.length;C++)!function(e,t,i){var r=i===kb,n=r?t:kH(t,i),o=n?n.z2:null;null!=o&&((r?e:e.ensureState(i)).z2=o||0)}(f,r,k_[C])}return"group"===r.type&&function(e,t,i,r,n){var o=r.children,s=o?o.length:0,a=r.$mergeChildren,l="byName"===a||r.diffChildrenByName,u=!1===a;if(s||l||u){if(l){return new xD((g={api:e,oldChildren:t.children()||[],newChildren:o||[],dataIndex:i,seriesModel:n,group:t}).oldChildren,g.newChildren,kW,kW,g).add(kU).update(kU).remove(kj).execute()}u&&t.removeAll();for(var d=0;d<s;d++){var h=o[d],c=t.childAt(d);h?(null==h.ignore&&(h.ignore=!1),kG(e,c,i,h,n,t)):c.ignore=!0}for(var p=t.childCount()-1;p>=d;p--){var g,f,m,v,y=t.childAt(p);f=t,m=y,v=n,m&&ku(m,L1(f).option,v)}}}(e,d,i,r,n),a>=0?o.replaceAt(d,a):o.add(d),d}function kV(e,t,i){var r,n=L1(e),o=t.type,s=t.shape,a=t.style;return i.isUniversalTransitionEnabled()||null!=o&&o!==n.customGraphicType||"path"===o&&(r=s)&&(lz(r,"pathData")||lz(r,"d"))&&k$(s)!==n.customPathData||"image"===o&&lz(a,"image")&&a.image!==n.customImagePath}function kB(e,t,i){var r=t?kH(e,t):e,n=t?kz(e,r,kw):e.style,o=e.type,s=r?r.textConfig:null,a=e.textContent,l=a?t?kH(a,t):a:null;if(n&&(i.isLegacy||L8(n,o,!!s,!!l))){i.isLegacy=!0;var u=L9(n,o,!t);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var d=l;d.type||(d.type="text")}var h=t?i[t]:i.normal;h.cfg=s,h.conOpt=l}function kH(e,t){return t?e?e[t]:null:e}function kz(e,t,i){var r=t&&t.style;return null==r&&i===kw&&e&&(r=e.styleEmphasis),r}function kW(e,t){var i=e&&e.name;return null!=i?i:"e\0\0"+t}function kU(e,t){var i=this.context,r=null!=e?i.newChildren[e]:null,n=null!=t?i.oldChildren[t]:null;kG(i.api,n,i.dataIndex,r,i.seriesModel,i.group)}function kj(e){var t=this.context,i=t.oldChildren[e];i&&ku(i,L1(i).option,t.seriesModel)}function k$(e){return e&&(e.pathData||e.d)}var kK=c$(),kY=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(e,t,i,r){var n=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,r||this._lastValue!==n||this._lastStatus!==o){this._lastValue=n,this._lastStatus=o;var s=this._group,a=this._handle;if(!o||"hide"===o){s&&s.hide(),a&&a.hide();return}s&&s.show(),a&&a.show();var l={};this.makeElOption(l,n,e,t,i);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(e,t);if(s){var h=lh(kq,t,d);this.updatePointerEl(s,l,h),this.updateLabelEl(s,l,h,t)}else s=this._group=new MC.Group,this.createPointerEl(s,l,e,t),this.createLabelEl(s,l,e,t),i.getZr().add(s);kQ(s,t,!0),this._renderHandle(n)}},e.prototype.remove=function(e){this.clear(e)},e.prototype.dispose=function(e){this.clear(e)},e.prototype.determineAnimation=function(e,t){var i=t.get("animation"),r=e.axis,n="category"===r.type,o=t.get("snap");if(!o&&!n)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(n&&r.getBandWidth()>s)return!0;if(o){var a=T7(e).seriesDataCount,l=r.getExtent();return Math.abs(l[0]-l[1])/a>s}return!1}return!0===i},e.prototype.makeElOption=function(e,t,i,r,n){},e.prototype.createPointerEl=function(e,t,i,r){var n=t.pointer;if(n){var o=kK(e).pointerEl=new MC[n.type](a3(t.pointer));e.add(o)}},e.prototype.createLabelEl=function(e,t,i,r){if(t.label){var n=kK(e).labelEl=new MC.Text(a3(t.label));e.add(n),kX(n,r)}},e.prototype.updatePointerEl=function(e,t,i){var r=kK(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(e,t,i,r){var n=kK(e).labelEl;n&&(n.setStyle(t.label.style),i(n,{x:t.label.x,y:t.label.y}),kX(n,r))},e.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,r=this._api.getZr(),n=this._handle,o=i.getModel("handle"),s=i.get("status");if(!o.get("show")||!s||"hide"===s){n&&r.remove(n),this._handle=null;return}this._handle||(t=!0,n=this._handle=MC.createIcon(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){uE(e.event)},onmousedown:ld(this._onHandleDragMove,this,0,0),drift:ld(this._onHandleDragMove,this),ondragend:ld(this._onHandleDragEnd,this)}),r.add(n)),kQ(n,i,!1),n.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var a=o.get("size");lc(a)||(a=[a,a]),n.scaleX=a[0]/2,n.scaleY=a[1]/2,wS(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},e.prototype._moveHandleToValue=function(e,t){kq(this._axisPointerModel,!t&&this._moveAnimation,this._handle,kZ(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(kZ(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(kZ(r)),kK(i).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),w_(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},e}();function kq(e,t,i,r){!function e(t,i){if(!(lv(t)&&lv(i)))return t===i;var r=!0;return ln(i,function(i,n){r=r&&e(t[n],i)}),!!r}(kK(i).lastProp,r)&&(kK(i).lastProp=r,t?MC.updateProps(i,r,e):(i.stopAnimation(),i.attr(r)))}function kX(e,t){e[t.get(["label","show"])?"show":"hide"]()}function kZ(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function kQ(e,t,i){var r=t.get("z"),n=t.get("zlevel");e&&e.traverse(function(e){"group"!==e.type&&(null!=r&&(e.z=r),null!=n&&(e.zlevel=n),e.silent=i)})}function kJ(e){var t,i=e.get("type"),r=e.getModel(i+"Style");return"line"===i?(t=r.getLineStyle()).fill=null:"shadow"===i&&((t=r.getAreaStyle()).stroke=null),t}function k0(e,t,i,r,n){var o,s,a,l,u,d,h=k1(i.get("value"),t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),c=i.getModel("label"),p=lD(c.get("padding")||0),g=c.getFont(),f=hX(h,g),m=n.position,v=f.width+p[1]+p[3],y=f.height+p[0]+p[2],C=n.align;"right"===C&&(m[0]-=v),"center"===C&&(m[0]-=v/2);var w=n.verticalAlign;"bottom"===w&&(m[1]-=y),"middle"===w&&(m[1]-=y/2),o=m,s=v,a=y,u=(l=r).getWidth(),d=l.getHeight(),o[0]=Math.min(o[0]+s,u)-s,o[1]=Math.min(o[1]+a,d)-a,o[0]=Math.max(o[0],0),o[1]=Math.max(o[1],0);var b=c.get("backgroundColor");b&&"auto"!==b||(b=t.get(["axisLine","lineStyle","color"])),e.label={x:m[0],y:m[1],style:fP(c,{text:h,font:g,fill:c.getTextColor(),padding:p,backgroundColor:b}),z2:10}}function k1(e,t,i,r,n){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:n.precision}),s=n.formatter;if(s){var a={value:TT(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};ln(r,function(e){var t=i.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,n=t&&t.getDataParams(r);n&&a.seriesData.push(n)}),lg(s)?o=s.replace("{value}",o):lp(s)&&(o=s(a))}return o}function k2(e,t,i){var r=uA();return uN(r,r,i.rotation),uk(r,r,i.position),C7([e.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],r)}function k5(e,t,i,r,n,o){var s=T2.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=n.get(["label","margin"]),k0(t,r,n,o,{position:k2(r.axis,e,i),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function k3(e,t,i){return{x1:e[i=i||0],y1:e[1-i],x2:t[i],y2:t[1-i]}}function k4(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}}function k6(e,t,i,r,n,o){return{cx:e,cy:t,r0:i,r:r,startAngle:n,endAngle:o,clockwise:!0}}var k8=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.makeElOption=function(e,t,i,r,n){var o=i.axis,s=o.grid,a=r.get("type"),l=k9(s,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(t,!0));if(a&&"none"!==a){var d=kJ(r),h=k7[a](o,u,l);h.style=d,e.graphicKey=h.type,e.pointer=h}k5(t,e,T$(s.model,i),i,r,n)},t.prototype.getHandleTransform=function(e,t,i){var r=T$(t.axis.grid.model,t,{labelInside:!1});r.labelMargin=i.get(["handle","margin"]);var n=k2(t.axis,e,r);return{x:n[0],y:n[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,i,r){var n=i.axis,o=n.grid,s=n.getGlobalExtent(!0),a=k9(o,n).getOtherAxis(n).getGlobalExtent(),l=+("x"!==n.dim),u=[e.x,e.y];u[l]+=t[l],u[l]=Math.min(s[1],u[l]),u[l]=Math.max(s[0],u[l]);var d=(a[1]+a[0])/2,h=[d,d];return h[l]=u[l],{x:u[0],y:u[1],rotation:e.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},t}(kY);function k9(e,t){var i={};return i[t.dim+"AxisIndex"]=t.index,e.getCartesian(i)}var k7={line:function(e,t,i){return{type:"Line",subPixelOptimize:!0,shape:k3([t,i[0]],[t,i[1]],Ne(e))}},shadow:function(e,t,i){var r=Math.max(1,e.getBandWidth()),n=i[1]-i[0];return{type:"Rect",shape:k4([t-r/2,i[0]],[r,n],Ne(e))}}};function Ne(e){return+("x"!==e.dim)}var Nt=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(mB),Ni=c$();function Nr(e,t,i){if(!aG.node){var r=t.getZr();Ni(r).records||(Ni(r).records={}),function(e,t){Ni(e).initialized||(Ni(e).initialized=!0,i("click",lh(No,"click")),i("mousemove",lh(No,"mousemove")),i("globalout",Nn));function i(i,r){e.on(i,function(i){var n,o,s,a,l,u,d,h,c=(n=t,o={showTip:[],hideTip:[]},{dispatchAction:s=function(e){var t=o[e.type];t?t.push(e):(e.dispatchAction=s,n.dispatchAction(e))},pendings:o});ln(Ni(e).records,function(e){e&&r(e,i,c.dispatchAction)}),a=c.pendings,l=t,d=a.showTip.length,h=a.hideTip.length,d?u=a.showTip[d-1]:h&&(u=a.hideTip[h-1]),u&&(u.dispatchAction=null,l.dispatchAction(u))})}}(r,t),(Ni(r).records[e]||(Ni(r).records[e]={})).handler=i}}function Nn(e,t,i){e.handler("leave",null,i)}function No(e,t,i,r){t.handler(e,i,r)}function Ns(e,t){if(!aG.node){var i=t.getZr();(Ni(i).records||{})[e]&&(Ni(i).records[e]=null)}}var Na=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){var r=t.getComponent("tooltip"),n=e.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";Nr("axisPointer",i,function(e,t,i){"none"!==n&&("leave"===e||n.indexOf(e)>=0)&&i({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},t.prototype.remove=function(e,t){Ns("axisPointer",t)},t.prototype.dispose=function(e,t){Ns("axisPointer",t)},t.type="axisPointer",t}(yj);function Nl(e,t){var i,r=[],n=e.seriesIndex;if(null==n||!(i=t.getSeriesByIndex(n)))return{point:[]};var o=i.getData(),s=cj(o,e);if(null==s||s<0||lc(s))return{point:[]};var a=o.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),d=l.getOtherAxis(u).dim,h=u.dim,c=+("x"===d||"radius"===d),p=o.mapDimension(h),g=[];g[c]=o.get(p,s),g[1-c]=o.get(o.getCalculationInfo("stackResultDimension"),s),r=l.dataToPoint(g)||[]}else r=l.dataToPoint(o.getValues(lo(l.dimensions,function(e){return o.mapDimension(e)}),s))||[];else if(a){var f=a.getBoundingRect().clone();f.applyTransform(a.transform),r=[f.x+f.width/2,f.y+f.height/2]}return{point:r,el:a}}var Nu=c$();function Nd(e,t,i){var r=e.currTrigger,n=[e.x,e.y],o=e.dispatchAction||ld(i.dispatchAction,i),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Nf(n)&&(n=Nl({seriesIndex:e.seriesIndex,dataIndex:e.dataIndex},t).point);var a,l,u,d,h,c,p,g,f,m,v,y=Nf(n),C=e.axesInfo,w=s.axesInfo,b="leave"===r||Nf(n),S={},x={},_={list:[],map:{}},E={showPointer:lh(Nc,x),showTooltip:lh(Np,_)};ln(s.coordSysMap,function(e,t){var i=y||e.containPoint(n);ln(s.coordSysAxesInfo[t],function(e,t){var r=e.axis,o=function(e,t){for(var i=0;i<(e||[]).length;i++){var r=e[i];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}(C,e);if(!b&&i&&(!C||o)){var s=o&&o.value;null!=s||y||(s=r.pointToData(n)),null!=s&&Nh(e,s,E,!1,S)}})});var T={};return ln(w,function(e,t){var i=e.linkGroup;i&&!x[t]&&ln(i.axesInfo,function(t,r){var n=x[r];if(t!==e&&n){var o=n.value;i.mapper&&(o=e.axis.scale.parse(i.mapper(o,Ng(t),Ng(e)))),T[e.key]=o}})}),ln(T,function(e,t){Nh(w[t],e,E,!0,S)}),a=x,l=w,u=S.axesInfo=[],ln(l,function(e,t){var i=e.axisPointerModel.option,r=a[t];r?(e.useHandle||(i.status="show"),i.value=r.value,i.seriesDataIndices=(r.payloadBatch||[]).slice()):e.useHandle||(i.status="hide"),"show"===i.status&&u.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:i.value})}),function(e,t,i,r){if(Nf(t)||!e.list.length)return r({type:"hideTip"});var n=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:e.list})}(_,n,e,o),d=w,c=(h=i).getZr(),p="axisPointerLastHighlights",g=Nu(c)[p]||{},f=Nu(c)[p]={},ln(d,function(e,t){var i=e.axisPointerModel.option;"show"===i.status&&e.triggerEmphasis&&ln(i.seriesDataIndices,function(e){f[e.seriesIndex+" | "+e.dataIndex]=e})}),m=[],v=[],ln(g,function(e,t){f[t]||v.push(e)}),ln(f,function(e,t){g[t]||m.push(e)}),v.length&&h.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:v}),m.length&&h.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:m}),S}}function Nh(e,t,i,r,n){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t)){if(!e.involveSeries)return void i.showPointer(e,t);var s,a,l,u,d,h,c,p,g=(s=t,u=(l=(a=e).axis).dim,d=s,h=[],c=Number.MAX_VALUE,p=-1,ln(a.seriesModels,function(e,t){var i,r,n=e.getData().mapDimensionsAll(u);if(e.getAxisTooltipData){var o=e.getAxisTooltipData(n,s,l);r=o.dataIndices,i=o.nestestValue}else{if(!(r=e.getData().indicesOfNearest(n[0],s,"category"===l.type?.5:null)).length)return;i=e.getData().get(n[0],r[0])}if(null!=i&&isFinite(i)){var a=s-i,g=Math.abs(a);g<=c&&((g<c||a>=0&&p<0)&&(c=g,p=a,d=i,h.length=0),ln(r,function(t){h.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:h,snapToValue:d}),f=g.payloadBatch,m=g.snapToValue;f[0]&&null==n.seriesIndex&&a8(n,f[0]),!r&&e.snap&&o.containData(m)&&null!=m&&(t=m),i.showPointer(e,t,f),i.showTooltip(e,g,m)}}function Nc(e,t,i,r){e[t.key]={value:i,payloadBatch:r}}function Np(e,t,i,r){var n=i.payloadBatch,o=t.axis,s=o.model,a=t.axisPointerModel;if(t.triggerTooltip&&n.length){var l=t.coordSys.model,u=Mt(l),d=e.map[u];d||(d=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(d)),d.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])},seriesDataIndices:n.slice()})}}function Ng(e){var t=e.axis.model,i={},r=i.axisDim=e.axis.dim;return i.axisIndex=i[r+"AxisIndex"]=t.componentIndex,i.axisName=i[r+"AxisName"]=t.name,i.axisId=i[r+"AxisId"]=t.id,i}function Nf(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function Nm(e){Mr.registerAxisPointerClass("CartesianAxisPointer",k8),e.registerComponentModel(Nt),e.registerComponentView(Na),e.registerPreprocessor(function(e){if(e){e.axisPointer&&0!==e.axisPointer.length||(e.axisPointer={});var t=e.axisPointer.link;t&&!lc(t)&&(e.axisPointer.link=[t])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(e,t){var i,r,n,o,s,a,l,u,d;e.getComponent("axisPointer").coordSysAxesInfo=(r=i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}},n=e,o=t,s=n.getComponent("tooltip"),l=(a=n.getComponent("axisPointer")).get("link",!0)||[],u=[],ln(o.getCoordinateSystems(),function(e){if(e.axisPointerEnabled){var t=Mt(e.model),i=r.coordSysAxesInfo[t]={};r.coordSysMap[t]=e;var o=e.model.getModel("tooltip",s);if(ln(e.getAxes(),lh(p,!1,null)),e.getTooltipAxes&&s&&o.get("show")){var d="axis"===o.get("trigger"),h="cross"===o.get(["axisPointer","type"]),c=e.getTooltipAxes(o.get(["axisPointer","axis"]));(d||h)&&ln(c.baseAxes,lh(p,!h||"cross",d)),h&&ln(c.otherAxes,lh(p,"cross",!1))}}function p(t,s,d){var h=d.model.getModel("axisPointer",a),c=h.get("show");if(c&&("auto"!==c||t||Me(h))){null==s&&(s=h.get("triggerTooltip"));var p=(h=t?function(e,t,i,r,n,o){var s=t.getModel("axisPointer"),a={};ln(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){a[e]=a3(s.get(e))}),a.snap="category"!==e.type&&!!o,"cross"===s.get("type")&&(a.type="line");var l=a.label||(a.label={});if(null==l.show&&(l.show=!1),"cross"===n){var u=s.get(["label","show"]);if(l.show=null==u||u,!o){var d=a.lineStyle=s.get("crossStyle");d&&a9(l,d.textStyle)}}return e.model.getModel("axisPointer",new fQ(a,i,r))}(d,o,a,n,t,s):h).get("snap"),g=h.get("triggerEmphasis"),f=Mt(d.model),m=s||p||"category"===d.type,v=r.axesInfo[f]={key:f,axis:d,coordSys:e,axisPointerModel:h,triggerTooltip:s,triggerEmphasis:g,involveSeries:m,snap:p,useHandle:Me(h),seriesModels:[],linkGroup:null};i[f]=v,r.seriesInvolved=r.seriesInvolved||m;var y=function(e,t){for(var i=t.model,r=t.dim,n=0;n<e.length;n++){var o=e[n]||{};if(T9(o[r+"AxisId"],i.id)||T9(o[r+"AxisIndex"],i.componentIndex)||T9(o[r+"AxisName"],i.name))return n}}(l,d);if(null!=y){var C=u[y]||(u[y]={axesInfo:{}});C.axesInfo[f]=v,C.mapper=l[y].mapper,v.linkGroup=C}}}}),i.seriesInvolved&&(d=i,e.eachSeries(function(e){var t=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),r=e.get(["tooltip","show"],!0);t&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==e.get(["axisPointer","show"],!0)&&ln(d.coordSysAxesInfo[Mt(t.model)],function(i){var r=i.axis;t.getAxis(r.dim)===r&&(i.seriesModels.push(e),null==i.seriesDataCount&&(i.seriesDataCount=0),i.seriesDataCount+=e.getData().count())})})),i)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Nd)}var Nv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.makeElOption=function(e,t,i,r,n){var o=i.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var s=o.polar,a=s.getOtherAxis(o).getExtent(),l=o.dataToCoord(t),u=r.get("type");if(u&&"none"!==u){var d=kJ(r),h=Ny[u](o,s,l,a);h.style=d,e.graphicKey=h.type,e.pointer=h}var c=function(e,t,i,r,n){var o,s,a,l=t.axis,u=l.dataToCoord(e),d=r.getAngleAxis().getExtent()[0];d=d/180*Math.PI;var h=r.getRadiusAxis().getExtent();if("radius"===l.dim){var c=uA();uN(c,c,d),uk(c,c,[r.cx,r.cy]),o=C7([u,-n],c);var p=t.getModel("axisLabel").get("rotate")||0,g=T2.innerTextLayout(d,p*Math.PI/180,-1);s=g.textAlign,a=g.textVerticalAlign}else{var f=h[1];o=r.coordToPoint([f+n,u]);var m=r.cx,v=r.cy;s=Math.abs(o[0]-m)/f<.3?"center":o[0]>m?"left":"right",a=Math.abs(o[1]-v)/f<.3?"middle":o[1]>v?"top":"bottom"}return{position:o,align:s,verticalAlign:a}}(t,i,0,s,r.get(["label","margin"]));k0(e,i,r,n,c)},t}(kY),Ny={line:function(e,t,i,r){return"angle"===e.dim?{type:"Line",shape:k3(t.coordToPoint([r[0],i]),t.coordToPoint([r[1],i]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:i}}},shadow:function(e,t,i,r){var n=Math.max(1,e.getBandWidth()),o=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:k6(t.cx,t.cy,r[0],r[1],(-i-n/2)*o,(-i+n/2)*o)}:{type:"Sector",shape:k6(t.cx,t.cy,i-n/2,i+n/2,0,2*Math.PI)}}},NC=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.findAxisModel=function(e){var t;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(t=e)},this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(mB),Nw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",cX).models[0]},t.type="polarAxis",t}(mB);li(Nw,E$);var Nb=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="angleAxis",t}(Nw),NS=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="radiusAxis",t}(Nw),Nx=function(e){function t(t,i){return e.call(this,"radius",t,i)||this}return aF(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[+("radius"!==this.dim)]},t}(TW);Nx.prototype.dataToRadius=TW.prototype.dataToCoord,Nx.prototype.radiusToData=TW.prototype.coordToData;var N_=c$(),NE=function(e){function t(t,i){return e.call(this,"angle",t,i||[0,360])||this}return aF(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[+("radius"!==this.dim)]},t.prototype.calculateCategoryInterval=function(){var e=this.getLabelModel(),t=this.scale,i=t.getExtent(),r=t.count();if(i[1]-i[0]<1)return 0;var n=i[0],o=Math.abs(this.dataToCoord(n+1)-this.dataToCoord(n)),s=Math.max(hX(null==n?"":n+"",e.getFont(),"center","top").height,7)/o;isNaN(s)&&(s=1/0);var a=Math.max(0,Math.floor(s)),l=N_(this.model),u=l.lastAutoInterval,d=l.lastTickCount;return null!=u&&null!=d&&1>=Math.abs(u-a)&&1>=Math.abs(d-r)&&u>a?a=u:(l.lastTickCount=r,l.lastAutoInterval=a),a},t}(TW);NE.prototype.dataToAngle=TW.prototype.dataToCoord,NE.prototype.angleToData=TW.prototype.coordToData;var NT=["radius","angle"],NM=function(){function e(e){this.dimensions=NT,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Nx,this._angleAxis=new NE,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){return this["_"+e+"Axis"]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===e&&t.push(i),r.scale.type===e&&t.push(r),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},e.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=this.getAngleAxis(),n=r.getExtent(),o=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);r.inverse?o=s-360:s=o+360;var a=Math.sqrt(t*t+i*i);t/=a;for(var l=Math.atan2(-(i/=a),t)/Math.PI*180,u=l<o?1:-1;l<o||l>s;)l+=360*u;return[a,l]},e.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var i=e.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:e.inverse,contain:function(e,t){var i=e-this.cx,r=t-this.cy,n=i*i+r*r,o=this.r,s=this.r0;return o!==s&&n-1e-4<=o*o&&n+1e-4>=s*s}}},e.prototype.convertToPixel=function(e,t,i){return NR(t)===this?this.dataToPoint(i):null},e.prototype.convertFromPixel=function(e,t,i){return NR(t)===this?this.pointToData(i):null},e}();function NR(e){var t=e.seriesModel,i=e.polarModel;return i&&i.coordinateSystem||t&&t.coordinateSystem}function ND(e,t){var i=this,r=i.getAngleAxis(),n=i.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),n.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===i){var t=e.getData();ln(TD(t,"radius"),function(e){n.scale.unionExtentFromData(t,e)}),ln(TD(t,"angle"),function(e){r.scale.unionExtentFromData(t,e)})}}),Tx(r.scale,r.model),Tx(n.scale,n.model),"category"===r.type&&!r.onBand){var o=r.getExtent(),s=360/r.scale.count();r.inverse?o[1]+=s:o[1]-=s,r.setExtent(o[0],o[1])}}function NA(e,t){var i;if(e.type=t.get("type"),e.scale=T_(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse=e.inverse!==t.get("clockwise");var r=t.get("startAngle"),n=null!=(i=t.get("endAngle"))?i:r+(e.inverse?-360:360);e.setExtent(r,n)}t.axis=e,e.model=t}let NI={dimensions:NT,create:function(e,t){var i=[];return e.eachComponent("polar",function(e,r){var n,o,s,a,l,u,d,h=new NM(r+"");h.update=ND;var c=h.getRadiusAxis(),p=h.getAngleAxis(),g=e.findAxisModel("radiusAxis"),f=e.findAxisModel("angleAxis");NA(c,g),NA(p,f),n=e.get("center"),o=t.getWidth(),s=t.getHeight(),h.cx=cc(n[0],o),h.cy=cc(n[1],s),a=h.getRadiusAxis(),l=Math.min(o,s)/2,null==(u=e.get("radius"))?u=[0,"100%"]:lc(u)||(u=[0,u]),d=[cc(u[0],l),cc(u[1],l)],a.inverse?a.setExtent(d[1],d[0]):a.setExtent(d[0],d[1]),i.push(h),e.coordinateSystem=h,h.model=e}),e.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",cX).models[0];e.coordinateSystem=t.coordinateSystem}}),i}};var NP=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function NL(e,t,i){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],i]),n=e.coordToPoint([t[1],i]);return{x1:r[0],y1:r[1],x2:n[0],y2:n[1]}}function Nk(e){return+!e.getRadiusAxis().inverse}function NN(e){var t=e[0],i=e[e.length-1];t&&i&&1e-4>Math.abs(Math.abs(t.coord-i.coord)-360)&&e.pop()}var NF=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.axisPointerClass="PolarAxisPointer",i}return aF(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var i=e.axis,r=i.polar,n=r.getRadiusAxis().getExtent(),o=i.getTicksCoords(),s=i.getMinorTicksCoords(),a=lo(i.getViewLabels(),function(e){e=a3(e);var t=i.scale,r="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=i.dataToCoord(r),e});NN(a),NN(o),ln(NP,function(t){e.get([t,"show"])&&(!i.scale.isBlank()||"axisLine"===t)&&NO[t](this.group,e,r,o,s,n,a)},this)}},t.type="angleAxis",t}(Mr),NO={axisLine:function(e,t,i,r,n,o){var s,a=t.getModel(["axisLine","lineStyle"]),l=i.getAngleAxis(),u=Math.PI/180,d=l.getExtent(),h=Nk(i),c=+!h,p=360===Math.abs(d[1]-d[0])?"Circle":"Arc";(s=0===o[c]?new MC[p]({shape:{cx:i.cx,cy:i.cy,r:o[h],startAngle:-d[0]*u,endAngle:-d[1]*u,clockwise:l.inverse},style:a.getLineStyle(),z2:1,silent:!0}):new MC.Ring({shape:{cx:i.cx,cy:i.cy,r:o[h],r0:o[c]},style:a.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(s)},axisTick:function(e,t,i,r,n,o){var s=t.getModel("axisTick"),a=(s.get("inside")?-1:1)*s.get("length"),l=o[Nk(i)],u=lo(r,function(e){return new MC.Line({shape:NL(i,[l,l+a],e.coord)})});e.add(MC.mergePath(u,{style:a9(s.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,i,r,n,o){if(n.length){for(var s=t.getModel("axisTick"),a=t.getModel("minorTick"),l=(s.get("inside")?-1:1)*a.get("length"),u=o[Nk(i)],d=[],h=0;h<n.length;h++)for(var c=0;c<n[h].length;c++)d.push(new MC.Line({shape:NL(i,[u,u+l],n[h][c].coord)}));e.add(MC.mergePath(d,{style:a9(a.getModel("lineStyle").getLineStyle(),a9(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,i,r,n,o,s){var a=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),d=t.get("triggerEvent");ln(s,function(r,n){var s=l,h=r.tickValue,c=o[Nk(i)],p=i.coordToPoint([c+u,r.coord]),g=i.cx,f=i.cy,m=Math.abs(p[0]-g)/c<.3?"center":p[0]>g?"left":"right",v=Math.abs(p[1]-f)/c<.3?"middle":p[1]>f?"top":"bottom";if(a&&a[h]){var y=a[h];lv(y)&&y.textStyle&&(s=new fQ(y.textStyle,l,l.ecModel))}var C=new MC.Text({silent:T2.isLabelSilent(t),style:fP(s,{x:p[0],y:p[1],fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:r.formattedLabel,align:m,verticalAlign:v})});if(e.add(C),d){var w=T2.makeAxisEventDataBase(t);w.targetType="axisLabel",w.value=r.rawLabel,gF(C).eventData=w}},this)},splitLine:function(e,t,i,r,n,o){var s=t.getModel("splitLine").getModel("lineStyle"),a=s.get("color"),l=0;a=a instanceof Array?a:[a];for(var u=[],d=0;d<r.length;d++){var h=l++%a.length;u[h]=u[h]||[],u[h].push(new MC.Line({shape:NL(i,o,r[d].coord)}))}for(var d=0;d<u.length;d++)e.add(MC.mergePath(u[d],{style:a9({stroke:a[d%a.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,i,r,n,o){if(n.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),a=[],l=0;l<n.length;l++)for(var u=0;u<n[l].length;u++)a.push(new MC.Line({shape:NL(i,o,n[l][u].coord)}));e.add(MC.mergePath(a,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,i,r,n,o){if(r.length){var s=t.getModel("splitArea").getModel("areaStyle"),a=s.get("color"),l=0;a=a instanceof Array?a:[a];for(var u=[],d=Math.PI/180,h=-r[0].coord*d,c=Math.min(o[0],o[1]),p=Math.max(o[0],o[1]),g=t.get("clockwise"),f=1,m=r.length;f<=m;f++){var v=f===m?r[0].coord:r[f].coord,y=l++%a.length;u[y]=u[y]||[],u[y].push(new MC.Sector({shape:{cx:i.cx,cy:i.cy,r0:c,r:p,startAngle:h,endAngle:-v*d,clockwise:g},silent:!0})),h=-v*d}for(var f=0;f<u.length;f++)e.add(MC.mergePath(u[f],{style:a9({fill:a[f%a.length]},s.getAreaStyle()),silent:!0}))}}},NG=["axisLine","axisTickLabel","axisName"],NV=["splitLine","splitArea","minorSplitLine"],NB=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.axisPointerClass="PolarAxisPointer",i}return aF(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var i,r,n,o=this._axisGroup,s=this._axisGroup=new MC.Group;this.group.add(s);var a=e.axis,l=a.polar,u=l.getAngleAxis(),d=a.getTicksCoords(),h=a.getMinorTicksCoords(),c=u.getExtent()[0],p=a.getExtent(),g=(i=l,r=e,n=c,{position:[i.cx,i.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:r.getModel("axisLabel").get("rotate"),z2:1}),f=new T2(e,g);ln(NG,f.add,f),s.add(f.getGroup()),MC.groupTransition(o,s,e),ln(NV,function(t){e.get([t,"show"])&&!a.scale.isBlank()&&NH[t](this.group,e,l,c,p,d,h)},this)}},t.type="radiusAxis",t}(Mr),NH={splitLine:function(e,t,i,r,n,o){var s=t.getModel("splitLine").getModel("lineStyle"),a=s.get("color"),l=0,u=i.getAngleAxis(),d=Math.PI/180,h=u.getExtent(),c=360===Math.abs(h[1]-h[0])?"Circle":"Arc";a=a instanceof Array?a:[a];for(var p=[],g=0;g<o.length;g++){var f=l++%a.length;p[f]=p[f]||[],p[f].push(new MC[c]({shape:{cx:i.cx,cy:i.cy,r:Math.max(o[g].coord,0),startAngle:-h[0]*d,endAngle:-h[1]*d,clockwise:u.inverse}}))}for(var g=0;g<p.length;g++)e.add(MC.mergePath(p[g],{style:a9({stroke:a[g%a.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,i,r,n,o,s){if(s.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<s.length;u++)for(var d=0;d<s[u].length;d++)l.push(new MC.Circle({shape:{cx:i.cx,cy:i.cy,r:s[u][d].coord}}));e.add(MC.mergePath(l,{style:a9({fill:null},a.getLineStyle()),silent:!0}))}},splitArea:function(e,t,i,r,n,o){if(o.length){var s=t.getModel("splitArea").getModel("areaStyle"),a=s.get("color"),l=0;a=a instanceof Array?a:[a];for(var u=[],d=o[0].coord,h=1;h<o.length;h++){var c=l++%a.length;u[c]=u[c]||[],u[c].push(new MC.Sector({shape:{cx:i.cx,cy:i.cy,r0:d,r:o[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),d=o[h].coord}for(var h=0;h<u.length;h++)e.add(MC.mergePath(u[h],{style:a9({fill:a[h%a.length]},s.getAreaStyle()),silent:!0}))}}};function Nz(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function NW(e,t){return t.dim+e.model.componentIndex}let NU=function(e,t,i){var r,n,o,s={},a=(r=la(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type}),n={},ln(r,function(e,t){var i=e.getData(),r=e.coordinateSystem,o=r.getBaseAxis(),s=NW(r,o),a=o.getExtent(),l="category"===o.type?o.getBandWidth():Math.abs(a[1]-a[0])/i.count(),u=n[s]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=u.stacks;n[s]=u;var h=Nz(e);!d[h]&&u.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var c=cc(e.get("barWidth"),l),p=cc(e.get("barMaxWidth"),l),g=e.get("barGap"),f=e.get("barCategoryGap");c&&!d[h].width&&(c=Math.min(u.remainedWidth,c),d[h].width=c,u.remainedWidth-=c),p&&(d[h].maxWidth=p),null!=g&&(u.gap=g),null!=f&&(u.categoryGap=f)}),o={},ln(n,function(e,t){o[t]={};var i,r=e.stacks,n=e.bandWidth,s=cc(e.categoryGap,n),a=cc(e.gap,1),l=e.remainedWidth,u=e.autoWidthCount,d=(l-s)/(u+(u-1)*a);d=Math.max(d,0),ln(r,function(e,t){var i=e.maxWidth;i&&i<d&&(i=Math.min(i,l),e.width&&(i=Math.min(i,e.width)),l-=i,e.width=i,u--)}),d=Math.max(d=(l-s)/(u+(u-1)*a),0);var h=0;ln(r,function(e,t){e.width||(e.width=d),i=e,h+=e.width*(1+a)}),i&&(h-=i.width*a);var c=-h/2;ln(r,function(e,i){o[t][i]=o[t][i]||{offset:c,width:e.width},c+=e.width*(1+a)})}),o);t.eachSeriesByType(e,function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),n=NW(i,r),o=Nz(e),l=a[n][o],u=l.offset,d=l.width,h=i.getOtherAxis(r),c=e.coordinateSystem.cx,p=e.coordinateSystem.cy,g=e.get("barMinHeight")||0,f=e.get("barMinAngle")||0;s[o]=s[o]||[];for(var m=t.mapDimension(h.dim),v=t.mapDimension(r.dim),y=xZ(t,m),C="radius"!==r.dim||!e.get("roundCap",!0),w=h.model.get("startValue"),b=h.dataToCoord(w||0),S=0,x=t.count();S<x;S++){var _=t.get(m,S),E=t.get(v,S),T=_>=0?"p":"n",M=b;y&&(s[o][E]||(s[o][E]={p:b,n:b}),M=s[o][E][T]);var R=void 0,D=void 0,A=void 0,I=void 0;if("radius"===h.dim){var P=h.dataToCoord(_)-b,L=r.dataToCoord(E);Math.abs(P)<g&&(P=(P<0?-1:1)*g),R=M,D=M+P,I=(A=L-u)-d,y&&(s[o][E][T]=D)}else{var k=h.dataToCoord(_,C)-b,N=r.dataToCoord(E);Math.abs(k)<f&&(k=(k<0?-1:1)*f),D=(R=N+u)+d,A=M,I=M+k,y&&(s[o][E][T]=I)}t.setItemLayout(S,{cx:c,cy:p,r0:R,r:D,startAngle:-A*Math.PI/180,endAngle:-I*Math.PI/180,clockwise:A>=I})}}})};var Nj={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},N$={splitNumber:5},NK=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="polar",t}(yj);function NY(e,t){t=t||{};var i=e.coordinateSystem,r=e.axis,n={},o=r.position,s=r.orient,a=i.getRect(),l=[a.x,a.x+a.width,a.y,a.y+a.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};n.position=["vertical"===s?u.vertical[o]:l[0],"horizontal"===s?u.horizontal[o]:l[3]],n.rotation=Math.PI/2*({horizontal:0,vertical:1})[s],n.labelDirection=n.tickDirection=n.nameDirection=({top:-1,bottom:1,right:1,left:-1})[o],e.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),lE(t.labelInside,e.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var d=t.rotate;return null==d&&(d=e.get(["axisLabel","rotate"])),n.labelRotation="top"===o?-d:d,n.z2=1,n}var Nq=["axisLine","axisTickLabel","axisName"],NX=["splitArea","splitLine"],NZ=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.axisPointerClass="SingleAxisPointer",i}return aF(t,e),t.prototype.render=function(t,i,r,n){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new ce;var a=NY(t),l=new T2(t,a);ln(Nq,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),ln(NX,function(e){t.get([e,"show"])&&NQ[e](this,this.group,this._axisGroup,t)},this),wt(s,this._axisGroup,t),e.prototype.render.call(this,t,i,r,n)},t.prototype.remove=function(){Ms(this)},t.type="singleAxis",t}(Mr),NQ={splitLine:function(e,t,i,r){var n=r.axis;if(!n.scale.isBlank()){var o=r.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color");a=a instanceof Array?a:[a];for(var l=s.get("width"),u=r.coordinateSystem.getRect(),d=n.isHorizontal(),h=[],c=0,p=n.getTicksCoords({tickModel:o}),g=[],f=[],m=0;m<p.length;++m){var v=n.toGlobalCoord(p[m].coord);d?(g[0]=v,g[1]=u.y,f[0]=v,f[1]=u.y+u.height):(g[0]=u.x,g[1]=v,f[0]=u.x+u.width,f[1]=v);var y=new CR({shape:{x1:g[0],y1:g[1],x2:f[0],y2:f[1]},silent:!0});C4(y.shape,l);var C=c++%a.length;h[C]=h[C]||[],h[C].push(y)}for(var w=s.getLineStyle(["color"]),m=0;m<h.length;++m)t.add(C5(h[m],{style:a9({stroke:a[m%a.length]},w),silent:!0}))}},splitArea:function(e,t,i,r){Mo(e,i,r,r)}},NJ=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(mB);li(NJ,E$.prototype);var N0=function(e){function t(t,i,r,n,o){var s=e.call(this,t,i,r)||this;return s.type=n||"value",s.position=o||"bottom",s}return aF(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(TW),N1=["single"],N2=function(){function e(e,t,i){this.type="single",this.dimension="single",this.dimensions=N1,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return e.prototype._init=function(e,t,i){var r=new N0(this.dimension,T_(e),[0,0],e.get("type"),e.get("position")),n="category"===r.type;r.onBand=n&&e.get("boundaryGap"),r.inverse=e.get("inverse"),r.orient=e.get("orient"),e.axis=r,r.model=e,r.coordinateSystem=this,this._axis=r},e.prototype.update=function(e,t){e.eachSeries(function(e){if(e.coordinateSystem===this){var t=e.getData();ln(t.mapDimensionsAll(this.dimension),function(e){this._axis.scale.unionExtentFromData(t,e)},this),Tx(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(e,t){this._rect=mL({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,e.width]:[0,e.height],n=+!!t.inverse;t.setExtent(r[n],r[1-n]),this._updateAxisTransform(t,i?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),r=i[0]+i[1],n=e.isHorizontal();e.toGlobalCoord=n?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord=n?function(e){return e-t}:function(e){return r-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[+("horizontal"!==t.orient)]))]},e.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),r=[],n=+("horizontal"!==t.orient);return e instanceof Array&&(e=e[0]),r[n]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-n]=0===n?i.y+i.height/2:i.x+i.width/2,r},e.prototype.convertToPixel=function(e,t,i){return N5(t)===this?this.dataToPoint(i):null},e.prototype.convertFromPixel=function(e,t,i){return N5(t)===this?this.pointToData(i):null},e}();function N5(e){var t=e.seriesModel,i=e.singleAxisModel;return i&&i.coordinateSystem||t&&t.coordinateSystem}let N3={create:function(e,t){var i=[];return e.eachComponent("singleAxis",function(r,n){var o=new N2(r,e,t);o.name="single_"+n,o.resize(r,t),r.coordinateSystem=o,i.push(o)}),e.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",cX).models[0];e.coordinateSystem=t&&t.coordinateSystem}}),i},dimensions:N1};var N4=["x","y"],N6=["width","height"],N8=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.makeElOption=function(e,t,i,r,n){var o=i.axis,s=o.coordinateSystem,a=Fe(s,1-N7(o)),l=s.dataToPoint(t)[0],u=r.get("type");if(u&&"none"!==u){var d=kJ(r),h=N9[u](o,l,a);h.style=d,e.graphicKey=h.type,e.pointer=h}k5(t,e,NY(i),i,r,n)},t.prototype.getHandleTransform=function(e,t,i){var r=NY(t,{labelInside:!1});r.labelMargin=i.get(["handle","margin"]);var n=k2(t.axis,e,r);return{x:n[0],y:n[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,i,r){var n=i.axis,o=n.coordinateSystem,s=N7(n),a=Fe(o,s),l=[e.x,e.y];l[s]+=t[s],l[s]=Math.min(a[1],l[s]),l[s]=Math.max(a[0],l[s]);var u=Fe(o,1-s),d=(u[1]+u[0])/2,h=[d,d];return h[s]=l[s],{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},t}(kY),N9={line:function(e,t,i){return{type:"Line",subPixelOptimize:!0,shape:k3([t,i[0]],[t,i[1]],N7(e))}},shadow:function(e,t,i){var r=e.getBandWidth(),n=i[1]-i[0];return{type:"Rect",shape:k4([t-r/2,i[0]],[r,n],N7(e))}}};function N7(e){return+!e.isHorizontal()}function Fe(e,t){var i=e.getRect();return[i[N4[t]],i[N4[t]]+i[N6[t]]]}var Ft=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="single",t}(yj),Fi=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(t,i,r){var n=mO(t);e.prototype.init.apply(this,arguments),Fr(t,n)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),Fr(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(mB);function Fr(e,t){var i,r=e.cellSize;1===(i=lc(r)?r:e.cellSize=[r,r]).length&&(i[1]=i[0]);var n=lo([0,1],function(e){return(null!=t[mI[e][0]]||null!=t[mI[e][1]]&&null!=t[mI[e][2]])&&(i[e]="auto"),null!=i[e]&&"auto"!==i[e]});mF(e,t,{type:"box",ignoreSize:n})}var Fn=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){var r=this.group;r.removeAll();var n=e.coordinateSystem,o=n.getRangeInfo(),s=n.getOrient(),a=t.getLocaleModel();this._renderDayRect(e,o,r),this._renderLines(e,o,s,r),this._renderYearText(e,o,s,r),this._renderMonthText(e,a,s,r),this._renderWeekText(e,a,o,s,r)},t.prototype._renderDayRect=function(e,t,i){for(var r=e.coordinateSystem,n=e.getModel("itemStyle").getItemStyle(),o=r.getCellWidth(),s=r.getCellHeight(),a=t.start.time;a<=t.end.time;a=r.getNextNDay(a,1).time){var l=r.dataToRect([a],!1).tl,u=new gw({shape:{x:l[0],y:l[1],width:o,height:s},cursor:"default",style:n});i.add(u)}},t.prototype._renderLines=function(e,t,i,r){var n=this,o=e.coordinateSystem,s=e.getModel(["splitLine","lineStyle"]).getLineStyle(),a=e.get(["splitLine","show"]),l=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=t.start,d=0;u.time<=t.end.time;d++){c(u.formatedDate),0===d&&(u=o.getDateInfo(t.start.y+"-"+t.start.m));var h=u.date;h.setMonth(h.getMonth()+1),u=o.getDateInfo(h)}function c(t){n._firstDayOfMonth.push(o.getDateInfo(t)),n._firstDayPoints.push(o.dataToRect([t],!1).tl);var l=n._getLinePointsOfOneWeek(e,t,i);n._tlpoints.push(l[0]),n._blpoints.push(l[l.length-1]),a&&n._drawSplitline(l,s,r)}c(o.getNextNDay(t.end.time,1).formatedDate),a&&this._drawSplitline(n._getEdgesPoints(n._tlpoints,l,i),s,r),a&&this._drawSplitline(n._getEdgesPoints(n._blpoints,l,i),s,r)},t.prototype._getEdgesPoints=function(e,t,i){var r=[e[0].slice(),e[e.length-1].slice()],n=+("horizontal"!==i);return r[0][n]=r[0][n]-t/2,r[1][n]=r[1][n]+t/2,r},t.prototype._drawSplitline=function(e,t,i){var r=new CE({z2:20,shape:{points:e},style:t});i.add(r)},t.prototype._getLinePointsOfOneWeek=function(e,t,i){for(var r=e.coordinateSystem,n=r.getDateInfo(t),o=[],s=0;s<7;s++){var a=r.getNextNDay(n.time,s),l=r.dataToRect([a.time],!1);o[2*a.day]=l.tl,o[2*a.day+1]=l["horizontal"===i?"bl":"tr"]}return o},t.prototype._formatterLabel=function(e,t){if(lg(e)&&e){var i;return i=e,ln(t,function(e,t){i=i.replace("{"+t+"}",e)}),i}return lp(e)?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,i,r,n){var o=t[0],s=t[1],a=["center","bottom"];"bottom"===r?(s+=n,a=["center","top"]):"left"===r?o-=n:"right"===r?(o+=n,a=["center","top"]):s-=n;var l=0;return("left"===r||"right"===r)&&(l=Math.PI/2),{rotation:l,x:o,y:s,style:{align:a[0],verticalAlign:a[1]}}},t.prototype._renderYearText=function(e,t,i,r){var n=e.getModel("yearLabel");if(n.get("show")){var o=n.get("margin"),s=n.get("position");s||(s="horizontal"!==i?"top":"left");var a=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(a[0][0]+a[1][0])/2,u=(a[0][1]+a[1][1])/2,d=+("horizontal"!==i),h={top:[l,a[d][1]],bottom:[l,a[1-d][1]],left:[a[1-d][0],u],right:[a[d][0],u]},c=t.start.y;+t.end.y>+t.start.y&&(c=c+"-"+t.end.y);var p=n.get("formatter"),g={start:t.start.y,end:t.end.y,nameMap:c},f=new gx({z2:30,style:fP(n,{text:this._formatterLabel(p,g)}),silent:n.get("silent")});f.attr(this._yearTextPositionControl(f,h[s],i,s,o)),r.add(f)}},t.prototype._monthTextPositionControl=function(e,t,i,r,n){var o="left",s="top",a=e[0],l=e[1];return"horizontal"===i?(l+=n,t&&(o="center"),"start"===r&&(s="bottom")):(a+=n,t&&(s="middle"),"start"===r&&(o="right")),{x:a,y:l,align:o,verticalAlign:s}},t.prototype._renderMonthText=function(e,t,i,r){var n=e.getModel("monthLabel");if(n.get("show")){var o=n.get("nameMap"),s=n.get("margin"),a=n.get("position"),l=n.get("align"),u=[this._tlpoints,this._blpoints];(!o||lg(o))&&(o&&(t=f5[o]||t),o=t.get(["time","monthAbbr"])||[]);var d=+("start"!==a),h=+("horizontal"!==i);s="start"===a?-s:s;for(var c="center"===l,p=n.get("silent"),g=0;g<u[d].length-1;g++){var f=u[d][g].slice(),m=this._firstDayOfMonth[g];if(c){var v=this._firstDayPoints[g];f[h]=(v[h]+u[0][g+1][h])/2}var y=n.get("formatter"),C=o[m.m-1],w={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:C},b=new gx({z2:30,style:a8(fP(n,{text:this._formatterLabel(y,w)}),this._monthTextPositionControl(f,c,i,a,s)),silent:p});r.add(b)}}},t.prototype._weekTextPositionControl=function(e,t,i,r,n){var o="center",s="middle",a=e[0],l=e[1],u="start"===i;return"horizontal"===t?(a=a+r+(u?1:-1)*n[0]/2,o=u?"right":"left"):(l=l+r+(u?1:-1)*n[1]/2,s=u?"bottom":"top"),{x:a,y:l,align:o,verticalAlign:s}},t.prototype._renderWeekText=function(e,t,i,r,n){var o=e.getModel("dayLabel");if(o.get("show")){var s=e.coordinateSystem,a=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),d=s.getFirstDayOfWeek();(!l||lg(l))&&(l&&(t=f5[l]||t),l=t.get(["time","dayOfWeekShort"])||lo(t.get(["time","dayOfWeekAbbr"]),function(e){return e[0]}));var h=s.getNextNDay(i.end.time,7-i.lweek).time,c=[s.getCellWidth(),s.getCellHeight()];u=cc(u,Math.min(c[1],c[0])),"start"===a&&(h=s.getNextNDay(i.start.time,-(7+i.fweek)).time,u=-u);for(var p=o.get("silent"),g=0;g<7;g++){var f=s.getNextNDay(h,g),m=s.dataToRect([f.time],!1).center,v=new gx({z2:30,style:a8(fP(o,{text:l[Math.abs((g+d)%7)]}),this._weekTextPositionControl(m,r,a,u,c)),silent:p});n.add(v)}}},t.type="calendar",t}(yj),Fo=function(){function e(t,i,r){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){var t=(e=cx(e)).getFullYear(),i=e.getMonth()+1,r=i<10?"0"+i:""+i,n=e.getDate(),o=n<10?"0"+n:""+n,s=e.getDay();return{y:t+"",m:r,d:o,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+r+"-"+o,date:e}},e.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],n=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[i,7]:[7,i];ln([0,1],function(e){u(n,e)&&(o[r[e]]=n[e]*s[e])});var a={width:t.getWidth(),height:t.getHeight()},l=this._rect=mL(o,a);function u(e,t){return null!=e[t]&&"auto"!==e[t]}ln([0,1],function(e){u(n,e)||(n[e]=l[r[e]]/s[e])}),this._sw=n[0],this._sh=n[1]},e.prototype.dataToPoint=function(e,t){lc(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),r=this._rangeInfo,n=i.formatedDate;if(t&&!(i.time>=r.start.time&&i.time<r.end.time+864e5))return[NaN,NaN];var o=i.day,s=this._getRangeInfo([r.start.time,n]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},e.prototype.convertToPixel=function(e,t,i){var r=Fs(t);return r===this?r.dataToPoint(i):null},e.prototype.convertFromPixel=function(e,t,i){var r=Fs(t);return r===this?r.pointToData(i):null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(lc(t)&&1===t.length&&(t=t[0]),lc(t))e=t;else{var i=t.toString();if(/^\d{4}$/.test(i)&&(e=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),n=r.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);e=[r.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(e=[i,i])}if(!e)return t;var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,i=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];i[0].time>i[1].time&&(t=!0,i.reverse());var r=Math.floor(i[1].time/864e5)-Math.floor(i[0].time/864e5)+1,n=new Date(i[0].time),o=n.getDate(),s=i[1].date.getDate();n.setDate(o+r-1);var a=n.getDate();if(a!==s)for(var l=n.getTime()-i[1].time>0?1:-1;(a=n.getDate())!==s&&(n.getTime()-i[1].time)*l>0;)r-=l,n.setDate(a-l);var u=Math.floor((r+i[0].day+6)/7),d=t?-u+1:u-1;return t&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:u,nthWeek:d,fweek:i[0].day,lweek:i[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,i){var r=this._getRangeInfo(i);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var n=(e-1)*7-r.fweek+t,o=new Date(r.start.time);return o.setDate(+r.start.d+n),this.getDateInfo(o)},e.create=function(t,i){var r=[];return t.eachComponent("calendar",function(n){var o=new e(n,t,i);r.push(o),n.coordinateSystem=o}),t.eachSeries(function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("calendarIndex")||0])}),r},e.dimensions=["time","value"],e}();function Fs(e){var t=e.calendarModel,i=e.seriesModel;return t?t.coordinateSystem:i?i.coordinateSystem:null}function Fa(e,t){var i;return ln(t,function(t){null!=e[t]&&"auto"!==e[t]&&(i=!0)}),i}var Fl=["transition","enterFrom","leaveTo"],Fu=Fl.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Fd(e,t,i){if(i&&(!e[i]&&t[i]&&(e[i]={}),e=e[i],t=t[i]),e&&t)for(var r=i?Fl:Fu,n=0;n<r.length;n++){var o=r[n];null==e[o]&&null!=t[o]&&(e[o]=t[o])}}var Fh=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.preventAutoZ=!0,i}return aF(t,e),t.prototype.mergeOption=function(t,i){var r=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,i),this.option.elements=r},t.prototype.optionUpdated=function(e,t){var i=this.option,r=(t?i:e).elements,n=i.elements=t?[]:i.elements,o=[];this._flatten(r,o,null);var s=cV(n,o,"normalMerge"),a=this._elOptionsToUpdate=[];ln(s,function(e,t){var i=e.newOption;if(i){a.push(i);var r,o,s,l,u=e.existing;if(i.id=e.keyInfo.id,!i.type&&u&&(i.type=u.type),null==i.parentId){var d=i.parentOption;d?i.parentId=d.id:u&&(i.parentId=u.parentId)}i.parentOption=null,r=a8({},i),o=n[t],"merge"===(s=i.$action||"merge")?o?(a4(o,r,!0),mF(o,r,{ignoreSize:!0}),mG(i,o),Fd(i,o),Fd(i,o,"shape"),Fd(i,o,"style"),Fd(i,o,"extra"),i.clipPath=o.clipPath):n[t]=r:"replace"===s?n[t]=r:"remove"===s&&o&&(n[t]=null),l=n[t],l&&(l.hv=i.hv=[Fa(i,["left","right"]),Fa(i,["top","bottom"])],"group"===l.type&&(null==l.width&&(l.width=i.width=0),null==l.height&&(l.height=i.height=0)))}},this),i.elements=la(n,function(e){return e&&delete e.$action,null!=e})},t.prototype._flatten=function(e,t,i){ln(e,function(e){if(e){i&&(e.parentOption=i),t.push(e);var r=e.children;r&&r.length&&this._flatten(r,t,e),delete e.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(mB),Fc={path:null,compoundPath:null,group:ce,image:gp,text:gx},Fp=c$(),Fg=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(){this._elMap=lG()},t.prototype.render=function(e,t,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var i=this._elMap,r=this.group,n=e.get("z"),o=e.get("zlevel");ln(t,function(t){var s=cz(t.id,null),a=null!=s?i.get(s):null,l=cz(t.parentId,null),u=null!=l?i.get(l):r,d=t.type,h=t.style;"text"===d&&h&&t.hv&&t.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var c=t.textContent,p=t.textConfig;if(h&&L8(h,d,!!p,!!c)){var g=L9(h,d,!0);!p&&g.textConfig&&(p=t.textConfig=g.textConfig),!c&&g.textContent&&(c=g.textContent)}var f=(_=a8({},_=t),ln(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(mA),function(e){delete _[e]}),_),m=t.$action||"merge",v="merge"===m,y="replace"===m;if(v){var C=!a,w=a;C?w=Fm(s,u,t.type,i):(w&&(Fp(w).isNew=!1),ky(w)),w&&(ka(w,f,e,{isInit:C}),Fy(w,t,n,o))}else if(y){Fv(a,t,i,e);var b=Fm(s,u,t.type,i);b&&(ka(b,f,e,{isInit:!0}),Fy(b,t,n,o))}else"remove"===m&&(kl(a,t),Fv(a,t,i,e));var S=i.get(s);if(S&&c)if(v){var x=S.getTextContent();x?x.attr(c):S.setTextContent(new gx(c))}else y&&S.setTextContent(new gx(c));if(S){var _,E,T,M,R,D=t.clipPath;if(D){var A=D.type,I=void 0,C=!1;if(v){var P=S.getClipPath();I=(C=!P||Fp(P).type!==A)?Ff(A):P}else y&&(C=!0,I=Ff(A));S.setClipPath(I),ka(I,D,e,{isInit:C}),kC(I,D.keyframeAnimation,e)}var L=Fp(S);S.setTextConfig(p),L.option=t,E=S,T=e,M=t,R=gF(E).eventData,E.silent||E.ignore||R||(R=gF(E).eventData={componentType:"graphic",componentIndex:T.componentIndex,name:E.name}),R&&(R.info=M.info),wa({el:S,componentModel:e,itemName:S.name,itemTooltipOption:t.tooltip}),kC(S,t.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,t){for(var i=e.option.elements,r=this.group,n=this._elMap,o=t.getWidth(),s=t.getHeight(),a=["x","y"],l=0;l<i.length;l++){var u=i[l],d=cz(u.id,null),h=null!=d?n.get(d):null;if(h&&h.isGroup){var c=h.parent,p=c===r,g=Fp(h),f=Fp(c);g.width=cc(g.option.width,p?o:f.width)||0,g.height=cc(g.option.height,p?s:f.height)||0}}for(var l=i.length-1;l>=0;l--){var u=i[l],d=cz(u.id,null),h=null!=d?n.get(d):null;if(h){var c=h.parent,f=Fp(c),m=c===r?{width:o,height:s}:{width:f.width,height:f.height},v={},y=mk(h,u,m,null,{hv:u.hv,boundingMode:u.bounding},v);if(!Fp(h).isNew&&y){for(var C=u.transition,w={},b=0;b<a.length;b++){var S=a[b],x=v[S];C&&(kd(C)||le(C,S)>=0)?w[S]=x:h[S]=x}fw(h,w,e,0)}else h.attr(v)}}},t.prototype._clear=function(){var e=this,t=this._elMap;t.each(function(i){Fv(i,Fp(i).option,t,e._lastGraphicModel)}),this._elMap=lG()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(yj);function Ff(e){var t=new(lz(Fc,e)?Fc[e]:CJ(e))({});return Fp(t).type=e,t}function Fm(e,t,i,r){var n=Ff(i);return t.add(n),r.set(e,n),Fp(n).id=e,Fp(n).isNew=!0,n}function Fv(e,t,i,r){e&&e.parent&&("group"===e.type&&e.traverse(function(e){Fv(e,t,i,r)}),ku(e,t,r),i.removeKey(Fp(e).id))}function Fy(e,t,i,r){e.isGroup||ln([["cursor",p_.prototype.cursor],["zlevel",r||0],["z",i||0],["z2",0]],function(i){var r=i[0];lz(t,r)?e[r]=lT(t[r],i[1]):null==e[r]&&(e[r]=i[1])}),ln(lu(t),function(i){if(0===i.indexOf("on")){var r=t[i];e[i]=lp(r)?r:null}}),lz(t,"draggable")&&(e.draggable=t.draggable),null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}var FC=["x","y","radius","angle","single"],Fw=["cartesian2d","polar","singleAxis"];function Fb(e){return e+"Axis"}function FS(e){var t=e.ecModel,i={infoList:[],infoMap:lG()};return e.eachTargetAxis(function(e,r){var n=t.getComponent(Fb(e),r);if(n){var o=n.getCoordSysModel();if(o){var s=o.uid,a=i.infoMap.get(s);a||(a={model:o,axisModels:[]},i.infoList.push(a),i.infoMap.set(s,a)),a.axisModels.push(n)}}}),i}var Fx=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),F_=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._autoThrottle=!0,i._noTarget=!0,i._rangePropMode=["percent","percent"],i}return aF(t,e),t.prototype.init=function(e,t,i){var r=FE(e);this.settledOption=r,this.mergeDefaultAndTheme(e,i),this._doInit(r)},t.prototype.mergeOption=function(e){var t=FE(e);a4(this.option,e,!0),a4(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;ln([["start","startValue"],["end","endValue"]],function(e,r){"value"===this._rangePropMode[r]&&(t[e[0]]=i[e[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=lG();this._fillSpecifiedTargetAxis(t)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each(function(e){e.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return ln(FC,function(i){var r=this.getReferringComponents(Fb(i),cZ);if(r.specified){t=!0;var n=new Fx;ln(r.models,function(e){n.add(e.componentIndex)}),e.set(i,n)}},this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var i=this.ecModel,r=!0,n="vertical"===t?"y":"x",o=i.findComponents({mainType:n+"Axis"});if(s(o,n),r){var o=i.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}});s(o,"single")}function s(t,i){var n=t[0];if(n){var o=new Fx;if(o.add(n.componentIndex),e.set(i,o),r=!1,"x"===i||"y"===i){var s=n.getReferringComponents("grid",cX).models[0];s&&ln(t,function(e){n.componentIndex!==e.componentIndex&&s===e.getReferringComponents("grid",cX).models[0]&&o.add(e.componentIndex)})}}}r&&ln(FC,function(t){if(r){var n=i.findComponents({mainType:Fb(t),filter:function(e){return"category"===e.get("type",!0)}});if(n[0]){var o=new Fx;o.add(n[0].componentIndex),e.set(t,o),r=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(t){e||(e=t)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,i=this.get("rangeMode");ln([["start","startValue"],["end","endValue"]],function(r,n){var o=null!=e[r[0]],s=null!=e[r[1]];o&&!s?t[n]="percent":!o&&s?t[n]="value":i?t[n]=i[n]:o&&(t[n]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(t,i){null==e&&(e=this.ecModel.getComponent(Fb(t),i))},this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each(function(i,r){ln(i.indexList,function(i){e.call(t,r,i)})})},t.prototype.getAxisProxy=function(e,t){var i=this.getAxisModel(e,t);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[t])return this.ecModel.getComponent(Fb(e),t)},t.prototype.setRawRange=function(e){var t=this.option,i=this.settledOption;ln([["start","startValue"],["end","endValue"]],function(r){(null!=e[r[0]]||null!=e[r[1]])&&(t[r[0]]=i[r[0]]=e[r[0]],t[r[1]]=i[r[1]]=e[r[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;ln(["start","startValue","end","endValue"],function(i){t[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,i=this._targetAxisInfoMap.keys(),r=0;r<i.length;r++)for(var n=i[r],o=this._targetAxisInfoMap.get(n),s=0;s<o.indexList.length;s++){var a=this.getAxisProxy(n,o.indexList[s]);if(a.hostedBy(this))return a;t||(t=a)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(mB);function FE(e){var t={};return ln(["start","end","startValue","endValue","throttle"],function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t}var FT=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="dataZoom.select",t}(F_),FM=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i,r){this.dataZoomModel=e,this.ecModel=t,this.api=i},t.type="dataZoom",t}(yj),FR=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="dataZoom.select",t}(FM),FD=function(){function e(e,t,i,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=i}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(le(Fw,t.get("coordinateSystem"))>=0){var i=Fb(this._dimName),r=t.getReferringComponents(i,cX).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return a3(this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,i=this._dataExtent,r=this.getAxisModel().axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],a=[];ln(["start","end"],function(l,u){var d=e[l],h=e[l+"Value"];"percent"===n[u]?(null==d&&(d=o[u]),h=r.parse(ch(d,o,i))):(t=!0,d=ch(h=null==h?i[u]:r.parse(h),i,o)),a[u]=null==h||isNaN(h)?i[u]:h,s[u]=null==d||isNaN(d)?o[u]:d}),cg(a),cg(s);var l=this._minMaxSpan;function u(e,t,i,n,o){var s=o?"Span":"ValueSpan";Iv(0,e,i,"all",l["min"+s],l["max"+s]);for(var a=0;a<2;a++)t[a]=ch(e[a],i,n,!0),o&&(t[a]=r.parse(t[a]))}return t?u(a,s,i,o,!1):u(s,a,o,i,!0),{valueWindow:a,percentWindow:s}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t,i,r,n,o,s=this.getTargetSeriesModels();this._dataExtent=(t=this,i=this._dimName,r=[1/0,-1/0],ln(s,function(e){var t;t=e.getData(),t&&ln(TD(t,i),function(e){var i=t.getApproximateExtent(e);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}),[(o=Tw((n=t.getAxisModel()).axis.scale,n,r).calculate()).min,o.max]),this._updateMinMaxSpan();var a=this.calculateDataWindow(e.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),n=e.get("filterMode"),o=this._valueWindow;"none"!==n&&ln(r,function(e){var t=e.getData(),r=t.mapDimensionsAll(i);if(r.length){if("weakFilter"===n){var s=t.getStore(),a=lo(r,function(e){return t.getDimensionIndex(e)},t);t.filterSelf(function(e){for(var t,i,n,l=0;l<r.length;l++){var u=s.get(a[l],e),d=!isNaN(u),h=u<o[0],c=u>o[1];if(d&&!h&&!c)return!0;d&&(n=!0),h&&(t=!0),c&&(i=!0)}return n&&t&&i})}else ln(r,function(i){if("empty"===n)e.setData(t=t.map(i,function(e){var t;return(t=e)>=o[0]&&t<=o[1]?e:NaN}));else{var r={};r[i]=o,t.selectRange(r)}});ln(r,function(e){t.setApproximateExtent(o,e)})}})}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;ln(["min","max"],function(r){var n=t.get(r+"Span"),o=t.get(r+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?n=ch(i[0]+o,i,[0,100],!0):null!=n&&(o=ch(n,[0,100],i,!0)-i[0]),e[r+"Span"]=n,e[r+"ValueSpan"]=o},this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var r=cv(i,[0,500]);r=Math.min(r,20);var n=e.axis.scale.rawExtentInfo;0!==t[0]&&n.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==t[1]&&n.setDeterminedMinMax("max",+i[1].toFixed(r)),n.freeze()}},e}();let FA={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(r,n){var o=e.getComponent(Fb(r),n);t(r,n,o,i)})})}t(function(e,t,i,r){i.__dzAxisProxy=null});var i=[];t(function(t,r,n,o){n.__dzAxisProxy||(n.__dzAxisProxy=new FD(t,r,o,e),i.push(n.__dzAxisProxy))});var r=lG();return ln(i,function(e){ln(e.getTargetSeriesModels(),function(e){r.set(e.uid,e)})}),r},overallReset:function(e,t){e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(t,i){e.getAxisProxy(t,i).reset(e)}),e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).filterData(e,t)})}),e.eachComponent("dataZoom",function(e){var t=e.findRepresentativeAxisProxy();if(t){var i=t.getDataPercentWindow(),r=t.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:r[0],endValue:r[1]})}})}};var FI=!1;function FP(e){FI||(FI=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,FA),e.registerAction("dataZoom",function(e,t){ln(function(e,t){var i,r=lG(),n=[],o=lG();e.eachComponent({mainType:"dataZoom",query:t},function(e){o.get(e.uid)||a(e)});do i=!1,e.eachComponent("dataZoom",s);while(i)function s(e){var t;!o.get(e.uid)&&(t=!1,e.eachTargetAxis(function(e,i){var n=r.get(e);n&&n[i]&&(t=!0)}),t)&&(a(e),i=!0)}function a(e){o.set(e.uid,!0),n.push(e),e.eachTargetAxis(function(e,t){(r.get(e)||r.set(e,[]))[t]=!0})}return n}(t,e),function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})}),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function FL(e){e.registerComponentModel(FT),e.registerComponentView(FR),FP(e)}var Fk=function(){},FN={},FF=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;ln(this.option.feature,function(e,i){var r=FN[i];r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(t)),a4(e,r.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(mB);function FO(e,t){var i=lD(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new gw({shape:{x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1})}var FG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.render=function(e,t,i,r){var n=this.group;if(n.removeAll(),e.get("show")){var o,s,a,l,u=+e.get("itemSize"),d="vertical"===e.get("orient"),h=e.get("feature")||{},c=this._features||(this._features={}),p=[];ln(h,function(e,t){p.push(t)}),new xD(this._featureNames||[],p).add(g).update(g).remove(lh(g,null)).execute(),this._featureNames=p,o=e.getBoxLayoutParams(),s=e.get("padding"),l=mL(o,a={width:i.getWidth(),height:i.getHeight()},s),mP(e.get("orient"),n,e.get("itemGap"),l.width,l.height),mk(n,o,a,s),n.add(FO(n.getBoundingRect(),e)),d||n.eachChild(function(e){var t=e.__title,r=e.ensureState("emphasis"),o=r.textConfig||(r.textConfig={}),s=e.getTextContent(),a=s&&s.ensureState("emphasis");if(a&&!lp(a)&&t){var l=a.style||(a.style={}),d=hX(t,gx.makeFont(l)),h=e.x+n.x,c=e.y+n.y+u,p=!1;c+d.height>i.getHeight()&&(o.position="top",p=!0);var g=p?-5-d.height:u+10;h+d.width/2>i.getWidth()?(o.position=["100%",g],l.align="right"):h-d.width/2<0&&(o.position=[0,g],l.align="left")}})}function g(o,s){var a,l,g,f,m,v,y,C,w,b,S,x=p[o],_=p[s],E=h[x],T=new fQ(E,e,e.ecModel);if(r&&null!=r.newTitle&&r.featureName===x&&(E.title=r.newTitle),x&&!_){if(0===x.indexOf("my"))S={onclick:T.option.onclick,featureName:x};else{var M=FN[x];if(!M)return;S=new M}c[x]=S}else if(!(S=c[_]))return;S.uid=f0("toolbox-feature"),S.model=T,S.ecModel=t,S.api=i;var R=S instanceof Fk;if(!x&&_){R&&S.dispose&&S.dispose(t,i);return}if(!T.get("show")||R&&S.unusable){R&&S.remove&&S.remove(t,i);return}a=T,l=S,g=x,v=a.getModel("iconStyle"),y=a.getModel(["emphasis","iconStyle"]),C=l instanceof Fk&&l.getIcons?l.getIcons():a.get("icon"),w=a.get("title")||{},lg(C)?(f={})[g]=C:f=C,lg(w)?(m={})[g]=w:m=w,b=a.iconPaths={},ln(f,function(r,o){var s=wn(r,{},{x:-u/2,y:-u/2,width:u,height:u});s.setStyle(v.getItemStyle()),s.ensureState("emphasis").style=y.getItemStyle();var h=new gx({style:{text:m[o],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null,font:fG({fontStyle:y.get("textFontStyle"),fontFamily:y.get("textFontFamily"),fontSize:y.get("textFontSize"),fontWeight:y.get("textFontWeight")},t)},ignore:!0});s.setTextContent(h),wa({el:s,componentModel:e,itemName:o,formatterParamsExtra:{title:m[o]}}),s.__title=m[o],s.on("mouseover",function(){var t=y.getItemStyle(),r=d?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";h.setStyle({fill:y.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),s.setTextConfig({position:y.get("textPosition")||r}),h.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==a.get(["iconStatus",o])&&i.leaveEmphasis(this),h.hide()}),("emphasis"===a.get(["iconStatus",o])?g7:fe)(s),n.add(s),s.on("click",ld(l.onclick,l,t,i,o)),b[o]=s}),T.setIconStatus=function(e,t){var i=this.option,r=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[e]=t,r[e]&&("emphasis"===t?g7:fe)(r[e])},S instanceof Fk&&S.render&&S.render(T,t,i,r)}},t.prototype.updateView=function(e,t,i,r){ln(this._features,function(e){e instanceof Fk&&e.updateView&&e.updateView(e.model,t,i,r)})},t.prototype.remove=function(e,t){ln(this._features,function(i){i instanceof Fk&&i.remove&&i.remove(e,t)}),this.group.removeAll()},t.prototype.dispose=function(e,t){ln(this._features,function(i){i instanceof Fk&&i.dispose&&i.dispose(e,t)})},t.type="toolbox",t}(yj),FV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.onclick=function(e,t){var i=this.model,r=i.get("name")||e.get("title.0.text")||"echarts",n="svg"===t.getZr().painter.getType(),o=n?"svg":i.get("type",!0)||"png",s=t.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),a=aG.browser;if("function"!=typeof MouseEvent||!a.newEdge&&(a.ie||a.edge))if(window.navigator.msSaveOrOpenBlob||n){var l=s.split(","),u=l[0].indexOf("base64")>-1,d=n?decodeURIComponent(l[1]):l[1];u&&(d=window.atob(d));var h=r+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var c=d.length,p=new Uint8Array(c);c--;)p[c]=d.charCodeAt(c);var g=new Blob([p]);window.navigator.msSaveOrOpenBlob(g,h)}else{var f=document.createElement("iframe");document.body.appendChild(f);var m=f.contentWindow,v=m.document;v.open("image/svg+xml","replace"),v.write(d),v.close(),m.focus(),v.execCommand("SaveAs",!0,h),document.body.removeChild(f)}}else{var y=i.get("lang"),C='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(y&&y[0]||"")+'" /></body>',w=window.open();w.document.write(C),w.document.title=r}else{var b=document.createElement("a");b.download=r+"."+o,b.target="_blank",b.href=s;var S=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});b.dispatchEvent(S)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(Fk),FB="__ec_magicType_stack__",FH=[["line","bar"],["stack"]],Fz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),i={};return ln(e.get("type"),function(e){t[e]&&(i[e]=t[e])}),i},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,t,i){var r,n=this.model,o=n.get(["seriesIndex",i]);if(FW[i]){var s={series:[]};ln(FH,function(e){le(e,i)>=0&&ln(e,function(e){n.setIconStatus(e,"normal")})}),n.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(e){var t=e.subType,r=e.id,o=FW[i](t,r,e,n);o&&(a9(o,e.option),s.series.push(o));var a=e.coordinateSystem;if(a&&"cartesian2d"===a.type&&("line"===i||"bar"===i)){var l=a.getAxesByScale("ordinal")[0];if(l){var u=l.dim+"Axis",d=e.getReferringComponents(u,cX).models[0].componentIndex;s[u]=s[u]||[];for(var h=0;h<=d;h++)s[u][d]=s[u][d]||{};s[u][d].boundaryGap="bar"===i}}});var a=i;"stack"===i&&(r=a4({stack:n.option.title.tiled,tiled:n.option.title.stack},n.option.title),"emphasis"!==n.get(["iconStatus",i])&&(a="tiled")),t.dispatchAction({type:"changeMagicType",currentType:a,newOption:s,newTitle:r,featureName:"magicType"})}},t}(Fk),FW={line:function(e,t,i,r){if("bar"===e)return a4({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(e,t,i,r){if("line"===e)return a4({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(e,t,i,r){var n=i.get("stack")===FB;if("line"===e||"bar"===e)return r.setIconStatus("stack",n?"normal":"emphasis"),a4({id:t,stack:n?"":FB},r.get(["option","stack"])||{},!0)}};Sf({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var FU=Array(60).join("-");function Fj(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var F$=RegExp("[	]+","g"),FK=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.onclick=function(e,t){setTimeout(function(){t.dispatchAction({type:"hideTip"})});var i,r,n,o,s,a,l=t.getDom(),u=this.model;this._dom&&l.removeChild(this._dom);var d=document.createElement("div");d.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",d.style.backgroundColor=u.get("backgroundColor")||"#fff";var h=document.createElement("h4"),c=u.get("lang")||[];h.innerHTML=c[0]||u.get("title"),h.style.cssText="margin:10px 20px",h.style.color=u.get("textColor");var p=document.createElement("div"),g=document.createElement("textarea");p.style.cssText="overflow:auto";var f=u.get("optionToContent"),m=u.get("contentToOption"),v={value:la([(o=(a=(i={},r=[],n=[],e.eachRawSeries(function(e){var t=e.coordinateSystem;if(t&&("cartesian2d"===t.type||"polar"===t.type)){var o=t.getBaseAxis();if("category"===o.type){var s=o.dim+"_"+o.index;i[s]||(i[s]={categoryAxis:o,valueAxis:t.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),i[s].series.push(e)}else r.push(e)}else r.push(e)}),{seriesGroupByCategoryAxis:i,other:r,meta:n})).seriesGroupByCategoryAxis,s=[],ln(o,function(e,t){var i=e.categoryAxis,r=e.valueAxis.dim,n=[" "].concat(lo(e.series,function(e){return e.name})),o=[i.model.getCategories()];ln(e.series,function(e){var t=e.getRawData();o.push(e.getRawData().mapArray(t.mapDimension(r),function(e){return e}))});for(var a=[n.join("	")],l=0;l<o[0].length;l++){for(var u=[],d=0;d<o.length;d++)u.push(o[d][l]);a.push(u.join("	"))}s.push(a.join("\n"))}),s.join("\n\n"+FU+"\n\n")),lo(a.other,function(e){var t=e.getRawData(),i=[e.name],r=[];return t.each(t.dimensions,function(){for(var e=arguments.length,n=arguments[e-1],o=t.getName(n),s=0;s<e-1;s++)r[s]=arguments[s];i.push((o?o+"	":"")+r.join("	"))}),i.join("\n")}).join("\n\n"+FU+"\n\n")],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join("\n\n"+FU+"\n\n"),meta:a.meta};if(lp(f)){var y=f(t.getOption());lg(y)?p.innerHTML=y:lw(y)&&p.appendChild(y)}else{g.readOnly=u.get("readOnly");var C=g.style;C.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",C.color=u.get("textColor"),C.borderColor=u.get("textareaBorderColor"),C.backgroundColor=u.get("textareaColor"),g.value=v.value,p.appendChild(g)}var w=v.meta,b=document.createElement("div");b.style.cssText="position:absolute;bottom:5px;left:0;right:0";var S="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",x=document.createElement("div"),_=document.createElement("div");S+=";background-color:"+u.get("buttonColor")+";color:"+u.get("buttonTextColor");var E=this;function T(){l.removeChild(d),E._dom=null}u_(x,"click",T),u_(_,"click",function(){var e,i,r,n;if(null==m&&null!=f||null!=m&&null==f)return void T();try{lp(m)?e=m(p,t.getOption()):(i=g.value,r=i.split(RegExp("\n*"+FU+"\n*","g")),n={series:[]},ln(r,function(e,t){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf("	")>=0)return!0}(e)){var i=function(e){for(var t=e.split(/\n+/g),i=Fj(t.shift()).split(F$),r=[],n=lo(i,function(e){return{name:e,data:[]}}),o=0;o<t.length;o++){var s=Fj(t[o]).split(F$);r.push(s.shift());for(var a=0;a<s.length;a++)n[a]&&(n[a].data[o]=s[a])}return{series:n,categories:r}}(e),r=w[t],o=r.axisDim+"Axis";r&&(n[o]=n[o]||[],n[o][r.axisIndex]={data:i.categories},n.series=n.series.concat(i.series))}else{var i=function(e){for(var t=e.split(/\n+/g),i=Fj(t.shift()),r=[],n=0;n<t.length;n++){var o=Fj(t[n]);if(o){var s=o.split(F$),a="",l=void 0,u=!1;isNaN(s[0])?(u=!0,a=s[0],s=s.slice(1),r[n]={name:a,value:[]},l=r[n].value):l=r[n]=[];for(var d=0;d<s.length;d++)l.push(+s[d]);1===l.length&&(u?r[n].value=l[0]:r[n]=l[0])}}return{name:i,data:r}}(e);n.series.push(i)}}),e=n)}catch(e){throw T(),Error("Data view format error "+e)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),T()}),x.innerHTML=c[1],_.innerHTML=c[2],_.style.cssText=x.style.cssText=S,u.get("readOnly")||b.appendChild(_),b.appendChild(x),d.appendChild(h),d.appendChild(p),d.appendChild(b),p.style.height=l.clientHeight-80+"px",l.appendChild(d),this._dom=d},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(Fk);Sf({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var i=[];ln(e.newOption.series,function(e){var r=t.getSeriesByName(e.name)[0];if(r){var n,o=r.get("data");i.push({name:e.name,data:(n=e.data,lo(n,function(e,t){var i=o&&o[t];if(!lv(i)||lc(i))return e;lv(e)&&!lc(e)||(e={value:e});var r=null!=i.name&&null==e.name;return e=a9(e,i),r&&delete e.name,e}))})}else i.push(a8({type:"scatter"},e))}),t.mergeOption(a9({series:i},e.newOption))});var FY=c$();function Fq(e){var t=FY(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var FX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.onclick=function(e,t){FY(e).snapshots=null,t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(Fk);Sf({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var FZ=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],FQ=function(){function e(e,t,i){var r=this;this._targetInfoList=[];var n=F0(t,e);ln(F1,function(e,t){(!i||!i.include||le(i.include,t)>=0)&&e(n,r._targetInfoList)})}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(e,t,i){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var r=F3[e.brushType](0,i,t);e.__rangeOffset={offset:F6[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}}),e},e.prototype.matchOutputRanges=function(e,t,i){ln(e,function(e){var r=this.findTargetInfo(e,t);r&&!0!==r&&ln(r.coordSyses,function(r){var n=F3[e.brushType](1,r,e.range,!0);i(e,n.values,r,t)})},this)},e.prototype.setInputRanges=function(e,t){ln(e,function(e){var i=this.findTargetInfo(e,t);if(e.range=e.range||[],i&&!0!==i){e.panelId=i.panelId;var r,n,o,s,a,l=F3[e.brushType](0,i.coordSys,e.coordRange),u=e.__rangeOffset;e.range=u?F6[e.brushType](l.values,u.offset,(r=l.xyMinMax,n=u.xyMinMax,o=F9(r),s=F9(n),isNaN((a=[o[0]/s[0],o[1]/s[1]])[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}},this)},e.prototype.makePanelOpts=function(e,t){return lo(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:Pn(r),isTargetByCursor:Ps(r,e,i.coordSysModel),getLinearBrushOtherExtent:Po(r)}})},e.prototype.controlSeries=function(e,t,i){var r=this.findTargetInfo(e,i);return!0===r||r&&le(r.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,r=F0(t,e),n=0;n<i.length;n++){var o=i[n],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var a=0;a<F2.length;a++)if(F2[a](r,o))return o}return!0},e}();function FJ(e){return e[0]>e[1]&&e.reverse(),e}function F0(e,t){return cY(e,t,{includeMainTypes:FZ})}var F1={grid:function(e,t){var i=e.xAxisModels,r=e.yAxisModels,n=e.gridModels,o=lG(),s={},a={};(i||r||n)&&(ln(i,function(e){var t=e.axis.grid.model;o.set(t.id,t),s[t.id]=!0}),ln(r,function(e){var t=e.axis.grid.model;o.set(t.id,t),a[t.id]=!0}),ln(n,function(e){o.set(e.id,e),s[e.id]=!0,a[e.id]=!0}),o.each(function(e){var n=e.coordinateSystem,o=[];ln(n.getCartesians(),function(e,t){(le(i,e.getAxis("x").model)>=0||le(r,e.getAxis("y").model)>=0)&&o.push(e)}),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:o[0],coordSyses:o,getPanelRect:F5.grid,xAxisDeclared:s[e.id],yAxisDeclared:a[e.id]})}))},geo:function(e,t){ln(e.geoModels,function(e){var i=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:i,coordSyses:[i],getPanelRect:F5.geo})})}},F2=[function(e,t){var i=e.xAxisModel,r=e.yAxisModel,n=e.gridModel;return!n&&i&&(n=i.axis.grid.model),!n&&r&&(n=r.axis.grid.model),n&&n===t.gridModel},function(e,t){var i=e.geoModel;return i&&i===t.geoModel}],F5={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(C9(e)),t}},F3={lineX:lh(F4,0),lineY:lh(F4,1),rect:function(e,t,i,r){var n=e?t.pointToData([i[0][0],i[1][0]],r):t.dataToPoint([i[0][0],i[1][0]],r),o=e?t.pointToData([i[0][1],i[1][1]],r):t.dataToPoint([i[0][1],i[1][1]],r),s=[FJ([n[0],o[0]]),FJ([n[1],o[1]])];return{values:s,xyMinMax:s}},polygon:function(e,t,i,r){var n=[[1/0,-1/0],[1/0,-1/0]];return{values:lo(i,function(i){var o=e?t.pointToData(i,r):t.dataToPoint(i,r);return n[0][0]=Math.min(n[0][0],o[0]),n[1][0]=Math.min(n[1][0],o[1]),n[0][1]=Math.max(n[0][1],o[0]),n[1][1]=Math.max(n[1][1],o[1]),o}),xyMinMax:n}}};function F4(e,t,i,r){var n=i.getAxis(["x","y"][e]),o=FJ(lo([0,1],function(e){return t?n.coordToData(n.toLocalCoord(r[e]),!0):n.toGlobalCoord(n.dataToCoord(r[e]))})),s=[];return s[e]=o,s[1-e]=[NaN,NaN],{values:o,xyMinMax:s}}var F6={lineX:lh(F8,0),lineY:lh(F8,1),rect:function(e,t,i){return[[e[0][0]-i[0]*t[0][0],e[0][1]-i[0]*t[0][1]],[e[1][0]-i[1]*t[1][0],e[1][1]-i[1]*t[1][1]]]},polygon:function(e,t,i){return lo(e,function(e,r){return[e[0]-i[0]*t[r][0],e[1]-i[1]*t[r][1]]})}};function F8(e,t,i,r){return[t[0]-r[e]*i[0],t[1]-r[e]*i[1]]}function F9(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var F7=ck+"toolbox-dataZoom_",Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.render=function(e,t,i,r){var n,o,s,a,l,u,d,h,c;this._brushController||(this._brushController=new IO(i.getZr()),this._brushController.on("brush",ld(this._onBrush,this)).mount()),n=e,o=t,s=this,a=r,l=i,u=s._isZoomActive,a&&"takeGlobalCursor"===a.type&&(u="dataZoomSelect"===a.key&&a.dataZoomSelectActive),s._isZoomActive=u,n.setIconStatus("zoom",u?"emphasis":"normal"),d=new FQ(Oi(n),o,{include:["grid"]}).makePanelOpts(l,function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}),s._brushController.setPanels(d).enableBrush(!!u&&!!d.length&&{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}),h=e,c=t,h.setIconStatus("back",Fq(c).length>1?"emphasis":"normal")},t.prototype.onclick=function(e,t,i){Ot[i].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var i,r,n,o={},s=this.ecModel;this._brushController.updateCovers([]),new FQ(Oi(this.model),s,{include:["grid"]}).matchOutputRanges(t,s,function(e,t,i){if("cartesian2d"===i.type){var r=e.brushType;"rect"===r?(a("x",i,t[0]),a("y",i,t[1])):a({lineX:"x",lineY:"y"}[r],i,t)}}),i=s,r=o,n=Fq(i),ln(r,function(e,t){for(var r=n.length-1;r>=0&&!n[r][t];r--);if(r<0){var o=i.queryComponents({mainType:"dataZoom",subType:"select",id:t})[0];if(o){var s=o.getPercentRange();n[0][t]={dataZoomId:t,start:s[0],end:s[1]}}}}),n.push(r),this._dispatchZoomAction(o)}function a(e,t,i){var r,n,a,l=t.getAxis(e),u=l.model,d=(r=e,n=u,s.eachComponent({mainType:"dataZoom",subType:"select"},function(e){e.getAxisModel(r,n.componentIndex)&&(a=e)}),a),h=d.findRepresentativeAxisProxy(u).getMinMaxSpan();(null!=h.minValueSpan||null!=h.maxValueSpan)&&(i=Iv(0,i.slice(),l.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),d&&(o[d.id]={dataZoomId:d.id,startValue:i[0],endValue:i[1]})}},t.prototype._dispatchZoomAction=function(e){var t=[];ln(e,function(e,i){t.push(a3(e))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(Fk),Ot={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){var e,t,i;this._dispatchZoomAction((t=(e=Fq(this.ecModel))[e.length-1],e.length>1&&e.pop(),i={},ln(t,function(t,r){for(var n=e.length-1;n>=0;n--)if(t=e[n][r]){i[r]=t;break}}),i))}};function Oi(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}b=function(e){var t=e.getComponent("toolbox",0),i=["feature","dataZoom"];if(t&&null!=t.get(i)){var r=t.getModel(i),n=[],o=cY(e,Oi(r));return ln(o.xAxisModels,function(e){return s(e,"xAxis","xAxisIndex")}),ln(o.yAxisModels,function(e){return s(e,"yAxis","yAxisIndex")}),n}function s(e,t,i){var o=e.componentIndex,s={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:F7+t+o};s[i]=o,n.push(s)}},lA(null==m6.get("dataZoom")&&b),m6.set("dataZoom",b);var Or=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(mB);function On(e){var t=e.get("confine");return null!=t?!!t:"richText"===e.get("renderMode")}function Oo(e){if(aG.domSupported){for(var t=document.documentElement.style,i=0,r=e.length;i<r;i++)if(e[i]in t)return e[i]}}var Os=Oo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function Oa(e,t){if(!e)return t;t=mw(t,!0);var i=e.indexOf(t);return(e=-1===i?t:"-"+e.slice(0,i)+"-"+t).toLowerCase()}var Ol=Oa(Oo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Ou=Oa(Os,"transform"),Od="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(aG.transform3dSupported?"will-change:transform;":"");function Oh(e,t,i){var r=e.toFixed(0)+"px",n=t.toFixed(0)+"px";if(!aG.transformSupported)return i?"top:"+n+";left:"+r+";":[["top",n],["left",r]];var o=aG.transform3dSupported,s="translate"+(o?"3d":"")+"("+r+","+n+(o?",0":"")+")";return i?"top:0;left:0;"+Ou+":"+s+";":[["top",0],["left",0],[Os,s]]}function Oc(e,t,i,r,n){var o=t&&t.painter;if(i){var s=o&&o.getViewportRoot();s&&uc(uh,s,r,n,!0)&&uc(e,i,uh[0],uh[1])}else{e[0]=r,e[1]=n;var a=o&&o.getViewportRootOffset();a&&(e[0]+=a.offsetLeft,e[1]+=a.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var Op=function(){function e(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,aG.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),n=t.appendTo,o=n&&(lg(n)?document.querySelector(n):lw(n)?n:lp(n)&&n(e.getDom()));Oc(this._styleCoord,r,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(i),this._api=e,this._container=o;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!s._enterable){var t=r.handler;ux(r.painter.getViewportRoot(),e,!0),t.dispatch("mousemove",e)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(e){if(!this._container){var t,i,r=this._api.getDom(),n=(t="position",(i=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r))?t?i[t]:i:null),o=r.style;"absolute"!==o.position&&"absolute"!==n&&(o.position="relative")}var s=e.get("alwaysShowContent");s&&this._moveIfResized(),this._alwaysShowContent=s,this.el.className=e.get("className")||""},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i,r,n,o,s,a,l,u,d,h,c,p,g,f,m,v,y,C,w,b,S,x,_=this.el,E=_.style,T=this._styleCoord;_.innerHTML?E.cssText=Od+(i=!this._firstShow,r=this._longHide,n=[],o=e.get("transitionDuration"),s=e.get("backgroundColor"),a=e.get("shadowBlur"),l=e.get("shadowColor"),u=e.get("shadowOffsetX"),d=e.get("shadowOffsetY"),h=e.getModel("textStyle"),c=yI(e,"html"),p=u+"px "+d+"px "+a+"px "+l,n.push("box-shadow:"+p),i&&o&&n.push((f="opacity"+(g=" "+o/2+"s cubic-bezier(0.23,1,0.32,1)")+",visibility"+g,r||(g=" "+o+"s cubic-bezier(0.23,1,0.32,1)",f+=aG.transformSupported?","+Ou+g:",left"+g+",top"+g),Ol+":"+f)),s&&n.push("background-color:"+s),ln(["width","color","radius"],function(t){var i="border-"+t,r=mw(i),o=e.get(r);null!=o&&n.push(i+":"+o+("color"===t?"":"px"))}),n.push((m=[],v=h.get("fontSize"),(y=h.getTextColor())&&m.push("color:"+y),m.push("font:"+h.getFont()),C=lT(h.get("lineHeight"),Math.round(3*v/2)),v&&m.push("line-height:"+C+"px"),w=h.get("textShadowColor"),b=h.get("textShadowBlur")||0,S=h.get("textShadowOffsetX")||0,x=h.get("textShadowOffsetY")||0,w&&b&&m.push("text-shadow:"+S+"px "+x+"px "+b+"px "+w),ln(["decoration","align"],function(e){var t=h.get(e);t&&m.push("text-"+e+":"+t)}),m.join(";"))),null!=c&&n.push("padding:"+lD(c).join("px ")+"px"),n.join(";")+";")+Oh(T[0],T[1],!0)+"border-color:"+mR(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):E.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,i,r,n){var o=this.el;if(null==e){o.innerHTML="";return}var s="";if(lg(n)&&"item"===i.get("trigger")&&!On(i)&&(s=function(e,t,i){if(!lg(i)||"inside"===i)return"";var r,n,o=e.get("backgroundColor"),s=e.get("borderWidth");t=mR(t);var a=r="left"===(r=i)?"right":"right"===r?"left":"top"===r?"bottom":"top",l=Math.max(1.5*Math.round(s),6),u="",d=Ou+":";le(["left","right"],a)>-1?(u+="top:50%",d+="translateY(-50%) rotate("+(n="left"===a?-225:-45)+"deg)"):(u+="left:50%",d+="translateX(-50%) rotate("+(n="top"===a?225:45)+"deg)");var h=n*Math.PI/180,c=l+s,p=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h));u+=";"+a+":-"+Math.round(((p-Math.SQRT2*s)/2+Math.SQRT2*s-(p-c)/2)*100)/100+"px";var g=t+" solid "+s+"px;";return'<div style="'+["position:absolute;width:"+l+"px;height:"+l+"px;z-index:-1;",u+";"+d+";","border-bottom:"+g,"border-right:"+g,"background-color:"+o+";"].join("")+'"></div>'}(i,r,n)),lg(e))o.innerHTML=e+s;else if(e){o.innerHTML="",lc(e)||(e=[e]);for(var a=0;a<e.length;a++)lw(e[a])&&e[a].parentNode!==o&&o.appendChild(e[a]);if(s&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=s,o.appendChild(l)}}},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},e.prototype.moveTo=function(e,t){if(this.el){var i=this._styleCoord;if(Oc(i,this._zr,this._container,e,t),null!=i[0]&&null!=i[1]){var r=this.el.style;ln(Oh(i[0],i[1]),function(e){r[e[0]]=e[1]})}}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",aG.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ld(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},e}(),Og=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Ov(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,t,i,r,n){var o=this;lv(e)&&vr(""),this.el&&this._zr.remove(this.el);var s=i.getModel("textStyle");this.el=new gx({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:yI(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),ln(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(e){o.el.style[e]=i.get(e)}),ln(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(e){o.el.style[e]=s.get(e)||0}),this._zr.add(this.el);var a=this;this.el.on("mouseover",function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0}),this.el.on("mouseout",function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1})},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=Om(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},e.prototype.moveTo=function(e,t){var i=this.el;if(i){var r=this._styleCoord;Ov(r,this._zr,e,t),e=r[0],t=r[1];var n=i.style,o=Of(n.borderWidth||0),s=Om(n);i.x=e+o+s.left,i.y=t+o+s.top,i.markRedraw()}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ld(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function Of(e){return Math.max(0,e)}function Om(e){var t=Of(e.shadowBlur||0),i=Of(e.shadowOffsetX||0),r=Of(e.shadowOffsetY||0);return{left:Of(t-i),right:Of(t+i),top:Of(t-r),bottom:Of(t+r)}}function Ov(e,t,i,r){e[0]=i,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var Oy=new gw({shape:{x:-1,y:-1,width:2,height:2}}),OC=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(e,t){if(!aG.node&&t.getDom()){var i,r=e.getComponent("tooltip"),n=this._renderMode="auto"===(i=r.get("renderMode"))?aG.domSupported?"html":"richText":i||"html";this._tooltipContent="richText"===n?new Og(t):new Op(t,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},t.prototype.render=function(e,t,i){if(!aG.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=i;var r=this._tooltipContent;r.update(e),r.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?wS(this,"_updatePosition",50,"fixRate"):w_(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");Nr("itemTooltip",this._api,ld(function(t,i,r){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,r):"leave"===t&&this._hide(r))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,i=this._api,r=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==r&&"click"!==r){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.isDisposed()||n.manuallyShowTip(e,t,i,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,t,i,r){if(r.from!==this.uid&&!aG.node&&i.getDom()){var n=Ob(r,i);this._ticket="";var o=r.dataByCoordSys,s=function(e,t,i){var r,n=cq(e).queryOptionMap,o=n.keys()[0];if(o&&"series"!==o){var s=cQ(t,o,n.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(s&&(i.getViewOfComponentModel(s).group.traverse(function(t){var i=gF(t).tooltipConfig;if(i&&i.name===e.name)return r=t,!0}),r))return{componentMainType:o,componentIndex:s.componentIndex,el:r}}}(r,t,i);if(s){var a=s.el.getBoundingRect().clone();a.applyTransform(s.el.transform),this._tryShow({offsetX:a.x+a.width/2,offsetY:a.y+a.height/2,target:s.el,position:r.position,positionDefault:"bottom"},n)}else if(r.tooltip&&null!=r.x&&null!=r.y)Oy.x=r.x,Oy.y=r.y,Oy.update(),gF(Oy).tooltipConfig={name:null,option:r.tooltip},this._tryShow({offsetX:r.x,offsetY:r.y,target:Oy},n);else if(o)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:o,tooltipOption:r.tooltipOption},n);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(e,t,i,r))return;var l=Nl(r,t),u=l.point[0],d=l.point[1];null!=u&&null!=d&&this._tryShow({offsetX:u,offsetY:d,target:l.el,position:r.position,positionDefault:"bottom"},n)}else null!=r.x&&null!=r.y&&(i.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:i.getZr().findHover(r.x,r.y).target},n))}},t.prototype.manuallyHideTip=function(e,t,i,r){var n=this._tooltipContent;this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,r.from!==this.uid&&this._hide(Ob(r,i))},t.prototype._manuallyAxisShowTip=function(e,t,i,r){var n=r.seriesIndex,o=r.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=o&&null!=s){var a=t.getSeriesByIndex(n);if(a&&"axis"===Ow([a.getData().getItemModel(o),a,(a.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:o,position:r.position}),!0}},t.prototype._tryShow=function(e,t){var i=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var r,n,o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(i){if("legend"===gF(i).ssrType)return;this._lastDataByCoordSys=null,w4(i,function(e){return null!=gF(e).dataIndex?(r=e,!0):null!=gF(e).tooltipConfig?(n=e,!0):void 0},!0),r?this._showSeriesItemTooltip(e,r,t):n?this._showComponentItemTooltip(e,n,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},t.prototype._showOrMove=function(e,t){var i=e.get("showDelay");t=ld(t,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(t,i):t()},t.prototype._showAxisTooltip=function(e,t){var i=this._ecModel,r=this._tooltipModel,n=[t.offsetX,t.offsetY],o=Ow([t.tooltipOption],r),s=this._renderMode,a=[],l=yx("section",{blocks:[],noHeader:!0}),u=[],d=new yP;ln(e,function(e){ln(e.dataByAxis,function(e){var t=i.getComponent(e.axisDim+"Axis",e.axisIndex),n=e.value;if(t&&null!=n){var o=k1(n,t.axis,i,e.seriesDataIndices,e.valueLabelOpt),h=yx("section",{header:o,noHeader:!lI(o),sortBlocks:!0,blocks:[]});l.blocks.push(h),ln(e.seriesDataIndices,function(l){var c=i.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,g=c.getDataParams(p);if(!(g.dataIndex<0)){g.axisDim=e.axisDim,g.axisIndex=e.axisIndex,g.axisType=e.axisType,g.axisId=e.axisId,g.axisValue=TT(t.axis,{value:n}),g.axisValueLabel=o,g.marker=d.makeTooltipMarker("item",mR(g.color),s);var f=vQ(c.formatTooltip(p,!0,null)),m=f.frag;if(m){var v=Ow([c],r).get("valueFormatter");h.blocks.push(v?a8({valueFormatter:v},m):m)}f.text&&u.push(f.text),a.push(g)}})}})}),l.blocks.reverse(),u.reverse();var h=t.position,c=yM(l,d,s,o.get("order"),i.get("useUTC"),o.get("textStyle"));c&&u.unshift(c);var p="richText"===s?"\n\n":"<br/>",g=u.join(p);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(e,a)?this._updatePosition(o,h,n[0],n[1],this._tooltipContent,a):this._showTooltipContent(o,g,a,Math.random()+"",n[0],n[1],h,null,d)})},t.prototype._showSeriesItemTooltip=function(e,t,i){var r=this._ecModel,n=gF(t),o=n.seriesIndex,s=r.getSeriesByIndex(o),a=n.dataModel||s,l=n.dataIndex,u=n.dataType,d=a.getData(u),h=this._renderMode,c=e.positionDefault,p=Ow([d.getItemModel(l),a,s&&(s.coordinateSystem||{}).model],this._tooltipModel,c?{position:c}:null),g=p.get("trigger");if(null==g||"item"===g){var f=a.getDataParams(l,u),m=new yP;f.marker=m.makeTooltipMarker("item",mR(f.color),h);var v=vQ(a.formatTooltip(l,!1,u)),y=p.get("order"),C=p.get("valueFormatter"),w=v.frag,b=w?yM(C?a8({valueFormatter:C},w):w,m,h,y,r.get("useUTC"),p.get("textStyle")):v.text,S="item_"+a.name+"_"+l;this._showOrMove(p,function(){this._showTooltipContent(p,b,f,S,e.offsetX,e.offsetY,e.position,e.target,m)}),i({type:"showTip",dataIndexInside:l,dataIndex:d.getRawIndex(l),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,i){var r="html"===this._renderMode,n=gF(t),o=n.tooltipConfig.option||{},s=o.encodeHTMLContent;if(lg(o)){var a=o;o={content:a,formatter:a},s=!0}s&&r&&o.content&&((o=a3(o)).content=um(o.content));var l=[o],u=this._ecModel.getComponent(n.componentMainType,n.componentIndex);u&&l.push(u),l.push({formatter:o.content});var d=e.positionDefault,h=Ow(l,this._tooltipModel,d?{position:d}:null),c=h.get("content"),p=Math.random()+"",g=new yP;this._showOrMove(h,function(){var i=a3(h.get("formatterParams")||{});this._showTooltipContent(h,c,i,p,e.offsetX,e.offsetY,e.position,t,g)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,t,i,r,n,o,s,a,l){if(this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent;u.setEnterable(e.get("enterable"));var d=e.get("formatter");s=s||e.get("position");var h=t,c=this._getNearestPoint([n,o],i,e.get("trigger"),e.get("borderColor")).color;if(d)if(lg(d)){var p=e.ecModel.get("useUTC"),g=lc(i)?i[0]:i,f=g&&g.axisType&&g.axisType.indexOf("time")>=0;h=d,f&&(h=mr(g.axisValue,h,p)),h=m_(h,i,!0)}else if(lp(d)){var m=ld(function(t,r){t===this._ticket&&(u.setContent(r,l,e,c,s),this._updatePosition(e,s,n,o,u,i,a))},this);this._ticket=r,h=d(i,r,m)}else h=d;u.setContent(h,l,e,c,s),u.show(e,c),this._updatePosition(e,s,n,o,u,i,a)}},t.prototype._getNearestPoint=function(e,t,i,r){return"axis"===i||lc(t)?{color:r||("html"===this._renderMode?"#fff":"none")}:lc(t)?void 0:{color:r||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,i,r,n,o,s){var a=this._api.getWidth(),l=this._api.getHeight();t=t||e.get("position");var u=n.getSize(),d=e.get("align"),h=e.get("verticalAlign"),c=s&&s.getBoundingRect().clone();if(s&&c.applyTransform(s.transform),lp(t)&&(t=t([i,r],o,n.el,c,{viewSize:[a,l],contentSize:u.slice()})),lc(t))i=cc(t[0],a),r=cc(t[1],l);else if(lv(t)){var p=t;p.width=u[0],p.height=u[1];var g=mL(p,{width:a,height:l});i=g.x,r=g.y,d=null,h=null}else if(lg(t)&&s){var f=function(e,t,i,r){var n=i[0],o=i[1],s=Math.ceil(Math.SQRT2*r)+8,a=0,l=0,u=t.width,d=t.height;switch(e){case"inside":a=t.x+u/2-n/2,l=t.y+d/2-o/2;break;case"top":a=t.x+u/2-n/2,l=t.y-o-s;break;case"bottom":a=t.x+u/2-n/2,l=t.y+d+s;break;case"left":a=t.x-n-s,l=t.y+d/2-o/2;break;case"right":a=t.x+u+s,l=t.y+d/2-o/2}return[a,l]}(t,c,u,e.get("borderWidth"));i=f[0],r=f[1]}else{var m,v,y,C,w,b,S,x,_,E,f=(m=i,v=r,y=n,C=a,w=l,b=d?null:20,S=h?null:20,_=(x=y.getSize())[0],E=x[1],null!=b&&(m+_+b+2>C?m-=_+b:m+=b),null!=S&&(v+E+S>w?v-=E+S:v+=S),[m,v]);i=f[0],r=f[1]}if(d&&(i-=OS(d)?u[0]/2:"right"===d?u[0]:0),h&&(r-=OS(h)?u[1]/2:"bottom"===h?u[1]:0),On(e)){var T,M,R,D,A,I,P,L,f=(T=i,M=r,R=n,D=a,A=l,P=(I=R.getSize())[0],L=I[1],T=Math.min(T+P,D)-P,M=Math.min(M+L,A)-L,[T=Math.max(T,0),M=Math.max(M,0)]);i=f[0],r=f[1]}n.moveTo(i,r)},t.prototype._updateContentNotChangedOnAxis=function(e,t){var i=this._lastDataByCoordSys,r=this._cbParamsList,n=!!i&&i.length===e.length;return n&&ln(i,function(i,o){var s=i.dataByAxis||[],a=(e[o]||{}).dataByAxis||[];(n=n&&s.length===a.length)&&ln(s,function(e,i){var o=a[i]||{},s=e.seriesDataIndices||[],l=o.seriesDataIndices||[];(n=n&&e.value===o.value&&e.axisType===o.axisType&&e.axisId===o.axisId&&s.length===l.length)&&ln(s,function(e,t){var i=l[t];n=n&&e.seriesIndex===i.seriesIndex&&e.dataIndex===i.dataIndex}),r&&ln(e.seriesDataIndices,function(e){var i=e.seriesIndex,o=t[i],s=r[i];o&&s&&s.data!==o.data&&(n=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=t,!!n},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,t){!aG.node&&t.getDom()&&(w_(this,"_updatePosition"),this._tooltipContent.dispose(),Ns("itemTooltip",t))},t.type="tooltip",t}(yj);function Ow(e,t,i){var r,n=t.ecModel;i?(r=new fQ(i,n,n),r=new fQ(t.option,r,n)):r=t;for(var o=e.length-1;o>=0;o--){var s=e[o];s&&(s instanceof fQ&&(s=s.get("tooltip",!0)),lg(s)&&(s={formatter:s}),s&&(r=new fQ(s,r,n)))}return r}function Ob(e,t){return e.dispatchAction||ld(t.dispatchAction,t)}function OS(e){return"center"===e||"middle"===e}var Ox=["rect","polygon","keep","clear"];function O_(e,t){var i=cN(e?e.brush:[]);if(i.length){var r,n,o=[];ln(i,function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(o=o.concat(t))});var s=e&&e.toolbox;lc(s)&&(s=s[0]),s||(e.toolbox=[s={feature:{}}]);var a=s.feature||(s.feature={}),l=a.brush||(a.brush={}),u=l.type||(l.type=[]);u.push.apply(u,o),n={},ln(r=u,function(e){n[e]=1}),r.length=0,ln(n,function(e,t){r.push(t)}),t&&!u.length&&u.push.apply(u,Ox)}}function OE(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function OT(e,t,i){var r={};return ln(t,function(t){var n,o=r[t]=((n=function(){}).prototype.__hidden=n.prototype,new n);ln(e[t],function(e,r){if(DB.isValidType(r)){var n={type:r,visual:e};i&&i(n,t),o[r]=new DB(n),"opacity"===r&&((n=a3(n)).type="colorAlpha",o.__hidden.__alphaForOpacity=new DB(n))}})}),r}function OM(e,t,i){var r;ln(i,function(e){t.hasOwnProperty(e)&&OE(t[e])&&(r=!0)}),r&&ln(i,function(i){t.hasOwnProperty(i)&&OE(t[i])?e[i]=a3(t[i]):delete e[i]})}var OR={lineX:OD(0),lineY:OD(1),rect:{point:function(e,t,i){return e&&i.boundingRect.contain(e[0],e[1])},rect:function(e,t,i){return e&&i.boundingRect.intersect(e)}},polygon:{point:function(e,t,i){return e&&i.boundingRect.contain(e[0],e[1])&&M9(i.range,e[0],e[1])},rect:function(e,t,i){var r=i.range;if(!e||r.length<=1)return!1;var n=e.x,o=e.y,s=e.width,a=e.height,l=r[0];if(M9(r,n,o)||M9(r,n+s,o)||M9(r,n,o+a)||M9(r,n+s,o+a)||uY.create(e).contain(l[0],l[1])||wo(n,o,n+s,o,r)||wo(n,o,n,o+a,r)||wo(n+s,o,n+s,o+a,r)||wo(n,o+a,n+s,o+a,r))return!0}}};function OD(e){var t=["x","y"],i=["width","height"];return{point:function(t,i,r){if(t){var n=r.range;return OA(t[e],n)}},rect:function(r,n,o){if(r){var s=o.range,a=[r[t[e]],r[t[e]]+r[i[e]]];return a[1]<a[0]&&a.reverse(),OA(a[0],s)||OA(a[1],s)||OA(s[0],a)||OA(s[1],a)}}}}function OA(e,t){return t[0]<=e&&e<=t[1]}var OI=["inBrush","outOfBrush"],OP="__ecBrushSelect",OL="__ecInBrushSelectEvent";function Ok(e){e.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new FQ(t.option,e)).setInputRanges(t.areas,e)})}function ON(e,t,i){var r,n,o=[];e.eachComponent({mainType:"brush"},function(e){i&&"takeGlobalCursor"===i.type&&e.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1})}),Ok(e),e.eachComponent({mainType:"brush"},function(t,i){var s={brushId:t.id,brushIndex:i,brushName:t.name,areas:a3(t.areas),selected:[]};o.push(s);var a=t.option,l=a.brushLink,u=[],d=[],h=[],c=!1;i||(r=a.throttleType,n=a.throttleDelay);var p=lo(t.areas,function(e){var t,i,r=OG[e.brushType],n=a9({boundingRect:r?r(e):void 0},e);return t=n.brushType,n.selectors=i={point:function(e){return OR[t].point(e,i,n)},rect:function(e){return OR[t].rect(e,i,n)}},n}),g=OT(t.option,OI,function(e){e.mappingMethod="fixed"});function f(e){return"all"===l||!!u[e]}function m(e){return!!e.length}lc(l)&&ln(l,function(e){u[e]=1}),e.eachSeries(function(i,r){var n,o,s,a=h[r]=[];"parallel"===i.subType?(n=i,o=r,s=n.coordinateSystem,c=c||s.hasAxisBrushed(),f(o)&&s.eachActiveState(n.getData(),function(e,t){"active"===e&&(d[t]=1)})):function(i,r,n){if(!(!i.brushSelector||(o=t,s=r,null!=(a=o.option.seriesIndex)&&"all"!==a&&(lc(a)?0>le(a,s):s!==a)))&&(ln(p,function(r){t.brushTargetManager.controlSeries(r,i,e)&&n.push(r),c=c||m(n)}),f(r)&&m(n))){var o,s,a,l=i.getData();l.each(function(e){OO(i,n,l,e)&&(d[e]=1)})}}(i,r,a)}),e.eachSeries(function(e,t){var i={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};s.selected.push(i);var r=h[t],n=e.getData(),o=f(t)?function(e){return d[e]?(i.dataIndex.push(n.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return OO(e,r,n,t)?(i.dataIndex.push(n.getRawIndex(t)),"inBrush"):"outOfBrush"};(f(t)?c:m(r))&&function(e,t,i,r,n,o){var s,a={};function l(e){return w0(i,s,e)}function u(e,t){w2(i,s,e,t)}ln(e,function(e){var i=DB.prepareVisualTypes(t[e]);a[e]=i}),i.each(function(e,n){s=e;var o=i.getRawDataItem(s);if(!o||!1!==o.visualMap)for(var d=r.call(void 0,e),h=t[d],c=a[d],p=0,g=c.length;p<g;p++){var f=c[p];h[f]&&h[f].applyVisual(e,l,u)}})}(OI,g,n,o)})}),function(e,t,i,r,n){if(n){var o=e.getZr();o[OL]||(o[OP]||(o[OP]=OF),wS(o,OP,i,t)(e,r))}}(t,r,n,o,i)}function OF(e,t){if(!e.isDisposed()){var i=e.getZr();i[OL]=!0,e.dispatchAction({type:"brushSelect",batch:t}),i[OL]=!1}}function OO(e,t,i,r){for(var n=0,o=t.length;n<o;n++){var s=t[n];if(e.brushSelector(r,i,s.selectors,s))return!0}}var OG={rect:function(e){return OV(e.range)},polygon:function(e){for(var t,i=e.range,r=0,n=i.length;r<n;r++){t=t||[[1/0,-1/0],[1/0,-1/0]];var o=i[r];o[0]<t[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&OV(t)}};function OV(e){return new uY(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var OB=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new IO(t.getZr())).on("brush",ld(this._onBrush,this)).mount()},t.prototype.render=function(e,t,i,r){this.model=e,this._updateController(e,t,i,r)},t.prototype.updateTransform=function(e,t,i,r){Ok(t),this._updateController(e,t,i,r)},t.prototype.updateVisual=function(e,t,i,r){this.updateTransform(e,t,i,r)},t.prototype.updateView=function(e,t,i,r){this._updateController(e,t,i,r)},t.prototype._updateController=function(e,t,i,r){r&&r.$from===e.id||this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:a3(i),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:a3(i),$from:t})},t.type="brush",t}(yj),OH=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.areas=[],i.brushOption={},i}return aF(t,e),t.prototype.optionUpdated=function(e,t){var i=this.option;t||OM(i,e,["inBrush","outOfBrush"]);var r=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:"#ddd"},r.hasOwnProperty("liftZ")||(r.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=lo(e,function(e){return Oz(this.option,e)},this))},t.prototype.setBrushOption=function(e){this.brushOption=Oz(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(mB);function Oz(e,t){return a4({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new fQ(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var OW=["rect","polygon","lineX","lineY","keep","clear"],OU=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aF(t,e),t.prototype.render=function(e,t,i){var r,n,o;t.eachComponent({mainType:"brush"},function(e){r=e.brushType,n=e.brushOption.brushMode||"single",o=o||!!e.areas.length}),this._brushType=r,this._brushMode=n,ln(e.get("type",!0),function(t){e.setIconStatus(t,("keep"===t?"multiple"===n:"clear"===t?o:t===r)?"emphasis":"normal")})},t.prototype.updateView=function(e,t,i){this.render(e,t,i)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),i={};return ln(e.get("type",!0),function(e){t[e]&&(i[e]=t[e])}),i},t.prototype.onclick=function(e,t,i){var r=this._brushType,n=this._brushMode;"clear"===i?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?r:r!==i&&i,brushMode:"keep"===i?"multiple"===n?"single":"multiple":n}})},t.getDefaultOption=function(e){return{show:!0,type:OW.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(Fk),Oj=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.layoutMode={type:"box",ignoreSize:!0},i}return aF(t,e),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(mB),O$=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.render=function(e,t,i){if(this.group.removeAll(),e.get("show")){var r=this.group,n=e.getModel("textStyle"),o=e.getModel("subtextStyle"),s=e.get("textAlign"),a=lT(e.get("textBaseline"),e.get("textVerticalAlign")),l=new gx({style:fP(n,{text:e.get("text"),fill:n.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),d=e.get("subtext"),h=new gx({style:fP(o,{text:d,fill:o.getTextColor(),y:u.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),c=e.get("link"),p=e.get("sublink"),g=e.get("triggerEvent",!0);l.silent=!c&&!g,h.silent=!p&&!g,c&&l.on("click",function(){mD(c,"_"+e.get("target"))}),p&&h.on("click",function(){mD(p,"_"+e.get("subtarget"))}),gF(l).eventData=gF(h).eventData=g?{componentType:"title",componentIndex:e.componentIndex}:null,r.add(l),d&&r.add(h);var f=r.getBoundingRect(),m=e.getBoxLayoutParams();m.width=f.width,m.height=f.height;var v=mL(m,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));s||("middle"===(s=e.get("left")||e.get("right"))&&(s="center"),"right"===s?v.x+=v.width:"center"===s&&(v.x+=v.width/2)),a||("center"===(a=e.get("top")||e.get("bottom"))&&(a="middle"),"bottom"===a?v.y+=v.height:"middle"===a&&(v.y+=v.height/2),a=a||"top"),r.x=v.x,r.y=v.y,r.markRedraw();var y={align:s,verticalAlign:a};l.setStyle(y),h.setStyle(y),f=r.getBoundingRect();var C=v.margin,w=e.getItemStyle(["color","opacity"]);w.fill=e.get("backgroundColor");var b=new gw({shape:{x:f.x-C[3],y:f.y-C[0],width:f.width+C[1]+C[3],height:f.height+C[0]+C[2],r:e.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});r.add(b)}},t.type="title",t}(yj),OK=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.layoutMode="box",i}return aF(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,t=this.option,i=t.data||[],r=t.axisType,n=this._names=[];"category"===r?(e=[],ln(i,function(t,i){var r,o=cz(cG(t),"");lv(t)?(r=a3(t)).value=i:r=i,e.push(r),n.push(o)})):e=i,(this._data=new xU([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[r]||"number"}],this)).initData(e,n)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(mB),OY=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="timeline.slider",t.defaultOption=f1(OK.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(OK);li(OY,vZ.prototype);var Oq=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="timeline",t}(yj),OX=function(e){function t(t,i,r,n){var o=e.call(this,t,i,r)||this;return o.type=n||"value",o}return aF(t,e),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(TW),OZ=Math.PI,OQ=c$(),OJ=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(e,t){this.api=t},t.prototype.render=function(e,t,i){if(this.model=e,this.api=i,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var r=this._layout(e,i),n=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),s=this._axis=this._createAxis(r,e);e.formatTooltip=function(e){return yx("nameValue",{noName:!0,value:s.scale.getLabel({value:e})})},ln(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](r,n,s,e)},this),this._renderAxisLabel(r,o,s,e),this._position(r,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var i,r,n,o,s,a,l=e.get(["label","position"]),u=e.get("orient"),d=(i=e,r=t,mL(i.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()},i.get("padding"))),h={horizontal:"center",vertical:(n=null==l||"auto"===l?"horizontal"===u?d.y+d.height/2<t.getHeight()/2?"-":"+":d.x+d.width/2<t.getWidth()/2?"+":"-":lg(l)?({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[u][l]:l)>=0||"+"===n?"left":"right"},c="vertical"===u?d.height:d.width,p=e.getModel("controlStyle"),g=p.get("show",!0),f=g?p.get("itemSize"):0,m=g?p.get("itemGap"):0,v=f+m,y=e.get(["label","rotate"])||0;y=y*OZ/180;var C=p.get("position",!0),w=g&&p.get("showPlayBtn",!0),b=g&&p.get("showPrevBtn",!0),S=g&&p.get("showNextBtn",!0),x=0,_=c;"left"===C||"bottom"===C?(w&&(o=[0,0],x+=v),b&&(s=[x,0],x+=v)):(w&&(o=[_-f,0],_-=v),b&&(s=[0,0],x+=v)),S&&(a=[_-f,0],_-=v);var E=[x,_];return e.get("inverse")&&E.reverse(),{viewRect:d,mainLength:c,orient:u,rotation:({horizontal:0,vertical:OZ/2})[u],labelRotation:y,labelPosOpt:n,labelAlign:e.get(["label","align"])||h[u],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||({horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"})[u],playPosition:o,prevBtnPosition:s,nextBtnPosition:a,axisExtent:E,controlSize:f,controlGap:m}},t.prototype._position=function(e,t){var i=this._mainGroup,r=this._labelGroup,n=e.viewRect;if("vertical"===e.orient){var o=uA(),s=n.x,a=n.y+n.height;uk(o,o,[-s,-a]),uN(o,o,-OZ/2),uk(o,o,[s,a]),(n=n.clone()).applyTransform(o)}var l=m(n),u=m(i.getBoundingRect()),d=m(r.getBoundingRect()),h=[i.x,i.y],c=[r.x,r.y];c[0]=h[0]=l[0][0];var p=e.labelPosOpt;if(null==p||lg(p)){var g=+("+"!==p);v(h,u,l,1,g),v(c,d,l,1,1-g)}else{var g=p>=0?0:1;v(h,u,l,1,g),c[1]=h[1]+p}function f(e){e.originX=l[0][0]-e.x,e.originY=l[1][0]-e.y}function m(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function v(e,t,i,r,n){e[r]+=i[r][n]-t[r][n]}i.setPosition(h),r.setPosition(c),i.rotation=r.rotation=e.rotation,f(i),f(r)},t.prototype._createAxis=function(e,t){var i=t.getData(),r=t.get("axisType"),n=function(e,t){if(t=t||e.get("type"))switch(t){case"category":return new Tr({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new Ts({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new Tn}}(t,r);n.getTicks=function(){return i.mapArray(["value"],function(e){return{value:e}})};var o=i.getDataExtent("value");n.setExtent(o[0],o[1]),n.calcNiceTicks();var s=new OX("value",n,e.axisExtent,r);return s.model=t,s},t.prototype._createGroup=function(e){var t=this[e]=new ce;return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,i,r){var n=i.getExtent();if(r.get(["lineStyle","show"])){var o=new CR({shape:{x1:n[0],y1:0,x2:n[1],y2:0},style:a8({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(o);var s=this._progressLine=new CR({shape:{x1:n[0],x2:this._currentPointer?this._currentPointer.x:n[0],y1:0,y2:0},style:a9({lineCap:"round",lineWidth:o.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(s)}},t.prototype._renderAxisTick=function(e,t,i,r){var n=this,o=r.getData(),s=i.scale.getTicks();this._tickSymbols=[],ln(s,function(e){var s=i.dataToCoord(e.value),a=o.getItemModel(e.value),l=a.getModel("itemStyle"),u=a.getModel(["emphasis","itemStyle"]),d=a.getModel(["progress","itemStyle"]),h=O0(a,l,t,{x:s,y:0,onclick:ld(n._changeTimeline,n,e.value)});h.ensureState("emphasis").style=u.getItemStyle(),h.ensureState("progress").style=d.getItemStyle(),fa(h);var c=gF(h);a.get("tooltip")?(c.dataIndex=e.value,c.dataModel=r):c.dataIndex=c.dataModel=null,n._tickSymbols.push(h)})},t.prototype._renderAxisLabel=function(e,t,i,r){var n=this;if(i.getLabelModel().get("show")){var o=r.getData(),s=i.getViewLabels();this._tickLabels=[],ln(s,function(r){var s=r.tickValue,a=o.getItemModel(s),l=a.getModel("label"),u=a.getModel(["emphasis","label"]),d=a.getModel(["progress","label"]),h=new gx({x:i.dataToCoord(r.tickValue),y:0,rotation:e.labelRotation-e.rotation,onclick:ld(n._changeTimeline,n,s),silent:!1,style:fP(l,{text:r.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});h.ensureState("emphasis").style=fP(u),h.ensureState("progress").style=fP(d),t.add(h),fa(h),OQ(h).dataIndex=s,n._tickLabels.push(h)})}},t.prototype._renderControl=function(e,t,i,r){var n=e.controlSize,o=e.rotation,s=r.getModel("controlStyle").getItemStyle(),a=r.getModel(["emphasis","controlStyle"]).getItemStyle(),l=r.getPlayState(),u=r.get("inverse",!0);function d(e,i,l,u){if(e){var d,h,c,p,g,f,m=h0(lT(r.get(["controlStyle",i+"BtnSize"]),n),n),v=(d=r,h=i+"Icon",c=[0,-m/2,m,m],g=(p={x:e[0],y:e[1],originX:n/2,originY:0,rotation:u?-o:0,rectHover:!0,style:s,onclick:l}).style,f=wn(d.get(["controlStyle",h]),p||{},new uY(c[0],c[1],c[2],c[3])),g&&f.setStyle(g),f);v.ensureState("emphasis").style=a,t.add(v),fa(v)}}d(e.nextBtnPosition,"next",ld(this._changeTimeline,this,u?"-":"+")),d(e.prevBtnPosition,"prev",ld(this._changeTimeline,this,u?"+":"-")),d(e.playPosition,l?"stop":"play",ld(this._handlePlayClick,this,!l),!0)},t.prototype._renderCurrentPointer=function(e,t,i,r){var n=r.getData(),o=r.getCurrentIndex(),s=n.getItemModel(o).getModel("checkpointStyle"),a=this;this._currentPointer=O0(s,s,this._mainGroup,{},this._currentPointer,{onCreate:function(e){e.draggable=!0,e.drift=ld(a._handlePointerDrag,a),e.ondragend=ld(a._handlePointerDragend,a),O1(e,a._progressLine,o,i,r,!0)},onUpdate:function(e){O1(e,a._progressLine,o,i,r)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var i=this._toAxisCoord(e)[0],r=cg(this._axis.getExtent().slice());i>r[1]&&(i=r[1]),i<r[0]&&(i=r[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var n=this._progressLine;n&&(n.shape.x2=i,n.dirty());var o=this._findNearestTick(i),s=this.model;(t||o!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(o)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return C7(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var t,i=this.model.getData(),r=1/0,n=this._axis;return i.each(["value"],function(i,o){var s=Math.abs(n.dataToCoord(i)-e);s<r&&(r=s,t=o)}),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,i=this._tickLabels;if(t)for(var r=0;r<t.length;r++)t&&t[r]&&t[r].toggleState("progress",r<e);if(i)for(var r=0;r<i.length;r++)i&&i[r]&&i[r].toggleState("progress",OQ(i[r]).dataIndex<=e)},t.type="timeline.slider",t}(Oq);function O0(e,t,i,r,n,o){var s=t.get("color");n?(n.setColor(s),i.add(n),o&&o.onUpdate(n)):((n=ba(e.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),i.add(n),o&&o.onCreate(n));var a=t.getItemStyle(["color"]);n.setStyle(a),r=a4({rectHover:!0,z2:100},r,!0);var l=bl(e.get("symbolSize"));r.scaleX=l[0]/2,r.scaleY=l[1]/2;var u=bu(e.get("symbolOffset"),l);u&&(r.x=(r.x||0)+u[0],r.y=(r.y||0)+u[1]);var d=e.get("symbolRotate");return r.rotation=(d||0)*Math.PI/180||0,n.attr(r),n.updateTransform(),n}function O1(e,t,i,r,n,o){if(!e.dragging){var s=n.getModel("checkpointStyle"),a=r.dataToCoord(n.getData().get("value",i));if(o||!s.get("animation",!0))e.attr({x:a,y:0}),t&&t.attr({shape:{x2:a}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:a,y:0},l),t&&t.animateTo({shape:{x2:a}},l)}}}function O2(e){var t=e&&e.timeline;lc(t)||(t=t?[t]:[]),ln(t,function(e){e&&function(e){var t=e.type,i={number:"value",time:"time"};if(i[t]&&(e.axisType=i[t],delete e.type),O5(e),O3(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});O3(r,"position")||(r.position=e.controlPosition),"none"!==r.position||O3(r,"show")||(r.show=!1,delete r.position),delete e.controlPosition}ln(e.data||[],function(e){lv(e)&&!lc(e)&&(!O3(e,"value")&&O3(e,"name")&&(e.value=e.name),O5(e))})}(e)})}function O5(e){var t=e.itemStyle||(e.itemStyle={}),i=t.emphasis||(t.emphasis={}),r=e.label||e.label||{},n=r.normal||(r.normal={}),o={normal:1,emphasis:1};ln(r,function(e,t){o[t]||O3(n,t)||(n[t]=e)}),i.label&&!O3(r,"emphasis")&&(r.emphasis=i.label,delete i.label)}function O3(e,t){return e.hasOwnProperty(t)}function O4(e,t){if(!e)return!1;for(var i=lc(e)?e:[e],r=0;r<i.length;r++)if(i[r]&&i[r][t])return!0;return!1}function O6(e){cF(e,"label",["show"])}var O8=c$(),O9=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.createdBySelf=!1,i}return aF(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(aG.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,i,r){var n=this.mainType;i||t.eachSeries(function(e){var i=e.get(this.mainType,!0),o=O8(e)[n];if(!i||!i.data){O8(e)[n]=null;return}o?o._mergeOption(i,t,!0):(r&&O6(i),ln(i.data,function(e){e instanceof Array?(O6(e[0]),O6(e[1])):O6(e)}),a8(o=this.createMarkerModelFromSeries(i,this,t),{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),o.__hostSeries=e),O8(e)[n]=o},this)},t.prototype.formatTooltip=function(e,t,i){var r=this.getData(),n=this.getRawValue(e),o=r.getName(e);return yx("section",{header:this.name,blocks:[yx("nameValue",{name:o,value:n,noName:!o,noValue:null==n})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,t){var i=vZ.prototype.getDataParams.call(this,e,t),r=this.__hostSeries;return r&&(i.seriesId=r.id,i.seriesName=r.name,i.seriesType=r.subType),i},t.getMarkerModelFromSeries=function(e,t){return O8(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(mB);li(O9,vZ.prototype);var O7=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(O9);function Ge(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function Gt(e,t,i,r,n,o){var s=[],a=xZ(t,r)?t.getCalculationInfo("stackResultDimension"):r,l=Ga(t,a,e),u=t.indicesOfNearest(a,l)[0];s[n]=t.get(i,u),s[o]=t.get(a,u);var d=t.get(r,u),h=cf(t.get(r,u));return(h=Math.min(h,20))>=0&&(s[o]=+s[o].toFixed(h)),[s,d]}var Gi={min:lh(Gt,"min"),max:lh(Gt,"max"),average:lh(Gt,"average"),median:lh(Gt,"median")};function Gr(e,t){if(t){var i,r=e.getData(),n=e.coordinateSystem,o=n&&n.dimensions;if(!(!isNaN(parseFloat((i=t).x))&&!isNaN(parseFloat(i.y)))&&!lc(t.coord)&&lc(o)){var s=Gn(t,r,n,e);if((t=a3(t)).type&&Gi[t.type]&&s.baseAxis&&s.valueAxis){var a=le(o,s.baseAxis.dim),l=le(o,s.valueAxis.dim),u=Gi[t.type](r,s.baseDataDim,s.valueDataDim,a,l);t.coord=u[0],t.value=u[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&lc(o))for(var d=t.coord,h=0;h<2;h++)Gi[d[h]]&&(d[h]=Ga(r,r.mapDimension(o[h]),d[h]));else t.coord=[];return t}}function Gn(e,t,i,r){var n,o,s,a={};return null!=e.valueIndex||null!=e.valueDim?(a.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,a.valueAxis=i.getAxis((n=r,o=a.valueDataDim,(s=n.getData().getDimensionInfo(o))&&s.coordDim)),a.baseAxis=i.getOtherAxis(a.valueAxis),a.baseDataDim=t.mapDimension(a.baseAxis.dim)):(a.baseAxis=r.getBaseAxis(),a.valueAxis=i.getOtherAxis(a.baseAxis),a.baseDataDim=t.mapDimension(a.baseAxis.dim),a.valueDataDim=t.mapDimension(a.valueAxis.dim)),a}function Go(e,t){return!e||!e.containData||!t.coord||!!Ge(t)||e.containData(t.coord)}function Gs(e,t){return e?function(e,i,r,n){return v2(n<2?e.coord&&e.coord[n]:e.value,t[n])}:function(e,i,r,n){return v2(e.value,t[n])}}function Ga(e,t,i){if("average"===i){var r=0,n=0;return e.each(t,function(e,t){!isNaN(e)&&(r+=e,n++)}),r/n}return"median"===i?e.getMedian(t):e.getDataExtent(t)[+("max"===i)]}var Gl=c$(),Gu=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.init=function(){this.markerGroupMap=lG()},t.prototype.render=function(e,t,i){var r=this,n=this.markerGroupMap;n.each(function(e){Gl(e).keep=!1}),t.eachSeries(function(e){var n=O9.getMarkerModelFromSeries(e,r.type);n&&r.renderSeries(e,n,t,i)}),n.each(function(e){Gl(e).keep||r.group.remove(e.group)})},t.prototype.markKeep=function(e){Gl(e).keep=!0},t.prototype.toggleBlurSeries=function(e,t){var i=this;ln(e,function(e){var r=O9.getMarkerModelFromSeries(e,i.type);r&&r.getData().eachItemGraphicEl(function(e){e&&(t?g5(e,gJ):g5(e,g0))})})},t.type="marker",t}(yj);function Gd(e,t,i){var r=t.coordinateSystem;e.each(function(n){var o,s=e.getItemModel(n),a=cc(s.get("x"),i.getWidth()),l=cc(s.get("y"),i.getHeight());if(isNaN(a)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,n));else if(r){var u=e.get(r.dimensions[0],n),d=e.get(r.dimensions[1],n);o=r.dataToPoint([u,d])}}else o=[a,l];isNaN(a)||(o[0]=a),isNaN(l)||(o[1]=l),e.setItemLayout(n,o)})}var Gh=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.updateTransform=function(e,t,i){t.eachSeries(function(e){var t=O9.getMarkerModelFromSeries(e,"markPoint");t&&(Gd(t.getData(),e,i),this.markerGroupMap.get(e.id).updateLayout())},this)},t.prototype.renderSeries=function(e,t,i,r){var n,o,s,a,l,u,d,h=e.coordinateSystem,c=e.id,p=e.getData(),g=this.markerGroupMap,f=g.get(c)||g.set(c,new x9),m=(n=h,o=e,s=t,l=new xU(a=n?lo(n&&n.dimensions,function(e){return a8(a8({},o.getData().getDimensionInfo(o.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})}):[{name:"value",type:"float"}],s),u=lo(s.get("data"),lh(Gr,o)),n&&(u=la(u,lh(Go,n))),d=Gs(!!n,a),l.initData(u,null,d),l);t.setData(m),Gd(t.getData(),e,r),m.each(function(e){var i=m.getItemModel(e),r=i.getShallow("symbol"),n=i.getShallow("symbolSize"),o=i.getShallow("symbolRotate"),s=i.getShallow("symbolOffset"),a=i.getShallow("symbolKeepAspect");if(lp(r)||lp(n)||lp(o)||lp(s)){var l=t.getRawValue(e),u=t.getDataParams(e);lp(r)&&(r=r(l,u)),lp(n)&&(n=n(l,u)),lp(o)&&(o=o(l,u)),lp(s)&&(s=s(l,u))}var d=i.getModel("itemStyle").getItemStyle(),h=w1(p,"color");d.fill||(d.fill=h),m.setItemVisual(e,{symbol:r,symbolSize:n,symbolRotate:o,symbolOffset:s,symbolKeepAspect:a,style:d})}),f.updateData(m),this.group.add(f.group),m.eachItemGraphicEl(function(e){e.traverse(function(e){gF(e).dataModel=t})}),this.markKeep(f),f.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(Gu),Gc=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(O9),Gp=c$(),Gg=function(e,t,i,r){var n,o=e.getData();if(lc(r))n=r;else{var s=r.type;if("min"===s||"max"===s||"average"===s||"median"===s||null!=r.xAxis||null!=r.yAxis){var a=void 0,l=void 0;if(null!=r.yAxis||null!=r.xAxis)a=t.getAxis(null!=r.yAxis?"y":"x"),l=lE(r.yAxis,r.xAxis);else{var u=Gn(r,o,t,e);a=u.valueAxis;var d=xQ(o,u.valueDataDim);l=Ga(o,d,s)}var h=+("x"!==a.dim),c=1-h,p=a3(r),g={coord:[]};p.type=null,p.coord=[],p.coord[c]=-1/0,g.coord[c]=1/0;var f=i.get("precision");f>=0&&lm(l)&&(l=+l.toFixed(Math.min(f,20))),p.coord[h]=g.coord[h]=l,n=[p,g,{type:s,valueIndex:r.valueIndex,value:l}]}else n=[]}var m=[Gr(e,n[0]),Gr(e,n[1]),a8({},n[2])];return m[2].type=m[2].type||null,a4(m[2],m[0]),a4(m[2],m[1]),m};function Gf(e){return!isNaN(e)&&!isFinite(e)}function Gm(e,t,i,r){var n=1-e,o=r.dimensions[e];return Gf(t[n])&&Gf(i[n])&&t[e]===i[e]&&r.getAxis(o).containData(t[e])}function Gv(e,t){if("cartesian2d"===e.type){var i=t[0].coord,r=t[1].coord;if(i&&r&&(Gm(1,i,r,e)||Gm(0,i,r,e)))return!0}return Go(e,t[0])&&Go(e,t[1])}function Gy(e,t,i,r,n){var o,s=r.coordinateSystem,a=e.getItemModel(t),l=cc(a.get("x"),n.getWidth()),u=cc(a.get("y"),n.getHeight());if(isNaN(l)||isNaN(u)){if(r.getMarkerPosition)o=r.getMarkerPosition(e.getValues(e.dimensions,t));else{var d=s.dimensions,h=e.get(d[0],t),c=e.get(d[1],t);o=s.dataToPoint([h,c])}if(_f(s,"cartesian2d")){var p=s.getAxis("x"),g=s.getAxis("y"),d=s.dimensions;Gf(e.get(d[0],t))?o[0]=p.toGlobalCoord(p.getExtent()[+!i]):Gf(e.get(d[1],t))&&(o[1]=g.toGlobalCoord(g.getExtent()[+!i]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];e.setItemLayout(t,o)}var GC=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.updateTransform=function(e,t,i){t.eachSeries(function(e){var t=O9.getMarkerModelFromSeries(e,"markLine");if(t){var r=t.getData(),n=Gp(t).from,o=Gp(t).to;n.each(function(t){Gy(n,t,!0,e,i),Gy(o,t,!1,e,i)}),r.each(function(e){r.setItemLayout(e,[n.getItemLayout(e),o.getItemLayout(e)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,t,i,r){var n,o,s,a,l,u,d,h,c,p=e.coordinateSystem,g=e.id,f=e.getData(),m=this.markerGroupMap,v=m.get(g)||m.set(g,new AF);this.group.add(v.group);var y=(n=p,o=e,s=t,l=new xU(a=n?lo(n&&n.dimensions,function(e){return a8(a8({},o.getData().getDimensionInfo(o.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})}):[{name:"value",type:"float"}],s),u=new xU(a,s),d=new xU([],s),h=lo(s.get("data"),lh(Gg,o,n,s)),n&&(h=la(h,lh(Gv,n))),c=Gs(!!n,a),l.initData(lo(h,function(e){return e[0]}),null,c),u.initData(lo(h,function(e){return e[1]}),null,c),d.initData(lo(h,function(e){return e[2]})),d.hasItemOption=!0,{from:l,to:u,line:d}),C=y.from,w=y.to,b=y.line;Gp(t).from=C,Gp(t).to=w,t.setData(b);var S=t.get("symbol"),x=t.get("symbolSize"),_=t.get("symbolRotate"),E=t.get("symbolOffset");function T(t,i,n){var o=t.getItemModel(i);Gy(t,i,n,e,r);var s=o.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=w1(f,"color")),t.setItemVisual(i,{symbolKeepAspect:o.get("symbolKeepAspect"),symbolOffset:lT(o.get("symbolOffset",!0),E[+!n]),symbolRotate:lT(o.get("symbolRotate",!0),_[+!n]),symbolSize:lT(o.get("symbolSize"),x[+!n]),symbol:lT(o.get("symbol",!0),S[+!n]),style:s})}lc(S)||(S=[S,S]),lc(x)||(x=[x,x]),lc(_)||(_=[_,_]),lc(E)||(E=[E,E]),y.from.each(function(e){T(C,e,!0),T(w,e,!1)}),b.each(function(e){var t=b.getItemModel(e).getModel("lineStyle").getLineStyle();b.setItemLayout(e,[C.getItemLayout(e),w.getItemLayout(e)]),null==t.stroke&&(t.stroke=C.getItemVisual(e,"style").fill),b.setItemVisual(e,{fromSymbolKeepAspect:C.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:C.getItemVisual(e,"symbolOffset"),fromSymbolRotate:C.getItemVisual(e,"symbolRotate"),fromSymbolSize:C.getItemVisual(e,"symbolSize"),fromSymbol:C.getItemVisual(e,"symbol"),toSymbolKeepAspect:w.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:w.getItemVisual(e,"symbolOffset"),toSymbolRotate:w.getItemVisual(e,"symbolRotate"),toSymbolSize:w.getItemVisual(e,"symbolSize"),toSymbol:w.getItemVisual(e,"symbol"),style:t})}),v.updateData(b),y.line.eachItemGraphicEl(function(e){gF(e).dataModel=t,e.traverse(function(e){gF(e).dataModel=t})}),this.markKeep(v),v.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(Gu),Gw=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(O9),Gb=c$(),GS=function(e,t,i,r){var n=r[0],o=r[1];if(n&&o){var s=Gr(e,n),a=Gr(e,o),l=s.coord,u=a.coord;l[0]=lE(l[0],-1/0),l[1]=lE(l[1],-1/0),u[0]=lE(u[0],1/0),u[1]=lE(u[1],1/0);var d=a6([{},s,a]);return d.coord=[s.coord,a.coord],d.x0=s.x,d.y0=s.y,d.x1=a.x,d.y1=a.y,d}};function Gx(e){return!isNaN(e)&&!isFinite(e)}function G_(e,t,i,r){var n=1-e;return Gx(t[n])&&Gx(i[n])}function GE(e,t){var i=t.coord[0],r=t.coord[1],n={coord:i,x:t.x0,y:t.y0},o={coord:r,x:t.x1,y:t.y1};if(_f(e,"cartesian2d"))return!!(i&&r&&(G_(1,i,r,e)||G_(0,i,r,e)))||!e||!e.containZone||!n.coord||!o.coord||!!Ge(n)||!!Ge(o)||e.containZone(n.coord,o.coord);return Go(e,n)||Go(e,o)}function GT(e,t,i,r,n){var o,s=r.coordinateSystem,a=e.getItemModel(t),l=cc(a.get(i[0]),n.getWidth()),u=cc(a.get(i[1]),n.getHeight());if(isNaN(l)||isNaN(u)){if(r.getMarkerPosition){var d=e.getValues(["x0","y0"],t),h=e.getValues(["x1","y1"],t),c=s.clampData(d),p=s.clampData(h),g=[];"x0"===i[0]?g[0]=c[0]>p[0]?h[0]:d[0]:g[0]=c[0]>p[0]?d[0]:h[0],"y0"===i[1]?g[1]=c[1]>p[1]?h[1]:d[1]:g[1]=c[1]>p[1]?d[1]:h[1],o=r.getMarkerPosition(g,i,!0)}else{var f=e.get(i[0],t),m=e.get(i[1],t),v=[f,m];s.clampData&&s.clampData(v,v),o=s.dataToPoint(v,!0)}if(_f(s,"cartesian2d")){var y=s.getAxis("x"),C=s.getAxis("y"),f=e.get(i[0],t),m=e.get(i[1],t);Gx(f)?o[0]=y.toGlobalCoord(y.getExtent()[+("x0"!==i[0])]):Gx(m)&&(o[1]=C.toGlobalCoord(C.getExtent()[+("y0"!==i[1])]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var GM=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],GR=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.updateTransform=function(e,t,i){t.eachSeries(function(e){var t=O9.getMarkerModelFromSeries(e,"markArea");if(t){var r=t.getData();r.each(function(t){var n=lo(GM,function(n){return GT(r,t,n,e,i)});r.setItemLayout(t,n),r.getItemGraphicEl(t).setShape("points",n)})}},this)},t.prototype.renderSeries=function(e,t,i,r){var n=e.coordinateSystem,o=e.id,s=e.getData(),a=this.markerGroupMap,l=a.get(o)||a.set(o,{group:new ce});this.group.add(l.group),this.markKeep(l);var u=function(e,t,i){if(e){var r,n,o=lo(e&&e.dimensions,function(e){var i=t.getData();return a8(a8({},i.getDimensionInfo(i.mapDimension(e))||{}),{name:e,ordinalMeta:null})});r=new xU(n=lo(["x0","y0","x1","y1"],function(e,t){return{name:e,type:o[t%2].type}}),i)}else r=new xU(n=[{name:"value",type:"float"}],i);var s=lo(i.get("data"),lh(GS,t,e,i));e&&(s=la(s,lh(GE,e)));var a=e?function(e,t,i,r){return v2(e.coord[Math.floor(r/2)][r%2],n[r])}:function(e,t,i,r){return v2(e.value,n[r])};return r.initData(s,null,a),r.hasItemOption=!0,r}(n,e,t);t.setData(u),u.each(function(t){var i=lo(GM,function(i){return GT(u,t,i,e,r)}),o=n.getAxis("x").scale,a=n.getAxis("y").scale,l=o.getExtent(),d=a.getExtent(),h=[o.parse(u.get("x0",t)),o.parse(u.get("x1",t))],c=[a.parse(u.get("y0",t)),a.parse(u.get("y1",t))];cg(h),cg(c);var p=!(l[0]>h[1]||l[1]<h[0]||d[0]>c[1]||d[1]<c[0]);u.setItemLayout(t,{points:i,allClipped:!p});var g=u.getItemModel(t).getModel("itemStyle").getItemStyle(),f=w1(s,"color");!g.fill&&(g.fill=f,lg(g.fill)&&(g.fill=dq(g.fill,.4))),g.stroke||(g.stroke=f),u.setItemVisual(t,"style",g)}),u.diff(Gb(l).data).add(function(e){var t=u.getItemLayout(e);if(!t.allClipped){var i=new Cx({shape:{points:t.points}});u.setItemGraphicEl(e,i),l.group.add(i)}}).update(function(e,i){var r=Gb(l).data.getItemGraphicEl(i),n=u.getItemLayout(e);n.allClipped?r&&l.group.remove(r):(r?fw(r,{shape:{points:n.points}},t,e):r=new Cx({shape:{points:n.points}}),u.setItemGraphicEl(e,r),l.group.add(r))}).remove(function(e){var t=Gb(l).data.getItemGraphicEl(e);l.group.remove(t)}).execute(),u.eachItemGraphicEl(function(e,i){var r=u.getItemModel(i),n=u.getItemVisual(i,"style");e.useStyle(u.getItemVisual(i,"style")),fA(e,fI(r),{labelFetcher:t,labelDataIndex:i,defaultText:u.getName(i)||"",inheritColor:lg(n.fill)?dq(n.fill,1):"#000"}),fc(e,r),fl(e,null,null,r.get(["emphasis","disabled"])),gF(e).dataModel=t}),Gb(l).data=u,l.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(Gu),GD=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.layoutMode={type:"box",ignoreSize:!0},i}return aF(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,i=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),lc(t)&&ln(t,function(e,r){var n;lg(e)&&(e={type:e}),t[r]=a4(e,"all"===(n=e.type)?{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])}:"inverse"===n?{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}:void 0)})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var r=e[i].get("name");if(this.isSelected(r)){this.select(r),t=!0;break}}t||this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],i=[];e.eachRawSeries(function(r){var n,o=r.name;if(i.push(o),r.legendVisualProvider){var s=r.legendVisualProvider.getAllNames();e.isSeriesFiltered(r)||(i=i.concat(s)),s.length?t=t.concat(s):n=!0}else n=!0;n&&cW(r)&&t.push(r.name)}),this._availableNames=i;var r=this.get("data")||t,n=lG(),o=lo(r,function(e){return((lg(e)||lm(e))&&(e={name:e}),n.get(e.name))?null:(n.set(e.name,!0),new fQ(e,this,this.ecModel))},this);this._data=la(o,function(e){return!!e})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&ln(this._data,function(e){t[e.get("name")]=!1}),t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;ln(e,function(e){t[e.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;ln(e,function(e){var i=e.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]})},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&le(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(mB),GA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.newlineDisabled=!1,i}return aF(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new ce),this.group.add(this._selectorGroup=new ce),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,i){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var n=e.get("align"),o=e.get("orient");n&&"auto"!==n||(n="right"===e.get("left")&&"vertical"===o?"right":"left");var s=e.get("selector",!0),a=e.get("selectorPosition",!0);s&&(!a||"auto"===a)&&(a="horizontal"===o?"end":"start"),this.renderInner(n,e,t,i,s,o,a);var l=e.getBoxLayoutParams(),u={width:i.getWidth(),height:i.getHeight()},d=e.get("padding"),h=mL(l,u,d),c=this.layoutInner(e,n,h,r,s,a),p=mL(a9({width:c.width,height:c.height},l),u,d);this.group.x=p.x-c.x,this.group.y=p.y-c.y,this.group.markRedraw(),this.group.add(this._backgroundEl=FO(c,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,i,r,n,o,s){var a=this.getContentGroup(),l=lG(),u=t.get("selectedMode"),d=[];i.eachRawSeries(function(e){e.get("legendHoverLink")||d.push(e.id)}),ln(t.getData(),function(n,o){var s=n.get("name");if(!this.newlineDisabled&&(""===s||"\n"===s)){var h=new ce;h.newline=!0,a.add(h);return}var c=i.getSeriesByName(s)[0];if(!l.get(s))if(c){var p=c.getData(),g=p.getVisual("legendLineStyle")||{},f=p.getVisual("legendIcon"),m=p.getVisual("style"),v=this._createItem(c,s,o,n,t,e,g,m,f,u,r);v.on("click",lh(GI,s,null,r,d)).on("mouseover",lh(GL,c.name,null,r,d)).on("mouseout",lh(Gk,c.name,null,r,d)),i.ssr&&v.eachChild(function(e){var t=gF(e);t.seriesIndex=c.seriesIndex,t.dataIndex=o,t.ssrType="legend"}),l.set(s,!0)}else i.eachRawSeries(function(a){if(!l.get(s)&&a.legendVisualProvider){var h=a.legendVisualProvider;if(h.containName(s)){var c=h.indexOfName(s),p=h.getItemVisual(c,"style"),g=h.getItemVisual(c,"legendIcon"),f=dz(p.fill);f&&0===f[3]&&(f[3]=.2,p=a8(a8({},p),{fill:dX(f,"rgba")}));var m=this._createItem(a,s,o,n,t,e,{},p,g,u,r);m.on("click",lh(GI,null,s,r,d)).on("mouseover",lh(GL,null,s,r,d)).on("mouseout",lh(Gk,null,s,r,d)),i.ssr&&m.eachChild(function(e){var t=gF(e);t.seriesIndex=a.seriesIndex,t.dataIndex=o,t.ssrType="legend"}),l.set(s,!0)}}},this)},this),n&&this._createSelector(n,t,r,o,s)},t.prototype._createSelector=function(e,t,i,r,n){var o=this.getSelectorGroup();ln(e,function(e){var r=e.type,n=new gx({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect",legendId:t.id})}});o.add(n),fA(n,{normal:t.getModel("selectorLabel"),emphasis:t.getModel(["emphasis","selectorLabel"])},{defaultText:e.title}),fa(n)})},t.prototype._createItem=function(e,t,i,r,n,o,s,a,l,u,d){var h=e.visualDrawType,c=n.get("itemWidth"),p=n.get("itemHeight"),g=n.isSelected(t),f=r.get("symbolRotate"),m=r.get("symbolKeepAspect"),v=r.get("icon"),y=function(e,t,i,r,n,o,s){function a(e,t){"auto"===e.lineWidth&&(e.lineWidth=2*(t.lineWidth>0)),ln(e,function(i,r){"inherit"===e[r]&&(e[r]=t[r])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),d=0===e.lastIndexOf("empty",0)?"fill":"stroke",h=l.getShallow("decal");u.decal=h&&"inherit"!==h?bk(h,s):r.decal,"inherit"===u.fill&&(u.fill=r[n]),"inherit"===u.stroke&&(u.stroke=r[d]),"inherit"===u.opacity&&(u.opacity=("fill"===n?r:i).opacity),a(u,r);var c=t.getModel("lineStyle"),p=c.getLineStyle();if(a(p,i),"auto"===u.fill&&(u.fill=r.fill),"auto"===u.stroke&&(u.stroke=r.fill),"auto"===p.stroke&&(p.stroke=r.fill),!o){var g=t.get("inactiveBorderWidth"),f=u[d];u.lineWidth="auto"===g?r.lineWidth>0&&f?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),p.stroke=c.get("inactiveColor"),p.lineWidth=c.get("inactiveWidth")}return{itemStyle:u,lineStyle:p}}(l=v||l||"roundRect",r,s,a,h,g,d),C=new ce,w=r.getModel("textStyle");if(lp(e.getLegendIcon)&&(!v||"inherit"===v))C.add(e.getLegendIcon({itemWidth:c,itemHeight:p,icon:l,iconRotate:f,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}));else{var b,S,x,_="inherit"===v&&e.getData().getVisual("symbol")?"inherit"===f?e.getData().getVisual("symbolRotate"):f:0;C.add(((x=ba(S=(b={itemWidth:c,itemHeight:p,icon:l,iconRotate:_,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}).icon||"roundRect",0,0,b.itemWidth,b.itemHeight,b.itemStyle.fill,b.symbolKeepAspect)).setStyle(b.itemStyle),x.rotation=(b.iconRotate||0)*Math.PI/180,x.setOrigin([b.itemWidth/2,b.itemHeight/2]),S.indexOf("empty")>-1&&(x.style.stroke=x.style.fill,x.style.fill="#fff",x.style.lineWidth=2),x))}var E=n.get("formatter"),T=t;lg(E)&&E?T=E.replace("{name}",null!=t?t:""):lp(E)&&(T=E(t));var M=g?w.getTextColor():r.get("inactiveColor");C.add(new gx({style:fP(w,{text:T,x:"left"===o?c+5:-5,y:p/2,fill:M,align:o,verticalAlign:"middle"},{inheritColor:M})}));var R=new gw({shape:C.getBoundingRect(),style:{fill:"transparent"}}),D=r.getModel("tooltip");return D.get("show")&&wa({el:R,componentModel:n,itemName:t,itemTooltipOption:D.option}),C.add(R),C.eachChild(function(e){e.silent=!0}),R.silent=!u,this.getContentGroup().add(C),fa(C),C.__legendDataIndex=i,C},t.prototype.layoutInner=function(e,t,i,r,n,o){var s=this.getContentGroup(),a=this.getSelectorGroup();mP(e.get("orient"),s,e.get("itemGap"),i.width,i.height);var l=s.getBoundingRect(),u=[-l.x,-l.y];if(a.markRedraw(),s.markRedraw(),!n)return s.x=u[0],s.y=u[1],this.group.getBoundingRect();mP("horizontal",a,e.get("selectorItemGap",!0));var d=a.getBoundingRect(),h=[-d.x,-d.y],c=e.get("selectorButtonGap",!0),p=e.getOrient().index,g=0===p?"width":"height",f=0===p?"height":"width",m=0===p?"y":"x";"end"===o?h[p]+=l[g]+c:u[p]+=d[g]+c,h[1-p]+=l[f]/2-d[f]/2,a.x=h[0],a.y=h[1],s.x=u[0],s.y=u[1];var v={x:0,y:0};return v[g]=l[g]+c+d[g],v[f]=Math.max(l[f],d[f]),v[m]=Math.min(0,d[m]+h[1-p]),v},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(yj);function GI(e,t,i,r){Gk(e,t,i,r),i.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),GL(e,t,i,r)}function GP(e){for(var t,i=e.getZr().storage.getDisplayList(),r=0,n=i.length;r<n&&!(t=i[r].states.emphasis);)r++;return t&&t.hoverLayer}function GL(e,t,i,r){GP(i)||i.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function Gk(e,t,i,r){GP(i)||i.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}function GN(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0})}function GF(e,t,i){var r="allSelect"===e||"inverseSelect"===e,n={},o=[];i.eachComponent({mainType:"legend",query:t},function(i){r?i[e]():i[e](t.name),GO(i,n),o.push(i.componentIndex)});var s={};return i.eachComponent("legend",function(e){ln(n,function(t,i){e[t?"select":"unSelect"](i)}),GO(e,s)}),r?{selected:s,legendIndex:o}:{name:t.name,selected:s}}function GO(e,t){var i=t||{};return ln(e.getData(),function(t){var r=t.get("name");if("\n"!==r&&""!==r){var n=e.isSelected(r);lz(i,r)?i[r]=i[r]&&n:i[r]=n}}),i}function GG(e){e.registerComponentModel(GD),e.registerComponentView(GA),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,GN),e.registerSubTypeDefaulter("legend",function(){return"plain"}),e.registerAction("legendToggleSelect","legendselectchanged",lh(GF,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",lh(GF,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",lh(GF,"inverseSelect")),e.registerAction("legendSelect","legendselected",lh(GF,"select")),e.registerAction("legendUnSelect","legendunselected",lh(GF,"unSelect"))}var GV=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,i,r){var n=mO(t);e.prototype.init.call(this,t,i,r),GB(this,t,n)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),GB(this,this.option,t)},t.type="legend.scroll",t.defaultOption=f1(GD.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(GD);function GB(e,t,i){var r=e.getOrient(),n=[1,1];n[r.index]=0,mF(t,i,{type:"box",ignoreSize:!!n})}var GH=["width","height"],Gz=["x","y"],GW=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.newlineDisabled=!0,i._currentIndex=0,i}return aF(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new ce),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ce)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,i,r,n,o,s,a){var l=this;e.prototype.renderInner.call(this,t,i,r,n,o,s,a);var u=this._controllerGroup,d=i.get("pageIconSize",!0),h=lc(d)?d:[d,d];p("pagePrev",0);var c=i.getModel("pageTextStyle");function p(e,t){var r=wn(i.get("pageIcons",!0)[i.getOrient().name][t],{onclick:ld(l._pageGo,l,e+"DataIndex",i,n)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});r.name=e,u.add(r)}u.add(new gx({name:"pageText",style:{text:"xx/xx",fill:c.getTextColor(),font:c.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},t.prototype.layoutInner=function(e,t,i,r,n,o){var s=this.getSelectorGroup(),a=e.getOrient().index,l=GH[a],u=Gz[a],d=GH[1-a],h=Gz[1-a];n&&mP("horizontal",s,e.get("selectorItemGap",!0));var c=e.get("selectorButtonGap",!0),p=s.getBoundingRect(),g=[-p.x,-p.y],f=a3(i);n&&(f[l]=i[l]-p[l]-c);var m=this._layoutContentAndController(e,r,f,a,l,d,h,u);if(n){if("end"===o)g[a]+=m[l]+c;else{var v=p[l]+c;g[a]-=v,m[u]-=v}m[l]+=p[l]+c,g[1-a]+=m[h]+m[d]/2-p[d]/2,m[d]=Math.max(m[d],p[d]),m[h]=Math.min(m[h],p[h]+g[1-a]),s.x=g[0],s.y=g[1],s.markRedraw()}return m},t.prototype._layoutContentAndController=function(e,t,i,r,n,o,s,a){var l=this.getContentGroup(),u=this._containerGroup,d=this._controllerGroup;mP(e.get("orient"),l,e.get("itemGap"),r?i.width:null,r?null:i.height),mP("horizontal",d,e.get("pageButtonItemGap",!0));var h=l.getBoundingRect(),c=d.getBoundingRect(),p=this._showController=h[n]>i[n],g=[-h.x,-h.y];t||(g[r]=l[a]);var f=[0,0],m=[-c.x,-c.y],v=lT(e.get("pageButtonGap",!0),e.get("itemGap",!0));p&&("end"===e.get("pageButtonPosition",!0)?m[r]+=i[n]-c[n]:f[r]+=c[n]+v),m[1-r]+=h[o]/2-c[o]/2,l.setPosition(g),u.setPosition(f),d.setPosition(m);var y={x:0,y:0};if(y[n]=p?i[n]:h[n],y[o]=Math.max(h[o],c[o]),y[s]=Math.min(0,c[s]+m[1-r]),u.__rectSize=i[n],p){var C={x:0,y:0};C[n]=Math.max(i[n]-c[n]-v,0),C[o]=y[o],u.setClipPath(new gw({shape:C})),u.__rectSize=C[n]}else d.eachChild(function(e){e.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(e);return null!=w.pageIndex&&fw(l,{x:w.contentPosition[0],y:w.contentPosition[1]},p?e:null),this._updatePageInfoView(e,w),y},t.prototype._pageGo=function(e,t,i){var r=this._getPageInfo(t)[e];null!=r&&i.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var i=this._controllerGroup;ln(["pagePrev","pageNext"],function(r){var n=null!=t[r+"DataIndex"],o=i.childOfName(r);o&&(o.setStyle("fill",n?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),o.cursor=n?"pointer":"default")});var r=i.childOfName("pageText"),n=e.get("pageFormatter"),o=t.pageIndex,s=null!=o?o+1:0,a=t.pageCount;r&&n&&r.setStyle("text",lg(n)?n.replace("{current}",null==s?"":s+"").replace("{total}",null==a?"":a+""):n({current:s,total:a}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),i=this.getContentGroup(),r=this._containerGroup.__rectSize,n=e.getOrient().index,o=GH[n],s=Gz[n],a=this._findTargetItemIndex(t),l=i.children(),u=l[a],d=l.length,h=+!!d,c={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return c;var p=y(u);c.contentPosition[n]=-p.s;for(var g=a+1,f=p,m=p,v=null;g<=d;++g)(!(v=y(l[g]))&&m.e>f.s+r||v&&!C(v,f.s))&&(f=m.i>f.i?m:v)&&(null==c.pageNextDataIndex&&(c.pageNextDataIndex=f.i),++c.pageCount),m=v;for(var g=a-1,f=p,m=p,v=null;g>=-1;--g)(!(v=y(l[g]))||!C(m,v.s))&&f.i<m.i&&(m=f,null==c.pagePrevDataIndex&&(c.pagePrevDataIndex=f.i),++c.pageCount,++c.pageIndex),f=v;return c;function y(e){if(e){var t=e.getBoundingRect(),i=t[s]+e[s];return{s:i,e:i+t[o],i:e.__legendDataIndex}}}function C(e,t){return e.e>=t&&e.s<=t+r}},t.prototype._findTargetItemIndex=function(e){var t,i;return this._showController?(this.getContentGroup().eachChild(function(r,n){var o=r.__legendDataIndex;null==i&&null!=o&&(i=n),o===e&&(t=n)}),null!=t?t:i):0},t.type="legend.scroll",t}(GA);function GU(e){SA(GG),e.registerComponentModel(GV),e.registerComponentView(GW),e.registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(e){e.setScrollDataIndex(i)})})}var Gj=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="dataZoom.inside",t.defaultOption=f1(F_.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(F_),G$=c$();function GK(e,t){if(t){e.removeKey(t.model.uid);var i=t.controller;i&&i.dispose()}}function GY(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Gq(e,t,i,r){return e.coordinateSystem.containPoint([i,r])}var GX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return aF(t,e),t.prototype.render=function(t,i,r){var n;(e.prototype.render.apply(this,arguments),t.noTarget())?this._clear():(this.range=t.getPercentRange(),n={pan:ld(GZ.pan,this),zoom:ld(GZ.zoom,this),scrollMove:ld(GZ.scrollMove,this)},G$(r).coordSysRecordMap.each(function(e){var i=e.dataZoomInfoMap.get(t.uid);i&&(i.getRange=n)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){!function(e,t){for(var i=G$(e).coordSysRecordMap,r=i.keys(),n=0;n<r.length;n++){var o=r[n],s=i.get(o),a=s.dataZoomInfoMap;if(a){var l=t.uid;a.get(l)&&(a.removeKey(l),a.keys().length||GK(i,s))}}}(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(FM),GZ={zoom:function(e,t,i,r){var n=this.range,o=n.slice(),s=e.axisModels[0];if(s){var a=GJ[t](null,[r.originX,r.originY],s,i,e),l=(a.signal>0?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/r.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Iv(0,o,[0,100],0,d.minSpan,d.maxSpan),this.range=o,n[0]!==o[0]||n[1]!==o[1])return o}},pan:GQ(function(e,t,i,r,n,o){var s=GJ[r]([o.oldX,o.oldY],[o.newX,o.newY],t,n,i);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:GQ(function(e,t,i,r,n,o){return GJ[r]([0,0],[o.scrollDelta,o.scrollDelta],t,n,i).signal*(e[1]-e[0])*o.scrollDelta})};function GQ(e){return function(t,i,r,n){var o=this.range,s=o.slice(),a=t.axisModels[0];if(a&&(Iv(e(s,a,t,i,r,n),s,[0,100],"all"),this.range=s,o[0]!==s[0]||o[1]!==s[1]))return s}}var GJ={grid:function(e,t,i,r,n){var o=i.axis,s={},a=n.model.coordinateSystem.getRect();return e=e||[0,0],"x"===o.dim?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s},polar:function(e,t,i,r,n){var o=i.axis,s={},a=n.model.coordinateSystem,l=a.getRadiusAxis().getExtent(),u=a.getAngleAxis().getExtent();return e=e?a.pointToCoord(e):[0,0],t=a.pointToCoord(t),"radiusAxis"===i.mainType?(s.pixel=t[0]-e[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=o.inverse?-1:1),s},singleAxis:function(e,t,i,r,n){var o=i.axis,s=n.model.coordinateSystem.getRect(),a={};return e=e||[0,0],"horizontal"===o.orient?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a}};function G0(e){FP(e),e.registerComponentModel(Gj),e.registerComponentView(GX),e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=G$(t),r=i.coordSysRecordMap||(i.coordSysRecordMap=lG());r.each(function(e){e.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(e){ln(FS(e).infoList,function(i){var n,o,s,a=i.model.uid,l=r.get(a)||r.set(a,(s=(o={model:n=i.model,containsPoint:lh(Gq,n),dispatchAction:lh(GY,t),dataZoomInfoMap:null,controller:null}).controller=new MP(t.getZr()),ln(["pan","zoom","scrollMove"],function(e){s.on(e,function(t){var i=[];o.dataZoomInfoMap.each(function(r){if(t.isAvailableBehavior(r.model.option)){var n=(r.getRange||{})[e],s=n&&n(r.dzReferCoordSysInfo,o.model.mainType,o.controller,t);!r.model.get("disabled",!0)&&s&&i.push({dataZoomId:r.model.id,start:s[0],end:s[1]})}}),i.length&&o.dispatchAction(i)})}),o));(l.dataZoomInfoMap||(l.dataZoomInfoMap=lG())).set(e.uid,{dzReferCoordSysInfo:i,model:e,getRange:null})})}),r.each(function(e){var t,i,n,o,s,a=e.controller,l=e.dataZoomInfoMap;if(l){var u=l.keys()[0];null!=u&&(s=l.get(u))}if(!s)return void GK(r,e);var d=(i="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0,l.each(function(e){var r=e.model,s=!r.get("disabled",!0)&&(!r.get("zoomLock",!0)||"move");n[i+s]>n[i+t]&&(t=s),o=o&&r.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}});a.enable(d.controlType,d.opt),a.setPointerChecker(e.containsPoint),wS(e,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var G1=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=f1(F_.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(F_),G2="horizontal",G5="vertical",G3=["line","bar","candlestick","scatter"],G4={easing:"cubicOut",duration:100,delay:0},G6=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._displayables={},i}return aF(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=ld(this._onBrush,this),this._onBrushEnd=ld(this._onBrushEnd,this)},t.prototype.render=function(t,i,r,n){if(e.prototype.render.apply(this,arguments),wS(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1===t.get("show"))return void this.group.removeAll();if(t.noTarget()){this._clear(),this.group.removeAll();return}n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){w_(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new ce;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,i=e.get("brushSelect"),r=this._findCoordRect(),n={width:t.getWidth(),height:t.getHeight()},o=this._orient===G2?{right:n.width-r.x-r.width,top:n.height-30-7-7*!!i,width:r.width,height:30}:{right:7,top:r.y,width:30,height:r.height},s=mO(e.option);ln(["right","top","width","height"],function(e){"ph"===s[e]&&(s[e]=o[e])});var a=mL(s,n);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],this._orient===G5&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,i=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),n=r&&r.get("inverse"),o=this._displayables.sliderGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i!==G2||n?i===G2&&n?{scaleY:s?1:-1,scaleX:-1}:i!==G5||n?{scaleY:s?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:s?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:s?1:-1,scaleX:1});var a=e.getBoundingRect([o]);e.x=t.x-a.x,e.y=t.y-a.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,i=this._displayables.sliderGroup,r=e.get("brushSelect");i.add(new gw({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var n=new gw({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:ld(this._onClickPanel,this)}),o=this.api.getZr();r?(n.on("mousedown",this._onBrushStart,this),n.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(n)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,i=this._shadowSize||[],r=e.series,n=r.getRawData(),o=r.getShadowDim&&r.getShadowDim(),s=o&&n.getDimensionInfo(o)?r.getShadowDim():e.otherDim;if(null!=s){var a=this._shadowPolygonPts,l=this._shadowPolylinePts;if(n!==this._shadowData||s!==this._shadowDim||t[0]!==i[0]||t[1]!==i[1]){var u,d=n.getDataExtent(s),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var c=[0,t[1]],p=[0,t[0]],g=[[t[0],0],[0,0]],f=[],m=p[1]/(n.count()-1),v=0,y=Math.round(n.count()/t[0]);n.each([s],function(e,t){if(y>0&&t%y){v+=m;return}var i=null==e||isNaN(e)||""===e,r=i?0:ch(e,d,c,!0);i&&!u&&t?(g.push([g[g.length-1][0],0]),f.push([f[f.length-1][0],0])):!i&&u&&(g.push([v,0]),f.push([v,0])),g.push([v,r]),f.push([v,r]),v+=m,u=i}),a=this._shadowPolygonPts=g,l=this._shadowPolylinePts=f}this._shadowData=n,this._shadowDim=s,this._shadowSize=[t[0],t[1]];for(var C=this.dataZoomModel,w=0;w<3;w++){var b=function(e){var t=C.getModel(e?"selectedDataBackground":"dataBackground"),i=new ce,r=new Cx({shape:{points:a},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),n=new CE({shape:{points:l},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return i.add(r),i.add(n),i}(1===w);this._displayables.sliderGroup.add(b),this._displayables.dataShadowSegs.push(b)}}}},t.prototype._prepareDataShadowInfo=function(){var e,t=this.dataZoomModel,i=t.get("showDataShadow");if(!1!==i){var r=this.ecModel;return t.eachTargetAxis(function(n,o){ln(t.getAxisProxy(n,o).getTargetSeriesModels(),function(t){if(!e&&!(!0!==i&&0>le(G3,t.get("type")))){var s,a=r.getComponent(Fb(n),o).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[n],u=t.coordinateSystem;null!=l&&u.getOtherAxis&&(s=u.getOtherAxis(a).inverse),l=t.getData().mapDimension(l),e={thisAxis:a,series:t,thisDim:n,otherDim:l,otherAxisInverse:s}}},this)},this),e}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,i=t.handles=[null,null],r=t.handleLabels=[null,null],n=this._displayables.sliderGroup,o=this._size,s=this.dataZoomModel,a=this.api,l=s.get("borderRadius")||0,u=s.get("brushSelect"),d=t.filler=new gw({silent:u,style:{fill:s.get("fillerColor")},textConfig:{position:"inside"}});n.add(d),n.add(new gw({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:l},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),ln([0,1],function(t){var o=s.get("handleIcon");!bn[o]&&0>o.indexOf("path://")&&0>o.indexOf("image://")&&(o="path://"+o);var a=ba(o,-1,0,2,2,null,!0);a.attr({cursor:G8(this._orient),draggable:!0,drift:ld(this._onDragMove,this,t),ondragend:ld(this._onDragEnd,this),onmouseover:ld(this._showDataInfo,this,!0),onmouseout:ld(this._showDataInfo,this,!1),z2:5});var l=a.getBoundingRect(),u=s.get("handleSize");this._handleHeight=cc(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,a.setStyle(s.getModel("handleStyle").getItemStyle()),a.style.strokeNoScale=!0,a.rectHover=!0,a.ensureState("emphasis").style=s.getModel(["emphasis","handleStyle"]).getItemStyle(),fa(a);var d=s.get("handleColor");null!=d&&(a.style.fill=d),n.add(i[t]=a);var h=s.getModel("textStyle"),c=(s.get("handleLabel")||{}).show||!1;e.add(r[t]=new gx({silent:!0,invisible:!c,style:fP(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))},this);var h=d;if(u){var c=cc(s.get("moveHandleSize"),o[1]),p=t.moveHandle=new gw({style:s.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:c}}),g=.8*c,f=t.moveHandleIcon=ba(s.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);f.silent=!0,f.y=o[1]+c/2-.5,p.ensureState("emphasis").style=s.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(o[1]/2,Math.max(c,10));(h=t.moveZone=new gw({invisible:!0,shape:{y:o[1]-m,height:c+m}})).on("mouseover",function(){a.enterEmphasis(p)}).on("mouseout",function(){a.leaveEmphasis(p)}),n.add(p),n.add(f),n.add(h)}h.attr({draggable:!0,cursor:G8(this._orient),drift:ld(this._onDragMove,this,"all"),ondragstart:ld(this._showDataInfo,this,!0),ondragend:ld(this._onDragEnd,this),onmouseover:ld(this._showDataInfo,this,!0),onmouseout:ld(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[ch(e[0],[0,100],t,!0),ch(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var i=this.dataZoomModel,r=this._handleEnds,n=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];Iv(t,r,n,i.get("zoomLock")?"all":e,null!=o.minSpan?ch(o.minSpan,s,n,!0):null,null!=o.maxSpan?ch(o.maxSpan,s,n,!0):null);var a=this._range,l=this._range=cg([ch(r[0],n,s,!0),ch(r[1],n,s,!0)]);return!a||a[0]!==l[0]||a[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,i=this._handleEnds,r=cg(i.slice()),n=this._size;ln([0,1],function(e){var r=t.handles[e],o=this._handleHeight;r.attr({scaleX:o/2,scaleY:o/2,x:i[e]+(e?-1:1),y:n[1]/2-o/2})},this),t.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:n[1]});var o={x:r[0],width:r[1]-r[0]};t.moveHandle&&(t.moveHandle.setShape(o),t.moveZone.setShape(o),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",o.x+o.width/2));for(var s=t.dataShadowSegs,a=[0,r[0],r[1],n[0]],l=0;l<s.length;l++){var u=s[l],d=u.getClipPath();d||(d=new gw,u.setClipPath(d)),d.setShape({x:a[l],y:0,width:a[l+1]-a[l],height:n[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,i=this._displayables,r=i.handleLabels,n=this._orient,o=["",""];if(t.get("showDetail")){var s=t.findRepresentativeAxisProxy();if(s){var a=s.getAxisModel().axis,l=this._range,u=e?s.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:s.getDataValueWindow();o=[this._formatLabel(u[0],a),this._formatLabel(u[1],a)]}}var d=cg(this._handleEnds.slice());function h(e){var t=C9(i.handles[e].parent,this.group),s=we(0===e?"right":"left",t),a=this._handleWidth/2+5,l=C7([d[e]+(0===e?-a:a),this._size[1]/2],t);r[e].setStyle({x:l[0],y:l[1],verticalAlign:n===G2?"middle":s,align:n===G2?s:"center",text:o[e]})}h.call(this,0),h.call(this,1)},t.prototype._formatLabel=function(e,t){var i=this.dataZoomModel,r=i.get("labelFormatter"),n=i.get("labelPrecision");(null==n||"auto"===n)&&(n=t.getPixelPrecision());var o=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(n,20));return lp(r)?r(e,o):lg(r)?r.replace("{value}",o):o},t.prototype._showDataInfo=function(e){var t=(this.dataZoomModel.get("handleLabel")||{}).show||!1,i=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1,r=e||this._dragging?i:t,n=this._displayables,o=n.handleLabels;o[0].attr("invisible",!r),o[1].attr("invisible",!r),n.moveHandle&&this.api[r?"enterEmphasis":"leaveEmphasis"](n.moveHandle,1)},t.prototype._onDragMove=function(e,t,i,r){this._dragging=!0,uE(r.event);var n=C7([t,i],this._displayables.sliderGroup.getLocalTransform(),!0),o=this._updateInterval(e,n[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),o&&s&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0)&&!(i[0]>t[0])&&!(i[1]<0)&&!(i[1]>t[1])){var r=this._handleEnds,n=(r[0]+r[1])/2,o=this._updateInterval("all",i[0]-n);this._updateView(),o&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,i=e.offsetY;this._brushStart=new uV(t,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var i=t.shape;if(!(new Date-this._brushStartTime<200&&5>Math.abs(i.width))){var r=this._getViewExtent(),n=[0,100];this._range=cg([ch(i.x,r,n,!0),ch(i.x+i.width,r,n,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(uE(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var i=this._displayables,r=this.dataZoomModel,n=i.brushRect;n||(n=i.brushRect=new gw({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(n)),n.attr("ignore",!1);var o=this._brushStart,s=this._displayables.sliderGroup,a=s.transformCoordToLocal(e,t),l=s.transformCoordToLocal(o.x,o.y),u=this._size;a[0]=Math.max(Math.min(u[0],a[0]),0),n.setShape({x:l[0],y:0,width:a[0]-l[0],height:u[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?G4:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=FS(this.dataZoomModel).infoList;if(!e&&t.length){var i=t[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var r=this.api.getWidth(),n=this.api.getHeight();e={x:.2*r,y:.2*n,width:.6*r,height:.6*n}}return e},t.type="dataZoom.slider",t}(FM);function G8(e){return"vertical"===e?"ns-resize":"ew-resize"}function G9(e){e.registerComponentModel(G1),e.registerComponentView(G6),FP(e)}var G7={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};let Ve=function(e,t,i){var r=a3((G7[e]||{})[t]);return i&&lc(r)?r[r.length-1]:r};var Vt=DB.mapVisual,Vi=DB.eachVisual,Vr=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.stateList=["inRange","outOfRange"],i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],i.layoutMode={type:"box",ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return aF(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,t){var i=this.option;t||OM(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=ld(e,this),this.controllerVisuals=OT(this.option.controller,t,e),this.targetVisuals=OT(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(e,i){t.push(i)}):t=cN(e),t},t.prototype.eachTargetSeries=function(e,t){ln(this.getTargetSeriesIndices(),function(i){var r=this.ecModel.getSeriesByIndex(i);r&&e.call(t,r)},this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries(function(i){i===e&&(t=!0)}),t},t.prototype.formatValueText=function(e,t,i){var r,n=this.option,o=n.precision,s=this.dataBound,a=n.formatter;i=i||["<",">"],lc(e)&&(e=e.slice(),r=!0);var l=t?e:r?[u(e[0]),u(e[1])]:u(e);if(lg(a))return a.replace("{value}",r?l[0]:l).replace("{value2}",r?l[1]:l);if(lp(a))return r?a(e[0],e[1]):a(e);if(!r)return l;if(e[0]===s[0])return i[0]+" "+l[1];if(e[1]===s[1])return i[1]+" "+l[0];return l[0]+" - "+l[1];function u(e){return e===s[0]?"min":e===s[1]?"max":(+e).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,t=cg([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var i=e.dimensions,r=i.length-1;r>=0;r--){var n=i[r],o=e.getDimensionInfo(n);if(!o.isCalculationCoord)return o.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},r=t.target||(t.target={}),n=t.controller||(t.controller={});a4(r,i),a4(n,i);var o=this.isCategory();function s(i){lc(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")}}s.call(this,r),s.call(this,n),(function(e,t,i){var r=e[t],n=e[i];r&&!n&&(n=e[i]={},ln(r,function(e,t){if(DB.isValidType(t)){var i=Ve(t,"inactive",o);null!=i&&(n[t]=i,"color"!==t||n.hasOwnProperty("opacity")||n.hasOwnProperty("colorAlpha")||(n.opacity=[0,0]))}}))}).call(this,r,"inRange","outOfRange"),(function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,r=this.get("inactiveColor"),n=this.getItemSymbol()||"roundRect";ln(this.stateList,function(s){var a=this.itemSize,l=e[s];l||(l=e[s]={color:o?r:[r]}),null==l.symbol&&(l.symbol=t&&a3(t)||(o?n:[n])),null==l.symbolSize&&(l.symbolSize=i&&a3(i)||(o?a[0]:[a[0],a[0]])),l.symbol=Vt(l.symbol,function(e){return"none"===e?n:e});var u=l.symbolSize;if(null!=u){var d=-1/0;Vi(u,function(e){e>d&&(d=e)}),l.symbolSize=Vt(u,function(e){return ch(e,[0,d],[0,a[0]],!0)})}},this)}).call(this,n)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(mB),Vn=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=20),(null==t[1]||isNaN(t[1]))&&(t[1]=140)},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):lc(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),ln(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=cg((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries(function(i){var r=[],n=i.getData();n.each(this.getDataDimensionIndex(n),function(t,i){e[0]<=t&&t<=e[1]&&r.push(i)},this),t.push({seriesId:i.id,dataIndex:r})},this),t},t.prototype.getVisualMeta=function(e){var t=Vo(this,"outOfRange",this.getExtent()),i=Vo(this,"inRange",this.option.range.slice()),r=[];function n(t,i){r.push({value:t,color:e(t,i)})}for(var o=0,s=0,a=i.length,l=t.length;s<l&&(!i.length||t[s]<=i[0]);s++)t[s]<i[o]&&n(t[s],"outOfRange");for(var u=1;o<a;o++,u=0)u&&r.length&&n(i[o],"outOfRange"),n(i[o],"inRange");for(var u=1;s<l;s++)(!i.length||i[i.length-1]<t[s])&&(u&&(r.length&&n(r[r.length-1].value,"outOfRange"),u=0),n(t[s],"outOfRange"));var d=r.length;return{stops:r,outerColors:[d?r[0].color:"transparent",d?r[d-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=f1(Vr.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Vr);function Vo(e,t,i){if(i[0]===i[1])return i.slice();for(var r=(i[1]-i[0])/200,n=i[0],o=[],s=0;s<=200&&n<i[1];s++)o.push(n),n+=r;return o.push(i[1]),o}var Vs=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return aF(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,i,r){(this.visualMapModel=e,!1===e.get("show"))?this.group.removeAll():this.doRender(e,t,i,r)},t.prototype.renderBackground=function(e){var t=this.visualMapModel,i=lD(t.get("padding")||0),r=e.getBoundingRect();e.add(new gw({z2:-1,silent:!0,shape:{x:r.x-i[3],y:r.y-i[0],width:r.width+i[3]+i[1],height:r.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,i){var r=(i=i||{}).forceState,n=this.visualMapModel,o={};function s(e){return o[e]}function a(e,t){o[e]=t}"color"===t&&(o.color=n.get("contentColor"));var l=n.controllerVisuals[r||n.getValueState(e)];return ln(DB.prepareVisualTypes(l),function(r){var n=l[r];i.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",n=l.__alphaForOpacity),DB.dependsOn(r,t)&&n&&n.applyVisual(e,s,a)}),o[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,i=this.api;mk(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,t,i,r){},t.type="visualMap",t}(yj),Va=[["left","right","width"],["top","bottom","height"]];function Vl(e,t,i){var r=e.option,n=r.align;if(null!=n&&"auto"!==n)return n;for(var o={width:t.getWidth(),height:t.getHeight()},s=+("horizontal"===r.orient),a=Va[s],l=[0,null,10],u={},d=0;d<3;d++)u[Va[1-s][d]]=l[d],u[a[d]]=2===d?i[0]:r[a[d]];var h=[["x","width",3],["y","height",0]][s],c=mL(u,o,r.padding);return a[(c.margin[h[2]]||0)+c[h[0]]+.5*c[h[1]]<.5*o[h[1]]?0:1]}function Vu(e,t){return ln(e||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var Vd=Math.min,Vh=Math.max,Vc=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return aF(t,e),t.prototype.init=function(t,i){e.prototype.init.call(this,t,i),this._hoverLinkFromSeriesMouseOver=ld(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=ld(this._hideIndicator,this)},t.prototype.doRender=function(e,t,i,r){r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,i){if(t){var r=t[1-i];r=null!=r?r+"":"";var n=this.visualMapModel,o=n.get("textGap"),s=n.itemSize,a=this._shapes.mainGroup,l=this._applyTransform([s[0]/2,0===i?-o:s[1]+o],a),u=this._applyTransform(0===i?"bottom":"top",a),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new gx({style:fP(h,{x:l[0],y:l[1],verticalAlign:"horizontal"===d?"middle":u,align:"horizontal"===d?u:"center",text:r})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,i=this._shapes,r=t.itemSize,n=this._orient,o=this._useHandle,s=Vl(t,this.api,r),a=i.mainGroup=this._createBarGroup(s),l=new ce;a.add(l),l.add(i.outOfRange=Vp()),l.add(i.inRange=Vp(null,o?Vf(this._orient):null,ld(this._dragHandle,this,"all",!1),ld(this._dragHandle,this,"all",!0))),l.setClipPath(new gw({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var u=t.textStyleModel.getTextRect("å›½"),d=Vh(u.width,u.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(t,a,0,r,d,n),this._createHandle(t,a,1,r,d,n)),this._createIndicator(t,a,r,d,n),e.add(a)},t.prototype._createHandle=function(e,t,i,r,n,o){var s=ld(this._dragHandle,this,i,!1),a=ld(this._dragHandle,this,i,!0),l=h0(e.get("handleSize"),r[0]),u=ba(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),d=Vf(this._orient);u.attr({cursor:d,draggable:!0,drift:s,ondragend:a,onmousemove:function(e){uE(e.event)}}),u.x=r[0]/2,u.useStyle(e.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),fp(u,!0),t.add(u);var h=new gx({cursor:d,draggable:!0,drift:s,onmousemove:function(e){uE(e.event)},ondragend:a,style:fP(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});h.ensureState("blur").style={opacity:.1},h.stateTransition={duration:200},this.group.add(h);var c=[l,0],p=this._shapes;p.handleThumbs[i]=u,p.handleLabelPoints[i]=c,p.handleLabels[i]=h},t.prototype._createIndicator=function(e,t,i,r,n){var o=h0(e.get("indicatorSize"),i[0]),s=ba(e.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);s.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var a=e.getModel("indicatorStyle").getItemStyle();if(s instanceof gp){var l=s.style;s.useStyle(a8({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},a))}else s.useStyle(a);t.add(s);var u=new gx({silent:!0,invisible:!0,style:fP(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(u);var d=[("horizontal"===n?r/2:6)+i[0]/2,0],h=this._shapes;h.indicator=s,h.indicatorLabel=u,h.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,i,r){if(this._useHandle){if(this._dragging=!t,!t){var n=this._applyTransform([i,r],this._shapes.mainGroup,!0);this._updateInterval(e,n[1]),this._hideIndicator(),this._updateView()}!this.visualMapModel.get("realtime")===t&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?this._hovering||this._clearHoverLinkToSeries():Vg(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),r=[0,e.itemSize[1]];this._handleEnds=[ch(t[0],i,r,!0),ch(t[1],i,r,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var i=this.visualMapModel,r=this._handleEnds,n=[0,i.itemSize[1]];Iv(t,r,n,e,0);var o=i.getExtent();this._dataInterval=[ch(r[0],n,o,!0),ch(r[1],n,o,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,i=t.getExtent(),r=this._shapes,n=[0,t.itemSize[1]],o=e?n:this._handleEnds,s=this._createBarVisual(this._dataInterval,i,o,"inRange"),a=this._createBarVisual(i,i,n,"outOfRange");r.inRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),r.outOfRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),this._updateHandle(o,s)},t.prototype._createBarVisual=function(e,t,i,r){var n={forceState:r,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,n),s=[this.getControllerVisual(e[0],"symbolSize",n),this.getControllerVisual(e[1],"symbolSize",n)],a=this._createBarPoints(i,s);return{barColor:new CO(0,0,0,1,o),barPoints:a,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var i=[],r=(e[1]-e[0])/100;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var n=1;n<100;n++){var o=e[0]+r*n;if(o>e[1])break;i.push({color:this.getControllerVisual(o,"color",t),offset:n/100})}return i.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),i},t.prototype._createBarPoints=function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new ce("horizontal"===t&&!i?{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2}:"horizontal"===t&&i?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"===t&&!i?{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"left"===e?1:-1})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var i=this._shapes,r=this.visualMapModel,n=i.handleThumbs,o=i.handleLabels,s=r.itemSize,a=r.getExtent(),l=this._applyTransform("left",i.mainGroup);ln([0,1],function(u){var d=n[u];d.setStyle("fill",t.handlesColor[u]),d.y=e[u];var h=ch(e[u],[0,s[1]],a,!0),c=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=c/s[0],d.x=s[0]-c/2;var p=C7(i.handleLabelPoints[u],C9(d,this.group));if("horizontal"===this._orient){var g="left"===l||"top"===l?(s[0]-c)/2:-((s[0]-c)/2);p[1]+=g}o[u].setStyle({x:p[0],y:p[1],text:r.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,t,i,r){var n=this.visualMapModel,o=n.getExtent(),s=n.itemSize,a=[0,s[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var d=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),h=this.getControllerVisual(e,"symbolSize"),c=ch(e,o,a,!0),p=s[0]-h/2,g={x:u.x,y:u.y};u.y=c,u.x=p;var f=C7(l.indicatorLabelPoint,C9(u,this.group)),m=l.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),y="horizontal"===this._orient;m.setStyle({text:(i||"")+n.formatValueText(t),verticalAlign:y?v:"middle",align:y?"center":v});var C={x:p,y:c,style:{fill:d}},w={style:{x:f[0],y:f[1]}};if(n.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var b={duration:100,easing:"cubicInOut",additive:!0};u.x=g.x,u.y=g.y,u.animateTo(C,b),m.animateTo(w,b)}else u.attr(C),m.attr(w);this._firstShowIndicator=!1;var S=this._shapes.handleLabels;if(S)for(var x=0;x<S.length;x++)this.api.enterBlur(S[x])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,r=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);r[1]=Vd(Vh(0,r[1]),i[1]),e._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,e._dragging||e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var i=this.visualMapModel,r=i.itemSize;if(i.option.hoverLink){var n,o,s,a,l,u=[0,r[1]],d=i.getExtent();e=Vd(Vh(u[0],e),u[1]);var h=(n=i,o=d,s=u,a=6,(l=n.get("hoverLinkDataSize"))&&(a=ch(l,o,s,!0)/2),a),c=[e-h,e+h],p=ch(e,u,d,!0),g=[ch(c[0],u,d,!0),ch(c[1],u,d,!0)];c[0]<u[0]&&(g[0]=-1/0),c[1]>u[1]&&(g[1]=1/0),t&&(g[0]===-1/0?this._showIndicator(p,g[1],"< ",h):g[1]===1/0?this._showIndicator(p,g[0],"> ",h):this._showIndicator(p,p,"â‰ˆ ",h));var f=this._hoverLinkDataIndices,m=[];(t||Vg(i))&&(m=this._hoverLinkDataIndices=i.findTargetDataIndices(g));var v=function(e,t){var i={},r={};return n(e||[],i),n(t||[],r,i),[o(i),o(r)];function n(e,t,i){for(var r=0,n=e.length;r<n;r++){var o=cz(e[r].seriesId,null);if(null==o)return;for(var s=cN(e[r].dataIndex),a=i&&i[o],l=0,u=s.length;l<u;l++){var d=s[l];a&&a[d]?a[d]=null:(t[o]||(t[o]={}))[d]=1}}}function o(e,t){var i=[];for(var r in e)if(e.hasOwnProperty(r)&&null!=e[r])if(t)i.push(+r);else{var n=o(e[r],!0);n.length&&i.push({seriesId:r,dataIndex:n})}return i}}(f,m);this._dispatchHighDown("downplay",Vu(v[0],i)),this._dispatchHighDown("highlight",Vu(v[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){if(w4(e.target,function(e){var i=gF(e);if(null!=i.dataIndex)return t=i,!0},!0),t){var t,i=this.ecModel.getSeriesByIndex(t.seriesIndex),r=this.visualMapModel;if(r.isTargetSeries(i)){var n=i.getData(t.dataType),o=n.getStore().get(r.getDataDimensionIndex(n),t.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var i=0;i<t.length;i++)this.api.leaveBlur(t[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Vu(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,i,r){var n=C9(t,r?null:this.group);return lc(e)?C7(e,n,i):we(e,n,i)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(Vs);function Vp(e,t,i,r){return new Cx({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){uE(e.event)},ondragend:r})}function Vg(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function Vf(e){return"vertical"===e?"ns-resize":"ew-resize"}var Vm={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Vv=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})},Vy=[{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",function(t){var r,n,o,s,a,l=e.pipelineContext;!t.isTargetSeries(e)||l&&l.large||i.push((r=t.stateList,n=t.targetVisuals,o=ld(t.getValueState,t),s=t.getDataDimensionIndex(e.getData()),a={},ln(r,function(e){var t=DB.prepareVisualTypes(n[e]);a[e]=t}),{progress:function(e,t){function i(e){return w0(t,u,e)}function r(e,i){w2(t,u,e,i)}null!=s&&(l=t.getDimensionIndex(s));for(var l,u,d=t.getStore();null!=(u=e.next());){var h=t.getRawDataItem(u);if(!h||!1!==h.visualMap)for(var c=null!=s?d.get(l,u):u,p=o(c),g=n[p],f=a[p],m=0,v=f.length;m<v;m++){var y=f[m];g[y]&&g[y].applyVisual(c,i,r)}}}}))}),i}},{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),r=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var n=t.getVisualMeta(ld(VC,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimensionIndex(i);o>=0&&(n.dimension=o,r.push(n))}}),e.getData().setVisual("visualMeta",r)}}];function VC(e,t,i,r){for(var n=t.targetVisuals[r],o=DB.prepareVisualTypes(n),s={color:w1(e.getData(),"color")},a=0,l=o.length;a<l;a++){var u=o[a],d=n["opacity"===u?"__alphaForOpacity":u];d&&d.applyVisual(i,h,c)}return s.color;function h(e){return s[e]}function c(e,t){s[e]=t}}function Vw(e){var t=e&&e.visualMap;lc(t)||(t=t?[t]:[]),ln(t,function(e){if(e){Vb(e,"splitList")&&!Vb(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&lc(t)&&ln(t,function(e){lv(e)&&(Vb(e,"start")&&!Vb(e,"min")&&(e.min=e.start),Vb(e,"end")&&!Vb(e,"max")&&(e.max=e.end))})}})}function Vb(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var VS=!1;function Vx(e){VS||(VS=!0,e.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),e.registerAction(Vm,Vv),ln(Vy,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(Vw))}function V_(e){e.registerComponentModel(Vn),e.registerComponentView(Vc),Vx(e)}var VE=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._pieceList=[],i}return aF(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],VT[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var n=this.option.categories;this.resetVisual(function(e,t){"categories"===r?(e.mappingMethod="category",e.categories=a3(n)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=lo(this._pieceList,function(e){return e=a3(e),"inRange"!==t&&(e.visual=null),e}))})},t.prototype.completeVisualOption=function(){var t=this.option,i={},r=DB.listVisualTypes(),n=this.isCategory();function o(e,t,i){return e&&e[t]&&e[t].hasOwnProperty(i)}ln(t.pieces,function(e){ln(r,function(t){e.hasOwnProperty(t)&&(i[t]=1)})}),ln(i,function(e,i){var r=!1;ln(this.stateList,function(e){r=r||o(t,e,i)||o(t.target,e,i)},this),r||ln(this.stateList,function(e){(t[e]||(t[e]={}))[i]=Ve(i,"inRange"===e?"active":"inactive",n)})},this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var i=this.option,r=this._pieceList,n=(t?i:e).selected||{};if(i.selected=n,ln(r,function(e,t){var i=this.getSelectedMapKey(e);n.hasOwnProperty(i)||(n[i]=!0)},this),"single"===i.selectedMode){var o=!1;ln(r,function(e,t){var i=this.getSelectedMapKey(e);n[i]&&(o?n[i]=!1:o=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=a3(e)},t.prototype.getValueState=function(e){var t=DB.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],i=this._pieceList;return this.eachTargetSeries(function(r){var n=[],o=r.getData();o.each(this.getDataDimensionIndex(o),function(t,r){DB.findPieceIndex(t,i)===e&&n.push(r)},this),t.push({seriesId:r.id,dataIndex:n})},this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],i=["",""],r=this,n=this._pieceList.slice();if(n.length){var o=n[0].interval[0];o!==-1/0&&n.unshift({interval:[-1/0,o]}),(o=n[n.length-1].interval[1])!==1/0&&n.push({interval:[o,1/0]})}else n.push({interval:[-1/0,1/0]});var s=-1/0;return ln(n,function(e){var t=e.interval;t&&(t[0]>s&&a([s,t[0]],"outOfRange"),a(t.slice()),s=t[1])},this),{stops:t,outerColors:i}}function a(n,o){var s=r.getRepresentValue({interval:n});o||(o=r.getValueState(s));var a=e(s,o);n[0]===-1/0?i[0]=a:n[1]===1/0?i[1]=a:t.push({value:n[0],color:a},{value:n[1],color:a})}},t.type="visualMap.piecewise",t.defaultOption=f1(Vr.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Vr),VT={splitNumber:function(e){var t=this.option,i=Math.min(t.precision,20),r=this.getExtent(),n=t.splitNumber;t.splitNumber=n=Math.max(parseInt(n,10),1);for(var o=(r[1]-r[0])/n;+o.toFixed(i)!==o&&i<5;)i++;t.precision=i,o=+o.toFixed(i),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var s=0,a=r[0];s<n;a+=o,s++){var l=s===n-1?r[1]:a+o;e.push({interval:[a,l],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),cR(e),ln(e,function(e,t){e.index=t,e.text=this.formatValueText(e.interval)},this)},categories:function(e){var t=this.option;ln(t.categories,function(t){e.push({text:this.formatValueText(t,!0),value:t})},this),VM(t,e)},pieces:function(e){var t=this.option;ln(t.pieces,function(t,i){lv(t)||(t={value:t});var r={text:"",index:i};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var n=r.value=t.value;r.interval=[n,n],r.close=[1,1]}else{for(var o=r.interval=[],s=r.close=[0,0],a=[1,0,1],l=[-1/0,1/0],u=[],d=0;d<2;d++){for(var h=[["gte","gt","min"],["lte","lt","max"]][d],c=0;c<3&&null==o[d];c++)o[d]=t[h[c]],s[d]=a[c],u[d]=2===c;null==o[d]&&(o[d]=l[d])}u[0]&&o[1]===1/0&&(s[0]=0),u[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(r.value=o[0])}r.visual=DB.retrieveVisuals(t),e.push(r)},this),VM(t,e),cR(e),ln(e,function(e){var t=e.close,i=[["<","â‰¤"][t[1]],[">","â‰¥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)},this)}};function VM(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var VR=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return aF(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),r=t.textStyleModel,n=r.getFont(),o=r.getTextColor(),s=this._getItemAlign(),a=t.itemSize,l=this._getViewData(),u=l.endsText,d=lE(t.get("showLabel",!0),!u),h=!t.get("selectedMode");u&&this._renderEndsText(e,u[0],a,d,s),ln(l.viewPieceList,function(r){var l=r.piece,u=new ce;u.onclick=ld(this._onItemClick,this,l),this._enableHoverLink(u,r.indexInModelPieceList);var c=t.getRepresentValue(l);if(this._createItemSymbol(u,c,[0,0,a[0],a[1]],h),d){var p=this.visualMapModel.getValueState(c);u.add(new gx({style:{x:"right"===s?-i:a[0]+i,y:a[1]/2,text:l.text,verticalAlign:"middle",align:s,font:n,fill:o,opacity:"outOfRange"===p?.5:1},silent:h}))}e.add(u)},this),u&&this._renderEndsText(e,u[1],a,d,s),mP(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var i=this;e.on("mouseover",function(){return r("highlight")}).on("mouseout",function(){return r("downplay")});var r=function(e){var r=i.visualMapModel;r.option.hoverLink&&i.api.dispatchAction({type:e,batch:Vu(r.findTargetDataIndices(t),r)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return Vl(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},t.prototype._renderEndsText=function(e,t,i,r,n){if(t){var o=new ce,s=this.visualMapModel.textStyleModel;o.add(new gx({style:fP(s,{x:r?"right"===n?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:r?n:"center",text:t})})),e.add(o)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=lo(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),i=e.get("text"),r=e.get("orient"),n=e.get("inverse");return("horizontal"===r?n:!n)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},t.prototype._createItemSymbol=function(e,t,i,r){var n=ba(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color"));n.silent=r,e.add(n)},t.prototype._onItemClick=function(e){var t=this.visualMapModel,i=t.option,r=i.selectedMode;if(r){var n=a3(i.selected),o=t.getSelectedMapKey(e);"single"===r||!0===r?(n[o]=!0,ln(n,function(e,t){n[t]=t===o})):n[o]=!n[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}},t.type="visualMap.piecewise",t}(Vs);function VD(e){e.registerComponentModel(VE),e.registerComponentView(VR),Vx(e)}var VA={label:{enabled:!0},decal:{show:!1}},VI=c$(),VP={};function VL(e,t){var i=e.getModel("aria");if(i.get("enabled")){var r=a3(VA);a4(r.label,e.getLocaleModel().get("aria"),!1),a4(i.option,r,!1),function(){if(i.getModel("decal").get("show")){var t=lG();e.eachSeries(function(e){if(!e.isColorBySeries()){var i=t.get(e.type);i||(i={},t.set(e.type,i)),VI(e).scope=i}}),e.eachRawSeries(function(t){if(!e.isSeriesFiltered(t)){if(lp(t.enableAriaDecal))return void t.enableAriaDecal();var i=t.getData();if(t.isColorBySeries()){var r=ve(t.ecModel,t.name,VP,e.getSeriesCount()),n=i.getVisual("decal");i.setVisual("decal",u(n,r))}else{var o=t.getRawData(),s={},a=VI(t).scope;i.each(function(e){s[i.getRawIndex(e)]=e});var l=o.count();o.each(function(e){var r=s[e],n=o.getName(e)||e+"",d=ve(t.ecModel,n,a,l),h=i.getItemVisual(r,"decal");i.setItemVisual(r,"decal",u(h,d))})}}function u(e,t){var i=e?a8(a8({},t),e):t;return i.dirty=!0,i}})}}(),function(){var r,o=t.getZr().dom;if(o){var s=e.getLocaleModel().get("aria"),a=i.getModel("label");if(a.option=a9(a.option,s),a.get("enabled")){if(o.setAttribute("role","img"),a.get("description"))return o.setAttribute("aria-label",a.get("description"));var l,u=e.getSeriesCount(),d=a.get(["data","maxCount"])||10,h=Math.min(u,a.get(["series","maxCount"])||10);if(u<1)return;var c=((l=e.get("title"))&&l.length&&(l=l[0]),l&&l.text);r=c?n(a.get(["general","withTitle"]),{title:c}):a.get(["general","withoutTitle"]);var p=[];r+=n(u>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]),{seriesCount:u}),e.eachSeries(function(t,i){if(i<h){var r,o,s=void 0,l=t.get("name")?"withName":"withoutName";s=n(s=u>1?a.get(["series","multiple",l]):a.get(["series","single",l]),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(r=t.subType,(o=e.getLocaleModel().get(["series","typeNames"]))[r]||o.chart)});var c=t.getData();c.count()>d?s+=n(a.get(["data","partialData"]),{displayCnt:d}):s+=a.get(["data","allData"]);for(var g=a.get(["data","separator","middle"]),f=a.get(["data","separator","end"]),m=a.get(["data","excludeDimensionId"]),v=[],y=0;y<c.count();y++)if(y<d){var C=c.getName(y),w=m?la(c.getValues(y),function(e,t){return -1===le(m,t)}):c.getValues(y),b=a.get(["data",C?"withName":"withoutName"]);v.push(n(b,{name:C,value:w.join(g)}))}s+=v.join(g)+f,p.push(s)}});var g=a.getModel(["series","multiple","separator"]),f=g.get("middle"),m=g.get("end");r+=p.join(f)+m,o.setAttribute("aria-label",r)}}}()}function n(e,t){if(!lg(e))return e;var i=e;return ln(t,function(e,t){i=i.replace(RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)}),i}}function Vk(e){if(e&&e.aria){var t=e.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},ln(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var VN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return aF(t,e),t.prototype.init=function(t,i,r){e.prototype.init.call(this,t,i,r),this._sourceManager=new yf(this),ym(this)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),ym(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:mJ},t}(mB),VF=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return aF(t,e),t.type="dataset",t}(yj),VO={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},VG=function(){function e(e){null==(this._condVal=lg(e)?new RegExp(e):lx(e)?e:null)&&vr("")}return e.prototype.evaluate=function(e){var t=typeof e;return lg(t)?this._condVal.test(e):!!lm(t)&&this._condVal.test(e+"")},e}(),VV=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),VB=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),VH=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),Vz=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),VW=function(){function e(){}return e.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),i=e?this.valueParser(t):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(e?i:t))return!1;return!0},e}();function VU(e,t){if(!0===e||!1===e){var i,r,n,o,s,a=new VV;return a.value=e,a}if(lv(i=e)&&!lr(i)||vr(""),e.and)return Vj("and",e,t);if(e.or)return Vj("or",e,t);if(e.not){return r=e,n=t,function(e){return lv(e)&&!lr(e)}(o=r.not)||vr(""),(s=new Vz).child=VU(o,n),s.child||vr(""),s}return function(e,t){for(var i=t.prepareGetValue(e),r=[],n=lu(e),o=e.parser,s=o?v5.get(o):null,a=0;a<n.length;a++){var l=n[a];if(!("parser"===l||t.valueGetterAttrMap.get(l))){var u=lz(VO,l)?VO[l]:l,d=e[l],h=s?s(d):d,c=("eq"===u||"ne"===u?new v8("eq"===u,h):lz(v3,u)?new v4(u,h):null)||"reg"===u&&new VG(h);c||vr(""),r.push(c)}}r.length||vr("");var p=new VW;return p.valueGetterParam=i,p.valueParser=s,p.getValue=t.getValue,p.subCondList=r,p}(e,t)}function Vj(e,t,i){var r=t[e];lc(r)||vr(""),r.length||vr("");var n="and"===e?new VB:new VH;return n.children=lo(r,function(e){return VU(e,i)}),n.children.length||vr(""),n}var V$=function(){function e(e,t){this._cond=VU(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}(),VK={type:"echarts:filter",transform:function(e){for(var t,i=e.upstream,r=new V$(e.config,{valueGetterAttrMap:lG({dimension:!0}),prepareGetValue:function(e){var t=e.dimension;lz(e,"dimension")||vr("");var r=i.getDimensionInfo(t);return r||vr(""),{dimIdx:r.index}},getValue:function(e){return i.retrieveValueFromItem(t,e.dimIdx)}}),n=[],o=0,s=i.count();o<s;o++)t=i.getRawDataItem(o),r.evaluate()&&n.push(t);return{data:n}}},VY={type:"echarts:sort",transform:function(e){var t=e.upstream,i=cN(e.config);i.length||vr("");var r=[];ln(i,function(e){var i=e.dimension,n=e.order,o=e.parser,s=e.incomparable;null==i&&vr(""),"asc"!==n&&"desc"!==n&&vr(""),s&&"min"!==s&&"max"!==s&&vr(""),"asc"!==n&&"desc"!==n&&vr("");var a=t.getDimensionInfo(i);a||vr("");var l=o?v5.get(o):null;o&&!l&&vr(""),r.push({dimIdx:a.index,parser:l,comparator:new v6(n,s)})});var n=t.sourceFormat;n!==mY&&n!==mq&&vr("");for(var o=[],s=0,a=t.count();s<a;s++)o.push(t.getRawDataItem(s));return o.sort(function(e,i){for(var n=0;n<r.length;n++){var o=r[n],s=t.retrieveValueFromItem(e,o.dimIdx),a=t.retrieveValueFromItem(i,o.dimIdx);o.parser&&(s=o.parser(s),a=o.parser(a));var l=o.comparator.evaluate(s,a);if(0!==l)return l}return 0}),{data:o}}},Vq=p5.CMD;function VX(e,t){return 1e-5>Math.abs(e-t)}function VZ(e){var t,i,r,n,o,s=e.data,a=e.len(),l=[],u=0,d=0,h=0,c=0;function p(e,i){t&&t.length>2&&l.push(t),t=[e,i]}function g(e,i,r,n){VX(e,r)&&VX(i,n)||t.push(e,i,r,n,r,n)}for(var f=0;f<a;){var m=s[f++],v=1===f;switch(v&&(u=s[f],d=s[f+1],h=u,c=d,(m===Vq.L||m===Vq.C||m===Vq.Q)&&(t=[h,c])),m){case Vq.M:u=h=s[f++],d=c=s[f++],p(h,c);break;case Vq.L:g(u,d,i=s[f++],r=s[f++]),u=i,d=r;break;case Vq.C:t.push(s[f++],s[f++],s[f++],s[f++],u=s[f++],d=s[f++]);break;case Vq.Q:i=s[f++],r=s[f++],n=s[f++],o=s[f++],t.push(u+2/3*(i-u),d+2/3*(r-d),n+2/3*(i-n),o+2/3*(r-o),n,o),u=n,d=o;break;case Vq.A:var y=s[f++],C=s[f++],w=s[f++],b=s[f++],S=s[f++],x=s[f++]+S;f+=1;var _=!s[f++];i=Math.cos(S)*w+y,r=Math.sin(S)*b+C,v?p(h=i,c=r):g(u,d,i,r),u=Math.cos(x)*w+y,d=Math.sin(x)*b+C;for(var E=(_?-1:1)*Math.PI/2,T=S;_?T>x:T<x;T+=E){var M=_?Math.max(T+E,x):Math.min(T+E,x);!function(e,i,r,n,o,s){var a=4*Math.tan(Math.abs(i-e)/4)/3,l=i<e?-1:1,u=Math.cos(e),d=Math.sin(e),h=Math.cos(i),c=Math.sin(i),p=h*o+r,g=c*s+n,f=o*a*l,m=s*a*l;t.push(u*o+r-f*d,d*s+n+m*u,p+f*c,g-m*h,p,g)}(T,M,y,C,w,b)}break;case Vq.R:h=u=s[f++],c=d=s[f++],i=h+s[f++],r=c+s[f++],p(i,c),g(i,c,i,r),g(i,r,h,r),g(h,r,h,c),g(h,c,i,c);break;case Vq.Z:t&&g(u,d,h,c),u=h,d=c}}return t&&t.length>2&&l.push(t),l}function VQ(e,t,i){var r=Math.ceil(Math.sqrt(Math.abs(e[t]/e[1-t])*i)),n=Math.floor(i/r);0===n&&(n=1,r=i);for(var o=[],s=0;s<r;s++)o.push(n);var a=i-r*n;if(a>0)for(var s=0;s<a;s++)o[s%r]+=1;return o}function VJ(e,t,i){for(var r=e.r0,n=e.r,o=e.startAngle,s=Math.abs(e.endAngle-o),a=s*n,l=n-r,u=a>Math.abs(l),d=VQ([a,l],+!u,t),h=(u?s:l)/d.length,c=0;c<d.length;c++)for(var p=(u?l:s)/d[c],g=0;g<d[c];g++){var f={};u?(f.startAngle=o+h*c,f.endAngle=o+h*(c+1),f.r0=r+p*g,f.r=r+p*(g+1)):(f.startAngle=o+p*g,f.endAngle=o+p*(g+1),f.r0=r+h*c,f.r=r+h*(c+1)),f.clockwise=e.clockwise,f.cx=e.cx,f.cy=e.cy,i.push(f)}}function V0(e,t){var i=e[e.length-1];i&&i[0]===t[0]&&i[1]===t[1]||e.push(t)}function V1(e){var t=e.points,i=[],r=[];pN(t,i,r);var n=new uY(i[0],i[1],r[0]-i[0],r[1]-i[1]),o=n.width,s=n.height,a=n.x,l=n.y,u=new uV,d=new uV;return o>s?(u.x=d.x=a+o/2,u.y=l,d.y=l+s):(u.y=d.y=l+s/2,u.x=a,d.x=a+o),function(e,t,i){for(var r=e.length,n=[],o=0;o<r;o++){var s=e[o],a=e[(o+1)%r],l=function(e,t,i,r,n,o,s,a){var l=i-e,u=r-t,d=s-n,h=a-o,c=d*u-l*h;if(1e-6>Math.abs(c))return null;var p=((e-n)*h-d*(t-o))/c;return p<0||p>1?null:new uV(p*l+e,p*u+t)}(s[0],s[1],a[0],a[1],t.x,t.y,i.x,i.y);l&&n.push({projPt:function(e,t,i){var r=new uV;uV.sub(r,i,t),r.normalize();var n=new uV;return uV.sub(n,e,t),n.dot(r)}(l,t,i),pt:l,idx:o})}if(n.length<2)return[{points:e},{points:e}];n.sort(function(e,t){return e.projPt-t.projPt});var u=n[0],d=n[n.length-1];if(d.idx<u.idx){var h=u;u=d,d=h}for(var c=[u.pt.x,u.pt.y],p=[d.pt.x,d.pt.y],g=[c],f=[p],o=u.idx+1;o<=d.idx;o++)V0(g,e[o].slice());V0(g,p),V0(g,c);for(var o=d.idx+1;o<=u.idx+r;o++)V0(f,e[o%r].slice());return V0(f,c),V0(f,p),[{points:g},{points:f}]}(t,u,d)}function V2(e,t,i,r){if(1===i)r.push(t);else{var n=Math.floor(i/2),o=e(t);V2(e,o[0],n,r),V2(e,o[1],i-n,r)}return r}function V5(e,t){for(var i=e.length,r=e[i-2],n=e[i-1],o=[],s=0;s<t.length;)o[s++]=r,o[s++]=n;return o}function V3(e){for(var t=0,i=0,r=0,n=e.length,o=0,s=n-2;o<n;s=o,o+=2){var a=e[s],l=e[s+1],u=e[o],d=e[o+1],h=a*d-u*l;t+=h,i+=(a+u)*h,r+=(l+d)*h}return 0===t?[e[0]||0,e[1]||0]:[i/t/3,r/t/3,t]}function V4(e){return e.__isCombineMorphing}var V6="__mOriginal_";function V8(e,t,i){var r=V6+t,n=e[r]||e[t];e[r]||(e[r]=e[t]);var o=i.replace,s=i.after,a=i.before;e[t]=function(){var e,t=arguments;return a&&a.apply(this,t),e=o?o.apply(this,t):n.apply(this,t),s&&s.apply(this,t),e}}function V9(e,t){var i=V6+t;e[i]&&(e[t]=e[i],e[i]=null)}function V7(e,t){for(var i=0;i<e.length;i++)for(var r=e[i],n=0;n<r.length;){var o=r[n],s=r[n+1];r[n++]=t[0]*o+t[2]*s+t[4],r[n++]=t[1]*o+t[3]*s+t[5]}}function Be(e,t){var i=e.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),n=function(e,t){for(var i,r,n,o=[],s=[],a=0;a<Math.max(e.length,t.length);a++){var l=e[a],u=t[a],d=void 0,h=void 0;l?u?(d=(i=function(e,t){var i=e.length,r=t.length;if(i===r)return[e,t];for(var n=[],o=[],s=i<r?e:t,a=Math.min(i,r),l=Math.abs(r-i)/6,u=Math.ceil(l/((a-2)/6))+1,d=[s[0],s[1]],h=l,c=2;c<a;){var p=s[c-2],g=s[c-1],f=s[c++],m=s[c++],v=s[c++],y=s[c++],C=s[c++],w=s[c++];if(h<=0){d.push(f,m,v,y,C,w);continue}for(var b=Math.min(h,u-1)+1,S=1;S<=b;S++){var x=S/b;dy(p,f,v,C,x,n),dy(g,m,y,w,x,o),p=n[3],g=o[3],d.push(n[1],o[1],n[2],o[2],p,g),f=n[5],m=o[5],v=n[6],y=o[6]}h-=b-1}return s===e?[d,t]:[e,d]}(l,u))[0],h=i[1],r=d,n=h):(h=V5(n||l,l),d=l):(d=V5(r||u,u),h=u),o.push(d),s.push(h)}return[o,s]}(VZ(i),VZ(r)),o=n[0],s=n[1],a=e.getComputedTransform(),l=t.getComputedTransform();a&&V7(o,a),l&&V7(s,l),V8(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var u=function(e,t,i,r){for(var n,o=[],s=0;s<e.length;s++){var a=e[s],l=t[s],u=V3(a),d=V3(l);null==n&&(n=u[2]<0!=d[2]<0);var h=[],c=[],p=0,g=1/0,f=[],m=a.length;n&&(a=function(e){for(var t=[],i=e.length,r=0;r<i;r+=2)t[r]=e[i-r-2],t[r+1]=e[i-r-1];return t}(a));for(var v=6*function(e,t,i,r){for(var n=(e.length-2)/6,o=1/0,s=0,a=e.length,l=a-2,u=0;u<n;u++){for(var d=6*u,h=0,c=0;c<a;c+=2){var p=0===c?d:(d+c-2)%l+2,g=e[p]-i[0],f=e[p+1]-i[1],m=t[c]-r[0],v=t[c+1]-r[1],y=m-g,C=v-f;h+=y*y+C*C}h<o&&(o=h,s=u)}return s}(a,l,u,d),y=m-2,C=0;C<y;C+=2){var w=(v+C)%y+2;h[C+2]=a[w]-u[0],h[C+3]=a[w+1]-u[1]}h[0]=a[v]-u[0],h[1]=a[v+1]-u[1];for(var b=r/10,S=-r/2;S<=r/2;S+=b){for(var x=Math.sin(S),_=Math.cos(S),E=0,C=0;C<a.length;C+=2){var T=h[C],M=h[C+1],R=l[C]-d[0],D=l[C+1]-d[1],A=R*_-D*x,I=R*x+D*_;f[C]=A,f[C+1]=I;var P=A-T,L=I-M;E+=P*P+L*L}if(E<g){g=E,p=S;for(var k=0;k<f.length;k++)c[k]=f[k]}}o.push({from:h,to:c,fromCp:u,toCp:d,rotation:-p})}return o}(o,s,0,Math.PI),d=[];V8(t,"buildPath",{replace:function(e){for(var i=t.__morphT,r=1-i,n=[],o=0;o<u.length;o++){var s=u[o],a=s.from,l=s.to,h=s.rotation*i,c=s.fromCp,p=s.toCp,g=Math.sin(h),f=Math.cos(h);ue(n,c,p,i);for(var m=0;m<a.length;m+=2){var v=a[m],y=a[m+1],C=l[m],w=l[m+1],b=v*r+C*i,S=y*r+w*i;d[m]=b*f-S*g+n[0],d[m+1]=b*g+S*f+n[1]}var x=d[0],_=d[1];e.moveTo(x,_);for(var m=2;m<a.length;){var C=d[m++],w=d[m++],E=d[m++],T=d[m++],M=d[m++],R=d[m++];x===C&&_===w&&E===M&&T===R?e.lineTo(M,R):e.bezierCurveTo(C,w,E,T,M,R),x=M,_=R}}}})}function Bt(e,t,i){if(!e||!t)return t;var r=i.done,n=i.during;return Be(e,t),t.__morphT=0,t.animateTo({__morphT:1},a9({during:function(e){t.dirtyShape(),n&&n(e)},done:function(){V9(t,"buildPath"),V9(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),r&&r()}},i)),t}function Bi(e){var t=1/0,i=1/0,r=-1/0,n=-1/0,o=lo(e,function(e){var o=e.getBoundingRect(),s=e.getComputedTransform(),a=o.x+o.width/2+(s?s[4]:0),l=o.y+o.height/2+(s?s[5]:0);return t=Math.min(a,t),i=Math.min(l,i),r=Math.max(a,r),n=Math.max(l,n),[a,l]});return lo(o,function(o,s){return{cp:o,z:function(e,t,i,r,n,o){e=n===i?0:Math.round(32767*(e-i)/(n-i)),t=o===r?0:Math.round(32767*(t-r)/(o-r));for(var s,a=0,l=32768;l>0;l/=2){var u=0,d=0;(e&l)>0&&(u=1),(t&l)>0&&(d=1),a+=l*l*(3*u^d),0===d&&(1===u&&(e=l-1-e,t=l-1-t),s=e,e=t,t=s)}return a}(o[0],o[1],t,i,r,n),path:e[s]}}).sort(function(e,t){return e.z-t.z}).map(function(e){return e.path})}function Br(e){return function(e,t){var i,r=[],n=e.shape;switch(e.type){case"rect":!function(e,t,i){for(var r=e.width,n=e.height,o=r>n,s=VQ([r,n],+!o,t),a=o?"width":"height",l=o?"height":"width",u=o?"x":"y",d=o?"y":"x",h=e[a]/s.length,c=0;c<s.length;c++)for(var p=e[l]/s[c],g=0;g<s[c];g++){var f={};f[u]=c*h,f[d]=g*p,f[a]=h,f[l]=p,f.x+=e.x,f.y+=e.y,i.push(f)}}(n,t,r),i=gw;break;case"sector":VJ(n,t,r),i=Cy;break;case"circle":VJ({r0:0,r:n.r,startAngle:0,endAngle:2*Math.PI,cx:n.cx,cy:n.cy},t,r),i=Cy;break;default:var o=e.getComputedTransform(),s=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,a=lo(function(e,t){var i=VZ(e),r=[];t=t||1;for(var n=0;n<i.length;n++){var o=i[n],s=[],a=o[0],l=o[1];s.push(a,l);for(var u=2;u<o.length;){var d=o[u++],h=o[u++],c=o[u++],p=o[u++],g=o[u++],f=o[u++];!function e(t,i,r,n,o,s,a,l,u,d){if(VX(t,r)&&VX(i,n)&&VX(o,a)&&VX(s,l))return void u.push(a,l);var h=2/d,c=h*h,p=a-t,g=l-i,f=Math.sqrt(p*p+g*g);p/=f,g/=f;var m=r-t,v=n-i,y=o-a,C=s-l,w=m*m+v*v,b=y*y+C*C;if(w<c&&b<c)return void u.push(a,l);var S=p*m+g*v,x=-p*y-g*C;if(w-S*S<c&&S>=0&&b-x*x<c&&x>=0)return void u.push(a,l);var _=[],E=[];dy(t,r,o,a,.5,_),dy(i,n,s,l,.5,E),e(_[0],E[0],_[1],E[1],_[2],E[2],_[3],E[3],u,d),e(_[4],E[4],_[5],E[5],_[6],E[6],_[7],E[7],u,d)}(a,l,d,h,c,p,g,f,s,t),a=g,l=f}r.push(s)}return r}(e.getUpdatedPathProxy(),s),function(e){for(var t=[],i=0;i<e.length;)t.push([e[i++],e[i++]]);return t}),l=a.length;if(0===l)V2(V1,{points:a[0]},t,r);else if(l===t)for(var u=0;u<l;u++)r.push({points:a[u]});else{var d=0,h=lo(a,function(e){var t=[],i=[];pN(e,t,i);var r=(i[1]-t[1])*(i[0]-t[0]);return d+=r,{poly:e,area:r}});h.sort(function(e,t){return t.area-e.area});for(var c=t,u=0;u<l;u++){var p=h[u];if(c<=0)break;var g=u===l-1?c:Math.ceil(p.area/d*t);g<0||(V2(V1,{points:p.poly},g,r),c-=g)}}i=Cx}if(!i){for(var f=[],m=0;m<t;m++)f.push(Ct(e));return f}for(var v=[],u=0;u<r.length;u++){var y=new i;y.setShape(r[u]),y.setStyle(e.style),y.z=e.z,y.z2=e.z2,y.zlevel=e.zlevel,v.push(y)}return v}(e.path,e.count)}function Bn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Bo(e,t){for(var i=[],r=e.length,n=0;n<r;n++)i.push({one:e[n],many:[]});for(var n=0;n<t.length;n++){var o=t[n].length,s=void 0;for(s=0;s<o;s++)i[s%r].many.push(t[n][s])}for(var a=0,n=r-1;n>=0;n--)if(!i[n].many.length){var l=i[a].many;if(l.length<=1)if(!a)return i;else a=0;var o=l.length,u=Math.ceil(o/2);i[n].many=l.slice(u,o),i[a].many=l.slice(0,u),a++}return i}var Bs={clone:function(e){for(var t=[],i=1-Math.pow(1-e.path.style.opacity,1/e.count),r=0;r<e.count;r++){var n=Ct(e.path);n.setStyle("opacity",i),t.push(n)}return t},split:null};function Ba(e,t,i,r,n,o){if(e.length&&t.length){var s,a,l=fy("update",r,n);if(l&&l.duration>0){var u=r.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},l);lc(e[0])&&(s=e,a=t),lc(t[0])&&(s=t,a=e);for(var h=s?s===e:e.length>t.length,c=s?Bo(a,s):Bo(h?t:e,[h?e:t]),p=0,g=0;g<c.length;g++)p+=c[g].many.length;for(var f=0,g=0;g<c.length;g++)(function e(t,r,n,s,a){var l=t.many,h=t.one;if(1!==l.length||a)for(var c=a9({dividePath:Bs[i],individualDelay:u&&function(e,t,i,r){return u(e+n,s)}},d),p=r?function(e,t,i){var r=[];!function e(t){for(var i=0;i<t.length;i++){var n=t[i];V4(n)?e(n.childrenRef()):n instanceof gl&&r.push(n)}}(e);var n=r.length;if(!n)return Bn();var o=(i.dividePath||Br)({path:t,count:n});if(o.length!==n)return console.error("Invalid morphing: unmatched splitted path"),Bn();r=Bi(r),o=Bi(o);for(var s=i.done,a=i.during,l=i.individualDelay,u=new hU,d=0;d<n;d++){var h=r[d],c=o[d];c.parent=t,c.copyTransform(u),l||Be(h,c)}function p(e){for(var t=0;t<o.length;t++)o[t].addSelfToZr(e)}function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,V9(t,"addSelfToZr"),V9(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return o},V8(t,"addSelfToZr",{after:function(e){p(e)}}),V8(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<o.length;t++)o[t].removeSelfFromZr(e)}});var f=o.length;if(l)for(var m=f,v=function(){0==--m&&(g(),s&&s())},d=0;d<f;d++){var y=l?a9({delay:(i.delay||0)+l(d,f,r[d],o[d]),done:v},i):i;Bt(r[d],o[d],y)}else t.__morphT=0,t.animateTo({__morphT:1},a9({during:function(e){for(var i=0;i<f;i++){var r=o[i];r.__morphT=t.__morphT,r.dirtyShape()}a&&a(e)},done:function(){g();for(var t=0;t<e.length;t++)V9(e[t],"updateTransform");s&&s()}},i));return t.__zr&&p(t.__zr),{fromIndividuals:r,toIndividuals:o,count:f}}(l,h,c):function(e,t,i){var r=t.length,n=[],o=i.dividePath||Br;if(V4(e)){!function e(t){for(var i=0;i<t.length;i++){var r=t[i];V4(r)?e(r.childrenRef()):r instanceof gl&&n.push(r)}}(e.childrenRef());var s=n.length;if(s<r)for(var a=0,l=s;l<r;l++)n.push(Ct(n[a++%s]));n.length=r}else{n=o({path:e,count:r});for(var u=e.getComputedTransform(),l=0;l<n.length;l++)n[l].setLocalTransform(u);if(n.length!==r)return console.error("Invalid morphing: unmatched splitted path"),Bn()}n=Bi(n),t=Bi(t);for(var d=i.individualDelay,l=0;l<r;l++){var h=d?a9({delay:(i.delay||0)+d(l,r,n[l],t[l])},i):i;Bt(n[l],t[l],h)}return{fromIndividuals:n,toIndividuals:t,count:t.length}}(h,l,c),g=p.fromIndividuals,f=p.toIndividuals,m=g.length,v=0;v<m;v++){var y=u?a9({delay:u(v,m)},d):d;o(g[v],f[v],r?l[v]:t.one,r?t.one:l[v],y)}else{var C=r?l[0]:h,w=r?h:l[0];if(V4(C))e({many:[C],one:w},!0,n,s,!0);else{var y=u?a9({delay:u(n,s)},d):d;Bt(C,w,y),o(C,w,C,w,y)}}})(c[g],h,f,p),f+=c[g].many.length}}}function Bl(e){if(!e)return[];if(lc(e)){for(var t=[],i=0;i<e.length;i++)t.push(Bl(e[i]));return t}var r=[];return e.traverse(function(e){e instanceof gl&&!e.disableMorphing&&!e.invisible&&!e.ignore&&r.push(e)}),r}var Bu=c$();function Bd(e,t,i,r){var n=function(e,t){for(var i=e.dimensions,r=0;r<i.length;r++){var n=e.getDimensionInfo(i[r]);if(n&&0===n.otherDims[t])return i[r]}}(e,r?"itemChildGroupId":"itemGroupId");if(n){var o=e,s=t,a=n,l=o.getDimensionInfo(a),u=l&&l.ordinalMeta;if(l){var d=o.get(l.name,s);return u&&u.categories[d]||d+""}return}var h=e.getRawDataItem(t),c=r?"childGroupId":"groupId";return h&&h[c]?h[c]+"":r?void 0:i||e.getId(t)}function Bh(e){var t=[];return ln(e,function(e){var i=e.data,r=e.dataGroupId;if(!(i.count()>1e4))for(var n=i.getIndices(),o=0;o<n.length;o++)t.push({data:i,groupId:Bd(i,o,r,!1),childGroupId:Bd(i,o,r,!0),divide:e.divide,dataIndex:o})}),t}function Bc(e,t,i){e.traverse(function(e){e instanceof gl&&fb(e,{style:{opacity:0}},t,{dataIndex:i,isFrom:!0})})}function Bp(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function Bg(e){e.stopAnimation(),e.isGroup&&e.traverse(function(e){e.stopAnimation()})}function Bf(e,t,i){var r=Bh(e),n=Bh(t);function o(e,t,i,r,n){(i||e)&&t.animateFrom({style:i&&i!==e?a8(a8({},i.style),e.style):e.style},n)}var s=!1,a=0,l=lG(),u=lG();r.forEach(function(e){e.groupId&&l.set(e.groupId,!0),e.childGroupId&&u.set(e.childGroupId,!0)});for(var d=0;d<n.length;d++){var h=n[d].groupId;if(u.get(h)){a=1;break}var c=n[d].childGroupId;if(c&&l.get(c)){a=2;break}}function p(e,t){return function(i){var r=i.data,n=i.dataIndex;return t?r.getId(n):e?1===a?i.childGroupId:i.groupId:2===a?i.childGroupId:i.groupId}}var g=function(e,t){var i=e.length;if(i!==t.length)return!1;for(var r=0;r<i;r++){var n=e[r],o=t[r];if(n.data.getId(n.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(r,n),f={};if(!g)for(var d=0;d<n.length;d++){var m=n[d],v=m.data.getItemGraphicEl(m.dataIndex);v&&(f[v.id]=!0)}function y(e,t){var i,a=r[t],l=n[e],u=l.data.hostModel,d=a.data.getItemGraphicEl(a.dataIndex),h=l.data.getItemGraphicEl(l.dataIndex);if(d===h){h&&(i=fy("update",u,l.dataIndex))&&h.traverse(function(e){if(e instanceof p_){var t=fv(e).oldStyle;t&&e.animateFrom({style:t},i)}});return}d&&f[d.id]||h&&(Bg(h),d?(Bg(d),Bp(d),s=!0,Ba(Bl(d),Bl(h),l.divide,u,e,o)):Bc(h,u,e))}new xD(r,n,p(!0,g),p(!1,g),null,"multiple").update(y).updateManyToOne(function(e,t){var i=n[e],a=i.data,l=a.hostModel,u=a.getItemGraphicEl(i.dataIndex),d=la(lo(t,function(e){return r[e].data.getItemGraphicEl(r[e].dataIndex)}),function(e){return e&&e!==u&&!f[e.id]});u&&(Bg(u),d.length?(ln(d,function(e){Bg(e),Bp(e)}),s=!0,Ba(Bl(d),Bl(u),i.divide,l,e,o)):Bc(u,l,i.dataIndex))}).updateOneToMany(function(e,t){var i=r[t],a=i.data.getItemGraphicEl(i.dataIndex);if(!a||!f[a.id]){var l=la(lo(e,function(e){return n[e].data.getItemGraphicEl(n[e].dataIndex)}),function(e){return e&&e!==a}),u=n[e[0]].data.hostModel;l.length&&(ln(l,function(e){return Bg(e)}),a?(Bg(a),Bp(a),s=!0,Ba(Bl(a),Bl(l),i.divide,u,e[0],o)):ln(l,function(t){return Bc(t,u,e[0])}))}}).updateManyToMany(function(e,t){new xD(t,e,function(e){return r[e].data.getId(r[e].dataIndex)},function(e){return n[e].data.getId(n[e].dataIndex)}).update(function(i,r){y(e[i],t[r])}).execute()}).execute(),s&&ln(t,function(e){var t=e.data.hostModel,r=t&&i.getViewOfSeriesModel(t),n=fy("update",t,0);r&&t.isAnimationEnabled()&&n&&n.duration>0&&r.group.traverse(function(e){e instanceof gl&&!e.animators.length&&e.animateFrom({style:{opacity:0}},n)})})}function Bm(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function Bv(e){return lc(e)?e.sort().join(","):e}function By(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function BC(e,t){for(var i=0;i<e.length;i++)if(null!=t.seriesIndex&&t.seriesIndex===e[i].seriesIndex||null!=t.seriesId&&t.seriesId===e[i].id)return i}var Bw=["align","verticalAlign","width","height","fontSize"],Bb=new hU,BS=c$(),Bx=c$();function B_(e,t,i){for(var r=0;r<i.length;r++){var n=i[r];null!=t[n]&&(e[n]=t[n])}}var BE=["x","y","rotation"],BT=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,i,r,n){var o,s=r.style,a=r.__hostTarget.textConfig||{},l=r.getComputedTransform(),u=r.getBoundingRect().plain();uY.applyTransform(u,u,l),l?Bb.setLocalTransform(l):(Bb.x=Bb.y=Bb.rotation=Bb.originX=Bb.originY=0,Bb.scaleX=Bb.scaleY=1),Bb.rotation=p8(Bb.rotation);var d=r.__hostTarget;if(d){o=d.getBoundingRect().plain();var h=d.getComputedTransform();uY.applyTransform(o,o,h)}var c=o&&d.getTextGuideLine();this._labelList.push({label:r,labelLine:c,seriesModel:i,dataIndex:e,dataType:t,layoutOption:n,computedLayoutOption:null,rect:u,hostRect:o,priority:o?o.width*o.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:c&&c.ignore,x:Bb.x,y:Bb.y,scaleX:Bb.scaleX,scaleY:Bb.scaleY,rotation:Bb.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:r.cursor,attachedPos:a.position,attachedRot:a.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,r=i.get("labelLayout");(lp(r)||lu(r).length)&&e.group.traverse(function(e){if(e.ignore)return!0;var n=e.getTextContent(),o=gF(e);n&&!n.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,i,n,r)})},e.prototype.updateLayoutConfig=function(e){for(var t=e.getWidth(),i=e.getHeight(),r=0;r<this._labelList.length;r++){var n=this._labelList[r],o=n.label,s=o.__hostTarget,a=n.defaultAttr,l=void 0;l=(l=lp(n.layoutOption)?n.layoutOption(function(e,t){var i=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:i.style.align,verticalAlign:i.style.verticalAlign,labelLinePoints:function(e){if(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].slice());return t}}(r&&r.shape.points)}}(n,s)):n.layoutOption)||{},n.computedLayoutOption=l;var u=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=l.x||null!=l.y?null:a.attachedPos,rotation:null!=l.rotate?l.rotate*u:a.attachedRot,offset:[l.dx||0,l.dy||0]});var d=!1;if(null!=l.x?(o.x=cc(l.x,t),o.setStyle("x",0),d=!0):(o.x=a.x,o.setStyle("x",a.style.x)),null!=l.y?(o.y=cc(l.y,i),o.setStyle("y",0),d=!0):(o.y=a.y,o.setStyle("y",a.style.y)),l.labelLinePoints){var h=s.getTextGuideLine();h&&(h.setShape({points:l.labelLinePoints}),d=!1)}BS(o).needsUpdateLabelLine=d,o.rotation=null!=l.rotate?l.rotate*u:a.rotation,o.scaleX=a.scaleX,o.scaleY=a.scaleY;for(var c=0;c<Bw.length;c++){var p=Bw[c];o.setStyle(p,null!=l[p]?l[p]:a.style[p])}if(l.draggable){if(o.draggable=!0,o.cursor="move",s){var g=n.seriesModel;null!=n.dataIndex&&(g=n.seriesModel.getData(n.dataType).getItemModel(n.dataIndex)),o.on("drag",function(e,t){return function(){Ey(e,t)}}(s,g.getModel("labelLine")))}}else o.off("drag"),o.cursor=a.cursor}},e.prototype.layout=function(e){var t=e.getWidth(),i=e.getHeight(),r=ET(this._labelList),n=la(r,function(e){return"shiftX"===e.layoutOption.moveOverlap}),o=la(r,function(e){return"shiftY"===e.layoutOption.moveOverlap});EM(n,"x","width",0,t,void 0),ER(o,0,i),ED(la(r,function(e){return e.layoutOption.hideOverlap}))},e.prototype.processLabelsOverall=function(){var e=this;ln(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,n=i.isAnimationEnabled();t.group.traverse(function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var o=!r,s=t.getTextContent();!o&&s&&(o=BS(s).needsUpdateLabelLine),o&&e._updateLabelLine(t,i),n&&e._animateLabels(t,i)})})},e.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),r=gF(e),n=r.dataIndex;if(i&&null!=n){var o=t.getData(r.dataType),s=o.getItemModel(n),a={},l=o.getItemVisual(n,"style");l&&(a.stroke=l[o.getVisual("drawType")]);var u=s.getModel("labelLine");E_(e,EE(s),a),Ey(e,u)}},e.prototype._animateLabels=function(e,t){var i=e.getTextContent(),r=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!fS(e))){var n=BS(i),o=n.oldLayout,s=gF(e),a=s.dataIndex,l={x:i.x,y:i.y,rotation:i.rotation},u=t.getData(s.dataType);if(o){i.attr(o);var d=e.prevStates;d&&(le(d,"select")>=0&&i.attr(n.oldLayoutSelect),le(d,"emphasis")>=0&&i.attr(n.oldLayoutEmphasis)),fw(i,l,t,a)}else if(i.attr(l),!fV(i).valueAnimation){var h=lT(i.style.opacity,1);i.style.opacity=0,fb(i,{style:{opacity:h}},t,a)}if(n.oldLayout=l,i.states.select){var c=n.oldLayoutSelect={};B_(c,l,BE),B_(c,i.states.select,BE)}if(i.states.emphasis){var p=n.oldLayoutEmphasis={};B_(p,l,BE),B_(p,i.states.emphasis,BE)}fH(i,a,u,t,t)}if(r&&!r.ignore&&!r.invisible){var n=Bx(r),o=n.oldLayout,g={points:r.shape.points};o?(r.attr({shape:o}),fw(r,{shape:g},t)):(r.setShape(g),r.style.strokePercent=0,fb(r,{style:{strokePercent:1}},t)),n.oldLayout=g}},e}(),BM=c$();function BR(e){e.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var r=BM(t).labelManager;r||(r=BM(t).labelManager=new BT),r.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var r=BM(t).labelManager;i.updatedSeries.forEach(function(e){r.addLabelsOfSeries(t.getViewOfSeriesModel(e))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}SA([function(e){e.registerPainter("canvas",xT)}]),SA([function(e){e.registerPainter("svg",xS)}]),SA([function(e){e.registerChartView(__),e.registerSeriesModel(x0),e.registerLayout(_E("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,_R("line"))},function(e){e.registerChartView(_Y),e.registerSeriesModel(_B),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,lh(_N,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,_F("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,_R("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)})})},function(e){e.registerChartView(EN),e.registerSeriesModel(EV),w5("pie",e.registerAction),e.registerLayout(lh(En,"pie")),e.registerProcessor(Es("pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var i=e.getData();i.filterSelf(function(e){var t=i.mapDimension("value"),r=i.get(t,e);return!lm(r)||!!isNaN(r)||!(r<0)})}})},function(e){SA(Mf),e.registerSeriesModel(EB),e.registerChartView(EU),e.registerLayout(_E("scatter"))},function(e){SA(MD),e.registerChartView(Mw),e.registerSeriesModel(Mb),e.registerLayout(Mm),e.registerProcessor(Es("radar")),e.registerPreprocessor(My)},function(e){SA(R2),e.registerChartView(RV),e.registerSeriesModel(RB),e.registerLayout(Rz),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,RH),w5("map",e.registerAction)},function(e){e.registerChartView(Di),e.registerSeriesModel(D_),e.registerLayout(DT),e.registerVisual(DM),e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var i=e.dataIndex,r=t.getData().tree.getNodeByDataIndex(i);r.isExpand=!r.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,i){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var r=RJ(t.coordinateSystem,e,void 0,i);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom)})})},function(e){e.registerSeriesModel(DA),e.registerChartView(DG),e.registerVisual(DQ),e.registerLayout(D9);for(var t=0;t<DR.length;t++)e.registerAction({type:DR[t],update:"updateView"},lW);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(t,i){var r=Dw(e,["treemapZoomToNode","treemapRootToNode"],t);if(r){var n=t.getViewRoot();n&&(e.direction=DS(n,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}})})},function(e){e.registerChartView(AK),e.registerSeriesModel(A0),e.registerProcessor(At),e.registerVisual(Ai),e.registerVisual(An),e.registerLayout(Ag),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,AS),e.registerLayout(Ax),e.registerCoordinateSystem("graphView",{dimensions:RW.dimensions,create:A_}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},lW),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},lW),e.registerAction(A1,function(e,t,i){t.eachComponent({mainType:"series",query:e},function(t){var r=RJ(t.coordinateSystem,e,void 0,i);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom)})})},function(e){e.registerChartView(A4),e.registerSeriesModel(A6)},function(e){e.registerChartView(A7),e.registerSeriesModel(Ie),e.registerLayout(It),e.registerProcessor(Es("funnel"))},function(e){SA(Pc),e.registerChartView(Ii),e.registerSeriesModel(Ia),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Id)},function(e){e.registerChartView(Pf),e.registerSeriesModel(Pv),e.registerLayout(Py),e.registerVisual(PR),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function(e){e.registerSeriesModel(PA),e.registerChartView(PI),e.registerLayout(PF),e.registerTransform(PO)},function(e){e.registerChartView(PK),e.registerSeriesModel(P5),e.registerPreprocessor(P3),e.registerVisual(Pj),e.registerLayout(P4)},function(e){e.registerChartView(P7),e.registerSeriesModel(Le),e.registerLayout(_E("effectScatter"))},function(e){e.registerChartView(Ll),e.registerSeriesModel(Lc),e.registerLayout(La),e.registerVisual(Lg)},function(e){e.registerChartView(Lv),e.registerSeriesModel(Ly)},function(e){e.registerChartView(LS),e.registerSeriesModel(LB),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,lh(_N,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,_F("pictorialBar"))},function(e){e.registerChartView(LH),e.registerSeriesModel(Lz),e.registerLayout(LW),e.registerProcessor(Es("themeRiver"))},function(e){e.registerChartView(LY),e.registerSeriesModel(Lq),e.registerLayout(lh(LZ,"sunburst")),e.registerProcessor(lh(Es,"sunburst")),e.registerVisual(LQ),e.registerAction({type:L$,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t,i){var r=Dw(e,[L$],t);if(r){var n=t.getViewRoot();n&&(e.direction=DS(n,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}})}),e.registerAction({type:LK,update:"none"},function(e,t,i){e=a8({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t){var i=Dw(e,[LK],t);i&&(e.dataIndex=i.node.dataIndex)}),i.dispatchAction(a8(e,{type:"highlight"}))}),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t,i){e=a8({},e),i.dispatchAction(a8(e,{type:"downplay"}))})},function(e){e.registerChartView(kP),e.registerSeriesModel(L2)}]),SA(function(e){SA(Mf),SA(Nm)}),SA(function(e){SA(Nm),Mr.registerAxisPointerClass("PolarAxisPointer",Nv),e.registerCoordinateSystem("polar",NI),e.registerComponentModel(NC),e.registerComponentView(NK),E3(e,"angle",Nb,Nj),E3(e,"radius",NS,N$),e.registerComponentView(NF),e.registerComponentView(NB),e.registerLayout(lh(NU,"bar"))}),SA(R2),SA(function(e){SA(Nm),Mr.registerAxisPointerClass("SingleAxisPointer",N8),e.registerComponentView(Ft),e.registerComponentView(NZ),e.registerComponentModel(NJ),E3(e,"single",NJ,NJ.defaultOption),e.registerCoordinateSystem("single",N3)}),SA(Pc),SA(function(e){e.registerComponentModel(Fi),e.registerComponentView(Fn),e.registerCoordinateSystem("calendar",Fo)}),SA(function(e){e.registerComponentModel(Fh),e.registerComponentView(Fg),e.registerPreprocessor(function(e){var t=e.graphic;lc(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}),SA(function(e){e.registerComponentModel(FF),e.registerComponentView(FG),FN.saveAsImage=FV,FN.magicType=Fz,FN.dataView=FK,FN.dataZoom=Oe,FN.restore=FX,SA(FL)}),SA(function(e){SA(Nm),e.registerComponentModel(Or),e.registerComponentView(OC),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},lW),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},lW)}),SA(Nm),SA(function(e){e.registerComponentView(OB),e.registerComponentModel(OH),e.registerPreprocessor(O_),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,ON),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},lW),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},lW),FN.brush=OU}),SA(function(e){e.registerComponentModel(Oj),e.registerComponentView(O$)}),SA(function(e){e.registerComponentModel(OY),e.registerComponentView(OJ),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,i){var r=t.getComponent("timeline");return r&&null!=e.currentIndex&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),a9({currentIndex:r.option.currentIndex},e)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var i=t.getComponent("timeline");i&&null!=e.playState&&i.setPlayState(e.playState)}),e.registerPreprocessor(O2)}),SA(function(e){e.registerComponentModel(O7),e.registerComponentView(Gh),e.registerPreprocessor(function(e){O4(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),SA(function(e){e.registerComponentModel(Gc),e.registerComponentView(GC),e.registerPreprocessor(function(e){O4(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),SA(function(e){e.registerComponentModel(Gw),e.registerComponentView(GR),e.registerPreprocessor(function(e){O4(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),SA(function(e){SA(GG),SA(GU)}),SA(function(e){SA(G0),SA(G9)}),SA(G0),SA(G9),SA(function(e){SA(V_),SA(VD)}),SA(V_),SA(VD),SA(function(e){e.registerPreprocessor(Vk),e.registerVisual(e.PRIORITY.VISUAL.ARIA,VL)}),SA(function(e){e.registerTransform(VK),e.registerTransform(VY)}),SA(function(e){e.registerComponentModel(VN),e.registerComponentView(VF)}),SA(function(e){e.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){ln(cN(i.seriesTransition),function(e){ln(cN(e.to),function(e){for(var t=i.updatedSeries,r=0;r<t.length;r++)(null!=e.seriesIndex&&e.seriesIndex===t[r].seriesIndex||null!=e.seriesId&&e.seriesId===t[r].id)&&(t[r][yF]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(e,t,i){var r=Bu(t);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var n=i.seriesTransition;if(n)ln(cN(n),function(e){var n,o;n=[],o=[],ln(cN(e.from),function(e){var t=BC(r.oldSeries,e);t>=0&&n.push({dataGroupId:r.oldDataGroupIds[t],data:r.oldData[t],divide:By(r.oldData[t]),groupIdDim:e.dimension})}),ln(cN(e.to),function(e){var t=BC(i.updatedSeries,e);if(t>=0){var n=i.updatedSeries[t].getData();o.push({dataGroupId:r.oldDataGroupIds[t],data:n,divide:By(n),groupIdDim:e.dimension})}}),n.length>0&&o.length>0&&Bf(n,o,t)});else{var o,s,a,l=(o=lG(),s=lG(),a=lG(),ln(r.oldSeries,function(e,t){var i=r.oldDataGroupIds[t],n=r.oldData[t],o=Bm(e),l=Bv(o);s.set(l,{dataGroupId:i,data:n}),lc(o)&&ln(o,function(e){a.set(e,{key:l,dataGroupId:i,data:n})})}),ln(i.updatedSeries,function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.get("dataGroupId"),i=e.getData(),r=Bm(e),n=Bv(r),l=s.get(n);if(l)o.set(n,{oldSeries:[{dataGroupId:l.dataGroupId,divide:By(l.data),data:l.data}],newSeries:[{dataGroupId:t,divide:By(i),data:i}]});else if(lc(r)){var u=[];ln(r,function(e){var t=s.get(e);t.data&&u.push({dataGroupId:t.dataGroupId,divide:By(t.data),data:t.data})}),u.length&&o.set(n,{oldSeries:u,newSeries:[{dataGroupId:t,data:i,divide:By(i)}]})}else{var d=a.get(r);if(d){var h=o.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:By(d.data)}],newSeries:[]},o.set(d.key,h)),h.newSeries.push({dataGroupId:t,data:i,divide:By(i)})}}}}),o);ln(l.keys(),function(e){var i=l.get(e);Bf(i.oldSeries,i.newSeries,t)})}ln(i.updatedSeries,function(e){e[yF]&&(e[yF]=!1)})}for(var u=e.getSeries(),d=r.oldSeries=[],h=r.oldDataGroupIds=[],c=r.oldData=[],p=0;p<u.length;p++){var g=u[p].getData();1e4>g.count()&&(d.push(u[p]),h.push(u[p].get("dataGroupId")),c.push(g))}})}),SA(BR),e.s([],45368),e.i(45368),SA(BR),e.s([],10478),e.i(10478),e.i(6487),e.s(["PRIORITY",()=>bB,"connect",()=>Sn,"dataTool",()=>SM,"dependencies",()=>bV,"disConnect",()=>So,"disconnect",()=>So,"dispose",()=>Ss,"getCoordinateSystemDimensions",()=>Sv,"getInstanceByDom",()=>Sa,"getInstanceById",()=>Sl,"getMap",()=>SE,"init",()=>Sr,"registerAction",()=>Sf,"registerCoordinateSystem",()=>Sm,"registerLayout",()=>Sy,"registerLoading",()=>SS,"registerLocale",()=>f4,"registerMap",()=>S_,"registerPostInit",()=>Sc,"registerPostUpdate",()=>Sp,"registerPreprocessor",()=>Sd,"registerProcessor",()=>Sh,"registerTheme",()=>Su,"registerTransform",()=>ST,"registerUpdateLifecycle",()=>Sg,"registerVisual",()=>SC,"setCanvasCreator",()=>Sx,"version",()=>bG],65701),e.i(65701);var BD=e.i(24e3),BA=e.i(99386),BI=e.i(48716),BP=e.i(35520),BL=e.i(14670);function Bk(e){return xJ(null,e)}var BN={isDimensionStacked:xZ,enableDataStack:xX,getStackedDimension:xQ};function BF(e,t){var i=t;t instanceof fQ||(i=new fQ(t));var r=T_(i);return r.setExtent(e[0],e[1]),Tx(r,i),r}function BO(e){li(e,E$)}function BG(e,t){return fP(e,null,null,"normal"!==(t=t||{}).state)}e.s(["createList",()=>Bk,"createScale",()=>BF,"createTextStyle",()=>BG,"dataStack",()=>BN,"mixinAxisModelCommonMethods",()=>BO],32155),e.i(32155),e.s(["createDimensions",()=>xj,"createList",()=>Bk,"createScale",()=>BF,"createSymbol",()=>ba,"createTextStyle",()=>BG,"dataStack",()=>BN,"enableHoverEmphasis",()=>fa,"getECData",()=>gF,"getLayoutRect",()=>mL,"mixinAxisModelCommonMethods",()=>BO],21035);var BV=e.i(21035);e.s([],54968),e.i(54968),e.s(["MAX_SAFE_INTEGER",()=>0x1fffffffffffff,"asc",()=>cg,"getPercentWithPrecision",()=>cy,"getPixelPrecision",()=>cv,"getPrecision",()=>cf,"getPrecisionSafe",()=>cm,"isNumeric",()=>cA,"isRadianAroundZero",()=>cb,"linearMap",()=>ch,"nice",()=>cT,"numericToNumber",()=>cD,"parseDate",()=>cx,"quantile",()=>cM,"quantity",()=>c_,"quantityExponent",()=>cE,"reformIntervals",()=>cR,"remRadian",()=>cw,"round",()=>cp],57409);var BB=e.i(57409);e.s([],54681),e.i(54681),e.s(["format",()=>mr,"parse",()=>cx],72558);var BH=e.i(72558);e.s([],89124),e.i(89124),e.s(["Arc",0,Ck,"BezierCurve",0,CP,"BoundingRect",0,uY,"Circle",0,Cr,"CompoundPath",0,CN,"Ellipse",0,Co,"Group",0,ce,"Image",0,gp,"IncrementalDisplayable",0,Cj,"Line",0,CR,"LinearGradient",0,CO,"Polygon",0,Cx,"Polyline",0,CE,"RadialGradient",0,CG,"Rect",0,gw,"Ring",0,Cw,"Sector",0,Cy,"Text",0,gx,"clipPointsByRect",()=>wi,"clipRectByRect",()=>wr,"createIcon",()=>wn,"extendPath",()=>CZ,"extendShape",()=>Cq,"getShapeClass",()=>CJ,"getTransform",()=>C9,"initProps",()=>fb,"makeImage",()=>C1,"makePath",()=>C0,"mergePath",()=>C5,"registerShape",()=>CQ,"resizePath",()=>C3,"updateProps",()=>fw],63107);var Bz=e.i(63107);function BW(e,t,i,r,n,o,s,a){return new gx({style:{text:e,font:t,align:i,verticalAlign:r,padding:n,rich:o,overflow:s?"truncate":null,lineHeight:a}}).getBoundingRect()}e.s([],82018),e.i(82018),e.s(["addCommas",()=>mC,"capitalFirst",()=>mM,"encodeHTML",()=>um,"formatTime",()=>mT,"formatTpl",()=>m_,"getTextRect",()=>BW,"getTooltipMarker",()=>mE,"normalizeCssArray",()=>lD,"toCamelCase",()=>mw,"truncateText",()=>pu],35779);var BU=e.i(35779);e.s([],35846),e.i(35846),e.s(["bind",()=>ld,"clone",()=>a3,"curry",()=>lh,"defaults",()=>a9,"each",()=>ln,"extend",()=>a8,"filter",()=>la,"indexOf",()=>le,"inherits",()=>lt,"isArray",()=>lc,"isFunction",()=>lp,"isObject",()=>lv,"isString",()=>lg,"map",()=>lo,"merge",()=>a4,"reduce",()=>ls],8851);var Bj=e.i(8851);function B$(e){var t=mB.extend(e);return mB.registerClass(t),t}function BK(e){var t=yj.extend(e);return yj.registerClass(t),t}function BY(e){var t=yO.extend(e);return yO.registerClass(t),t}function Bq(e){var t=wc.extend(e);return wc.registerClass(t),t}e.s(["extendChartView",()=>Bq,"extendComponentModel",()=>B$,"extendComponentView",()=>BK,"extendSeriesModel",()=>BY],400),e.i(400),e.s(["Axis",0,TW,"ChartView",0,wc,"ComponentModel",0,mB,"ComponentView",0,yj,"List",0,xU,"Model",0,fQ,"SeriesModel",0,yO,"color",0,BL,"env",0,aG,"extendChartView",()=>Bq,"extendComponentModel",()=>B$,"extendComponentView",()=>BK,"extendSeriesModel",()=>BY,"format",0,BU,"graphic",0,Bz,"helper",0,BV,"innerDrawElementOnCanvas",()=>bD,"matrix",0,BA,"number",0,BB,"parseGeoJSON",()=>Rh,"parseGeoJson",()=>Rh,"setPlatformAPI",()=>aW,"throttle",()=>wb,"time",0,BH,"use",()=>SA,"util",0,Bj,"vector",0,BI,"zrUtil",0,BP,"zrender",0,BD],89037),e.i(89037),e.s(["Axis",0,TW,"ChartView",0,wc,"ComponentModel",0,mB,"ComponentView",0,yj,"List",0,xU,"Model",0,fQ,"PRIORITY",()=>bB,"SeriesModel",0,yO,"color",()=>BL,"connect",()=>Sn,"dataTool",()=>SM,"dependencies",()=>bV,"disConnect",()=>So,"disconnect",()=>So,"dispose",()=>Ss,"env",0,aG,"extendChartView",()=>Bq,"extendComponentModel",()=>B$,"extendComponentView",()=>BK,"extendSeriesModel",()=>BY,"format",()=>BU,"getCoordinateSystemDimensions",()=>Sv,"getInstanceByDom",()=>Sa,"getInstanceById",()=>Sl,"getMap",()=>SE,"graphic",()=>Bz,"helper",()=>BV,"init",()=>Sr,"innerDrawElementOnCanvas",()=>bD,"matrix",()=>BA,"number",()=>BB,"parseGeoJSON",()=>Rh,"parseGeoJson",()=>Rh,"registerAction",()=>Sf,"registerCoordinateSystem",()=>Sm,"registerLayout",()=>Sy,"registerLoading",()=>SS,"registerLocale",()=>f4,"registerMap",()=>S_,"registerPostInit",()=>Sc,"registerPostUpdate",()=>Sp,"registerPreprocessor",()=>Sd,"registerProcessor",()=>Sh,"registerTheme",()=>Su,"registerTransform",()=>ST,"registerUpdateLifecycle",()=>Sg,"registerVisual",()=>SC,"setCanvasCreator",()=>Sx,"setPlatformAPI",()=>aW,"throttle",()=>wb,"time",()=>BH,"use",()=>SA,"util",()=>Bj,"vector",()=>BI,"version",()=>bG,"zrUtil",()=>BP,"zrender",()=>BD],66715),e.i(66715),e.s(["Axis",0,TW,"ChartView",0,wc,"ComponentModel",0,mB,"ComponentView",0,yj,"List",0,xU,"Model",0,fQ,"PRIORITY",()=>bB,"SeriesModel",0,yO,"color",()=>BL,"connect",()=>Sn,"dataTool",()=>SM,"dependencies",()=>bV,"disConnect",()=>So,"disconnect",()=>So,"dispose",()=>Ss,"env",0,aG,"extendChartView",()=>Bq,"extendComponentModel",()=>B$,"extendComponentView",()=>BK,"extendSeriesModel",()=>BY,"format",()=>BU,"getCoordinateSystemDimensions",()=>Sv,"getInstanceByDom",()=>Sa,"getInstanceById",()=>Sl,"getMap",()=>SE,"graphic",()=>Bz,"helper",()=>BV,"init",()=>Sr,"innerDrawElementOnCanvas",()=>bD,"matrix",()=>BA,"number",()=>BB,"parseGeoJSON",()=>Rh,"parseGeoJson",()=>Rh,"registerAction",()=>Sf,"registerCoordinateSystem",()=>Sm,"registerLayout",()=>Sy,"registerLoading",()=>SS,"registerLocale",()=>f4,"registerMap",()=>S_,"registerPostInit",()=>Sc,"registerPostUpdate",()=>Sp,"registerPreprocessor",()=>Sd,"registerProcessor",()=>Sh,"registerTheme",()=>Su,"registerTransform",()=>ST,"registerUpdateLifecycle",()=>Sg,"registerVisual",()=>SC,"setCanvasCreator",()=>Sx,"setPlatformAPI",()=>aW,"throttle",()=>wb,"time",()=>BH,"use",()=>SA,"util",()=>Bj,"vector",()=>BI,"version",()=>bG,"zrUtil",()=>BP,"zrender",()=>BD],46455);var BX=e.i(46455),BZ=e.i(57746);function BQ(e,t){var i={};return t.forEach(function(t){i[t]=e[t]}),i}function BJ(e){return"function"==typeof e}var B0=e.i(29801),B1=function(e){function t(t){var i=e.call(this,t)||this;return i.echarts=BX,i}return aL(t,e),t}(function(e){function t(t){var i=e.call(this,t)||this;return i.echarts=t.echarts,i.ele=null,i.isInitialResize=!0,i}return aL(t,e),t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(e){var t=this.props.shouldSetOption;if(!BJ(t)||t(e,this.props)){if(!(0,B0.default)(e.theme,this.props.theme)||!(0,B0.default)(e.opts,this.props.opts)||!(0,B0.default)(e.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var i=["option","notMerge","lazyUpdate","showLoading","loadingOption"];(0,B0.default)(BQ(this.props,i),BQ(e,i))||this.updateEChartsOption(),(0,B0.default)(e.style,this.props.style)&&(0,B0.default)(e.className,this.props.className)||this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},t.prototype.dispose=function(){if(this.ele){try{(0,BZ.clear)(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){var e=this,t=this.props,i=t.onEvents,r=t.onChartReady,n=this.updateEChartsOption();this.bindEvents(n,i||{}),BJ(r)&&r(n),this.ele&&(0,BZ.bind)(this.ele,function(){e.resize()})},t.prototype.bindEvents=function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&function(t,i){"string"==typeof t&&BJ(i)&&e.on(t,function(t){i(t,e)})}(i,t[i])},t.prototype.updateEChartsOption=function(){var e=this.props,t=e.option,i=e.notMerge,r=e.lazyUpdate,n=e.showLoading,o=e.loadingOption,s=this.getEchartsInstance();return s.setOption(t,void 0!==i&&i,void 0!==r&&r),n?s.showLoading(void 0===o?null:o):s.hideLoading(),s},t.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize()}catch(e){console.warn(e)}this.isInitialResize=!1},t.prototype.render=function(){var e=this,t=this.props,i=t.style,r=t.className,n=ak({height:300},i);return eV.default.createElement("div",{ref:function(t){e.ele=t},style:n,className:"echarts-for-react "+(void 0===r?"":r)})},t}(eV.PureComponent)),B2=eU;function B5(e){return(0,tr.default)("MuiCircularProgress",e)}(0,ti.default)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);let B3=["className","color","disableShrink","size","style","thickness","value","variant"],B4=e=>e,B6,B8,B9,B7,He=(0,tY.keyframes)(B6||(B6=B4`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Ht=(0,tY.keyframes)(B8||(B8=B4`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Hi=(0,B2.default)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[i.variant],t[`color${(0,ig.default)(i.color)}`]]}})(({ownerState:e,theme:t})=>(0,eB.default)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>"indeterminate"===e.variant&&(0,tY.css)(B9||(B9=B4`
      animation: ${0} 1.4s linear infinite;
    `),He)),Hr=(0,B2.default)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Hn=(0,B2.default)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.circle,t[`circle${(0,ig.default)(i.variant)}`],i.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>(0,eB.default)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,tY.css)(B7||(B7=B4`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Ht)),Ho=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiCircularProgress"}),{className:r,color:n="primary",disableShrink:o=!1,size:s=40,style:a,thickness:l=3.6,value:u=0,variant:d="indeterminate"}=i,h=(0,eH.default)(i,B3),c=(0,eB.default)({},i,{color:n,disableShrink:o,size:s,thickness:l,value:u,variant:d}),p=(e=>{let{classes:t,variant:i,color:r,disableShrink:n}=e,o={root:["root",i,`color${(0,ig.default)(r)}`],svg:["svg"],circle:["circle",`circle${(0,ig.default)(i)}`,n&&"circleDisableShrink"]};return(0,eW.default)(o,B5,t)})(c),g={},f={},m={};if("determinate"===d){let e=2*Math.PI*((44-l)/2);g.strokeDasharray=e.toFixed(3),m["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*e).toFixed(3)}px`,f.transform="rotate(-90deg)"}return(0,eG.jsx)(Hi,(0,eB.default)({className:(0,ez.default)(p.root,r),style:(0,eB.default)({width:s,height:s},f,a),ownerState:c,ref:t,role:"progressbar"},m,h,{children:(0,eG.jsx)(Hr,{className:p.svg,ownerState:c,viewBox:"22 22 44 44",children:(0,eG.jsx)(Hn,{className:p.circle,style:g,ownerState:c,cx:44,cy:44,r:(44-l)/2,fill:"none",strokeWidth:l})})}))});var Hs=eU;function Ha(e){return(0,tr.default)("MuiToggleButton",e)}let Hl=(0,ti.default)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Hu=eV.createContext({}),Hd=eV.createContext(void 0),Hh=["value"],Hc=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Hp=(0,Hs.default)(ir,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[`size${(0,ig.default)(i.size)}`]]}})(({theme:e,ownerState:t})=>{let i,r="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(r="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,i="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),(0,eB.default)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${Hl.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:sm(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Hl.selected}`]:{color:r,backgroundColor:e.vars?`rgba(${i} / ${e.vars.palette.action.selectedOpacity})`:sm(r,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${i} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:sm(r,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${i} / ${e.vars.palette.action.selectedOpacity})`:sm(r,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}),Hg=eV.forwardRef(function(e,t){var i;let r=eV.useContext(Hu),{value:n}=r,o=(0,eH.default)(r,Hh),s=eV.useContext(Hd),a=(0,op.default)((0,eB.default)({},o,{selected:(i=e.value,void 0!==n&&void 0!==i&&(Array.isArray(n)?n.indexOf(i)>=0:i===n))}),e),l=(0,ej.useDefaultProps)({props:a,name:"MuiToggleButton"}),{children:u,className:d,color:h="standard",disabled:c=!1,disableFocusRipple:p=!1,fullWidth:g=!1,onChange:f,onClick:m,selected:v,size:y="medium",value:C}=l,w=(0,eH.default)(l,Hc),b=(0,eB.default)({},l,{color:h,disabled:c,disableFocusRipple:p,fullWidth:g,size:y}),S=(e=>{let{classes:t,fullWidth:i,selected:r,disabled:n,size:o,color:s}=e,a={root:["root",r&&"selected",n&&"disabled",i&&"fullWidth",`size${(0,ig.default)(o)}`,s]};return(0,eW.default)(a,Ha,t)})(b);return(0,eG.jsx)(Hp,(0,eB.default)({className:(0,ez.default)(o.className,S.root,d,s||""),disabled:c,focusRipple:!p,ref:t,onClick:e=>{m&&(m(e,C),e.defaultPrevented)||f&&f(e,C)},onChange:f,value:C,ownerState:b,"aria-pressed":v},w,{children:u}))});var Hf=eU;function Hm(e){return(0,tr.default)("MuiToggleButtonGroup",e)}let Hv=(0,ti.default)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Hy=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],HC=(0,Hf.default)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[{[`& .${Hv.grouped}`]:t.grouped},{[`& .${Hv.grouped}`]:t[`grouped${(0,ig.default)(i.orientation)}`]},{[`& .${Hv.firstButton}`]:t.firstButton},{[`& .${Hv.lastButton}`]:t.lastButton},{[`& .${Hv.middleButton}`]:t.middleButton},t.root,"vertical"===i.orientation&&t.vertical,i.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>(0,eB.default)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${Hv.grouped}`]:(0,eB.default)({},"horizontal"===e.orientation?{[`&.${Hv.selected} + .${Hv.grouped}.${Hv.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${Hv.selected} + .${Hv.grouped}.${Hv.selected}`]:{borderTop:0,marginTop:0}})},"horizontal"===e.orientation?{[`& .${Hv.firstButton},& .${Hv.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Hv.lastButton},& .${Hv.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${Hv.firstButton},& .${Hv.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Hv.lastButton},& .${Hv.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===e.orientation?{[`& .${Hv.lastButton}.${Hl.disabled},& .${Hv.middleButton}.${Hl.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${Hv.lastButton}.${Hl.disabled},& .${Hv.middleButton}.${Hl.disabled}`]:{borderTop:"1px solid transparent"}})),Hw=eV.forwardRef(function(e,t){let i=(0,ej.useDefaultProps)({props:e,name:"MuiToggleButtonGroup"}),{children:r,className:n,color:o="standard",disabled:s=!1,exclusive:a=!1,fullWidth:l=!1,onChange:u,orientation:d="horizontal",size:h="medium",value:c}=i,p=(0,eH.default)(i,Hy),g=(0,eB.default)({},i,{disabled:s,fullWidth:l,orientation:d,size:h}),f=(e=>{let{classes:t,orientation:i,fullWidth:r,disabled:n}=e,o={root:["root","vertical"===i&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${(0,ig.default)(i)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,eW.default)(o,Hm,t)})(g),m=eV.useCallback((e,t)=>{let i;if(!u)return;let r=c&&c.indexOf(t);c&&r>=0?(i=c.slice()).splice(r,1):i=c?c.concat(t):[t],u(e,i)},[u,c]),v=eV.useCallback((e,t)=>{u&&u(e,c===t?null:t)},[u,c]),y=eV.useMemo(()=>({className:f.grouped,onChange:a?v:m,value:c,size:h,fullWidth:l,color:o,disabled:s}),[f.grouped,a,v,m,c,h,l,o,s]),C=eV.Children.toArray(r).filter(e=>eV.isValidElement(e)),w=C.length;return(0,eG.jsx)(HC,(0,eB.default)({role:"group",className:(0,ez.default)(f.root,n),ref:t,ownerState:g},p,{children:(0,eG.jsx)(Hu.Provider,{value:y,children:C.map((e,t)=>{let i,r;return(0,eG.jsx)(Hd.Provider,{value:(i=0===t,r=t===w-1,i&&r?"":i?f.firstButton:r?f.lastButton:f.middleButton),children:e},t)})})}))});var Hb=e.i(42778);let HS="#FF5000",Hx="#00C805",H_=()=>{let{ticker:e,errorMessage:t,setErrorMessage:i,candlestickDaysRange:r,setCandlestickDaysRange:n}=(0,sr.useAppContext)(),[o,s]=(0,eV.useState)(""),[a,l]=(0,eV.useState)(!1),[u,d]=(0,eV.useState)([]),h=[{id:"1W",text:"1W",value:7,resolution:"D",daysRange:7},{id:"2W",text:"2W",value:14,resolution:"D",daysRange:14},{id:"1M",text:"1M",value:30,resolution:"D",daysRange:30},{id:"3M",text:"3M",value:90,resolution:"D",daysRange:90},{id:"1Y",text:"1Y",value:365,resolution:"D",daysRange:365}];(0,eV.useEffect)(()=>{e?(s(e),p(e,r)):d([])},[e,r]);let c=e=>e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toFixed(2),p=(e,r)=>{i(""),l(!0);let n=new URLSearchParams({function:"TIME_SERIES_DAILY",symbol:e,apikey:"ORBLN26W85Z486SN",outputsize:r>100?"full":"compact"});fetch(`https://www.alphavantage.co/query?${n.toString()}`).then(e=>{if(!e.ok)throw 403===e.status?i("Market Data Restricted (403): API access denied."):429===e.status?i("Too Many Requests (429): Alpha Vantage rate limit reached (5 calls/min, 25 calls/day)."):401===e.status?i("Invalid API Token (401): Please check your Alpha Vantage API key."):i(`Fetch Error (${e.status}): Could not load market data.`),Error("HTTP status "+e.status);return e.json()}).then(t=>{if(t["Error Message"]){i(`Invalid symbol: ${e}`),d([]);return}if(t.Note){i(`API Rate Limit: ${t.Note}`),d([]);return}let n=t["Time Series (Daily)"];if(!n){i(`No data available for ${e}`),d([]);return}let o=Math.floor(new Date().getTime()/1e3),s=o-24*r*3600,a=[];for(let e of Object.keys(n)){let t=new Date(e).getTime()/1e3;if(t>=s&&t<=o){let t=n[e],i=[e,parseFloat(t["1. open"]),parseFloat(t["4. close"]),parseFloat(t["3. low"]),parseFloat(t["2. high"]),parseInt(t["5. volume"])];a.push(i)}}a.reverse(),0===a.length?i("No data available for the selected time range."):i(""),d(a)}).catch(e=>{console.error("Chart Fetch Error:",e),t||i("Network error while fetching chart data."),d([])}).finally(()=>{l(!1)})},g=(e,t)=>{for(var i=[],r=0,n=t.values.length;r<n;r++){if(r<e){i.push("-");continue}for(var o=0,s=0;s<e;s++)o+=t.values[r-s][1];i.push(Math.round(o/e*100)/100)}return i};if(a)return(0,eG.jsxs)(st,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:10,gap:2},children:[(0,eG.jsx)(Ho,{size:32,thickness:5,sx:{color:"var(--primary)"}}),(0,eG.jsx)(ib,{variant:"body2",sx:{color:"var(--text-muted)",fontWeight:600},children:"Analyzing Market Data..."})]});if(0===u.length){let e=!!t;return(0,eG.jsxs)(st,{className:"chart-placeholder",sx:{textAlign:"center",py:10,px:3,background:e?"rgba(239, 68, 68, 0.02)":"rgba(255, 255, 255, 0.01)",borderRadius:"16px",border:e?"1px solid rgba(239, 68, 68, 0.1)":"1px dashed var(--surface-border)",m:2},children:[(0,eG.jsx)(ib,{variant:"h6",sx:{color:e?"var(--error)":"var(--text-main)",fontWeight:700,mb:1},children:e?"Market Data Issue":"Ready for Analysis"}),(0,eG.jsx)(ib,{variant:"body2",sx:{color:"var(--text-muted)",maxWidth:"400px",mx:"auto"},children:e?t:"Select a stock from the activity cards or search a ticker to visualize market insights."})]})}return(0,eG.jsxs)("div",{children:[(0,eG.jsx)(B1,{option:(()=>{if(0===u.length)return{};let e=(e=>{for(var t=[],i=[],r=[],n=0;n<e.length;n++)t.push(e[n].splice(0,1)[0]),i.push(e[n]),r.push([n,e[n][4],e[n][0]>e[n][1]?1:-1]);return{categoryData:t,values:i,volumes:r}})(Hb.cloneDeep(u)),t={backgroundColor:"transparent",title:{text:o,left:"2%",top:"0%",textStyle:{color:"var(--text-main)",fontSize:22,fontWeight:800}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{fontSize:14,backgroundColor:"var(--surface)",color:"var(--text-main)",borderColor:"var(--surface-border)",borderWidth:1},lineStyle:{color:"var(--primary)",width:1.5,opacity:.8}},backgroundColor:"rgba(30, 41, 59, 0.95)",borderColor:"rgba(255, 255, 255, 0.1)",textStyle:{fontSize:14,color:"#f8fafc"},extraCssText:"backdrop-filter: blur(8px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.3); border-radius: 8px;"},legend:{data:["Day"],inactiveColor:"var(--text-muted)",textStyle:{color:"var(--text-muted)",fontSize:13,fontWeight:600},top:"2%",right:"4%"},grid:[{top:"15%",left:"5%",right:"5%",bottom:"35%"},{left:"5%",right:"5%",height:"15%",bottom:"12%"}],xAxis:[{type:"category",data:e.categoryData,scale:!0,boundaryGap:!1,axisLine:{onZero:!1,lineStyle:{color:"var(--surface-border)"}},axisLabel:{color:"var(--text-muted)",fontSize:11},splitLine:{show:!0,lineStyle:{color:"rgba(255, 255, 255, 0.05)"}},min:"dataMin",max:"dataMax"},{type:"category",gridIndex:1,data:e.categoryData,scale:!0,boundaryGap:!1,axisLine:{onZero:!1,lineStyle:{color:"var(--surface-border)"}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},min:"dataMin",max:"dataMax"}],yAxis:[{scale:!0,axisLabel:{color:"var(--text-muted)",fontSize:11},splitLine:{show:!0,lineStyle:{color:"rgba(255, 255, 255, 0.05)"}},axisLine:{lineStyle:{color:"var(--surface-border)"}}},{scale:!0,gridIndex:1,splitNumber:2,axisLabel:{show:!1},axisLine:{show:!1},splitLine:{show:!1}}],dataZoom:[{type:"inside",start:0,end:100},{show:!0,type:"slider",bottom:"2%",start:0,end:100,backgroundColor:"rgba(255, 255, 255, 0.03)",borderColor:"var(--surface-border)",fillerColor:"rgba(99, 102, 241, 0.1)",handleStyle:{color:"var(--primary)"},textStyle:{color:"var(--text-muted)"}}],series:[{name:"Day",type:"candlestick",data:e.values,itemStyle:{color:Hx,color0:HS,borderColor:"#008F28",borderColor0:"#8A0000",borderWidth:1.5},markPoint:{symbol:"pin",symbolSize:45,data:[]}},{name:"Volume",type:"bar",xAxisIndex:1,yAxisIndex:1,data:e.volumes,itemStyle:{color:e=>e.data[2]>0?Hx:HS,opacity:.6}}]},i=h.find(e=>e.value===r);if(i&&"D"!==i.resolution)return t;r>=10&&(t.series.push({name:"MA5",type:"line",data:g(5,e),smooth:!0,lineStyle:{opacity:.5},itemStyle:{color:"#0000FF"}}),t.legend.data.push("MA5")),r>=20&&(t.series.push({name:"MA10",type:"line",data:g(10,e),smooth:!0,lineStyle:{opacity:.5},itemStyle:{color:"#FFAE19"}}),t.legend.data.push("MA10"));let n=a_.default.filter(e=>e.Ticker===o);if(n.length>0){let e=Hb.groupBy(n,"Date");for(let i in e){let r=e[i],n=u.find(e=>e[0]===r[0].Date);if(n&&n[2]){let e=r.filter(e=>"Buy"===e.Direction).map(e=>parseInt(e.Shares)).reduce((e,t)=>e+t,0),i=r.filter(e=>"Sell"===e.Direction).map(e=>parseInt(e.Shares)).reduce((e,t)=>e+t,0),o=n[2],s="Buy\n$"+c(Math.abs(e*o)),a="Sell\n$"+c(Math.abs(i*o)),l=n[4];e>0&&t.series[0].markPoint.data.push({name:`${r[0].Date} Buy`,coord:i>0?[r[0].Date,1.1*l]:[r[0].Date,l],value:s,itemStyle:{color:Hx},label:{fontSize:10}}),i>0&&t.series[0].markPoint.data.push({name:`${r[0].Date} Sell`,coord:[r[0].Date,l],value:a,itemStyle:{color:HS},label:{fontSize:10}})}}}return t})(),notMerge:!0,lazyUpdate:!0,style:{height:"400px",width:"100%"}}),(0,eG.jsx)(oN,{container:!0,justifyContent:"center",alignItems:"center",style:{marginTop:"10px"},children:(0,eG.jsx)(Hw,{value:r,exclusive:!0,onChange:(e,t)=>{null!==t&&n(t)},"aria-label":"figure-range-button-group",size:"small",children:h.map(e=>(0,eG.jsx)(Hg,{value:e.value,children:e.text},e.id))})})]})},HE="bvhuovv48v6okueb0pc0",HT=()=>{let{ticker:e,setErrorMessage:t}=(0,sr.useAppContext)(),[i,r]=(0,eV.useState)(!1),[n,o]=(0,eV.useState)(null),[s,a]=(0,eV.useState)(!1);(0,eV.useEffect)(()=>{e?l(e):a(!1)},[e]);let l=e=>{t(""),r(!0),fetch(`https://finnhub.io/api/v1/stock/profile2?symbol=${e}&token=${HE}`).then(e=>{if(!e.ok)throw Error("HTTP "+e.status);return e.json()}).then(i=>{i&&Object.keys(i).length>0?(o(i),a(!0)):(t(`API returned 'NO DATA' for ${e}`),a(!1)),r(!1)}).catch(e=>{console.error(e),r(!1)})};return i?(0,eG.jsx)(st,{display:"flex",justifyContent:"center",children:(0,eG.jsx)(Ho,{})}):s&&n?(0,eG.jsxs)(st,{sx:{p:{xs:1,md:2},display:"flex",flexDirection:"column",gap:2},children:[(0,eG.jsxs)(st,{children:[(0,eG.jsx)(ib,{variant:"h4",sx:{fontWeight:800,color:"var(--primary)",letterSpacing:"-0.02em"},children:e}),(0,eG.jsx)(ib,{variant:"h5",sx:{fontWeight:700,color:"var(--text-main)"},children:n.name})]}),(0,eG.jsxs)(st,{sx:{display:"flex",gap:4,alignItems:"flex-start",flexWrap:"wrap"},children:[n.logo&&(0,eG.jsx)(st,{component:"a",href:n.weburl,target:"_blank",rel:"noreferrer",sx:{p:2,background:"#fff",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s","&:hover":{transform:"scale(1.05)"}},children:(0,eG.jsx)("img",{src:n.logo,alt:"Company Logo",style:{maxWidth:"80px",maxHeight:"80px"}})}),(0,eG.jsx)(oN,{container:!0,spacing:2,sx:{flex:1,minWidth:"200px"},children:[{label:"Industry",value:n.finnhubIndustry},{label:"IPO Date",value:n.ipo},{label:"Exchange",value:n.exchange},{label:"Market Cap",value:`${n.marketCapitalization}M`},{label:"Shares",value:`${n.shareOutstanding}M`}].map(e=>(0,eG.jsxs)(oN,{item:!0,xs:12,sm:6,children:[(0,eG.jsx)(ib,{variant:"caption",sx:{color:"var(--text-muted)",display:"block",mb:.5,fontWeight:600,textTransform:"uppercase"},children:e.label}),(0,eG.jsx)(ib,{variant:"body1",sx:{color:"var(--text-main)",fontWeight:600},children:e.value||"N/A"})]},e.label))})]})]}):null},HM=e=>new Date((new Date().setHours(0,0,0,0)/1e3-24*e*3600)*1e3).toISOString().split("T")[0],HR=({newsDetails:e})=>{var t,i,r,n;return(0,eG.jsx)(s6,{sx:{mb:2,cursor:"pointer",background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.05)",borderRadius:"12px",transition:"all 0.3s ease","&:hover":{background:"rgba(255, 255, 255, 0.06)",borderColor:"rgba(99, 102, 241, 0.3)",transform:"translateX(4px)"}},onClick:()=>{window.open(e.url,"_blank")},elevation:0,children:(0,eG.jsx)(at,{sx:{p:2.5},children:(0,eG.jsxs)(st,{sx:{display:"flex",gap:2},children:[(0,eG.jsxs)(st,{sx:{flex:1},children:[(0,eG.jsx)(ib,{variant:"h6",component:"h3",sx:{fontWeight:700,fontSize:"1rem",color:"var(--text-main)",mb:1,lineHeight:1.3},children:e.headline}),(0,eG.jsxs)(ib,{sx:{color:"var(--primary)",fontSize:"0.75rem",fontWeight:600,mb:1,textTransform:"uppercase"},children:[e.source," â€¢"," ",(t=e.datetime,(n=Math.floor((r=Math.floor(new Date().getTime()/1e3-t))/31536e3))>=1?i="year":(n=Math.floor(r/2592e3))>=1?i="month":(n=Math.floor(r/86400))>=1?i="day":(n=Math.floor(r/3600))>=1?i="hour":(n=Math.floor(r/60))>=1?i="minute":(n=r,i="second"),(n>1||0===n)&&(i+="s"),`${n} ${i} ago`)]}),(0,eG.jsx)(ib,{variant:"body2",sx:{color:"var(--text-muted)",lineHeight:1.5,fontSize:"0.875rem"},children:e.summary.length>180?(0,eG.jsxs)(eG.Fragment,{children:[`${e.summary.substring(0,180)}... `,(0,eG.jsx)("span",{style:{color:"var(--primary)",fontWeight:600},children:"Read more"})]}):e.summary})]}),e.image&&(0,eG.jsx)(st,{sx:{width:{xs:0,sm:100},height:100,borderRadius:"8px",overflow:"hidden",flexShrink:0,display:{xs:"none",sm:"block"}},children:(0,eG.jsx)("img",{src:e.image,alt:"News",style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})})},HD=()=>{let{ticker:e}=(0,sr.useAppContext)(),[t,i]=(0,eV.useState)(!1),[r,n]=(0,eV.useState)([]);(0,eV.useEffect)(()=>{e?o(e):n([])},[e]);let o=e=>{i(!0);let t=HM(365),r=HM(0);fetch(`https://finnhub.io/api/v1/company-news?symbol=${e}&from=${t}&to=${r}&token=${HE}`).then(e=>e.json()).then(e=>{Array.isArray(e)&&n(e.slice(0,9)),i(!1)}).catch(e=>{console.error(e),i(!1)})};return t?(0,eG.jsx)(st,{display:"flex",justifyContent:"center",children:(0,eG.jsx)(Ho,{})}):(0,eG.jsx)(st,{children:r.map(e=>(0,eG.jsx)(HR,{newsDetails:e},e.id))})};function HA(e){let{children:t,value:i,index:r,...n}=e;return(0,eG.jsx)("div",{role:"tabpanel",hidden:i!==r,id:`scrollable-auto-tabpanel-${r}`,"aria-labelledby":`scrollable-auto-tab-${r}`,...n,children:i===r&&(0,eG.jsx)(st,{sx:{p:{xs:2,md:4}},children:t})})}let HI=()=>{let{ticker:e}=(0,sr.useAppContext)(),[t,i]=(0,eV.useState)(0),r=e=>({id:`scrollable-auto-tab-${e}`,"aria-controls":`scrollable-auto-tabpanel-${e}`});return(0,eG.jsxs)(st,{className:"stock-details-inner-wrapper",sx:{background:"rgba(15, 23, 42, 0.2)",borderRadius:"12px",overflow:"hidden"},children:[(0,eG.jsx)(st,{sx:{borderBottom:"1px solid var(--surface-border)",background:"rgba(15, 23, 42, 0.4)"},children:(0,eG.jsxs)(sq,{variant:"fullWidth",value:t,onChange:(e,t)=>{i(t)},TabIndicatorProps:{style:{background:"#6366f1",height:"3px",borderRadius:"3px 3px 0 0"}},sx:{"& .MuiTab-root":{color:"var(--text-muted)",fontWeight:700,textTransform:"none",fontSize:"0.95rem",minHeight:"64px","&.Mui-selected":{color:"var(--text-main)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.03)"}}},children:[(0,eG.jsx)(s1,{label:"Chart",icon:(0,eG.jsx)(aD.default,{}),iconPosition:"start",...r(0)}),(0,eG.jsx)(s1,{label:"Basic Info",disabled:!e,icon:(0,eG.jsx)(aA.default,{}),iconPosition:"start",...r(1)}),(0,eG.jsx)(s1,{label:"News",disabled:!e,icon:(0,eG.jsx)(aI.default,{}),iconPosition:"start",...r(2)})]})}),(0,eG.jsx)(HA,{value:t,index:0,children:(0,eG.jsx)(H_,{})}),(0,eG.jsx)(HA,{value:t,index:1,children:(0,eG.jsx)(HT,{})}),(0,eG.jsx)(HA,{value:t,index:2,children:(0,eG.jsx)(HD,{})})]})};var HP=eV,HL=Object.defineProperty,Hk=Object.defineProperties,HN=Object.getOwnPropertyDescriptor,HF=Object.getOwnPropertyDescriptors,HO=Object.getOwnPropertySymbols,HG=Object.prototype.hasOwnProperty,HV=Object.prototype.propertyIsEnumerable,HB=(e,t,i)=>t in e?HL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,HH=(e,t)=>{for(var i in t||(t={}))HG.call(t,i)&&HB(e,i,t[i]);if(HO)for(var i of HO(t))HV.call(t,i)&&HB(e,i,t[i]);return e},Hz=(e,t)=>{for(var i in t)HL(e,i,{get:t[i],enumerable:!0})},HW=(e,t,i,r)=>{for(var n,o=r>1?void 0:r?HN(t,i):t,s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r?n(t,i,o):n(o))||o);return r&&o&&HL(t,i,o),o},HU=(e,t)=>(i,r)=>t(i,r,e),Hj={};function H$(e){return null==e||""===e?null:e}function HK(e,t=!1){return null!=e&&(""!==e||t)}function HY(e){return!HK(e)}function Hq(e){return null==e||0===e.length}function HX(e){return null!=e&&"function"==typeof e.toString?e.toString():null}function HZ(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"==typeof e)return isNaN(e)?void 0:e;let t=parseInt(e,10);return isNaN(t)?void 0:t}function HQ(e){if(void 0!==e)return null!==e&&""!==e&&("boolean"==typeof e?e:/true/i.test(e))}function HJ(e){if(null!=e&&""!==e)return e}function H0(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function H1(e,t,i=!1){var r,n,o,s;let a=null==e,l=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),a&&l)return 0;if(a)return -1;if(l)return 1;if("string"!=typeof e||!i){return(r=e)>(n=t)?1:r<n?-1:0}try{return e.localeCompare(t)}catch(i){return(o=e)>(s=t)?1:o<s?-1:0}}function H2(e){if(e instanceof Set||e instanceof Map){let t=[];return e.forEach(e=>t.push(e)),t}return Object.values(e)}Hz(Hj,{attrToBoolean:()=>HQ,attrToNumber:()=>HZ,attrToString:()=>HJ,defaultComparator:()=>H1,exists:()=>HK,jsonEquals:()=>H0,makeNull:()=>H$,missing:()=>HY,missingOrEmpty:()=>Hq,toStringOrNull:()=>HX,values:()=>H2});var H5=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=HX(e);let i=0;for(;;){let r;if(e?(r=e,0!==i&&(r+="_"+i)):t?(r=t,0!==i&&(r+="_"+i)):r=i,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);i++}}},H3={};Hz(H3,{SKIP_JS_BUILTINS:()=>H4,cloneObject:()=>H8,deepCloneDefinition:()=>H9,getAllValuesInObject:()=>H7,getValueUsingField:()=>zt,isNonNullObject:()=>zr,iterateObject:()=>H6,mergeDeep:()=>ze,removeAllReferences:()=>zi});var H4=new Set(["__proto__","constructor","prototype"]);function H6(e,t){if(null!=e){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(let[i,r]of Object.entries(e))t(i,r)}}function H8(e){let t={},i=Object.keys(e);for(let r=0;r<i.length;r++){if(H4.has(i[r]))continue;let n=i[r],o=e[n];t[n]=o}return t}function H9(e,t){if(!e)return;let i={};return Object.keys(e).forEach(r=>{if(t&&t.indexOf(r)>=0||H4.has(r))return;let n=e[r];zr(n)&&n.constructor===Object?i[r]=H9(n):i[r]=n}),i}function H7(e){if(!e)return[];let t=Object;if("function"==typeof t.values)return t.values(e);let i=[];for(let t in e)e.hasOwnProperty(t)&&e.propertyIsEnumerable(t)&&i.push(e[t]);return i}function ze(e,t,i=!0,r=!1){HK(t)&&H6(t,(t,n)=>{if(H4.has(t))return;let o=e[t];o!==n&&(r&&null==o&&null!=n&&"object"==typeof n&&n.constructor===Object&&(o={},e[t]=o),zr(n)&&zr(o)&&!Array.isArray(o)?ze(o,n,i,r):(i||void 0!==n)&&(e[t]=n))})}function zt(e,t,i){if(!t||!e)return;if(!i)return e[t];let r=t.split("."),n=e;for(let e=0;e<r.length;e++){if(null==n)return;n=n[r[e]]}return n}function zi(e,t=[],i){Object.keys(e).forEach(i=>{"object"!=typeof e[i]||t.includes(i)||(e[i]=void 0)});let r=Object.getPrototypeOf(e),n={};Object.getOwnPropertyNames(r).forEach(e=>{"function"!=typeof r[e]||t.includes(e)||(n[e]={value:()=>{console.warn(`AG Grid: Grid API function ${e}() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${i}`)},writable:!0})}),Object.defineProperties(e,n)}function zr(e){return"object"==typeof e&&null!==e}var zn={};Hz(zn,{compose:()=>zC,debounce:()=>zm,doOnce:()=>zs,errorOnce:()=>zl,executeAfter:()=>zf,executeInAWhile:()=>zh,executeNextVMTurn:()=>zg,getFunctionName:()=>zu,isFunction:()=>zd,noop:()=>zw,throttle:()=>zv,waitUntil:()=>zy,warnOnce:()=>za});var zo={};function zs(e,t){zo[t]||(e(),zo[t]=!0)}function za(e){zs(()=>console.warn("AG Grid: "+e),e)}function zl(e){zs(()=>console.error("AG Grid: "+e),e)}function zu(e){if(e.name)return e.name;let t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function zd(e){return!!(e&&e.constructor&&e.call&&e.apply)}function zh(e){zf(e,400)}var zc=[],zp=!1;function zg(e){zc.push(e),zp||(zp=!0,window.setTimeout(()=>{let e=zc.slice();zc.length=0,zp=!1,e.forEach(e=>e())},0))}function zf(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(e=>e()),t)}function zm(e,t){let i;return function(...r){let n=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(n,r)},t)}}function zv(e,t){let i=0;return function(...r){let n=new Date().getTime();n-i<t||(i=n,e.apply(this,r))}}function zy(e,t,i=100,r){let n=new Date().getTime(),o=null,s=!1,a=()=>{let a=new Date().getTime()-n>i;(e()||a)&&(t(),s=!0,null!=o&&(window.clearInterval(o),o=null),a&&r&&console.warn(r))};a(),s||(o=window.setInterval(a,10))}function zC(...e){return t=>e.reduce((e,t)=>t(e),t)}var zw=()=>{},zb=((S=zb||{}).CommunityCoreModule="@ag-grid-community/core",S.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",S.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",S.CsvExportModule="@ag-grid-community/csv-export",S.EnterpriseCoreModule="@ag-grid-enterprise/core",S.RowGroupingModule="@ag-grid-enterprise/row-grouping",S.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",S.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",S.MenuModule="@ag-grid-enterprise/menu",S.SetFilterModule="@ag-grid-enterprise/set-filter",S.MultiFilterModule="@ag-grid-enterprise/multi-filter",S.StatusBarModule="@ag-grid-enterprise/status-bar",S.SideBarModule="@ag-grid-enterprise/side-bar",S.RangeSelectionModule="@ag-grid-enterprise/range-selection",S.MasterDetailModule="@ag-grid-enterprise/master-detail",S.RichSelectModule="@ag-grid-enterprise/rich-select",S.GridChartsModule="@ag-grid-enterprise/charts",S.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",S.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",S.ExcelExportModule="@ag-grid-enterprise/excel-export",S.ClipboardModule="@ag-grid-enterprise/clipboard",S.SparklinesModule="@ag-grid-enterprise/sparklines",S.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",S.AngularModule="@ag-grid-community/angular",S.ReactModule="@ag-grid-community/react",S.VueModule="@ag-grid-community/vue",S),zS=class e{static register(t){e.__register(t,!0,void 0)}static registerModules(t){e.__registerModules(t,!0,void 0)}static __register(t,i,r){e.runVersionChecks(t),void 0!==r?(e.areGridScopedModules=!0,void 0===e.gridModulesMap[r]&&(e.gridModulesMap[r]={}),e.gridModulesMap[r][t.moduleName]=t):e.globalModulesMap[t.moduleName]=t,e.setModuleBased(i)}static __unRegisterGridModules(t){delete e.gridModulesMap[t]}static __registerModules(t,i,r){e.setModuleBased(i),t&&t.forEach(t=>e.__register(t,i,r))}static isValidModuleVersion(t){let[i,r]=t.version.split(".")||[],[n,o]=e.currentModuleVersion.split(".")||[];return i===n&&r===o}static runVersionChecks(t){if(e.currentModuleVersion||(e.currentModuleVersion=t.version),t.version?e.isValidModuleVersion(t)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is version ${t.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is incompatible. Please update all modules to the same version.`),t.validate){let e=t.validate();e.isValid||console.error(`AG Grid: ${e.message}`)}}static setModuleBased(t){void 0===e.moduleBased?e.moduleBased=t:e.moduleBased!==t&&zs(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){e.isBundled=!0}static __assertRegistered(t,i,r){var n;let o;if(this.__isRegistered(t,r))return!0;if(e.isBundled)o=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"></script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(e.moduleBased||void 0===e.moduleBased){let s=null==(n=Object.entries(zb).find(([e,i])=>i===t))?void 0:n[0];o=`AG Grid: unable to use ${i} as the ${s} is not registered${e.areGridScopedModules?` for gridId: ${r}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${s} } from '${t}';
    
    ModuleRegistry.registerModules([ ${s} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return zs(()=>{console.warn(o)},i+t),!1}static __isRegistered(t,i){var r;return!!e.globalModulesMap[t]||!!(null==(r=e.gridModulesMap[i])?void 0:r[t])}static __getRegisteredModules(t){return[...H2(e.globalModulesMap),...H2(e.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){var i;return H2(null!=(i=e.gridModulesMap[t])?i:{})||[]}static __isPackageBased(){return!e.moduleBased}};zS.globalModulesMap={},zS.gridModulesMap={},zS.areGridScopedModules=!1;var zx=class{constructor(e,t){if(this.beanWrappers={},this.destroyed=!1,!e||!e.beanClasses)return;this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return H2(this.beanWrappers).map(e=>e.beanInstance)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e}wireBeans(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),HK(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),H6(this.beanWrappers,(e,t)=>{let i;t.bean.__agBeanMetaData&&t.bean.__agBeanMetaData.autowireMethods&&t.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=t.bean.__agBeanMetaData.autowireMethods.agConstructor);let r=this.getBeansForParameters(i,t.bean.name),n=new(t.bean.bind.apply(t.bean,[null,...r]));t.beanInstance=n});let e=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${e}`)}createBeanWrapper(e){let t=e.__agBeanMetaData;if(!t){let t;t=e.prototype.constructor?zu(e.prototype.constructor):""+e,console.error(`Context item ${t} is not a bean`);return}let i={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=i}autoWireBeans(e){e.forEach(e=>{this.forEachMetaDataInHierarchy(e,(t,i)=>{let r=t.agClassAttributes;r&&r.forEach(t=>{let r=this.lookupBeanInstance(i,t.beanName,t.optional);e[t.attributeName]=r})})})}methodWireBeans(e){e.forEach(e=>{this.forEachMetaDataInHierarchy(e,(t,i)=>{H6(t.autowireMethods,(t,r)=>{if("agConstructor"===t)return;let n=this.getBeansForParameters(r,i);e[t].apply(e,n)})})})}forEachMetaDataInHierarchy(e,t){let i=Object.getPrototypeOf(e);for(;null!=i;){let e=i.constructor;e.hasOwnProperty("__agBeanMetaData")&&t(e.__agBeanMetaData,this.getBeanName(e)),i=Object.getPrototypeOf(i)}}getBeanName(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;let t=e.toString();return t.substring(9,t.indexOf("("))}getBeansForParameters(e,t){let i=[];return e&&H6(e,(e,r)=>{let n=this.lookupBeanInstance(t,r);i[Number(e)]=n}),i}lookupBeanInstance(e,t,i=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${t} is used after the grid is destroyed!`),null;if("context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];let r=this.beanWrappers[t];return r?r.beanInstance:(i||console.error(`AG Grid: unable to find bean reference ${t} while initialising ${e}`),null)}callLifeCycleMethods(e,t){e.forEach(e=>this.callLifeCycleMethodsOnBean(e,t))}callLifeCycleMethodsOnBean(e,t,i){let r={};this.forEachMetaDataInHierarchy(e,e=>{let n=e[t];n&&n.forEach(e=>{e!=i&&(r[e]=!0)})}),Object.keys(r).forEach(t=>e[t]())}getBean(e){return this.lookupBeanInstance("getBean",e,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");let e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,zS.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(e){e&&this.destroyBeans([e])}destroyBeans(e){return e&&e.forEach(e=>{this.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy"),"function"==typeof e.destroy&&e.destroy()}),[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}};function z_(e,t,i){let r=zP(e.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(t)}function zE(e,t,i){let r=zP(e.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(t)}function zT(e,t,i){let r=zP(e.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(t)}function zM(e){return t=>{zP(t).beanName=e}}function zR(e){return(t,i,r)=>{zA(t,e,!1,t,i,null)}}function zD(e){return(t,i,r)=>{zA(t,e,!0,t,i,null)}}function zA(e,t,i,r,n,o){if(null===t)return void console.error("AG Grid: Autowired name should not be null");if("number"==typeof o)return void console.error("AG Grid: Autowired should be on an attribute");let s=zP(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:n,beanName:t,optional:i})}function zI(e){return(t,i,r)=>{let n,o="function"==typeof t?t:t.constructor;if("number"==typeof r){let t;i?(n=zP(o),t=i):(n=zP(o),t="agConstructor"),n.autowireMethods||(n.autowireMethods={}),n.autowireMethods[t]||(n.autowireMethods[t]={}),n.autowireMethods[t][r]=e}}}function zP(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var zL=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,i=null,r=null){if(this.frameworkOverrides=t,this.gos=e,i){let t=e.useAsyncEvents();this.addGlobalListener(i,t)}r&&this.addGlobalListener(r,!1)}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){let r=t?this.allAsyncListeners:this.allSyncListeners,n=r.get(e);return!n&&i&&(n=new Set,r.set(e,n)),n}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){let r=this.getListeners(e,i,!1);r&&(r.delete(t),0===r.size&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){this.gos&&this.gos.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){var i;let r=e.type;if(t&&"event"in e){let t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}let n=(i,r)=>i.forEach(i=>{if(!r.has(i))return;let n=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>i(e)):()=>i(e);t?this.dispatchAsync(n):n()}),o=null!=(i=this.getListeners(r,t,!1))?i:new Set,s=new Set(o);s.size>0&&n(s,o),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(i=>{let n=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>i(r,e)):()=>i(r,e);t?this.dispatchAsync(n):n()})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(e=>e())}};HW([HU(0,zI("gridOptionsService")),HU(1,zI("frameworkOverrides")),HU(2,zI("globalEventListener")),HU(3,zI("globalSyncEventListener"))],zL.prototype,"setBeans",1),zL=HW([zM("eventService")],zL);var zk=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=t=>{this.frameworkOverrides.wrapOutgoing(()=>e(t))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(t,i)=>{this.frameworkOverrides.wrapOutgoing(()=>e(t,i))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){var t;return null!=(t=this.wrappedListeners.get(e))?t:e}unwrapGlobal(e){var t;return null!=(t=this.wrappedGlobalListeners.get(e))?t:e}},zN={resizable:!0,sortable:!0},zF=0,zO=class e{constructor(e,t,i,r){this.instanceId=zF++,this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new zL,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=r,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?("asc"===e.sort||"desc"===e.sort)&&(this.sort=e.sort):("asc"===e.initialSort||"desc"===e.initialSort)&&(this.sort=e.initialSort);let t=e.sortIndex,i=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==i&&(this.sortIndex=i);let r=e.hide,n=e.initialHide;void 0!==r?this.visible=!r:this.visible=!n,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);let o=e.flex,s=e.initialFlex;void 0!==o?this.flex=o:void 0!==s&&(this.flex=s)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){let e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=HK(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=HK(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){var e,t;let i=this.colDef;this.minWidth=null!=(e=i.minWidth)?e:this.environment.getMinColWidth(),this.maxWidth=null!=(t=i.maxWidth)?t:Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=HK(this.colDef.tooltipField)||HK(this.colDef.tooltipValueGetter)||HK(this.colDef.tooltipComponent)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){var t,i;let r=null!=(t=e.minWidth)?t:this.environment.getMinColWidth(),n=null!=(i=e.maxWidth)?i:Number.MAX_SAFE_INTEGER,o=HZ(e.width),s=HZ(e.initialWidth);return Math.max(Math.min(null!=o?o:null!=s?s:200,n),r)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(HY(this.colDef)||HY(this.colDef.showRowGroup))return!1;let t=!0===this.colDef.showRowGroup,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,t){var i,r;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new zk(this.frameworkOverrides));let n=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.wrap(t))?r:t;this.eventService.addEventListener(e,n)}removeEventListener(e,t){var i,r;let n=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.unwrap(t))?r:t;this.eventService.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){let t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}isCellEditable(e){return(!e.group||!!this.gos.get("enableGroupEdit"))&&this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var t;return null!=(t=this.colDef[e])?t:zN[e]}isColumnFunc(e,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createColumnFunctionCallbackParams(e))}setMoving(e,t){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return HY(this.sort)}isSorting(){return HK(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));let r=this.createColumnEvent("filterChanged",t);i&&ze(r,i),this.eventService.dispatchEvent(r)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){!0===e||"left"===e?this.pinned="left":"right"===e?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){let i=!0===e;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){let e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(HY(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e);return Math.max(this.colDef.colSpan(t),1)}getRowSpan(e){if(HY(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e);return Math.max(this.colDef.rowSpan(t),1)}setActualWidth(e,t,i=!1){null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return null!=this.maxWidth&&e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){HK(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(e){za("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let t=this.getColDef().menuTabs;return null==t&&(t=e),t}dispatchStateUpdatedEvent(t){this.eventService.dispatchEvent({type:e.EVENT_STATE_UPDATED,key:t})}};zO.EVENT_MOVING_CHANGED="movingChanged",zO.EVENT_LEFT_CHANGED="leftChanged",zO.EVENT_WIDTH_CHANGED="widthChanged",zO.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",zO.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",zO.EVENT_VISIBLE_CHANGED="visibleChanged",zO.EVENT_FILTER_CHANGED="filterChanged",zO.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",zO.EVENT_SORT_CHANGED="sortChanged",zO.EVENT_COL_DEF_CHANGED="colDefChanged",zO.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",zO.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",zO.EVENT_PIVOT_CHANGED="columnPivotChanged",zO.EVENT_VALUE_CHANGED="columnValueChanged",zO.EVENT_STATE_UPDATED="columnStateUpdated",HW([zR("gridOptionsService")],zO.prototype,"gos",2),HW([zR("environment")],zO.prototype,"environment",2),HW([zR("columnHoverService")],zO.prototype,"columnHoverService",2),HW([zR("frameworkOverrides")],zO.prototype,"frameworkOverrides",2),HW([zE],zO.prototype,"initialise",1);var zG=class e{constructor(e,t,i,r){this.localEventService=new zL,this.expandable=!1,this.instanceId=zF++,this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=r}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(e=>e.isVisible())}isPadding(){return this.padding}setExpanded(t){this.expanded=void 0!==t&&t;let i={type:e.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(i)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}addLeafColumns(t){this.children&&this.children.forEach(i=>{i instanceof zO?t.push(i):i instanceof e&&i.addLeafColumns(t)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,i=!1,r=!1,n=this.findChildrenRemovingPadding();for(let e=0,o=n.length;e<o;e++){let o=n[e];if(!o.isVisible())continue;let s=o.getColumnGroupShow();"open"===s?(t=!0,r=!0):"closed"===s?(i=!0,r=!0):(t=!0,i=!0)}let o=t&&i&&r;if(this.expandable!==o){this.expandable=o;let t={type:e.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(t)}}findChildrenRemovingPadding(){let t=[],i=r=>{r.forEach(r=>{r instanceof e&&r.isPadding()?i(r.children):t.push(r)})};return i(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}};zG.EVENT_EXPANDED_CHANGED="expandedChanged",zG.EVENT_EXPANDABLE_CHANGED="expandableChanged",HW([zT],zG.prototype,"destroy",1);var zV={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},zB={};Hz(zB,{addSafePassiveEventListener:()=>Ws,createEventPath:()=>Wn,getCtrlForEventTarget:()=>Wi,getEventPath:()=>Wo,isElementInEventPath:()=>Wr,isEventSupported:()=>Wt,isStopPropagationForAgGrid:()=>We,stopPropagationForAgGrid:()=>z7});var zH={};function zz(e){return null!=e&&e.length>0}function zW(e){if(e&&e.length)return e[e.length-1]}function zU(e,t,i){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((e,r)=>i?i(e,t[r]):t[r]===e)}function zj(e,t){return zU(e,t)}function z$(e){return e.sort((e,t)=>e-t)}function zK(e,t){if(e)for(let i=e.length-2;i>=0;i--){let r=e[i]===t,n=e[i+1]===t;r&&n&&e.splice(i+1,1)}}function zY(e,t){let i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function zq(e,t){let i=e.indexOf(t);i>=0&&e.splice(i,1)}function zX(e,t){for(let i=0;i<t.length;i++)zY(e,t[i])}function zZ(e,t){for(let i=0;i<t.length;i++)zq(e,t[i])}function zQ(e,t,i){e.splice(i,0,t)}function zJ(e,t,i){if(null!=e&&null!=t)for(let r=t.length-1;r>=0;r--)zQ(e,t[r],i)}function z0(e,t,i){zZ(e,t),t.slice().reverse().forEach(t=>zQ(e,t,i))}function z1(e,t){return e.indexOf(t)>-1}function z2(e){return[].concat.apply([],e)}function z5(e,t){null!=t&&null!=e&&t.forEach(t=>e.push(t))}function z3(e){return e.map(HX)}function z4(e,t){if(null!=e)for(let i=e.length-1;i>=0;i--)t(e[i],i)}Hz(zH,{areEqual:()=>zU,existsAndNotEmpty:()=>zz,flatten:()=>z2,forEachReverse:()=>z4,includes:()=>z1,insertArrayIntoArray:()=>zJ,insertIntoArray:()=>zQ,last:()=>zW,moveInArray:()=>z0,pushAll:()=>z5,removeAllFromArray:()=>zZ,removeAllFromUnorderedArray:()=>zX,removeFromArray:()=>zq,removeFromUnorderedArray:()=>zY,removeRepeatsFromArray:()=>zK,shallowCompare:()=>zj,sortNumerically:()=>z$,toStrings:()=>z3});var z6="__ag_Grid_Stop_Propagation",z8=["touchstart","touchend","touchmove","touchcancel","scroll"],z9={};function z7(e){e[z6]=!0}function We(e){return!0===e[z6]}var Wt=(i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=>{if("boolean"==typeof z9[e])return z9[e];let t=document.createElement(i[e]||"div");return z9[e="on"+e]=e in t});function Wi(e,t,i){let r=t;for(;r;){let t=e.getDomData(r,i);if(t)return t;r=r.parentElement}return null}function Wr(e,t){return!!t&&!!e&&Wo(t).indexOf(e)>=0}function Wn(e){let t=[],i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function Wo(e){return e.path?e.path:e.composedPath?e.composedPath():Wn(e)}function Ws(e,t,i,r){let n=z1(z8,i);e&&e.addEventListener&&e.addEventListener(t,i,r,n?{passive:!0}:void 0)}var Wa=class e{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})}addEventListener(e,t){this.localEventService||(this.localEventService=new zL),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,t,i){if(this.destroyed)return;e instanceof HTMLElement?Ws(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);let r=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==r),null)}setupGridOptionListener(e,t){this.gos.addEventListener(e,t);let i=()=>(this.gos.removeEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let i=e.join("-")+this.propertyListenerId++,r=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=e.changeSet.id}t({type:"gridPropertyChanged",changeSet:e.changeSet,source:e.source})};e.forEach(e=>this.setupGridOptionListener(e,r))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){let i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.getContext()).createBean(e,i)}destroyBean(e,t){return(t||this.getContext()).destroyBean(e)}destroyBeans(e,t){if(e)for(let i=0;i<e.length;i++)this.destroyBean(e[i],t);return[]}};Wa.EVENT_DESTROYED="destroyed",HW([zR("frameworkOverrides")],Wa.prototype,"frameworkOverrides",2),HW([zR("context")],Wa.prototype,"context",2),HW([zR("eventService")],Wa.prototype,"eventService",2),HW([zR("gridOptionsService")],Wa.prototype,"gos",2),HW([zR("localeService")],Wa.prototype,"localeService",2),HW([zR("environment")],Wa.prototype,"environment",2),HW([zT],Wa.prototype,"destroy",1);var Wl=Wa,Wu=class extends Wl{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,i,r){let n=new H5,{existingCols:o,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(i);n.addExistingKeys(a);let l=this.recursivelyCreateColumns(e,0,t,o,n,s,r),u=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+u);let d=this.balanceColumnTree(l,0,u,n);return Wd(null,d,(e,t)=>{e instanceof zG&&e.setupExpandable(),e.setOriginalParent(t)}),{columnTree:d,treeDept:u}}extractExistingTreeData(e){let t=[],i=[],r=[];return e&&Wd(null,e,e=>{e instanceof zG?i.push(e):(r.push(e.getId()),t.push(e))}),{existingCols:t,existingGroups:i,existingColKeys:r}}createForAutoGroups(e,t){return e.map(e=>this.createAutoGroupTreeItem(t,e))}createAutoGroupTreeItem(e,t){let i=this.findDepth(e),r=t;for(let e=i-1;e>=0;e--){let i=new zG(null,`FAKE_PATH_${t.getId()}}_${e}`,!0,e);this.createBean(i),i.setChildren([r]),r.setOriginalParent(i),r=i}return 0===i&&t.setOriginalParent(null),r}findDepth(e){let t=0,i=e;for(;i&&i[0]&&i[0]instanceof zG;)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,r){let n=[];for(let o=0;o<e.length;o++){let s=e[o];if(s instanceof zG){let e=this.balanceColumnTree(s.getChildren(),t+1,i,r);s.setChildren(e),n.push(s)}else{let o,a;for(let e=i-1;e>=t;e--){let e=r.getUniqueKey(null,null),i=new zG(this.createMergedColGroupDef(null),e,!0,t);this.createBean(i),a&&a.setChildren([i]),a=i,o||(o=a)}if(o&&a){if(n.push(o),e.some(e=>e instanceof zG)){a.setChildren([s]);continue}a.setChildren(e);break}n.push(s)}}return n}findMaxDept(e,t){let i=t;for(let r=0;r<e.length;r++){let n=e[r];if(n instanceof zG){let e=this.findMaxDept(n.getChildren(),t+1);i<e&&(i=e)}}return i}recursivelyCreateColumns(e,t,i,r,n,o,s){if(!e)return[];let a=Array(e.length);for(let l=0;l<a.length;l++){let u=e[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(i,u,t,r,n,o,s):a[l]=this.createColumn(i,u,r,n,s)}return a}createColumnGroup(e,t,i,r,n,o,s){let a=this.createMergedColGroupDef(t),l=n.getUniqueKey(a.groupId||null,null),u=new zG(a,l,!1,i);this.createBean(u);let d=this.findExistingGroup(t,o);d&&o.splice(d.idx,1);let h=null==d?void 0:d.group;h&&u.setExpanded(h.isExpanded());let c=this.recursivelyCreateColumns(a.children,i+1,e,r,n,o,s);return u.setChildren(c),u}createMergedColGroupDef(e){let t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,r,n){let o=this.findExistingColumn(t,i);o&&(null==i||i.splice(o.idx,1));let s=null==o?void 0:o.column;if(s){let e=this.addColumnDefaultAndTypes(t,s.getColId());s.setColDef(e,t,n),this.applyColumnState(s,e,n)}else{let i=r.getUniqueKey(t.colId,t.field);s=new zO(this.addColumnDefaultAndTypes(t,i),t,i,e),this.context.createBean(s)}return this.dataTypeService.addColumnListeners(s),s}applyColumnState(e,t,i){let r=HZ(t.flex);if(void 0!==r&&e.setFlex(r),0>=e.getFlex()){let r=HZ(t.width);if(null!=r)e.setActualWidth(r,i);else{let t=e.getActualWidth();e.setActualWidth(t,i)}}void 0!==t.sort&&("asc"==t.sort||"desc"==t.sort?e.setSort(t.sort,i):e.setSort(void 0,i));let n=HZ(t.sortIndex);void 0!==n&&e.setSortIndex(n);let o=HQ(t.hide);void 0!==o&&e.setVisible(!o,i),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){let r=t[i].getUserProvidedColDef();if(r){if(null!=e.colId){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(null!=e.field){if(r.field===e.field)return{idx:i,column:t[i]};continue}if(r===e)return{idx:i,column:t[i]}}}}findExistingGroup(e,t){if(null!=e.groupId)for(let i=0;i<t.length;i++){let r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}addColumnDefaultAndTypes(e,t){let i={};ze(i,this.gos.get("defaultColDef"),!1,!0);let r=this.dataTypeService.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),ze(i,e,!1,!0);let n=this.gos.get("autoGroupColumnDef"),o=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&n&&o&&ze(i,{sort:n.sort,initialSort:n.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(e,t){if(!e.length)return;let i=Object.assign({},zV);H6(this.gos.get("columnTypes")||{},(e,t)=>{e in i?console.warn(`AG Grid: the column type '${e}' is a default column type and cannot be overridden.`):(t.type&&za("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[e]=t)}),e.forEach(e=>{let r=i[e.trim()];r?ze(t,r,!1,!0):console.warn("AG Grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return void 0!==e.children}};function Wd(e,t,i){if(t)for(let r=0;r<t.length;r++){let n=t[r];n instanceof zG&&Wd(n,n.getChildren(),i),i(n,e)}}HW([zR("dataTypeService")],Wu.prototype,"dataTypeService",2),HW([HU(0,zI("loggerFactory"))],Wu.prototype,"setBeans",1),Wu=HW([zM("columnFactory")],Wu);var Wh=class e{constructor(e,t,i,r){this.displayedChildren=[],this.localEventService=new zL,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=r}static createUniqueId(e,t){return e+"_"+t}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return e.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!!e&&0!==e.length&&e.every(e=>e.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{t instanceof e&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let e=zW(this.displayedChildren).getLeft();this.setLeft(e)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(t){let i=!1;return this.children.forEach(r=>{t===r&&(i=!0),r instanceof e&&r.isChildInThisGroupDeepSearch(t)&&(i=!0)}),i}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(t){this.displayedChildren.forEach(i=>{i instanceof zO?t.push(i):i instanceof e&&i.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(i=>{i instanceof zO?t.push(i):i instanceof e&&i.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;null!=t&&t.isPadding();)t=t.getParent();if(!(t&&t.providedColumnGroup.isExpandable())){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(i=>{if(!(i instanceof e)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case"open":t.providedColumnGroup.isExpanded()&&this.displayedChildren.push(i);break;case"closed":t.providedColumnGroup.isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i)}}),this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))}};Wh.EVENT_LEFT_CHANGED="leftChanged",Wh.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",HW([zR("gridOptionsService")],Wh.prototype,"gos",2);var Wc=class{};Wc.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",Wc.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",Wc.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",Wc.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded",Wc.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",Wc.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",Wc.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",Wc.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",Wc.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",Wc.EVENT_COLUMN_MOVED="columnMoved",Wc.EVENT_COLUMN_VISIBLE="columnVisible",Wc.EVENT_COLUMN_PINNED="columnPinned",Wc.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",Wc.EVENT_COLUMN_RESIZED="columnResized",Wc.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",Wc.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",Wc.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",Wc.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",Wc.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",Wc.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",Wc.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",Wc.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",Wc.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",Wc.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",Wc.EVENT_ROW_GROUP_OPENED="rowGroupOpened",Wc.EVENT_ROW_DATA_UPDATED="rowDataUpdated",Wc.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",Wc.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",Wc.EVENT_CHART_CREATED="chartCreated",Wc.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",Wc.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",Wc.EVENT_CHART_DESTROYED="chartDestroyed",Wc.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",Wc.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",Wc.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",Wc.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",Wc.EVENT_MODEL_UPDATED="modelUpdated",Wc.EVENT_CUT_START="cutStart",Wc.EVENT_CUT_END="cutEnd",Wc.EVENT_PASTE_START="pasteStart",Wc.EVENT_PASTE_END="pasteEnd",Wc.EVENT_FILL_START="fillStart",Wc.EVENT_FILL_END="fillEnd",Wc.EVENT_RANGE_DELETE_START="rangeDeleteStart",Wc.EVENT_RANGE_DELETE_END="rangeDeleteEnd",Wc.EVENT_UNDO_STARTED="undoStarted",Wc.EVENT_UNDO_ENDED="undoEnded",Wc.EVENT_REDO_STARTED="redoStarted",Wc.EVENT_REDO_ENDED="redoEnded",Wc.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",Wc.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",Wc.EVENT_CELL_CLICKED="cellClicked",Wc.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",Wc.EVENT_CELL_MOUSE_DOWN="cellMouseDown",Wc.EVENT_CELL_CONTEXT_MENU="cellContextMenu",Wc.EVENT_CELL_VALUE_CHANGED="cellValueChanged",Wc.EVENT_CELL_EDIT_REQUEST="cellEditRequest",Wc.EVENT_ROW_VALUE_CHANGED="rowValueChanged",Wc.EVENT_CELL_FOCUSED="cellFocused",Wc.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",Wc.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",Wc.EVENT_ROW_SELECTED="rowSelected",Wc.EVENT_SELECTION_CHANGED="selectionChanged",Wc.EVENT_TOOLTIP_SHOW="tooltipShow",Wc.EVENT_TOOLTIP_HIDE="tooltipHide",Wc.EVENT_CELL_KEY_DOWN="cellKeyDown",Wc.EVENT_CELL_MOUSE_OVER="cellMouseOver",Wc.EVENT_CELL_MOUSE_OUT="cellMouseOut",Wc.EVENT_FILTER_CHANGED="filterChanged",Wc.EVENT_FILTER_MODIFIED="filterModified",Wc.EVENT_FILTER_OPENED="filterOpened",Wc.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",Wc.EVENT_SORT_CHANGED="sortChanged",Wc.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",Wc.EVENT_ROW_CLICKED="rowClicked",Wc.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",Wc.EVENT_GRID_READY="gridReady",Wc.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",Wc.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",Wc.EVENT_VIEWPORT_CHANGED="viewportChanged",Wc.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",Wc.EVENT_FIRST_DATA_RENDERED="firstDataRendered",Wc.EVENT_DRAG_STARTED="dragStarted",Wc.EVENT_DRAG_STOPPED="dragStopped",Wc.EVENT_CHECKBOX_CHANGED="checkboxChanged",Wc.EVENT_ROW_EDITING_STARTED="rowEditingStarted",Wc.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",Wc.EVENT_CELL_EDITING_STARTED="cellEditingStarted",Wc.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",Wc.EVENT_BODY_SCROLL="bodyScroll",Wc.EVENT_BODY_SCROLL_END="bodyScrollEnd",Wc.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",Wc.EVENT_PAGINATION_CHANGED="paginationChanged",Wc.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",Wc.EVENT_STORE_REFRESHED="storeRefreshed",Wc.EVENT_STATE_UPDATED="stateUpdated",Wc.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",Wc.EVENT_CONTEXT_MENU_VISIBLE_CHANGED="contextMenuVisibleChanged",Wc.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",Wc.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",Wc.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",Wc.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",Wc.EVENT_FLASH_CELLS="flashCells",Wc.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",Wc.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",Wc.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",Wc.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",Wc.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",Wc.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",Wc.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",Wc.EVENT_ROW_DRAG_ENTER="rowDragEnter",Wc.EVENT_ROW_DRAG_MOVE="rowDragMove",Wc.EVENT_ROW_DRAG_LEAVE="rowDragLeave",Wc.EVENT_ROW_DRAG_END="rowDragEnd",Wc.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",Wc.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",Wc.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",Wc.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",Wc.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",Wc.EVENT_STORE_UPDATED="storeUpdated",Wc.EVENT_FILTER_DESTROYED="filterDestroyed",Wc.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",Wc.EVENT_ROW_COUNT_READY="rowCountReady",Wc.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",Wc.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",Wc.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",Wc.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",Wc.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var Wp=new Set([Wc.EVENT_GRID_PRE_DESTROYED,Wc.EVENT_FILL_START]),Wg=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t,i=this.existingIds[e];return t="number"!=typeof i?0:i+1,this.existingIds[e]=t,t}},Wf="ag-Grid-AutoColumn",Wm=class extends Wl{createAutoGroupColumns(e){let t=[],i=this.gos.get("treeData"),r=this.gos.isGroupMultiAutoColumn();return i&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?e.forEach((e,i)=>{t.push(this.createOneAutoGroupColumn(e,i))}):t.push(this.createOneAutoGroupColumn()),t}updateAutoGroupColumns(e,t){e.forEach((e,i)=>this.updateOneAutoGroupColumn(e,i,t))}createOneAutoGroupColumn(e,t){let i;i=e?`${Wf}-${e.getId()}`:Wf;let r=this.createAutoGroupColDef(i,e,t);r.colId=i;let n=new zO(r,null,i,!0);return this.context.createBean(n),n}updateOneAutoGroupColumn(e,t,i){let r=e.getColDef(),n="string"==typeof r.showRowGroup?r.showRowGroup:void 0,o=null!=n?this.columnModel.getPrimaryColumn(n):void 0,s=this.createAutoGroupColDef(e.getId(),null!=o?o:void 0,t);e.setColDef(s,null,i),this.columnFactory.applyColumnState(e,s,i)}createAutoGroupColDef(e,t,i){let r=this.createBaseColDef(t);ze(r,this.gos.get("autoGroupColumnDef")),r=this.columnFactory.addColumnDefaultAndTypes(r,e),!this.gos.get("treeData")&&HY(r.field)&&HY(r.valueGetter)&&HY(r.filterValueGetter)&&"agGroupColumnFilter"!==r.filter&&(r.filter=!1),i&&i>0&&(r.headerCheckboxSelection=!1);let n=this.gos.isColumnsSortingCoupledToGroup(),o=r.valueGetter||null!=r.field;return n&&!o&&(r.sortIndex=void 0,r.initialSort=void 0),r}createBaseColDef(e){let t=this.gos.get("autoGroupColumnDef"),i={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),e){let t=e.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:t.headerValueGetter}),t.cellRenderer&&Object.assign(i,{cellRendererParams:{innerRenderer:t.cellRenderer,innerRendererParams:t.cellRendererParams}}),i.showRowGroup=e.getColId()}else i.showRowGroup=!0;return i}};HW([zR("columnModel")],Wm.prototype,"columnModel",2),HW([zR("columnFactory")],Wm.prototype,"columnFactory",2),Wm=HW([zM("autoGroupColService")],Wm);var Wv={};Hz(Wv,{camelCaseToHumanText:()=>Wx,camelCaseToHyphenated:()=>W_,capitalise:()=>Wb,escapeString:()=>WS,utf8_encode:()=>Ww});var Wy=/[&<>"']/g,WC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ww(e){let t=String.fromCharCode;function i(e,i){return t(e>>i&63|128)}let r=function(e){let t,i,r=[];if(!e)return[];let n=e.length,o=0;for(;o<n;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<n?(64512&(i=e.charCodeAt(o++)))==56320?r.push(((1023&t)<<10)+(1023&i)+65536):(r.push(t),o--):r.push(t);return r}(e),n=r.length,o=-1,s="";for(;++o<n;)s+=function(e){if(e>=0&&e<=31&&10!==e){let t=e.toString(16).toUpperCase().padStart(4,"0");return`_x${t}_`}if((0xffffff80&e)==0)return t(e);let r="";if((0xfffff800&e)==0)r=t(e>>6&31|192);else if((0xffff0000&e)==0){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");r=t(e>>12&15|224)+i(e,6)}else(0xffe00000&e)==0&&(r=t(e>>18&7|240)+i(e,12)+i(e,6));return r+t(63&e|128)}(r[o]);return s}function Wb(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function WS(e,t){if(null==e)return null;let i=e.toString().toString();return t?i:i.replace(Wy,e=>WC[e])}function Wx(e){return e&&null!=e?e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")).join(" "):null}function W_(e){return e.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var WE={};function WT(e){let t=new Map;return e.forEach(e=>t.set(e[0],e[1])),t}function WM(e,t){let i=new Map;return e.forEach(e=>i.set(t(e),e)),i}function WR(e){let t=[];return e.forEach((e,i)=>t.push(i)),t}Hz(WE,{convertToMap:()=>WT,keys:()=>WR,mapById:()=>WM});var WD=class extends Wl{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation");let e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.buildAutoGroupColumns(WA(e.source))),this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(WA(e.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],e=>this.onSharedColDefChanged(WA(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),WA(e.source))),this.addManagedListener(this.eventService,Wc.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))}onAutoGroupColumnDefChanged(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)}onSharedColDefChanged(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))}setColumnDefs(e,t){let i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,t)}recreateColumnDefs(e){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){let i={};if(!e)return;Wd(null,e,e=>{i[e.getInstanceId()]=e}),t&&Wd(null,t,e=>{i[e.getInstanceId()]=null});let r=Object.values(i).filter(e=>null!=e);this.destroyBeans(r)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t){let i=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;let r=this.primaryColumns,n=this.primaryColumnTree,o=this.columnFactory.createColumnTree(this.columnDefs,!0,n,t);this.destroyOldColumns(this.primaryColumnTree,o.columnTree),this.primaryColumnTree=o.columnTree,this.primaryHeaderRowCount=o.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(e=>this.primaryColumnsMap[e.getId()]=e),this.extractRowGroupColumns(t,r),this.extractPivotColumns(t,r),this.extractValueColumns(t,r),this.ready=!0;let s=void 0===this.gridColsArePrimary;(this.gridColsArePrimary||s||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gos.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),this.changeEventsDispatching=!0,i&&i(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(t)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(e){let t={type:Wc.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(t),"gridInitializing"===e&&this.onColumnsReady()}dispatchEverythingChanged(e){let t={type:Wc.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)}orderGridColumnsLikePrimary(){let e=this.primaryColumns;if(!e)return;let t=e.filter(e=>this.gridColumns.indexOf(e)>=0),i=this.gridColumns.filter(e=>0>t.indexOf(e));this.gridColumns=[...i,...t],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gos.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}checkViewportColumns(e=!1){if(null==this.displayedColumnsCenter||!this.extractViewport())return;let t={type:Wc.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}setViewportPosition(e,t,i=!1){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return!(e&&this.gos.get("treeData"))||(za("Pivot mode not available with treeData."),!1)}setPivotMode(e,t){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,!this.gridColumns))return;this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);let i={type:Wc.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}getSecondaryPivotColumn(e,t){if(HY(this.secondaryColumns))return null;let i=this.getPrimaryColumn(t),r=null;return this.secondaryColumns.forEach(t=>{let n=t.getColDef().pivotKeys,o=t.getColDef().pivotValueColumn;zU(n,e)&&o===i&&(r=t)}),r}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?zW(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?zW(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(r=>{r.setLastLeftPinned(r===t,e),r.setFirstRightPinned(r===i,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));let{columns:t,skipHeader:i,skipHeaderGroups:r,stopAtGroup:n,source:o="api"}=e;this.animationFrameService.flushAllFrames();let s=[],a=-1,l=null!=i?i:this.gos.get("skipHeaderOnAutoSize"),u=null!=r?r:l;for(;0!==a;)a=0,this.actionOnGridColumns(t,e=>{if(s.indexOf(e)>=0)return!1;let t=this.autoWidthCalculator.getPreferredWidthForColumn(e,l);if(t>0){let i=this.normaliseColumnWidth(e,t);e.setActualWidth(i,o),s.push(e),a++}return!0},o);u||this.autoSizeColumnGroupsByColumns(t,o,n),this.dispatchColumnResizedEvent(s,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,i,r=null){if(e&&e.length){let n={type:Wc.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:r,finished:t,source:i};this.eventService.dispatchEvent(n)}}dispatchColumnChangedEvent(e,t,i){let r={type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i};this.eventService.dispatchEvent(r)}dispatchColumnMovedEvent(e){let{movedColumns:t,source:i,toIndex:r,finished:n}=e,o={type:Wc.EVENT_COLUMN_MOVED,columns:t,column:t&&1===t.length?t[0]:null,toIndex:r,finished:n,source:i};this.eventService.dispatchEvent(o)}dispatchColumnPinnedEvent(e,t){if(!e.length)return;let i=1===e.length?e[0]:null,r=this.getCommonValue(e,e=>e.getPinned()),n={type:Wc.EVENT_COLUMN_PINNED,pinned:null!=r?r:null,columns:e,column:i,source:t};this.eventService.dispatchEvent(n)}dispatchColumnVisibleEvent(e,t){if(!e.length)return;let i=1===e.length?e[0]:null,r=this.getCommonValue(e,e=>e.isVisible()),n={type:Wc.EVENT_COLUMN_VISIBLE,visible:r,columns:e,column:i,source:t};this.eventService.dispatchEvent(n)}autoSizeColumn(e,t,i){e&&this.autoSizeColumns({columns:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){let r,n=new Set;for(let o of(this.getGridColumns(e).forEach(e=>{let t=e.getParent();for(;t&&t!=i;)t.isPadding()||n.add(t),t=t.getParent()}),n)){for(let e of this.ctrlsService.getHeaderRowContainerCtrls())if(r=e.getHeaderCtrlForColumn(o))break;r&&r.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,t));let i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:t,source:e})}getColumnsFromTree(e){let t=[],i=e=>{for(let r=0;r<e.length;r++){let n=e[r];n instanceof zO?t.push(n):n instanceof zG&&i(n.getChildren())}};return i(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,i,r){let n=[],o=null;for(let s=0;s<t.length;s++){let a,l=t[s],u=t.length-s,d=Math.min(l.getColSpan(e),u),h=[l];if(d>1){let e=d-1;for(let i=1;i<=e;i++)h.push(t[s+i]);s+=e}i?(a=!1,h.forEach(e=>{i(e)&&(a=!0)})):a=!0,a&&(0===n.length&&o&&r&&r(l)&&n.push(o),n.push(l)),o=l}return n}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;let t=e=>{let t=e.getLeft();return HK(t)&&t>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,i,t)}isColumnAtEdge(e,t){let i,r=this.getAllDisplayedColumns();if(!r.length)return!1;let n="first"===t;if(e instanceof Wh){let t=e.getDisplayedLeafColumns();if(!t.length)return!1;i=n?t[0]:zW(t)}else i=e;return(n?r[0]:zW(r))===i}getAriaColumnIndex(e){let t;return t=e instanceof Wh?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}isColumnInHeaderViewport(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,i=t+e.getActualWidth(),r=this.viewportLeft-200,n=this.viewportRight+200;return!(t<r&&i<r)&&!(t>n&&i>n)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,i,r,n,o){if(!e||Hq(e))return;let s=!1;if(e.forEach(e=>{if(!e)return;let n=this.getPrimaryColumn(e);if(n){if(i){if(t.indexOf(n)>=0)return;t.push(n)}else{if(0>t.indexOf(n))return;zq(t,n)}r(n),s=!0}}),!s)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o);let a={type:n,columns:t,column:1===t.length?t[0]:null,source:o};this.eventService.dispatchEvent(a)}setRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([t],!1,i),e||this.gos.get("suppressMakeColumnVisibleAfterUnGroup")||this.setColumnsVisible([t],!0,i))}addRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}addPivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!0,e=>e.setPivotActive(!0,t),Wc.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t){this.setPrimaryColumnList(e,this.pivotColumns,Wc.EVENT_COLUMN_PIVOT_CHANGED,!0,(e,i)=>{i.setPivotActive(e,t)},t)}removePivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!1,e=>e.setPivotActive(!1,t),Wc.EVENT_COLUMN_PIVOT_CHANGED,t)}setPrimaryColumnList(e,t,i,r,n,o){if(!this.gridColumns)return;let s=new Map;t.forEach((e,t)=>s.set(e,t)),t.length=0,HK(e)&&e.forEach(e=>{let i=this.getPrimaryColumn(e);i&&t.push(i)}),t.forEach((e,t)=>{let i=s.get(e);void 0===i?s.set(e,0):r&&i!==t||s.delete(e)}),(this.primaryColumns||[]).forEach(e=>{n(t.indexOf(e)>=0,e)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o),this.dispatchColumnChangedEvent(i,[...s.keys()],o)}setValueColumns(e,t){this.setPrimaryColumnList(e,this.valueColumns,Wc.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){let e=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(e)}}addValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),Wc.EVENT_COLUMN_VALUE_CHANGED,t)}removeValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),Wc.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){let i=e.getMinWidth();HK(i)&&t<i&&(t=i);let r=e.getMaxWidth();return HK(r)&&e.isGreaterThanMax(t)&&(t=r),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,i,r){let n=[];e.forEach(e=>{let i=this.getPrimaryOrGridColumn(e.key);if(i&&(n.push({width:e.newWidth,ratios:[1],columns:[i]}),"shift"===this.gos.get("colResizeDefault")&&(t=!t),t)){let t=this.getDisplayedColAfter(i);if(!t)return;let r=i.getActualWidth()-e.newWidth,o=t.getActualWidth()+r;n.push({width:o,ratios:[1],columns:[t]})}}),0!==n.length&&this.resizeColumnSets({resizeSets:n,finished:i,source:r})}checkMinAndMaxWidthsForSet(e){let{columns:t,width:i}=e,r=0,n=0,o=!0;t.forEach(e=>{let t=e.getMinWidth();r+=t||0;let i=e.getMaxWidth();HK(i)&&i>0?n+=i:o=!1});let s=i>=r,a=!o||i<=n;return s&&a}resizeColumnSets(e){let{resizeSets:t,finished:i,source:r}=e;if(!(!t||t.every(e=>this.checkMinAndMaxWidthsForSet(e)))){if(i){let e=t&&t.length>0?t[0].columns:null;this.dispatchColumnResizedEvent(e,i,r)}return}let n=[],o=[];t.forEach(e=>{let{width:t,columns:i,ratios:s}=e,a={},l={};i.forEach(e=>o.push(e));let u=!0,d=0;for(;u;){if(++d>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}u=!1;let e=[],r=0,n=t;i.forEach((t,i)=>{if(l[t.getId()])n-=a[t.getId()];else{e.push(t);let n=s[i];r+=n}});let o=1/r;e.forEach((i,r)=>{let d;r===e.length-1?d=n:(d=Math.round(s[r]*t*o),n-=d);let h=i.getMinWidth(),c=i.getMaxWidth();HK(h)&&d<h?(d=h,l[i.getId()]=!0,u=!0):HK(c)&&c>0&&d>c&&(d=c,l[i.getId()]=!0,u=!0),a[i.getId()]=d})}i.forEach(e=>{let t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,r),n.push(e))})});let s=n.length>0,a=[];s&&(a=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.setLeftValues(r),this.updateBodyWidths(),this.checkViewportColumns());let l=o.concat(a);(s||i)&&this.dispatchColumnResizedEvent(l,i,r,a)}setColumnAggFunc(e,t,i){if(!e)return;let r=this.getPrimaryColumn(e);r&&(r.setAggFunc(t),this.dispatchColumnChangedEvent(Wc.EVENT_COLUMN_VALUE_CHANGED,[r],i))}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;let r=this.rowGroupColumns[e],n=this.rowGroupColumns.slice(e,t);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,r);let o={type:Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:n,column:1===n.length?n[0]:null,source:i};this.eventService.dispatchEvent(o)}moveColumns(e,t,i,r=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}let n=this.getGridColumns(e);this.doesMovePassRules(n,t)&&(z0(this.gridColumns,n,t),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:n,source:i,toIndex:t,finished:r}),this.columnAnimationService.finish())}doesMovePassRules(e,t){let i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)}getProposedColumnOrder(e,t){let i=this.gridColumns.slice();return z0(i,e,t),i}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(e=>0>this.gridColumns.indexOf(e)).length>0||e.sort((e,t)=>this.gridColumns.indexOf(e)-this.gridColumns.indexOf(t))}doesMovePassLockedPositions(e){let t=0,i=!0;return e.forEach(e=>{var r;let n=(r=e.getColDef().lockPosition)?!0===r?0:2*("left"!==r):1;n<t&&(i=!1),t=n}),i}doesMovePassMarryChildren(e){let t=!0;return Wd(null,this.gridBalancedTree,i=>{if(!(i instanceof zG))return;let r=i.getColGroupDef();if(!(r&&r.marryChildren))return;let n=[];i.getLeafColumns().forEach(t=>{let i=e.indexOf(t);n.push(i)}),Math.max.apply(Math,n)-Math.min.apply(Math,n)>i.getLeafColumns().length-1&&(t=!1)}),t}moveColumnByIndex(e,t,i){if(!this.gridColumns)return;let r=this.gridColumns[e];this.moveColumns([r],t,i)}getColumnDefs(){if(!this.primaryColumns)return;let e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((e,t)=>this.gridColumns.indexOf(e)-this.gridColumns.indexOf(t)):this.lastPrimaryOrder&&e.sort((e,t)=>this.lastPrimaryOrder.indexOf(e)-this.lastPrimaryOrder.indexOf(t)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){let e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i;let r={type:Wc.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(r);let n={type:Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(n)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var e;return null!=(e=this.gridColumns)?e:[]}isRowGroupEmpty(){return Hq(this.rowGroupColumns)}setColumnsVisible(e,t=!1,i){this.applyColumnState({state:e.map(e=>({colId:"string"==typeof e?e:e.getColId(),hide:!t}))},i)}setColumnsPinned(e,t,i){let r;if(this.gridColumns){if(this.gos.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");this.columnAnimationService.start(),r=!0===t||"left"===t?"left":"right"===t?"right":null,this.actionOnGridColumns(e,e=>e.getPinned()!==r&&(e.setPinned(r),!0),i,()=>({type:Wc.EVENT_COLUMN_PINNED,pinned:r,column:null,columns:null,source:i})),this.columnAnimationService.finish()}}actionOnGridColumns(e,t,i,r){if(Hq(e))return;let n=[];if(e.forEach(e=>{if(!e)return;let i=this.getGridColumn(e);i&&!1!==t(i)&&n.push(i)}),n.length&&(this.updateDisplayedColumns(i),HK(r)&&r)){let e=r();e.columns=n,e.column=1===n.length?n[0]:null,this.eventService.dispatchEvent(e)}}getDisplayedColBefore(e){let t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i>0?t[i-1]:null}getDisplayedColAfter(e){let t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getDisplayedGroupAtDirection(e,t){let i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),n="After"===t?zW(r):r[0],o=`getDisplayedCol${t}`;for(;;){let t=this[o](n);if(!t)return null;let r=this.getColumnGroupAtLevel(t,i);if(r!==e)return r}}getColumnGroupAtLevel(e,t){let i=e.getParent();for(;!(i.getProvidedColumnGroup().getLevel()+i.getPaddingLevel()<=t);)i=i.getParent();return i}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){let t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,n=null!=e.getSort()?e.getSort():null,o=null!=e.getSortIndex()?e.getSortIndex():null,s=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:n,sortIndex:o,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:i,flex:s}}getColumnState(){if(HY(this.primaryColumns)||!this.isAlive())return[];let e=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}orderColumnStateList(e){let t=WT(this.gridColumns.map((e,t)=>[e.getColId(),t]));e.sort((e,i)=>(t.has(e.colId)?t.get(e.colId):-1)-(t.has(i.colId)?t.get(i.colId):-1))}resetColumnState(e){if(Hq(this.primaryColumns))return;let t=this.getColumnsFromTree(this.primaryColumnTree),i=[],r=1e3,n=1e3,o=[];this.groupAutoColumns&&(o=o.concat(this.groupAutoColumns)),t&&(o=o.concat(t)),o.forEach(e=>{let t=this.getColumnStateFromColDef(e);HY(t.rowGroupIndex)&&t.rowGroup&&(t.rowGroupIndex=r++),HY(t.pivotIndex)&&t.pivot&&(t.pivotIndex=n++),i.push(t)}),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){let t=(e,t)=>null!=e?e:null!=t?t:null,i=e.getColDef(),r=t(i.sort,i.initialSort),n=t(i.sortIndex,i.initialSortIndex),o=t(i.hide,i.initialHide),s=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex),u=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);null==u&&(null==d||!1==d)&&(u=null,d=null);let h=t(i.pivotIndex,i.initialPivotIndex),c=t(i.pivot,i.initialPivot);null==h&&(null==c||!1==c)&&(h=null,c=null);let p=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:n,hide:o,pinned:s,width:a,flex:l,rowGroup:d,rowGroupIndex:u,pivot:c,pivotIndex:h,aggFunc:p}}applyColumnState(e,t){if(Hq(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;let i=(i,r,n)=>{let o=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;let s=r.slice(),a={},l={},u=[],d=[],h=0,c=this.rowGroupColumns.slice(),p=this.pivotColumns.slice();i.forEach(i=>{let r=i.colId||"";if(r.startsWith(Wf)){u.push(i),d.push(i);return}let o=n(r);o?(this.syncColumnWithStateItem(o,i,e.defaultState,a,l,!1,t),zq(s,o)):(d.push(i),h+=1)});let g=i=>this.syncColumnWithStateItem(i,null,e.defaultState,a,l,!1,t);s.forEach(g);let f=(e,t,i,r)=>{let n=e[i.getId()],o=e[r.getId()],s=null!=n,a=null!=o;if(s&&a)return n-o;if(s)return -1;if(a)return 1;let l=t.indexOf(i),u=t.indexOf(r),d=l>=0;return d&&u>=0?l-u:d?-1:1};this.rowGroupColumns.sort(f.bind(this,a,c)),this.pivotColumns.sort(f.bind(this,l,p)),this.updateGridColumns();let m=this.groupAutoColumns?this.groupAutoColumns.slice():[];return u.forEach(i=>{let r=this.getAutoColumn(i.colId);zq(m,r),this.syncColumnWithStateItem(r,i,e.defaultState,null,null,!0,t)}),m.forEach(g),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),o(),{unmatchedAndAutoStates:d,unmatchedCount:h}};this.columnAnimationService.start();let{unmatchedAndAutoStates:r,unmatchedCount:n}=i(e.state||[],this.primaryColumns||[],e=>this.getPrimaryColumn(e));return(r.length>0||HK(e.defaultState))&&(n=i(r,this.secondaryColumns||[],e=>this.getSecondaryColumn(e)).unmatchedCount),this.columnAnimationService.finish(),0===n}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[],i={};e.state.forEach(e=>{if(!e.colId||i[e.colId])return;let r=this.gridColumnsMap[e.colId];r&&(t.push(r),i[e.colId]=!0)});let r=0;(this.gridColumns.forEach(e=>{let n=e.getColId();null!=i[n]||(n.startsWith(Wf)?zQ(t,e,r++):t.push(e))}),t=this.placeLockedColumns(t),this.doesMovePassMarryChildren(t))?this.gridColumns=t:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(e){let t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),r={};return i.forEach(e=>{r[e.colId]=e}),()=>{let n=this.getPrimaryAndSecondaryAndAutoColumns(),o=(t,i,r,n)=>{if(zU(i.map(n),r.map(n)))return;let o=new Set(i);r.forEach(e=>{o.delete(e)||o.add(e)});let s=[...o],a={type:t,columns:s,column:1===s.length?s[0]:null,source:e};this.eventService.dispatchEvent(a)},s=e=>{let t=[];return n.forEach(i=>{let n=r[i.getColId()];n&&e(n,i)&&t.push(i)}),t},a=e=>e.getColId();o(Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,a),o(Wc.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,a);let l=s((e,t)=>{let i=null!=e.aggFunc,r=i!=t.isValueActive(),n=i&&e.aggFunc!=t.getAggFunc();return r||n});l.length>0&&this.dispatchColumnChangedEvent(Wc.EVENT_COLUMN_VALUE_CHANGED,l,e),this.dispatchColumnResizedEvent(s((e,t)=>e.width!=t.getActualWidth()),!0,e),this.dispatchColumnPinnedEvent(s((e,t)=>e.pinned!=t.getPinned()),e),this.dispatchColumnVisibleEvent(s((e,t)=>e.hide==t.isVisible()),e);let u=s((e,t)=>e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex());u.length>0&&this.sortController.dispatchSortChangedEvents(e,u),this.normaliseColumnMovedEventForColumnState(i,e)}}getCommonValue(e,t){if(!e||0==e.length)return;let i=t(e[0]);for(let r=1;r<e.length;r++)if(i!==t(e[r]))return;return i}normaliseColumnMovedEventForColumnState(e,t){let i=this.getColumnState(),r={};i.forEach(e=>r[e.colId]=e);let n={};e.forEach(e=>{r[e.colId]&&(n[e.colId]=!0)});let o=e.filter(e=>n[e.colId]),s=i.filter(e=>n[e.colId]),a=[];s.forEach((e,t)=>{let i=o&&o[t];if(i&&i.colId!==e.colId){let e=this.getGridColumn(i.colId);e&&a.push(e)}}),a.length&&this.dispatchColumnMovedEvent({movedColumns:a,source:t,finished:!0})}syncColumnWithStateItem(e,t,i,r,n,o,s){var a;if(!e)return;let l=(e,r)=>{let n={value1:void 0,value2:void 0},o=!1;return t&&(void 0!==t[e]&&(n.value1=t[e],o=!0),HK(r)&&void 0!==t[r]&&(n.value2=t[r],o=!0)),!o&&i&&(void 0!==i[e]&&(n.value1=i[e]),HK(r)&&void 0!==i[r]&&(n.value2=i[r])),n},u=l("hide").value1;void 0!==u&&e.setVisible(!u,s);let d=l("pinned").value1;void 0!==d&&e.setPinned(d);let h=null!=(a=e.getColDef().minWidth)?a:this.environment.getMinColWidth(),c=l("flex").value1;if(void 0!==c&&e.setFlex(c),null==c){let t=l("width").value1;null!=t&&null!=h&&t>=h&&e.setActualWidth(t,s)}let p=l("sort").value1;void 0!==p&&("desc"===p||"asc"===p?e.setSort(p,s):e.setSort(void 0,s));let g=l("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),o||!e.isPrimary())return;let f=l("aggFunc").value1;void 0!==f&&("string"==typeof f?(e.setAggFunc(f),e.isValueActive()||(e.setValueActive(!0,s),this.valueColumns.push(e))):(HK(f)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),zq(this.valueColumns,e))));let{value1:m,value2:v}=l("rowGroup","rowGroupIndex");(void 0!==m||void 0!==v)&&("number"==typeof v||m?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),this.rowGroupColumns.push(e)),r&&"number"==typeof v&&(r[e.getId()]=v)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),zq(this.rowGroupColumns,e)));let{value1:y,value2:C}=l("pivot","pivotIndex");(void 0!==y||void 0!==C)&&("number"==typeof C||y?(e.isPivotActive()||(e.setPivotActive(!0,s),this.pivotColumns.push(e)),n&&"number"==typeof C&&(n[e.getId()]=C)):e.isPivotActive()&&(e.setPivotActive(!1,s),zq(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){let i=[];return e&&e.forEach(e=>{let r=t(e);r&&i.push(r)}),i}getColumnWithValidation(e){if(null==e)return null;let t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,i){if(!e||!i)return null;if("string"==typeof e&&i[e])return i[e];for(let i=0;i<t.length;i++)if(this.columnsMatch(t[i],e))return t[i];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){let t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupColumns.slice(0);let i=this.getPrimaryColumn(t);return i?[i]:null}getAutoColumn(e){return!this.groupAutoColumns||!HK(this.groupAutoColumns)||HY(this.groupAutoColumns)?null:this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){let i=e===t,r=e.getColDef()===t,n=e.getColId()==t;return i||r||n}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;let r=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,i){let r=t?t.getColGroupDef():null;return r?this.getHeaderName(r,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,r,n){let o=e.headerValueGetter;if(o){let s=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:r,location:n});if("function"==typeof o)return o(s);if("string"==typeof o)return this.expressionService.evaluate(o,s);console.warn("AG Grid: headerValueGetter must be a function or a string")}else if(null!=e.headerName)return e.headerName;else if(e.field)return Wx(e.field);return""}wrapHeaderNameWithAggFunc(e,t){let i;if(this.gos.get("suppressAggFuncInHeader"))return t;let r=e.getColDef().pivotValueColumn,n=HK(r),o=null;if(n){let n=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,s=void 0!==e.getColDef().pivotTotalColumnIds;if(n&&!s)return t;o=r?r.getAggFunc():null,i=!0}else{let t=e.isValueActive(),r=this.pivotMode||!this.isRowGroupEmpty();t&&r?(o=e.getAggFunc(),i=!0):i=!1}if(i){let e="string"==typeof o?o:"func",i=this.localeService.getLocaleTextFunc()(e,e);return`${i}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof Wh)return e;let i=this.getAllDisplayedTrees(),r="number"==typeof t,n=null;return WI(i,!1,i=>{i instanceof Wh&&(r?e===i.getGroupId()&&t===i.getPartId():e===i.getGroupId())&&(n=i)}),n}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(t,i)=>t.setValueActive(i,e),()=>void 0,()=>void 0,e=>{let t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0},e=>null!=e.initialAggFunc&&""!=e.initialAggFunc),this.valueColumns.forEach(e=>{let t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(t,i)=>t.setRowGroupActive(i,e),e=>e.rowGroupIndex,e=>e.initialRowGroupIndex,e=>e.rowGroup,e=>e.initialRowGroup)}extractColumns(e=[],t=[],i,r,n,o,s){let a=[],l=[];(this.primaryColumns||[]).forEach(i=>{let u=0>e.indexOf(i),d=i.getColDef(),h=HQ(o(d)),c=HQ(s(d)),p=HZ(r(d)),g=HZ(n(d));(void 0!==h?h:void 0!==p?null!==p&&p>=0:u?void 0!==c?c:void 0!==g&&null!=g&&g>=0:t.indexOf(i)>=0)&&((u?null!=p||null!=g:null!=p)?a.push(i):l.push(i))});let u=e=>{let t=r(e.getColDef()),i=n(e.getColDef());return null!=t?t:i};a.sort((e,t)=>{let i=u(e),r=u(t);return i===r?0:i<r?-1:1});let d=[].concat(a);return t.forEach(e=>{l.indexOf(e)>=0&&d.push(e)}),l.forEach(e=>{0>d.indexOf(e)&&d.push(e)}),t.forEach(e=>{0>d.indexOf(e)&&i(e,!1)}),d.forEach(e=>{0>t.indexOf(e)&&i(e,!0)}),d}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(t,i)=>t.setPivotActive(i,e),e=>e.pivotIndex,e=>e.initialPivotIndex,e=>e.pivot,e=>e.initialPivot)}resetColumnGroupState(e){if(!this.primaryColumnTree)return;let t=[];Wd(null,this.primaryColumnTree,e=>{if(e instanceof zG){let i=e.getColGroupDef(),r={groupId:e.getGroupId(),open:i?i.openByDefault:void 0};t.push(r)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){let e=[];return Wd(null,this.gridBalancedTree,t=>{t instanceof zG&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t){if(!this.gridBalancedTree)return;this.columnAnimationService.start();let i=[];if(e.forEach(e=>{let t=e.groupId,r=e.open,n=this.getProvidedColumnGroup(t);n&&n.isExpanded()!==r&&(this.logger.log("columnGroupOpened("+n.getGroupId()+","+r+")"),n.setExpanded(r),i.push(n))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.length){let e={type:Wc.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===zG.length?i[0]:void 0,columnGroups:i};this.eventService.dispatchEvent(e)}this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let r;r=e instanceof zG?e.getId():e||"",this.setColumnGroupState([{groupId:r,open:t}],i)}getProvidedColumnGroup(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");let t=null;return Wd(null,this.gridBalancedTree,i=>{i instanceof zG&&i.getId()===e&&(t=i)}),t}calculateColumnsForDisplay(){return this.pivotMode&&HY(this.secondaryColumns)?this.gridColumns.filter(e=>{let t=this.groupAutoColumns&&z1(this.groupAutoColumns,e),i=this.valueColumns&&z1(this.valueColumns,e);return t||i}):this.gridColumns.filter(e=>this.groupAutoColumns&&z1(this.groupAutoColumns,e)||e.isVisible())}checkColSpanActiveInCols(e){let t=!1;return e.forEach(e=>{HK(e.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};let e=e=>{let t=e.getColDef(),i=t.showRowGroup;t&&HK(i)&&(this.groupDisplayColumns.push(e),"string"==typeof i?this.groupDisplayColumnsMap[i]=e:!0===i&&this.getRowGroupColumns().forEach(t=>{this.groupDisplayColumnsMap[t.getId()]=e}))};this.gridColumns.forEach(e)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){let t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return HK(this.secondaryColumns)}setSecondaryColumns(e,t){if(this.gridColumns&&!(!e&&HY(this.secondaryColumns))){if(e){this.processSecondaryColumnDefinitions(e);let i=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,t);this.destroyOldColumns(this.secondaryBalancedTree,i.columnTree),this.secondaryBalancedTree=i.columnTree,this.secondaryHeaderRowCount=i.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(e=>this.secondaryColumnsMap[e.getId()]=e),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){let t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;let r=e=>{e.forEach(e=>{HK(e.children)?(i&&i(e),r(e.children)):t&&t(e)})};e&&r(e)}updateGridColumns(){let e,t=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){let e=WT(this.groupAutoColumns.map(e=>[e,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(t=>!e.has(t)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(t=>!e.has(t)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}if(this.secondaryColumns&&this.secondaryBalancedTree){let t=this.secondaryColumns.some(e=>void 0!==this.gridColumnsMap[e.getColId()]);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,t&&(e=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,e=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(e),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(e=>this.gridColumnsMap[e.getId()]=e),this.setAutoHeightActive(),!zU(t,this.gridBalancedTree)){let e={type:Wc.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(e)}}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||za("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(e){if(HY(e))return;let t=WT(e.map((e,t)=>[e,t])),i=!0;if(this.gridColumns.forEach(e=>{t.has(e)&&(i=!1)}),i)return;let r=WT(this.gridColumns.map(e=>[e,!0])),n=e.filter(e=>r.has(e)),o=WT(n.map(e=>[e,!0])),s=this.gridColumns.filter(e=>!o.has(e)),a=n.slice();s.forEach(e=>{let t=e.getOriginalParent();if(!t)return void a.push(e);let i=[];for(;!i.length&&t;)t.getLeafColumns().forEach(e=>{let t=a.indexOf(e)>=0,r=0>i.indexOf(e);t&&r&&i.push(e)}),t=t.getOriginalParent();if(!i.length)return void a.push(e);let r=Math.max(...i.map(e=>a.indexOf(e)));zQ(a,e,r+1)}),this.gridColumns=a}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=null!=(e=this.isPivotMode()&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.secondaryColumns:this.primaryColumns)?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?t:t.filter(e=>e.isVisible()||e.isRowGroupActive())}placeLockedColumns(e){let t=[],i=[],r=[];return e.forEach(e=>{let n=e.getColDef().lockPosition;"right"===n?r.push(e):"left"===n||!0===n?t.push(e):i.push(e)}),[...t,...i,...r]}addAutoGroupToGridColumns(){if(HY(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;let e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();let t={type:Wc.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(e=>e.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){let e=this.getAllGridColumns(),t=[],i=[],r=[];for(let n of e){let e=n.getPinned();e?!0===e||"left"===e?t.push(n):r.push(n):i.push(n)}this.ariaOrderColumns=t.concat(i).concat(r)}joinDisplayedColumns(){this.gos.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;let t=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),i=this.gos.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(r=>{if(i){let t=this.getWidthOfColsInList(r);r.forEach(i=>{t-=i.getActualWidth(),i.setLeft(t,e)})}else{let t=0;r.forEach(i=>{i.setLeft(t,e),t+=i.getActualWidth()})}zX(t,r)}),t.forEach(t=>{t.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(e=>{e instanceof Wh&&e.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,WI(e,!0,e=>{e instanceof zO&&t.push(e)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let i;switch(e){case"left":i=this.viewportRowLeft[t];break;case"right":i=this.viewportRowRight[t];break;default:i=this.viewportRowCenter[t]}return HY(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};let e={};this.headerViewportColumns.forEach(t=>e[t.getId()]=!0);let t=(i,r,n)=>{let o=!1;for(let s=0;s<i.length;s++){let a=i[s],l=!1;if(a instanceof zO)l=!0===e[a.getId()];else{let e=a.getDisplayedChildren();e&&(l=t(e,r,n+1))}l&&(o=!0,r[n]||(r[n]=[]),r[n].push(a))}return o};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();let e=this.viewportColumns.map(e=>`${e.getId()}-${e.getPinned()||"normal"}`).join("#"),t=this.viewportColumnsHash!==e;return t&&(this.viewportColumnsHash=e,this.calculateHeaderRows()),t}refreshFlexedColumns(e={}){var t;let i,r=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let n=-1;if(e.resizingCols){let t=new Set(e.resizingCols),i=this.displayedColumnsCenter;for(let e=i.length-1;e>=0;e--)if(t.has(i[e])){n=e;break}}let o=0,s=[],a=0,l=0;for(let e=0;e<this.displayedColumnsCenter.length;e++)this.displayedColumnsCenter[e].getFlex()&&e>n?(s.push(this.displayedColumnsCenter[e]),l+=this.displayedColumnsCenter[e].getFlex(),a+=null!=(t=this.displayedColumnsCenter[e].getMinWidth())?t:0):o+=this.displayedColumnsCenter[e].getActualWidth();if(!s.length)return[];let u=[];o+a>this.flexViewportWidth&&(s.forEach(e=>{var t;return e.setActualWidth(null!=(t=e.getMinWidth())?t:0,r)}),u=s,s=[]);let d=[];e:for(;;){let e=(i=this.flexViewportWidth-o)/l;for(let t=0;t<s.length;t++){let i=s[t],n=e*i.getFlex(),a=0,h=i.getMinWidth(),c=i.getMaxWidth();if(HK(h)&&n<h?a=h:HK(c)&&n>c&&(a=c),a){i.setActualWidth(a,r),zY(s,i),l-=i.getFlex(),u.push(i),o+=i.getActualWidth();continue e}d[t]=Math.round(n)}break}let h=i;return s.forEach((e,t)=>{e.setActualWidth(Math.min(d[t],h),r),u.push(e),h-=d[t]}),e.skipSetLeft||this.setLeftValues(r),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(u,!0,r,s),s}sizeColumnsToFit(e,t="sizeColumnsToFit",i,r){var n,o,s,a,l;if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,t,i,r));let u={};r&&(null==(n=null==r?void 0:r.columnLimits)||n.forEach(e=>{var{key:t}=e,i=((e,t)=>{var i={};for(var r in e)HG.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&HO)for(var r of HO(e))0>t.indexOf(r)&&HV.call(e,r)&&(i[r]=e[r]);return i})(e,["key"]);u["string"==typeof t?t:t.getColId()]=i}));let d=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(d);if(e<=0||!d.length||h)return;let c=[],p=[];d.forEach(e=>{!0===e.getColDef().suppressSizeToFit?p.push(e):c.push(e)});let g=c.slice(0),f=!1,m=e=>{zq(c,e),p.push(e)};for(c.forEach(e=>{var i,n;e.resetActualWidth(t);let o=null==u?void 0:u[e.getId()],s=null!=(i=null==o?void 0:o.minWidth)?i:null==r?void 0:r.defaultMinWidth,a=null!=(n=null==o?void 0:o.maxWidth)?n:null==r?void 0:r.defaultMaxWidth,l=e.getActualWidth();"number"==typeof s&&l<s?e.setActualWidth(s,t,!0):"number"==typeof a&&l>a&&e.setActualWidth(a,t,!0)});!f;){f=!0;let i=e-this.getWidthOfColsInList(p);if(i<=0)c.forEach(e=>{var i,n;let o=null!=(n=null==(i=null==u?void 0:u[e.getId()])?void 0:i.minWidth)?n:null==r?void 0:r.defaultMinWidth;"number"==typeof o?e.setActualWidth(o,t,!0):e.setMinimum(t)});else{let e=i/this.getWidthOfColsInList(c),n=i;for(let i=c.length-1;i>=0;i--){let d=c[i],h=null==u?void 0:u[d.getId()],p=null!=(o=null==h?void 0:h.minWidth)?o:null==r?void 0:r.defaultMinWidth,g=null!=(s=null==h?void 0:h.maxWidth)?s:null==r?void 0:r.defaultMaxWidth,v=null!=(a=d.getMinWidth())?a:0,y=null!=(l=d.getMaxWidth())?l:Number.MAX_VALUE,C="number"==typeof p&&p>v?p:d.getMinWidth(),w="number"==typeof g&&g<y?g:d.getMaxWidth(),b=Math.round(d.getActualWidth()*e);HK(C)&&b<C?(b=C,m(d),f=!1):HK(w)&&b>w?(b=w,m(d),f=!1):0===i&&(b=n),d.setActualWidth(b,t,!0),n-=b}}}g.forEach(e=>{e.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),i||this.dispatchColumnResizedEvent(g,!0,t)}buildDisplayedTrees(e){let t=[],i=[],r=[];e.forEach(e=>{switch(e.getPinned()){case"left":t.push(e);break;case"right":i.push(e);break;default:r.push(e)}});let n=new Wg;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,n,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,n,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(r,n,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};let e=e=>{this.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};WI(this.displayedTreeCentre,!1,e),WI(this.displayedTreeLeft,!1,e),WI(this.displayedTreeRight,!1,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){WI(this.getAllDisplayedTrees(),!1,e=>{e instanceof Wh&&e.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){let e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;let t=this.gos.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gos.get("treeData"))||i||t)this.groupAutoColumns=null;else{let t=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(t,this.groupAutoColumns)||e)return this.groupAutoColumns=t,!0}return!1}isGroupSuppressAutoColumn(){return"custom"===this.gos.get("groupDisplayType")||"custom"===this.gos.get("treeDataDisplayType")}autoColsEqual(e,t){return zU(e,t,(e,t)=>e.getColId()===t.getColId())}getWidthOfColsInList(e){return e.reduce((e,t)=>e+t.getActualWidth(),0)}getFirstDisplayedColumn(){let e=this.gos.get("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let i=0;i<t.length;i++){let r=this[t[i]]();if(r.length)return e?zW(r):r[0]}return null}setColumnHeaderHeight(e,t){if(e.setAutoHeaderHeight(t)){let t={type:Wc.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(t)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){return Math.max(this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),...this.getAllDisplayedColumns().filter(e=>e.isAutoHeaderHeight()).map(e=>e.getAutoHeaderHeight()||0))}getHeaderHeight(){var e;return null!=(e=this.gos.get("headerHeight"))?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return null!=(e=this.gos.get("floatingFiltersHeight"))?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return null!=(e=this.gos.get("groupHeaderHeight"))?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return null!=(e=this.gos.get("pivotHeaderHeight"))?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return null!=(e=this.gos.get("pivotGroupHeaderHeight"))?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e,t){let i=e.getUserProvidedColDef();if(!i)return!1;let r=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(r,i,t),!0}isColumnGroupingLocked(e){let t=this.gos.get("groupLockGroupColumns");return!!e.isRowGroupActive()&&0!==t&&(-1===t||t>this.rowGroupColumns.findIndex(t=>t.getColId()===e.getColId()))}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={},r=(e,t,r,n,o,s)=>{if(!t.length||!this.primaryColumns)return[];let a=Object.keys(e),l=new Set(a),u=new Set(a),d=new Set(t.map(e=>{let t=e.getColId();return u.delete(t),t}).concat(a)),h=[],c={},p=0;for(let e=0;e<this.primaryColumns.length;e++){let t=this.primaryColumns[e].getColId();d.has(t)&&(h.push(t),c[t]=p++)}let g=1e3,f=!1,m=0,v=t=>{let i=c[t];for(let t=m;t<i;t++){let i=h[t];u.has(i)&&(e[i][o]=g++,u.delete(i))}m=i};t.forEach(t=>{let a=t.getColId();if(l.has(a))v(a),e[a][o]=g++;else{let l=t.getColDef();(null===l[o]||void 0===l[o]&&null==l[s])&&(f||(l[r]||void 0===l[r]&&l[n]?v(a):(u.forEach(t=>{e[t][o]=g+c[t]}),g+=h.length,f=!0)),i[a]||(i[a]={colId:a}),i[a][o]=g++)}})};return r(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),r(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}onColumnsReady(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:t}=e;setTimeout(()=>{if("fitGridWidth"===t){let{columnLimits:t,defaultMinWidth:i,defaultMaxWidth:r}=e,n=null==t?void 0:t.map(({colId:e,minWidth:t,maxWidth:i})=>({key:e,minWidth:t,maxWidth:i}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:n})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if((null==e?void 0:e.type)!=="fitCellContents")return;let{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.autoSizeColumns({columns:t,skipHeader:i,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",i)})}};function WA(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function WI(e,t,i){if(e)for(let r=0;r<e.length;r++){let n=e[r];n instanceof Wh&&WI(t?n.getDisplayedChildren():n.getChildren(),t,i),i(n)}}HW([zR("expressionService")],WD.prototype,"expressionService",2),HW([zR("columnFactory")],WD.prototype,"columnFactory",2),HW([zR("displayedGroupCreator")],WD.prototype,"displayedGroupCreator",2),HW([zR("ctrlsService")],WD.prototype,"ctrlsService",2),HW([zR("autoWidthCalculator")],WD.prototype,"autoWidthCalculator",2),HW([zR("columnAnimationService")],WD.prototype,"columnAnimationService",2),HW([zR("autoGroupColService")],WD.prototype,"autoGroupColService",2),HW([zR("valueCache")],WD.prototype,"valueCache",2),HW([zR("animationFrameService")],WD.prototype,"animationFrameService",2),HW([zR("sortController")],WD.prototype,"sortController",2),HW([zR("columnDefFactory")],WD.prototype,"columnDefFactory",2),HW([zD("aggFuncService")],WD.prototype,"aggFuncService",2),HW([zE],WD.prototype,"init",1),HW([zT],WD.prototype,"destroyColumns",1),HW([HU(0,zI("loggerFactory"))],WD.prototype,"setBeans",1),WD=HW([zM("columnModel")],WD);var WP=class extends Wl{createDisplayedGroups(e,t,i,r){let n=this.mapOldGroupsById(r),o=[],s=e;for(;s.length;){let e=s;s=[];let r=0,a=a=>{let l=r;r=a;let u=e[l],d=(u instanceof Wh?u.getProvidedColumnGroup():u).getOriginalParent();if(null==d){for(let t=l;t<a;t++)o.push(e[t]);return}let h=this.createColumnGroup(d,t,n,i);for(let t=l;t<a;t++)h.addChild(e[t]);s.push(h)};for(let t=1;t<e.length;t++){let i=e[t],n=(i instanceof Wh?i.getProvidedColumnGroup():i).getOriginalParent(),o=e[r];n!==(o instanceof Wh?o.getProvidedColumnGroup():o).getOriginalParent()&&a(t)}r<e.length&&a(e.length)}return this.setupParentsIntoColumns(o,null),o}createColumnGroup(e,t,i,r){let n=e.getGroupId(),o=t.getInstanceIdForKey(n),s=i[Wh.createUniqueId(n,o)];return s&&s.getProvidedColumnGroup()!==e&&(s=null),HK(s)?s.reset():(s=new Wh(e,n,o,r),this.context.createBean(s)),s}mapOldGroupsById(e){let t={},i=e=>{e.forEach(e=>{e instanceof Wh&&(t[e.getUniqueId()]=e,i(e.getChildren()))})};return e&&i(e),t}setupParentsIntoColumns(e,t){e.forEach(e=>{e.setParent(t),e instanceof Wh&&this.setupParentsIntoColumns(e.getChildren(),e)})}};WP=HW([zM("displayedGroupCreator")],WP);var WL={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Wk=class{};Wk.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],Wk.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],Wk.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Wk.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],Wk.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval"],Wk.OTHER_PROPERTIES=["suppressStickyTotalRow"],Wk.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],Wk.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],Wk.FUNCTION_PROPERTIES=[...Wk.FUNCTIONAL_PROPERTIES,...Wk.CALLBACK_PROPERTIES],Wk.ALL_PROPERTIES=[...Wk.ARRAY_PROPERTIES,...Wk.OBJECT_PROPERTIES,...Wk.STRING_PROPERTIES,...Wk.NUMBER_PROPERTIES,...Wk.FUNCTION_PROPERTIES,...Wk.BOOLEAN_PROPERTIES,...Wk.OTHER_PROPERTIES];var WN=class e{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(t,i){"object"!=typeof t&&(t={});let r=HH({},t);return e.getGridOptionKeys().forEach(t=>{let n=i[t];void 0!==n&&n!==e.VUE_OMITTED_PROPERTY&&(r[t]=n)}),r}static processOnChange(t,i,r){if(!t)return;let n={},o=!1;if(Object.keys(t).filter(t=>e.ALL_PROPERTIES_AND_CALLBACKS_SET.has(t)).forEach(e=>{n[e]=t[e],o=!0}),!o)return;i.__internalUpdateGridOptions(n,!0);let s={type:Wc.EVENT_COMPONENT_STATE_CHANGED};H6(n,(e,t)=>{s[e]=t}),i.dispatchEvent(s)}};WN.EVENTS=H2(Wc),WN.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",WN.EXCLUDED_INTERNAL_EVENTS=[Wc.EVENT_SCROLLBAR_WIDTH_CHANGED,Wc.EVENT_CHECKBOX_CHANGED,Wc.EVENT_HEIGHT_SCALE_CHANGED,Wc.EVENT_BODY_HEIGHT_CHANGED,Wc.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Wc.EVENT_SCROLL_VISIBILITY_CHANGED,Wc.EVENT_COLUMN_HOVER_CHANGED,Wc.EVENT_FLASH_CELLS,Wc.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Wc.EVENT_DISPLAYED_ROWS_CHANGED,Wc.EVENT_LEFT_PINNED_WIDTH_CHANGED,Wc.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Wc.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Wc.EVENT_STORE_UPDATED,Wc.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Wc.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Wc.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,Wc.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,Wc.EVENT_FULL_WIDTH_ROW_FOCUSED,Wc.EVENT_HEADER_HEIGHT_CHANGED,Wc.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,Wc.EVENT_CELL_FOCUS_CLEARED,Wc.EVENT_GRID_STYLES_CHANGED,Wc.EVENT_FILTER_DESTROYED,Wc.EVENT_ROW_DATA_UPDATE_STARTED,Wc.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,Wc.EVENT_DATA_TYPES_INFERRED,Wc.EVENT_FIELD_VALUE_CHANGED,Wc.EVENT_FIELD_PICKER_VALUE_SELECTED,Wc.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,Wc.EVENT_SUPPRESS_MENU_HIDE_CHANGED,Wc.EVENT_SUPPRESS_FIELD_DOT_NOTATION,Wc.EVENT_ROW_COUNT_READY,Wc.EVENT_SIDE_BAR_UPDATED],WN.PUBLIC_EVENTS=WN.EVENTS.filter(e=>!z1(WN.EXCLUDED_INTERNAL_EVENTS,e)),WN.EVENT_CALLBACKS=WN.EVENTS.map(e=>WN.getCallbackForEvent(e)),WN.BOOLEAN_PROPERTIES=Wk.BOOLEAN_PROPERTIES,WN.ALL_PROPERTIES=Wk.ALL_PROPERTIES,WN.ALL_PROPERTIES_AND_CALLBACKS=[...WN.ALL_PROPERTIES,...WN.EVENT_CALLBACKS],WN.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(WN.ALL_PROPERTIES_AND_CALLBACKS);var WF=class extends Wl{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(e=>this.addComponent(e))}addComponent(e){let t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};WF=HW([zM("agStackComponentsRegistry")],WF);var WO={};function WG(e,t,i){null==i||"string"==typeof i&&""==i?WB(e,t):WV(e,t,i)}function WV(e,t,i){var r;e.setAttribute((r=t,`aria-${r}`),i.toString())}function WB(e,t){var i;e.removeAttribute((i=t,`aria-${i}`))}function WH(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Wz(e){return"asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none"}function WW(e){return parseInt(e.getAttribute("aria-level"),10)}function WU(e){return parseInt(e.getAttribute("aria-posinset"),10)}function Wj(e){return e.getAttribute("aria-label")}function W$(e,t){WG(e,"label",t)}function WK(e,t){WG(e,"labelledby",t)}function WY(e,t){WG(e,"describedby",t)}function Wq(e,t){WG(e,"live",t)}function WX(e,t){WG(e,"atomic",t)}function WZ(e,t){WG(e,"relevant",t)}function WQ(e,t){WG(e,"level",t)}function WJ(e,t){WG(e,"disabled",t)}function W0(e,t){WG(e,"hidden",t)}function W1(e,t){WG(e,"activedescendant",t)}function W2(e,t){WV(e,"expanded",t)}function W5(e){WB(e,"expanded")}function W3(e,t){WV(e,"setsize",t)}function W4(e,t){WV(e,"posinset",t)}function W6(e,t){WV(e,"multiselectable",t)}function W8(e,t){WV(e,"rowcount",t)}function W9(e,t){WV(e,"rowindex",t)}function W7(e,t){WV(e,"colcount",t)}function Ue(e,t){WV(e,"colindex",t)}function Ut(e,t){WV(e,"colspan",t)}function Ui(e,t){WV(e,"sort",t)}function Ur(e){WB(e,"sort")}function Un(e,t){WG(e,"selected",t)}function Uo(e,t){WV(e,"checked",void 0===t?"mixed":t)}function Us(e,t){WG(e,"controls",t.id),WK(t,e.id)}function Ua(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}Hz(WO,{getAriaCheckboxStateName:()=>Ua,getAriaLabel:()=>Wj,getAriaLevel:()=>WW,getAriaPosInSet:()=>WU,getAriaSortState:()=>Wz,removeAriaExpanded:()=>W5,removeAriaSort:()=>Ur,setAriaActiveDescendant:()=>W1,setAriaAtomic:()=>WX,setAriaChecked:()=>Uo,setAriaColCount:()=>W7,setAriaColIndex:()=>Ue,setAriaColSpan:()=>Ut,setAriaControls:()=>Us,setAriaDescribedBy:()=>WY,setAriaDisabled:()=>WJ,setAriaExpanded:()=>W2,setAriaHidden:()=>W0,setAriaLabel:()=>W$,setAriaLabelledBy:()=>WK,setAriaLevel:()=>WQ,setAriaLive:()=>Wq,setAriaMultiSelectable:()=>W6,setAriaPosInSet:()=>W4,setAriaRelevant:()=>WZ,setAriaRole:()=>WH,setAriaRowCount:()=>W8,setAriaRowIndex:()=>W9,setAriaSelected:()=>Un,setAriaSetSize:()=>W3,setAriaSort:()=>Ui});var Ul={};function Uu(){return void 0===eD&&(eD=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),eD}function Ud(){if(void 0===eA)if(Uu()){let e=navigator.userAgent.match(/version\/(\d+)/i);e&&(eA=null!=e[1]?parseFloat(e[1]):0)}else eA=0;return eA}function Uh(){if(void 0===eI){let e=window;eI=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return eI}function Uc(){return void 0===eP&&(eP=/(firefox)/i.test(navigator.userAgent)),eP}function Up(){return void 0===eL&&(eL=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),eL}function Ug(){return void 0===ek&&(ek=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),ek}function Uf(){return!Uu()||Ud()>=15}function Um(e){if(!e)return null;let t=e.tabIndex,i=e.getAttribute("tabIndex");return -1!==t||null!==i&&(""!==i||Uc())?t.toString():null}function Uv(){if(!document.body)return -1;let e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){let r=2*e;if(i.style.height=r+"px",r>t||i.clientHeight!==r)break;e=r}return document.body.removeChild(i),e}function Uy(){var e,t,i;return null!=(i=null==(e=document.body)?void 0:e.clientWidth)?i:window.innerHeight||(null==(t=document.documentElement)?void 0:t.clientWidth)||-1}function UC(){var e,t,i;return null!=(i=null==(e=document.body)?void 0:e.clientHeight)?i:window.innerHeight||(null==(t=document.documentElement)?void 0:t.clientHeight)||-1}function Uw(){return null==eF&&Ub(),eF}function Ub(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;0===i&&0===t.clientWidth&&(i=null),t.parentNode&&t.parentNode.removeChild(t),null!=i&&(eF=i,eN=0===i)}function US(){return null==eN&&Ub(),eN}Hz(Ul,{browserSupportsPreventScroll:()=>Uf,getBodyHeight:()=>UC,getBodyWidth:()=>Uy,getMaxDivHeight:()=>Uv,getSafariVersion:()=>Ud,getScrollbarWidth:()=>Uw,getTabIndex:()=>Um,isBrowserChrome:()=>Uh,isBrowserFirefox:()=>Uc,isBrowserSafari:()=>Uu,isIOSUserAgent:()=>Ug,isInvisibleScrollbar:()=>US,isMacOsUserAgent:()=>Up});var Ux={};Hz(Ux,{dateToFormattedString:()=>Uk,parseDateTimeFromString:()=>UN,serialiseDate:()=>UP});var U_={};function UE(e,t){return e.toString().padStart(t,"0")}function UT(e,t){let i=[];for(let r=e;r<=t;r++)i.push(r);return i}function UM(e){return("string"==typeof e&&(e=parseInt(e,10)),"number"==typeof e)?Math.floor(e):null}function UR(e,t){let i="";for(let r=0;r<t;r++)i+=String.fromCharCode(255&e),e>>>=8;return i}function UD(e,t,i){return"number"!=typeof e?"":UA(Math.round(100*e)/100,t,i)}function UA(e,t,i){return"number"!=typeof e?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function UI(e){return null==e?null:e.reduce((e,t)=>e+t,0)}function UP(e,t=!0,i="-"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(e=>UE(e,2)).join(i);return t&&(r+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(e=>UE(e,2)).join(":")),r}Hz(U_,{cleanNumber:()=>UM,createArrayOfNumbers:()=>UT,decToHex:()=>UR,formatNumberCommas:()=>UA,formatNumberTwoDecimalPlacesAndCommas:()=>UD,padStartWidthZeros:()=>UE,sum:()=>UI});var UL=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Uk(e,t="YYYY-MM-DD"){let i=UE(e.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>r[e.getMonth()],MMM:()=>r[e.getMonth()].slice(0,3),MM:()=>UE(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${UL(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${UL(e.getDate())}`,DD:()=>UE(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>n[e.getDay()],ddd:()=>n[e.getDay()].slice(0,3),dd:()=>n[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${UL(e.getDay())}`,d:()=>`${e.getDay()}`},s=RegExp(Object.keys(o).join("|"),"g");return t.replace(s,e=>e in o?o[e]():e)}function UN(e){if(!e)return null;let[t,i]=e.split(" ");if(!t)return null;let r=t.split("-").map(e=>parseInt(e,10));if(3!==r.filter(e=>!isNaN(e)).length)return null;let[n,o,s]=r,a=new Date(n,o-1,s);if(a.getFullYear()!==n||a.getMonth()!==o-1||a.getDate()!==s)return null;if(!i||"00:00:00"===i)return a;let[l,u,d]=i.split(":").map(e=>parseInt(e,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),d>=0&&d<60&&a.setSeconds(d),a}var UF={};function UO(e,t,i){let r=e.parentElement,n=r&&r.firstChild;for(;n;)t&&n.classList.toggle(t,n===e),i&&n.classList.toggle(i,n!==e),n=n.nextSibling}Hz(UF,{FOCUSABLE_EXCLUDE:()=>UV,FOCUSABLE_SELECTOR:()=>UG,addOrRemoveAttribute:()=>ju,addStylesToElement:()=>U9,bindCellRendererToHtmlElement:()=>jh,clearElement:()=>U0,copyNodeList:()=>ja,ensureDomOrder:()=>U4,formatSize:()=>jo,getAbsoluteHeight:()=>UY,getAbsoluteWidth:()=>Uq,getElementRectWithOffset:()=>UX,getElementSize:()=>Uj,getInnerHeight:()=>U$,getInnerWidth:()=>UK,getScrollLeft:()=>UQ,insertWithDomOrder:()=>U8,isElementChildOfClass:()=>UU,isFocusableFormField:()=>UB,isHorizontalScrollShowing:()=>U7,isInDOM:()=>U2,isNodeOrElement:()=>js,isRtlNegativeScroll:()=>UZ,isVerticalScrollShowing:()=>je,isVisible:()=>U5,iterateNamedNodeMap:()=>jl,loadTemplate:()=>U3,nodeListForEach:()=>jd,radioCssClass:()=>UO,removeFromParent:()=>U1,setDisabled:()=>UW,setDisplayed:()=>UH,setDomChildOrder:()=>U6,setElementHeight:()=>jr,setElementWidth:()=>jt,setFixedHeight:()=>jn,setFixedWidth:()=>ji,setScrollLeft:()=>UJ,setVisible:()=>Uz});var UG="[tabindex], input, select, button, textarea, [href]",UV="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function UB(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,UV),n=U5(e);return i&&!r&&n}function UH(e,t,i={}){let{skipAriaHidden:r}=i;e.classList.toggle("ag-hidden",!t),r||W0(e,!t)}function Uz(e,t,i={}){let{skipAriaHidden:r}=i;e.classList.toggle("ag-invisible",!t),r||W0(e,!t)}function UW(e,t){let i="disabled",r=t?e=>e.setAttribute(i,""):e=>e.removeAttribute(i);r(e),jd(e.querySelectorAll("input"),e=>r(e))}function UU(e,t,i){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof i){if(++r>i)break}else if(e===i)break}return!1}function Uj(e){let{height:t,width:i,borderTopWidth:r,borderRightWidth:n,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:d,marginTop:h,marginRight:c,marginBottom:p,marginLeft:g,boxSizing:f}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(c||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:f}}function U$(e){let t=Uj(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function UK(e){let t=Uj(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function UY(e){let t=Uj(e),i=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+i)}function Uq(e){let t=Uj(e),i=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+i)}function UX(e){let t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:r,borderRightWidth:n,borderBottomWidth:o}=Uj(e);return{top:t.top+(i||0),left:t.left+(r||0),right:t.right+(n||0),bottom:t.bottom+(o||0)}}function UZ(){if("boolean"==typeof eO)return eO;let e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,eO=0===Math.floor(e.scrollLeft),document.body.removeChild(e),eO}function UQ(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),Uh()&&!UZ()&&(i=e.scrollWidth-e.clientWidth-i)),i}function UJ(e,t,i){i&&(UZ()?t*=-1:(Uu()||Uh())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function U0(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function U1(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function U2(e){return!!e.offsetParent}function U5(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!U2(e)||"visible"!==window.getComputedStyle(e).visibility)}function U3(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function U4(e,t,i){(!i||i.nextSibling!==t)&&(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function U6(e,t){for(let i=0;i<t.length;i++){let r=t[i],n=e.children[i];n!==r&&e.insertBefore(r,n)}}function U8(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function U9(e,t){if(t)for(let[i,r]of Object.entries(t)){if(!i||!i.length||null==r)continue;let t=W_(i),n=r.toString(),o=n.replace(/\s*!important/g,""),s=o.length!=n.length?"important":void 0;e.style.setProperty(t,o,s)}}function U7(e){return e.clientWidth<e.scrollWidth}function je(e){return e.clientHeight<e.scrollHeight}function jt(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ji(e,t)}function ji(e,t){t=jo(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function jr(e,t){"flex"===t?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):jn(e,t)}function jn(e,t){t=jo(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function jo(e){return"number"==typeof e?`${e}px`:e}function js(e){return e instanceof Node||e instanceof HTMLElement}function ja(e){if(null==e)return[];let t=[];return jd(e,e=>t.push(e)),t}function jl(e,t){if(e)for(let i=0;i<e.length;i++){let r=e[i];t(r.name,r.value)}}function ju(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i.toString())}function jd(e,t){if(null!=e)for(let i=0;i<e.length;i++)t(e[i])}function jh(e,t){e.then(e=>{let i=e.getGui();null!=i&&("object"==typeof i?t.appendChild(i):t.innerHTML=i)})}var jc={};function jp(e,t,i){let r={},n=e.filter(e=>!t.some(t=>t===e));return n.length>0&&n.forEach(e=>r[e]=jg(e,i).values),r}function jg(e,t,i,r){let n=t.map((t,i)=>({value:t,relevance:function(e,t){let i=e.replace(/\s/g,""),r=t.replace(/\s/g,""),n=0,o=-1;for(let e=0;e<i.length;e++){let t=r.indexOf(i[e],o+1);-1!==t&&(n+=100-100*(o=t)/1e4*100)}return n}(e.toLowerCase(),t.toLocaleLowerCase()),idx:i}));if(n.sort((e,t)=>t.relevance-e.relevance),i&&(n=n.filter(e=>0!==e.relevance)),n.length>0&&r&&r>0){let e=n[0].relevance*r;n=n.filter(t=>e-t.relevance<0)}let o=[],s=[];for(let e of n)o.push(e.value),s.push(e.idx);return{values:o,indices:s}}Hz(jc,{fuzzyCheckStrings:()=>jp,fuzzySuggestions:()=>jg});var jf={};Hz(jf,{createIcon:()=>jv,createIconNoSpan:()=>jy,iconNameClassMap:()=>jm});var jm={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function jv(e,t,i){let r=jy(e,t,i);if(r){let{className:e}=r;if("string"==typeof e&&e.indexOf("ag-icon")>-1||"object"==typeof e&&e["ag-icon"])return r}let n=document.createElement("span");return n.appendChild(r),n}function jy(e,t,i,r){let n=null,o=i&&i.getColDef().icons;if(o&&(n=o[e]),t&&!n){let i=t.get("icons");i&&(n=i[e])}if(n){let e;if("function"==typeof n)e=n();else if("string"==typeof n)e=n;else throw Error("icon from grid options needs to be a string or a function");if("string"==typeof e)return U3(e);if(js(e))return e;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{let t=document.createElement("span"),i=jm[e];return i||(r?i=e:(console.warn(`AG Grid: Did not find icon ${e}`),i="")),t.setAttribute("class",`ag-icon ag-icon-${i}`),t.setAttribute("unselectable","on"),WH(t,"presentation"),t}}var jC={};Hz(jC,{isDeleteKey:()=>jE,isEventFromPrintableCharacter:()=>jb,isUserSuppressingHeaderKeyboardEvent:()=>jx,isUserSuppressingKeyboardEvent:()=>jS,normaliseQwertyAzerty:()=>j_});var jw=class{};function jb(e){return!e.altKey&&!e.ctrlKey&&!e.metaKey&&1===e.key.length}function jS(e,t,i,r,n){let o=r?r.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;let s=e.addGridCommonParams({event:t,editing:n,column:r,node:i,data:i.data,colDef:r.getColDef()});return!!(o&&o(s))||!1}function jx(e,t,i,r){let n=r.getDefinition(),o=n&&n.suppressHeaderKeyboardEvent;return!!HK(o)&&!!o(e.addGridCommonParams({colDef:n,column:r,headerRowIndex:i,event:t}))}function j_(e){let t,{keyCode:i}=e;switch(i){case 65:t=jw.A;break;case 67:t=jw.C;break;case 86:t=jw.V;break;case 68:t=jw.D;break;case 90:t=jw.Z;break;case 89:t=jw.Y;break;default:t=e.code}return t}function jE(e,t=!1){return e===jw.DELETE||!t&&e===jw.BACKSPACE&&Up()}jw.BACKSPACE="Backspace",jw.TAB="Tab",jw.ENTER="Enter",jw.ESCAPE="Escape",jw.SPACE=" ",jw.LEFT="ArrowLeft",jw.UP="ArrowUp",jw.RIGHT="ArrowRight",jw.DOWN="ArrowDown",jw.DELETE="Delete",jw.F2="F2",jw.PAGE_UP="PageUp",jw.PAGE_DOWN="PageDown",jw.PAGE_HOME="Home",jw.PAGE_END="End",jw.A="KeyA",jw.C="KeyC",jw.D="KeyD",jw.V="KeyV",jw.X="KeyX",jw.Y="KeyY",jw.Z="KeyZ";var jT={};function jM(e,t,i){return 0!==i&&Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))<=i}Hz(jT,{areEventsNear:()=>jM});var jR={};function jD(e,t){if(!e)return!1;let i=(e,i)=>{let r=t[e.id],n=t[i.id],o=void 0!==r,s=void 0!==n;return o&&s?r-n:o||s?o?1:-1:e.__objectId-i.__objectId},r=!1;for(let t=0;t<e.length-1;t++)if(i(e[t],e[t+1])>0){r=!0;break}return!!r&&(e.sort(i),!0)}Hz(jR,{sortRowNodesByOrder:()=>jD});var jA={};function jI(e){let t=new Set;return e.forEach(e=>t.add(e)),t}Hz(jA,{convertToSet:()=>jI});var jP=HH(HH(HH(HH(HH(HH(HH(HH(HH(HH(HH(HH(HH(HH(HH(HH(HH(HH({},WO),zH),Ul),Ux),UF),zB),zn),jc),Hj),jf),jC),WE),jT),U_),H3),jR),jA),Wv),jL=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){let e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},jk=((x=jk||{})[x.IN_PROGRESS=0]="IN_PROGRESS",x[x.RESOLVED=1]="RESOLVED",x),jN=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(e=>this.onDone(e),e=>this.onReject(e))}static all(t){return new e(e=>{let i=t.length,r=Array(i);t.forEach((t,n)=>{t.then(t=>{r[n]=t,0==--i&&e(r)})})})}static resolve(t=null){return new e(e=>e(t))}then(t){return new e(e=>{1===this.status?e(t(this.resolution)):this.waiters.push(i=>e(t(i)))})}resolveNow(e,t){return 1===this.status?t(this.resolution):e}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(t=>t(e))}onReject(e){console.warn("TBI")}},jF=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){let t=(e||"").split(" ");if(t.length>1)return void t.forEach(e=>this.addCssClass(e));if(!0!==this.cssClassStates[e]&&e.length){let t=this.getGui();t&&t.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){let t=(e||"").split(" ");if(t.length>1)return void t.forEach(e=>this.removeCssClass(e));if(!1!==this.cssClassStates[e]&&e.length){let t=this.getGui();t&&t.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){let t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(e){if(e.indexOf(" ")>=0){let i=(e||"").split(" ");if(i.length>1)return void i.forEach(e=>this.addOrRemoveCssClass(e,t))}if(this.cssClassStates[e]!==t&&e.length){let i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}}},jO=class e extends Wl{constructor(e,t,i,r){super(),this.parentComp=e,this.tooltipShowDelayOverride=t,this.tooltipHideDelayOverride=i,this.shouldDisplayTooltip=r,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let e=this.parentComp.getGui();0===this.tooltipTrigger&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),1===this.tooltipTrigger&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return t<0&&za(`${e} should not be lower than 0`),Math.max(200,t)}getTooltipDelay(e){var t,i;return"show"===e?null!=(t=this.tooltipShowDelayOverride)?t:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!=(i=this.tooltipHideDelayOverride)?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let e=this.gos.get("tooltipTrigger");return e&&"hover"!==e?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),Ug()||(e.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var t;let i=e.relatedTarget,r=this.parentComp.getGui(),n=null==(t=this.tooltipComp)?void 0:t.getGui();this.isInteractingWithTooltip||r.contains(i)||this.interactionEnabled&&(null==n?void 0:n.contains(i))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||e.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){return new Date().getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let e=HH({},this.parentComp.getTooltipParams());if(!HK(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;let t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}hideTooltip(t){if(!t&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime());let i={type:Wc.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=0}newTooltipComponentCallback(e,t){if(2!==this.state||this.tooltipInstanceCount!==e)return void this.getContext().destroyBean(t);let i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");let r=this.localeService.getLocaleTextFunc(),n=this.popupService.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});n&&(this.tooltipPopupDestroyFunc=n.hideFunc),this.positionTooltip(),1===this.tooltipTrigger&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,Wc.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(0===this.tooltipTrigger?(this.tooltipMouseEnterListener=this.addManagedListener(i,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(i,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(i,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(i,"focusout",this.onTooltipFocusOut.bind(this))||null));let o={type:Wc.EVENT_TOOLTIP_SHOW,tooltipGui:i,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(o),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var t;let i=this.parentComp.getGui(),r=null==(t=this.tooltipComp)?void 0:t.getGui(),n=e.relatedTarget;null!=r&&r.contains(n)||(this.isInteractingWithTooltip=!1,i.contains(n)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};if(this.lastMouseEvent)this.popupService.positionPopupUnderMouseEvent(Hk(HH({},e),HF({mouseEvent:this.lastMouseEvent})));else this.popupService.positionPopupByComponent(Hk(HH({},e),HF({eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,i=0===this.tooltipTrigger?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{e(),this.getContext().destroyBean(t)},i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){e.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};jO.isLocked=!1,HW([zR("popupService")],jO.prototype,"popupService",2),HW([zR("userComponentFactory")],jO.prototype,"userComponentFactory",2),HW([zE],jO.prototype,"postConstruct",1);var jG=class extends Wl{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){let t="title",i=this.ctrl.getGui();i&&(null!=e&&""!=e?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,t,i,r;null!=this.tooltipManager||(this.tooltipManager=this.createBean(new jO({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()},null==(t=(e=this.ctrl).getTooltipShowDelayOverride)?void 0:t.call(e),null==(r=(i=this.ctrl).getTooltipHideDelayOverride)?void 0:r.call(i),this.ctrl.shouldDisplayTooltip),this.beans.context))}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){let e=this.ctrl,t=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,r=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:r,data:r?r.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>{var e;return null==(e=this.tooltipManager)?void 0:e.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};HW([zR("beans")],jG.prototype,"beans",2),HW([zE],jG.prototype,"postConstruct",1);var jV=new jL,jB=class e extends Wl{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=jV.next(),this.cssClassManager=new jF(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){let{newTooltipText:t,showDelayOverride:i,hideDelayOverride:r,location:n,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==t&&(this.tooltipText=t);let s=()=>this.tooltipText;null!=t&&(this.tooltipFeature=this.createBean(new jG({getTooltipValue:s,getGui:()=>this.getGui(),getLocation:()=>null!=n?n:"UNKNOWN",getColDef:null==e?void 0:e.getColDef,getColumn:null==e?void 0:e.getColumn,getTooltipShowDelayOverride:null!=i?()=>i:void 0,getTooltipHideDelayOverride:null!=r?()=>r:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(e,t){ja(e.childNodes).forEach(i=>{if(!(i instanceof HTMLElement))return;let r=this.createComponentFromElement(i,e=>{e.getGui()&&this.copyAttributesFromNode(i,e.getGui())},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);let e=Array.prototype.slice.call(i.children);r.addItems(e)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(t,i,r){let n=t.nodeName,o=r?r[t.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(n);if(s){e.elementGettingCreated=t;let r=new s(o);return r.setParentComponent(this),this.createBean(r,null,i),r}return null}copyAttributesFromNode(e,t){jl(e.attributes,(e,i)=>t.setAttribute(e,i))}swapComponentForNode(e,t,i){let r=e.getGui();t.replaceChild(r,i),t.insertBefore(document.createComment(i.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)}swapInComponentForQuerySelectors(e,t){let i=this;this.iterateOverQuerySelectors(r=>{i[r.attributeName]===t&&(i[r.attributeName]=e)})}iterateOverQuerySelectors(e){let t=Object.getPrototypeOf(this);for(;null!=t;){let i=t.__agComponentMetaData,r=zu(t.constructor);i&&i[r]&&i[r].querySelectors&&i[r].querySelectors.forEach(t=>e(t)),t=Object.getPrototypeOf(t)}}activateTabIndex(e){let t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(e=>e.setAttribute("tabindex",t.toString()))}setTemplate(e,t){let i=U3(e);this.setTemplateFromElement(i,t)}setTemplateFromElement(e,t){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;let e=this;this.iterateOverQuerySelectors(t=>{let i=i=>e[t.attributeName]=i;if(t.refSelector&&this.getAttribute("ref")===t.refSelector)i(this.eGui);else{let e=this.eGui.querySelector(t.querySelector);e&&i(e.__agComponent||e)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,t){null!=e&&(t||(t=this.eGui),js(e)?t.appendChild(e):t.appendChild(e.getGui()))}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:i}=t;Uz(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;let{skipAriaHidden:r}=i;UH(this.eGui,t,{skipAriaHidden:r});let n={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}getAttribute(e){let{eGui:t}=this;return t?t.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}};jB.EVENT_DISPLAYED_CHANGED="displayedChanged",HW([zR("agStackComponentsRegistry")],jB.prototype,"agStackComponentsRegistry",2),HW([z_],jB.prototype,"preConstructOnComponent",1),HW([z_],jB.prototype,"createChildComponentsPreConstruct",1);var jH=jB;function jz(e){return jW.bind(this,`[ref=${e}]`,e)}function jW(e,t,i,r,n){var o,s,a,l,u;let d;null===e?console.error("AG Grid: QuerySelector selector should not be null"):"number"==typeof n?console.error("AG Grid: QuerySelector should be on an attribute"):(o=i,s="querySelectors",a={attributeName:r,querySelector:e,refSelector:t},(d=(l=o,u=zu(o.constructor),l.__agComponentMetaData||(l.__agComponentMetaData={}),l.__agComponentMetaData[u]||(l.__agComponentMetaData[u]={}),l.__agComponentMetaData[u]))[s]||(d[s]=[]),d[s].push(a))}var jU=class extends jH{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e;let t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){null==e?this.eFloatingFilterText.setValue(""):this.params.parentFilterInstance(t=>{if(t.getModelAsString){let i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}};HW([jz("eFloatingFilterText")],jU.prototype,"eFloatingFilterText",2),HW([zR("columnModel")],jU.prototype,"columnModel",2);var jj=class{constructor(e,t,i,r,n){this.alive=!0,this.context=e,this.eParent=r,t.getDateCompDetails(i).newAgStackInstance().then(t=>{this.alive?(this.dateComp=t,t&&(r.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),this.tempValue&&t.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),null==n||n(this))):e.destroyBean(t)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){UH(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){var t,i;let r=!1;(null==(t=this.dateComp)?void 0:t.refresh)&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(e)&&(r=!0),!r&&(null==(i=this.dateComp)?void 0:i.onParamsUpdated)&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(e)&&za("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){null==this.dateComp||null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},j$=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(t=>!!t.some(t=>null!=e[t])||(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${t}'`),!1))){this.filterOptions=this.filterOptions.filter(t=>t===e)||[];return}this.customFilterOptions[e.displayKey]=e}})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){let e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},jK={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},jY=class e extends Wl{constructor(e,t={}){super(),this.eFocusableElement=e,this.callbacks=t,this.callbacks=HH({shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;let t=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())}},t)}postConstruct(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",e=>{if(!(e.defaultPrevented||We(e))){if(this.callbacks.shouldStopEventPropagation(e))return void z7(e);e.key===jw.TAB?this.callbacks.onTabKeyDown(e):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(e)}})}};jY.FOCUS_MANAGED_CLASS="ag-focus-managed",HW([zR("focusService")],jY.prototype,"focusService",2),HW([zE],jY.prototype,"postConstruct",1);var jq="ag-resizer-wrapper",jX=`<div class="${jq}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,jZ=class extends Wl{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,r=e/2-this.getHeight()/2;this.offsetElement(i,r)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:r,minHeight:n,height:o,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0,d=U5(this.element);if(d){let e=this.findBoundaryElement(),t=window.getComputedStyle(e);if(null!=t.minWidth){let i=e.offsetWidth-this.element.offsetWidth;u=parseInt(t.minWidth,10)-i}if(null!=t.minHeight){let i=e.offsetHeight-this.element.offsetHeight;l=parseInt(t.minHeight,10)-i}}if(this.minHeight=n||l,this.minWidth=i||u,r&&this.setWidth(r),o&&this.setHeight(o),r&&o||this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(d&&t){let e=this.boundaryEl,t=!0;if(e||(e=this.findBoundaryElement(),t=!1),e){let i=parseFloat(e.style.top),r=parseFloat(e.style.left);t?this.offsetElement(isNaN(r)?0:r,isNaN(i)?0:i):this.setPosition(r,i)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let i=!!e[t],r=this.getResizerElement(t),n={dragStartPixels:0,eElement:r,onDragStart:e=>this.onResizeStart(e,t),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,t)};!i&&(this.isAlive()||i)||(i?(this.dragService.addDragSource(n),this.resizeListeners.push(n),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,i=this.element,r=!1;if("string"==typeof e&&-1!==e.indexOf("%"))jn(i,e),e=UY(i),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let t=this.getAvailableHeight();t&&e>t&&(e=t)}this.getHeight()!==e&&(r?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?jn(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:i}=this.offsetParent;if(!i)return null;let r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:r.top,s=e?0:n.top,a=0;if(t){let e=this.element.parentElement;if(e){let{bottom:t}=e.getBoundingClientRect();a=t-r.bottom}}return i+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:i}=this.config,r=!1;if("string"==typeof e&&-1!==e.indexOf("%"))ji(t,e),e=Uq(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:t}=this.offsetParent,r=i?this.position.x:this.element.getBoundingClientRect().left;t&&e+r>t&&(e=t-r)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ji(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:i}=this.config,r=i?this.boundaryEl:this.element;r&&(this.popupService.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let e=this.getAvailableHeight();this.element.style.setProperty("max-height",`${e}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:i,isTop:r,anywhereWithin:n,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!n,s)?0:s,movementY:this.shouldSkipY(t,!!r,o,a)?0:a}}shouldSkipX(e,t,i,r){let n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left,l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return!!l||(l=t?r<0&&e.clientX>a+o.left||r>0&&e.clientX<a+o.left:i?r<0&&e.clientX>s.right||r>0&&e.clientX<a+o.left:r<0&&e.clientX>s.right||r>0&&e.clientX<s.right)}shouldSkipY(e,t,i=0,r){let n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top,l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return!!l||(l=t?r<0&&e.clientY>a+o.top+i||r>0&&e.clientY<a+o.top:r<0&&e.clientY>s.bottom||r>0&&e.clientY<s.bottom)}createResizeMap(){let e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;let e=this.element;if(!e)return;let t=new DOMParser().parseFromString(jX,"text/html").body;e.appendChild(t.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${jq}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:i,forcePopupParentAsOffsetParent:r}=this.config;i||r||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(e=>!e.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,i=0;for(let r=0;r<e.length;r++){let n=e[r],o=!!n.style.flex&&"0 0 auto"!==n.style.flex;if(n===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(o){let e=window.getComputedStyle(n);e.minHeight&&(s=parseInt(e.minHeight,10)),e.minWidth&&(a=parseInt(e.minWidth,10))}else s=n.offsetHeight,a=n.offsetWidth;t+=s,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null,i=this.getSiblings();if(i){for(let r=0;r<i.length;r++){let n=i[r];n!==t&&(e?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(t=i[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:r,isRight:n,isBottom:o,isLeft:s}=this.currentResizer,a=n||s,l=o||r,{movementX:u,movementY:d}=this.calculateMouseMovement({e,isLeft:s,isTop:r}),h=this.position.x,c=this.position.y,p=0,g=0;if(a&&u){let e=s?-1:1,t=this.getWidth(),i=t+u*e,r=!1;s&&(h+(p=t-i)<=0||i<=this.minWidth)&&(r=!0,p=0),r||this.setWidth(i)}if(l&&d){let e=r?-1:1,t=this.getHeight(),i=t+d*e,n=!1;r?(c+(g=t-i)<=0||i<=this.minHeight)&&(n=!0,g=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&t<i&&this.getMinSizeOfSiblings().height+i>this.element.parentElement.offsetHeight&&(n=!0),n||this.setHeight(i)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&p||g)&&this.offsetElement(h+p,c+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){let t;if(!this.isMoving)return;let{x:i,y:r}=this.position;this.config.calculateTopBuffer&&(t=this.config.calculateTopBuffer());let{movementX:n,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:t});this.offsetElement(i+n,r+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};HW([zR("popupService")],jZ.prototype,"popupService",2),HW([zR("resizeObserverService")],jZ.prototype,"resizeObserverService",2),HW([zR("dragService")],jZ.prototype,"dragService",2);var jQ=class e extends jH{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new jY(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new jZ(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);let i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,e),(t=this.getGui())&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetButtonsPanel()}updateParams(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){let{buttons:e}=this.providedFilterParams,t=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(U0(this.eButtonsPanel),this.buttonListeners.forEach(e=>null==e?void 0:e()),this.buttonListeners=[]):t&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!t){this.eButtonsPanel&&U1(this.eButtonsPanel);return}let i=document.createDocumentFragment(),r=e=>{let t,r;switch(e){case"apply":t=this.translate("applyFilter"),r=e=>this.onBtApply(!1,!1,e);break;case"clear":t=this.translate("clearFilter"),r=()=>this.onBtClear();break;case"reset":t=this.translate("resetFilter"),r=()=>this.onBtReset();break;case"cancel":t=this.translate("cancelFilter"),r=e=>{this.onBtCancel(e)};break;default:console.warn("AG Grid: Unknown button type specified");return}let n=U3(`<button
                    type="${"apply"===e?"submit":"button"}"
                    ref="${e}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${t}
                </button>`);this.buttonListeners.push(this.addManagedListener(n,"click",r)),i.append(n)};jI(e).forEach(e=>r(e)),this.eButtonsPanel.append(i),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){let t=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=zm(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){let i=()=>{this.onUiChanged(!1,"prevent"),null==t||t()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){let t=this.getModelFromUi();if(!this.isModelValid(t))return!1;let i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});let{closeOnApply:r}=this.providedFilterParams;r&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){let t;if(!this.hidePopup)return;let i=e&&e.key;("Enter"===i||"Space"===i)&&(t={keyboardEvent:e}),this.hidePopup(t),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let e=this.isModelValid(this.getModelFromUi()),t=this.getRefElement("applyFilterButton");t&&UW(t,!e)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(null==e?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;let{positionableFeature:t,gos:i}=this;"floatingFilter"===e||"columnFilter"===e?(t.restoreLastSize(),t.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(t,i){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:i}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}refresh(e){return this.providedFilterParams=e,!0}destroy(){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,jK[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}};HW([zR("rowModel")],jQ.prototype,"rowModel",2),HW([jz("eFilterBody")],jQ.prototype,"eFilterBody",2),HW([zE],jQ.prototype,"postConstruct",1);var jJ=jQ,j0=class extends jH{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:i,labelAlignment:r,disabled:n}=this.config;null!=n&&this.setDisabled(n),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){U0(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(UH(this.eLabel,!1),WH(this.eLabel,"presentation")):(UH(this.eLabel,!0),WH(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){let t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||jt(this.eLabel,e),this}setDisabled(e){e=!!e;let t=this.getGui();return UW(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};HW([zE],j0.prototype,"postConstruct",1);var j1=class extends j0{constructor(e,t,i){super(e,t),this.className=i}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:i}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=i&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId();null!==Wj(e)?WK(e,""):WK(e,null!=t?t:"")}setAriaLabel(e){return W$(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListener(this,Wc.EVENT_FIELD_VALUE_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return ji(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:Wc.EVENT_FIELD_VALUE_CHANGED})),this}},j2=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,j5=class extends j1{constructor(e){if(super(e,(null==e?void 0:e.template)||j2,null==e?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=null==e?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:r,minPickerWidth:n,maxPickerWidth:o}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!r,null!=i&&this.setPickerMaxHeight(i),null!=n&&this.setPickerMinWidth(n),null!=o&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));let{pickerIcon:i,inputWidth:r}=this.config;if(i){let e=jy(i,this.gos);e&&this.eIcon.appendChild(e)}null!=r&&this.setInputWidth(r)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),W2(e,!1),this.ariaRole&&WH(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&(null==e?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case jw.UP:case jw.DOWN:case jw.ENTER:case jw.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case jw.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.gos.getDocument(),t=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,Wc.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));let i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:o=!0}=this.config,s={modal:o,eChild:t,closeOnEsc:!0,closedCallback:()=>{let t=this.gos.getActiveDomElement(),i=!t||t===e.body;this.beforeHidePicker(),i&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(r,n)},a=this.popupService.addPopup(s),{maxPickerHeight:l,minPickerWidth:u,maxPickerWidth:d,variableWidth:h}=this;h?(u&&(t.style.minWidth=u),t.style.width=jo(Uq(this.eWrapper)),d&&(t.style.maxWidth=d)):jt(t,null!=d?d:Uq(this.eWrapper));let c=null!=l?l:`${U$(this.popupService.getPopupParent())}px`;return t.style.setProperty("max-height",c),t.style.position="absolute",this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){this.isAlive()&&(W2(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(null==(t=this.pickerComponent)?void 0:t.getGui().contains(e.relatedTarget))||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return jt(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"==typeof e&&(e=`${e}px`),this.minPickerWidth=null==e?void 0:e,this}setPickerMaxWidth(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerWidth=null==e?void 0:e,this}setPickerMaxHeight(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerHeight=null==e?void 0:e,this}destroy(){this.hidePicker(),super.destroy()}};HW([zR("popupService")],j5.prototype,"popupService",2),HW([jz("eLabel")],j5.prototype,"eLabel",2),HW([jz("eWrapper")],j5.prototype,"eWrapper",2),HW([jz("eDisplayField")],j5.prototype,"eDisplayField",2),HW([jz("eIcon")],j5.prototype,"eIcon",2);var j3=class e extends jH{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.options=[],this.itemEls=[]}init(){let e=this.getGui();this.addManagedListener(e,"mouseleave",()=>this.clearHighlighted()),this.unFocusable||this.addManagedListener(e,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){let t=e.key;switch(t){case jw.ENTER:if(this.highlightedEl){let e=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(e)}else this.setValue(this.getValue());break;case jw.DOWN:case jw.UP:e.preventDefault(),this.navigate(t);break;case jw.PAGE_DOWN:case jw.PAGE_UP:case jw.PAGE_HOME:case jw.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){let t,i=e===jw.DOWN;if(this.highlightedEl){let e=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);e=Math.min(Math.max(e,0),this.itemEls.length-1),t=this.itemEls[e]}else t=this.itemEls[i?0:this.itemEls.length-1];this.highlightItem(t)}navigateToPage(e){if(!this.highlightedEl||0===this.itemEls.length)return;let t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,r=this.itemEls[0].clientHeight,n=Math.floor(this.getGui().clientHeight/r),o=-1;e===jw.PAGE_HOME?o=0:e===jw.PAGE_END?o=i:e===jw.PAGE_DOWN?o=Math.min(t+n,i):e===jw.PAGE_UP&&(o=Math.max(t-n,0)),-1!==o&&this.highlightItem(this.itemEls[o])}addOptions(e){return e.forEach(e=>this.addOption(e)),this}addOption(e){let{value:t,text:i}=e,r=i||t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{U1(e)}),this.itemEls=[]}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{W4(t,i+1),W3(t,e.length)})}renderOption(e,t){let i=this.gos.getDocument(),r=i.createElement("div");WH(r,"option"),r.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let n=i.createElement("span");r.appendChild(n),n.textContent=t,this.unFocusable||(r.tabIndex=-1),this.itemEls.push(r),this.addManagedListener(r,"mousemove",()=>this.highlightItem(r)),this.addManagedListener(r,"mousedown",t=>{t.preventDefault(),this.setValue(e)}),this.createManagedBean(new jG({getTooltipValue:()=>t,getGui:()=>r,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(r)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;let i=this.options.findIndex(t=>t.value===e);if(-1!==i){let e=this.options[i];this.value=e.value,this.displayValue=e.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(e=>e.value===this.value);-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(t){if(!U5(t))return;this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),Un(this.highlightedEl,!0);let{scrollTop:i,clientHeight:r}=this.getGui(),{offsetTop:n,offsetHeight:o}=t;(n+o>i+r||n<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){this.highlightedEl&&U5(this.highlightedEl)&&(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),Un(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:Wc.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}};j3.EVENT_ITEM_SELECTED="selectedItem",j3.ACTIVE_CLASS="ag-active-item",HW([zE],j3.prototype,"init",1);var j4=class e extends j5{constructor(e){super(HH({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:i}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),i&&null==t&&(this.eDisplayField.textContent=i),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new j3("select",!0)),this.listComponent.setParentComponent(this);let t=this.listComponent.getAriaElement(),i=`ag-select-list-${this.listComponent.getCompId()}`;t.setAttribute("id",i),Us(this.getAriaElement(),t),this.listComponent.addManagedListener(this.listComponent,j3.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,Wc.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(e){var t;let{key:i}=e;switch(i===jw.TAB&&this.hidePicker(),i){case jw.ENTER:case jw.UP:case jw.DOWN:case jw.PAGE_UP:case jw.PAGE_DOWN:case jw.PAGE_HOME:case jw.PAGE_END:e.preventDefault(),this.isPickerDisplayed?null==(t=this.listComponent)||t.handleKeyDown(e):super.onKeyDown(e);break;case jw.ESCAPE:super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(e=>this.addOption(e)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return null==(e=this.listComponent)||e.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent||(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()))return this;let r=this.listComponent.getDisplayValue();return null==r&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:null!=r?r:null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};j4.EVENT_ITEM_SELECTED="selectedItem";var j6=class extends j1{constructor(e,t,i="text",r="input"){super(e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${r} ref="eInput" class="ag-input-field-input"></${r}>
                </div>
            </div>`,t),this.inputType=i,this.displayFieldTag=r}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;let{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return jt(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return ju(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return W$(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return UW(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){return!0===e?ju(this.eInput,"autocomplete",null):ju(this.eInput,"autocomplete","string"==typeof e?e:"off"),this}};HW([jz("eLabel")],j6.prototype,"eLabel",2),HW([jz("eWrapper")],j6.prototype,"eWrapper",2),HW([jz("eInput")],j6.prototype,"eInput",2);var j8=class extends j6{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;"boolean"==typeof e&&this.setReadOnly(e),"boolean"==typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchEvent({type:Wc.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:t,event:i});let r=this.getInputElement(),n={type:Wc.EVENT_CHECKBOX_CHANGED,id:r.id,name:r.name,selected:e,previousValue:t};this.eventService.dispatchEvent(n)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},j9=class extends j8{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){!this.eInput.disabled&&(this.isSelected()||this.setValue(!0))}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,Wc.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},j7=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;let t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){let{conditions:t}=e;if(!t){let{condition1:i,condition2:r}=e;t=[i,r]}let r=t.map(e=>this.getModelAsString(e)),n="AND"===e.operator?"andCondition":"orCondition";return r.join(` ${i(n,jK[n])} `)}{if(e.type===$t.BLANK||e.type===$t.NOT_BLANK)return i(e.type,e.type);let t=this.optionsFactory.getCustomOption(e.type),{displayKey:r,displayName:n,numberOfInputs:o}=t||{};return r&&n&&0===o?(i(r,n),n):this.conditionToString(e,t)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var t;return this.valueFormatter?null!=(t=this.valueFormatter(null!=e?e:null))?t:"":String(e)}},$e=class e extends jJ{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){let i=this.optionsFactory.getCustomOption(t);if(i){let{numberOfInputs:e}=i;return null!=e?e:1}let r=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&r.indexOf(t)>=0?0:t===e.IN_RANGE?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{0===i?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;let i=!e.operator,r=!t.operator;return(!!i||!r)&&(!i||!!r)&&(i?this.areSimpleModelsEqual(e,t):e.operator===t.operator&&zU(e.conditions,t.conditions,(e,t)=>this.areSimpleModelsEqual(e,t)))}shouldRefresh(e){var t,i,r;let n=this.getModel(),o=n?null!=(t=n.conditions)?t:[n]:null,s=null!=(r=null==(i=e.filterOptions)?void 0:i.map(e=>"string"==typeof e?e:e.displayKey))?r:this.getDefaultFilterOptions();return!!(!o||o.every(e=>void 0!==s.find(t=>t===e.type)))&&("number"!=typeof e.maxNumConditions||!o||!(o.length>e.maxNumConditions))}refresh(e){return!!this.shouldRefresh(e)&&!!super.refresh(e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){e.conditions||(e.conditions=[e.condition1,e.condition2]);let t=this.validateAndUpdateConditions(e.conditions),i=this.getNumConditions();if(t<i)this.removeConditionsAndOperators(t);else if(t>i)for(let e=i;e<t;e++)this.createJoinOperatorPanel(),this.createOption();let r="OR"===e.operator;this.eJoinOperatorsAnd.forEach(e=>e.setValue(!r,!0)),this.eJoinOperatorsOr.forEach(e=>e.setValue(r,!0)),e.conditions.forEach((e,t)=>{this.eTypes[t].setValue(e.type,!0),this.setConditionIntoUi(e,t)})}else this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(e.type,!0),this.setConditionIntoUi(e,0);return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),jN.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),za('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){var t;let i=this.getModel();if(null==i)return!0;let{operator:r}=i,n=[];return r?n.push(...null!=(t=i.conditions)?t:[]):n.push(i),n[r&&"OR"===r?"some":"every"](t=>this.individualConditionPasses(e,t))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new j$,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var t,i;null!=e.suppressAndOrCondition&&za('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=e.alwaysShowBothConditions&&za('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!=(t=e.maxNumConditions)?t:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(za('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!=(i=e.numAlwaysVisibleConditions)?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(za('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(za('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){let e=this.createManagedBean(new j4);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());let t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);let i=this.getNumConditions()-1;this.forEachPositionInput(i,e=>this.resetInput(e)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){let e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");let t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);let r=this.eJoinOperatorPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,n),this.resetJoinOperatorOr(i,r,n),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){let r=this.createManagedBean(new j9);return e.push(r),r.addCssClass("ag-filter-condition-operator"),r.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(r.getGui()),r}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){let e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(e=>"string"==typeof e?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let t=-1,i=!0;for(let e=0;e<this.getNumConditions();e++)this.isConditionUiComplete(e)?t=e:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{let i=null!=(e=this.lastUiCompletePosition)?e:this.getNumConditions()-2;if(t<i){this.removeConditionsAndOperators(i+1);let e=t+1,r=i-e;r>0&&this.removeConditionsAndOperators(e,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((t,i)=>{let r=this.isConditionDisabled(i,e);t.setDisabled(r||this.filterListOptions.length<=1),1===i&&(UW(this.eJoinOperatorPanels[0],r),this.eJoinOperatorsAnd[0].setDisabled(r),this.eJoinOperatorsOr[0].setDisabled(r))}),this.eConditionBodies.forEach((e,t)=>{UH(e,this.isConditionBodyVisible(t))});let i=(null!=t?t:this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((e,t)=>{e.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach((e,t)=>{e.setValue(i,!0)}),this.forEachInput((t,i,r,n)=>{this.setElementDisplayed(t,i<n),this.setElementDisabled(t,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);let i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(e=>U1(e))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(e=>{U1(e.getGui()),this.destroyBean(e)})}removeItems(e,t,i){return null==i?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(null==e?void 0:e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{let e=this.getInputs(0)[0];if(!e)return;e instanceof j6&&e.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();let e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,r=!1,n=this.getJoinOperator();for(let e=this.getNumConditions()-1;e>=0;e--)if(this.isConditionUiComplete(e))-1===t&&(t=e,i=e);else{let n=e>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(e-1),o=e<t;(n||o)&&(this.removeConditionsAndOperators(e,1),r=!0,o&&i--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(i,n),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(zd(this.filterPlaceholder)){let e=this.filterPlaceholder,r=this.eTypes[t].getValue(),n=this.translate(r);i=e({filterOptionKey:r,filterOption:n,placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,r,n)=>{if(!(t instanceof j6))return;let o=0===i&&n>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(0===i&&n>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",r)),t.setInputAriaLabel(o)})}setElementValue(e,t,i){e instanceof j6&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof jH&&UH(e.getGui(),t)}setElementDisabled(e,t){e instanceof jH&&UW(e.getGui(),t)}attachElementOnChange(e,t){e instanceof j6&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){let i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){let r=this.getNumberOfInputs(t),n=this.getInputs(e);for(let t=0;t<n.length;t++){let o=n[t];null!=o&&i(o,t,e,r)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)===e.EMPTY||this.getValues(t).some(e=>null==e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(e=>this.resetType(e)),this.eJoinOperatorsAnd.forEach((e,t)=>this.resetJoinOperatorAnd(e,t,this.joinOperatorId+t)),this.eJoinOperatorsOr.forEach((e,t)=>this.resetJoinOperatorOr(e,t,this.joinOperatorId+t)),this.joinOperatorId++,this.forEachInput(e=>this.resetInput(e)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),jN.resolve()}resetType(e){let t=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,r,n){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${n}`).setLabel(r),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let i=this.mapValuesFromModel(e);this.forEachInput((e,r,n,o)=>{n===t&&this.setElementValue(e,null!=i[r]?i[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,r,n)=>{this.setElementValue(t,0===i&&0===r?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,e=>{this.attachElementOnChange(e,this.listener)}))}individualConditionPasses(e,t){let i=this.getCellValue(e.node),r=this.mapValuesFromModel(t),n=this.optionsFactory.getCustomOption(t.type),o=this.evaluateCustomFilter(n,r,i);return null!=o?o:null==i?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,i,t,e)}evaluateCustomFilter(e,t,i){if(null==e)return;let{predicate:r}=e;if(null!=r&&!t.some(e=>null==e))return r(t,i)}isBlank(e){return null==e||"string"==typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}};$e.EMPTY="empty",$e.BLANK="blank",$e.NOT_BLANK="notBlank",$e.EQUALS="equals",$e.NOT_EQUAL="notEqual",$e.LESS_THAN="lessThan",$e.LESS_THAN_OR_EQUAL="lessThanOrEqual",$e.GREATER_THAN="greaterThan",$e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",$e.IN_RANGE="inRange",$e.CONTAINS="contains",$e.NOT_CONTAINS="notContains",$e.STARTS_WITH="startsWith",$e.ENDS_WITH="endsWith";var $t=$e,$i=class e extends $t{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:}return!1}evaluateNonNullValue(t,i,r){let n=this.comparator(),o=null!=t[0]?n(t[0],i):0;switch(r.type){case e.EQUALS:return 0===o;case e.NOT_EQUAL:return 0!==o;case e.GREATER_THAN:return o>0;case e.GREATER_THAN_OR_EQUAL:return o>=0;case e.LESS_THAN:return o<0;case e.LESS_THAN_OR_EQUAL:return o<=0;case e.IN_RANGE:{let e=n(t[1],i);return this.scalarFilterParams.inRangeInclusive?o>=0&&e<=0:o>0&&e<0}case e.BLANK:return this.isBlank(i);case e.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},$r=1/0,$n=class extends j7{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){let{type:i}=e,{numberOfInputs:r}=t||{},n=i==$t.IN_RANGE||2===r,o=UN(e.dateFrom),s=UN(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(n){let e=null!==o?Uk(o,a):"null",t=null!==s?Uk(s,a):"null";return`${e}-${t}`}return null!=o?Uk(o,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},$o=class e extends $i{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=$r,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){let{dateFrom:t,dateTo:i,type:r}=e||{};return[t&&UN(t)||null,i&&UN(i)||null].slice(0,this.getNumberOfInputs(r))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:+(t>e)}setParams(e){this.dateFilterParams=e,super.setParams(e);let t=(t,i)=>{if(null!=e[t])if(!isNaN(e[t]))return null==e[t]?i:Number(e[t]);else console.warn(`AG Grid: DateFilter ${t} is not a number`);return i};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",$r),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:UN(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:UN(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new $n(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){let t=new jj(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return e.DEFAULT_FILTER_OPTIONS}createValueElement(){let e=this.gos.getDocument().createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,i,r){let n=this.gos.getDocument().createElement("div");n.classList.add(`ag-filter-${r}`),n.classList.add(`ag-filter-date-${r}`),t.push(n),e.appendChild(n),i.push(this.createDateCompWrapper(n))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(e=>e.destroy())}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,r,n,o)=>{n===e&&t&&!(r>=o)&&(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){let t=this.getConditionType(e),i={},r=this.getValues(e);return r.length>0&&(i.dateFrom=UP(r[0])),r.length>1&&(i.dateTo=UP(r[1])),HH({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},i)}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(e=>{e.setInputPlaceholder(t),e.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(e,i,r,n)=>{i<n&&t.push(e.getDate())}),t}translate(e){return e===$i.LESS_THAN?super.translate("before"):e===$i.GREATER_THAN?super.translate("after"):super.translate(e)}getModelAsString(e){var t;return null!=(t=this.filterModelFormatter.getModelAsString(e))?t:""}};$o.DEFAULT_FILTER_OPTIONS=[$i.EQUALS,$i.NOT_EQUAL,$i.LESS_THAN,$i.GREATER_THAN,$i.IN_RANGE,$i.BLANK,$i.NOT_BLANK],HW([zR("userComponentFactory")],$o.prototype,"userComponentFactory",2);var $s=class extends jH{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return null==e?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){let t;if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}t=e.operator?e.conditions[0]:e,this.lastType=t.type}canWeEditAfterModelFromParentFilter(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new j$,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;let i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){let{numberOfInputs:t}=this.optionsFactory.getCustomOption(e)||{};return null==t||1==t}isTypeEditable(e){let t=[$t.IN_RANGE,$t.EMPTY,$t.BLANK,$t.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&0>t.indexOf(e)}getAriaLabel(e){let t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${t} ${i("ariaFilterInput","Filter Input")}`}};HW([zR("columnModel")],$s.prototype,"columnModel",2);var $a=class extends $s{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return $o.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new $n(this.filterParams,this.localeService,this.optionsFactory);let t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(t),t?(e?this.dateComp.setDate(UN(e.dateFrom)):this.dateComp.setDate(null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}setEditable(e){UH(this.eDateWrapper,e),UH(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){let e=UP(this.dateComp.getDate());this.params.parentFilterInstance(t=>{if(t){let i=UN(e);t.onFloatingFilterChanged(this.getLastType()||null,i)}})}getDateComponentParams(){let e=jJ.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:zm(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new jj(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){let e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};HW([zR("userComponentFactory")],$a.prototype,"userComponentFactory",2),HW([jz("eReadOnlyText")],$a.prototype,"eReadOnlyText",2),HW([jz("eDateWrapper")],$a.prototype,"eDateWrapper",2);var $l=class extends jH{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListener(t,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()}),this.addManagedListener(t,"input",e=>{e.target!==this.gos.getActiveDomElement()||this.eDateInput.isDisabled()||this.params.onDateChanged()})}setParams(e){let t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Uu(),t.type=i?"date":"text";let{minValidYear:r,maxValidYear:n,minValidDate:o,maxValidDate:s}=e.filterParams||{};if(o&&r&&za("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),s&&n&&za("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),o&&s){let[e,t]=[o,s].map(e=>e instanceof Date?e:UN(e));e&&t&&e.getTime()>t.getTime()&&za("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}o?o instanceof Date?t.min=Uk(o):t.min=o:r&&(t.min=`${r}-01-01`),s?s instanceof Date?t.max=Uk(s):t.max=s:n&&(t.max=`${n}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return UN(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(UP(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:Uh()||Uc()||Uu()&&Ud()>=14.1}};HW([jz("eDateInput")],$l.prototype,"eDateInput",2);var $u=class extends j6{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=HK(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListener(this.eInput,"keydown",t=>{jb(t)&&t.key&&!e.test(t.key)&&t.preventDefault()}),this.addManagedListener(this.eInput,"paste",t=>{var i;let r=null==(i=t.clipboardData)?void 0:i.getData("text");r&&r.split("").some(t=>!e.test(t))&&t.preventDefault()})}},$d=class extends $u{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{let e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";let{precision:e,min:t,max:i,step:r}=this.config;"number"==typeof e&&this.setPrecision(e),"number"==typeof t&&this.setMin(t),"number"==typeof i&&this.setMax(i),"number"==typeof r&&this.setStep(r)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));let t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t)return parseFloat(parseFloat(e).toFixed(this.precision)).toString();let i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;else if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e||(this.min=e,ju(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,ju(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,ju(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue(e=>super.setValue(e,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},e)}setValueOrInputValue(e,t,i){if(HK(i)){let r=this.isScientificNotation(i);if(r&&this.eInput.validity.valid)return e(i);if(!r){i=this.adjustPrecision(i);let e=this.normalizeValue(i);r=i!=e}if(r)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;let e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"==typeof e&&e.includes("e")}},$h=class extends j7{conditionToString(e,t){let{numberOfInputs:i}=t||{};return e.type==$t.IN_RANGE||2===i?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:null!=e.filter?this.formatValue(e.filter):`${e.type}`}};function $c(e){let{allowedCharPattern:t}=null!=e?e:{};return null!=t?t:null}var $p=class e extends $i{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:r}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(r))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new $h(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return e.DEFAULT_FILTER_OPTIONS}setElementValue(e,t,i){let r=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(null!=t?t:null):t;super.setElementValue(e,r)}createValueElement(){let e=$c(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),WH(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,r){let n=this.createManagedBean(r?new $u({allowedCharPattern:r}):new $d);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){let t=[];return this.forEachPositionInput(e,(e,i,r,n)=>{i<n&&t.push(this.processValue(this.stringToFloat(e.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"==typeof e)return e;let t=H$(e);return(null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser)?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){let t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},r=this.getValues(e);return r.length>0&&(i.filter=r[0]),r.length>1&&(i.filterTo=r[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var t;return null!=(t=this.filterModelFormatter.getModelAsString(e))?t:""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}};$p.DEFAULT_FILTER_OPTIONS=[$i.EQUALS,$i.NOT_EQUAL,$i.GREATER_THAN,$i.GREATER_THAN_OR_EQUAL,$i.LESS_THAN,$i.LESS_THAN_OR_EQUAL,$i.IN_RANGE,$i.BLANK,$i.NOT_BLANK];var $g=class extends j7{conditionToString(e,t){let{numberOfInputs:i}=t||{};return e.type==$t.IN_RANGE||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}},$f=class e extends $t{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){let t=e&&e.trim();return""===t?e:t}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new $g(this.localeService,this.optionsFactory)}getTextMatcher(){let t=this.textFilterParams.textCustomComparator;return t?(jP.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:e,value:i,filterText:r})=>t(e,i,r)):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER}createCondition(e){let t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(i.filter=r[0]),r.length>1&&(i.filterTo=r[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(t,i){let r=[];return this.forEachPositionInput(t,(t,n,o,s)=>{var a;if(n<s){let n=H$(t.getValue());i&&this.textFilterParams.trimInput&&(n=null!=(a=e.trimInput(n))?a:null,t.setValue(n,!0)),r.push(n)}}),r}getDefaultFilterOptions(){return e.DEFAULT_FILTER_OPTIONS}createValueElement(){let e=document.createElement("div");return e.classList.add("ag-filter-body"),WH(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){let r=this.createManagedBean(new $u);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:r}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(r))}evaluateNullValue(e){let t=[$t.NOT_EQUAL,$t.NOT_CONTAINS,$t.BLANK];return!!e&&t.indexOf(e)>=0}evaluateNonNullValue(e,t,i,r){let n=e.map(e=>this.formatter(e))||[],o=this.formatter(t),{api:s,colDef:a,column:l,columnApi:u,context:d,textFormatter:h}=this.textFilterParams;if(i.type===$t.BLANK)return this.isBlank(t);if(i.type===$t.NOT_BLANK)return!this.isBlank(t);let c={api:s,colDef:a,column:l,columnApi:u,context:d,node:r.node,data:r.data,filterOption:i.type,value:o,textFormatter:h};return n.some(e=>this.matcher(Hk(HH({},c),HF({filterText:e}))))}getModelAsString(e){var t;return null!=(t=this.filterModelFormatter.getModelAsString(e))?t:""}};$f.DEFAULT_FILTER_OPTIONS=[$t.CONTAINS,$t.NOT_CONTAINS,$t.EQUALS,$t.NOT_EQUAL,$t.STARTS_WITH,$t.ENDS_WITH,$t.BLANK,$t.NOT_BLANK],$f.DEFAULT_FORMATTER=e=>e,$f.DEFAULT_LOWERCASE_FORMATTER=e=>null==e?null:e.toString().toLowerCase(),$f.DEFAULT_MATCHER=({filterOption:e,value:t,filterText:i})=>{if(null==i)return!1;switch(e){case $f.CONTAINS:return t.indexOf(i)>=0;case $f.NOT_CONTAINS:return 0>t.indexOf(i);case $f.EQUALS:return t===i;case $f.NOT_EQUAL:return t!=i;case $f.STARTS_WITH:return 0===t.indexOf(i);case $f.ENDS_WITH:let r=t.lastIndexOf(i);return r>=0&&r===t.length-i.length;default:return!1}};var $m=class extends Wl{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var t;this.eFloatingFilterTextInput=this.createManagedBean(new $u(null==(t=this.params)?void 0:t.config));let i=this.eFloatingFilterTextInput.getGui();e.appendChild(i),this.addManagedListener(i,"input",e=>this.valueChangedListener(e)),this.addManagedListener(i,"keydown",e=>this.valueChangedListener(e))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},$v=class extends $s{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;this.params=e;let i=null!=(t=e.browserAutoComplete)&&t;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=jJ.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){let e=jJ.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),t=zm(this.syncUpWithParentFilter.bind(this),e);this.floatingFilterInputService.setValueChangedListener(t)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let t=this.floatingFilterInputService.getValue();U0(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){let t=e.key===jw.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=$f.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(e=>{e&&e.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}};HW([jz("eFloatingFilterInputContainer")],$v.prototype,"eFloatingFilterInputContainer",2),HW([zE],$v.prototype,"postConstruct",1);var $y=class extends Wl{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new $d),this.eFloatingFilterTextInput=this.createManagedBean(new $u),this.eFloatingFilterTextInput.setDisabled(!0);let t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,e=>this.valueChangedListener(e)),this.setupListeners(i,e=>this.valueChangedListener(e))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},$C=class extends $v{init(e){var t;super.init(e),this.filterModelFormatter=new $h(this.localeService,this.optionsFactory,null==(t=e.filterParams)?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){$c(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return $p.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return(this.allowedCharPattern=$c(e.filterParams),this.allowedCharPattern)?this.createManagedBean(new $m({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new $y)}},$w=class extends $v{init(e){super.init(e),this.filterModelFormatter=new $g(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return $f.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new $m)}},$b=class e{constructor(e,t=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new zL,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",r,{passive:!0}),this.eElement.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;let i=this.touchStart;window.setTimeout(()=>{let r=this.touchStart===i;if(this.touching&&r&&!this.moved){this.moved=!0;let i={type:e.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:t};this.eventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);!t||jM(t,this.touchStart,4)||(this.moved=!0)}onTouchEnd(t){if(this.touching){if(!this.moved){let t={type:e.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}}checkForDoubleTap(){let t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>e.DOUBLE_TAP_MILLIS){let t={type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(e=>e())}};$b.EVENT_TAP="tap",$b.EVENT_DOUBLE_TAP="doubleTap",$b.EVENT_LONG_TAP="longTap",$b.DOUBLE_TAP_MILLIS=500;var $S=class e extends jH{constructor(t){super(),t||this.setTemplate(e.TEMPLATE)}attachCustomElements(e,t,i,r,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=r,this.eSortNone=n}setupSort(e,t=!1){this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),(this.column.isSortable()||this.column.getColDef().showRowGroup)&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,Wc.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,t,i){if(null==t)return;let r=jy(e,this.gos,i);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&UH(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&UH(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){let t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon");UH(this.eSortNone,!t&&null==e,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);let e=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,Wc.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){let e="mixed"===this.sortController.getDisplaySortForColumn(this.column);UH(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;let t=this.sortController.getColumnsWithSortingOrdered(),i=null!=(e=this.sortController.getDisplaySortIndexForColumn(this.column))?e:-1,r=t.some(e=>{var t;return null!=(t=this.sortController.getDisplaySortIndexForColumn(e))&&t});UH(this.eSortOrder,i>=0&&r,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():U0(this.eSortOrder)}};$S.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,HW([jz("eSortOrder")],$S.prototype,"eSortOrder",2),HW([jz("eSortAsc")],$S.prototype,"eSortAsc",2),HW([jz("eSortDesc")],$S.prototype,"eSortDesc",2),HW([jz("eSortMixed")],$S.prototype,"eSortMixed",2),HW([jz("eSortNone")],$S.prototype,"eSortNone",2),HW([zR("columnModel")],$S.prototype,"columnModel",2),HW([zR("sortController")],$S.prototype,"sortController",2);var $x=class e extends jH{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){let t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}workOutTemplate(){var t;let i=null!=(t=this.params.template)?t:e.TEMPLATE;return i&&i.trim?i.trim():i}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;let t=WS(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(null==t)return;let r=jy(e,this.gos,i);r&&t.appendChild(r)}setupTap(){let{gos:e}=this;if(e.get("suppressTouch"))return;let t=new $b(this.getGui(),!0),i=this.shouldSuppressMenuHide(),r=i&&HK(this.eMenu),n=r?new $b(this.eMenu,!0):t;if(this.params.enableMenu){let e=e=>this.params.showColumnMenuAfterMouseClick(e.touchStart);this.addManagedListener(n,$b[r?"EVENT_TAP":"EVENT_LONG_TAP"],e)}if(this.params.enableSorting){let e=e=>{var t,r;let n=e.touchStart.target;i&&((null==(t=this.eMenu)?void 0:t.contains(n))||(null==(r=this.eFilterButton)?void 0:r.contains(n)))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(t,$b.EVENT_TAP,e)}if(this.params.enableFilterButton){let e=new $b(this.eFilterButton,!0);this.addManagedListener(e,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>e.destroy())}this.addDestroyFunc(()=>t.destroy()),r&&this.addDestroyFunc(()=>n.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){U1(this.eMenu),this.eMenu=void 0;return}let e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){var t,i,r,n;let{column:o}=this.params,s=this.menuService.isLegacyMenuEnabled();if(e&&!s){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter(null!=(i=null!=(t=this.eFilterButton)?t:this.eMenu)?i:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(null!=(n=null!=(r=this.eMenu)?r:this.eFilterButton)?n:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new $S(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,zO.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",e=>{let t=this.params.column.isMoving(),i=new Date().getTime()-this.lastMovingChanged<50;if(!(t||i)){let t="ctrl"===this.gos.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;this.params.progressSort(t)}});let e=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){let e=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),t=null==e?void 0:e.every(e=>this.params.column.getSort()==e.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!t)}};this.addManagedListener(this.eventService,Wc.EVENT_SORT_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0)}configureFilter(e,t,i){if(!e)return U1(t),!1;let{column:r}=this.params;return this.addInIcon("filter",t,r),this.addManagedListener(r,zO.EVENT_FILTER_CHANGED,i),i(),!0}onFilterChangedIcon(){let e=this.params.column.isFilterActive();UH(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var t,i,r,n;return e?null!=(i=null!=(t=this.eFilterButton)?t:this.eMenu)?i:this.getGui():null!=(n=null!=(r=this.eMenu)?r:this.eFilterButton)?n:this.getGui()}};$x.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,HW([zR("sortController")],$x.prototype,"sortController",2),HW([zR("menuService")],$x.prototype,"menuService",2),HW([zR("columnModel")],$x.prototype,"columnModel",2),HW([jz("eFilter")],$x.prototype,"eFilter",2),HW([jz("eFilterButton")],$x.prototype,"eFilterButton",2),HW([jz("eSortIndicator")],$x.prototype,"eSortIndicator",2),HW([jz("eMenu")],$x.prototype,"eMenu",2),HW([jz("eLabel")],$x.prototype,"eLabel",2),HW([jz("eText")],$x.prototype,"eText",2),HW([jz("eSortOrder")],$x.prototype,"eSortOrder",2),HW([jz("eSortAsc")],$x.prototype,"eSortAsc",2),HW([jz("eSortDesc")],$x.prototype,"eSortDesc",2),HW([jz("eSortMixed")],$x.prototype,"eSortMixed",2),HW([jz("eSortNone")],$x.prototype,"eSortNone",2);var $_=class e extends jH{constructor(){super(e.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&za("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");let e=e=>{if(We(e))return;let t=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),t,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);let t=e=>{z7(e)};this.addManagedListener(this.eCloseIcon,"dblclick",t),this.addManagedListener(this.eOpenIcon,"dblclick",t),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();let i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,zG.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,zG.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,t){let i=new $b(e,!0);this.addManagedListener(i,$b.EVENT_TAP,t),this.addDestroyFunc(()=>i.destroy()),this.addManagedListener(e,"click",t)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){let e=this.params.columnGroup.isExpanded();UH(this.eOpenIcon,e),UH(this.eCloseIcon,!e)}else UH(this.eOpenIcon,!1),UH(this.eCloseIcon,!1)}addInIcon(e,t){let i=jy(e,this.gos,null);i&&this.getRefElement(t).appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){UH(this.eOpenIcon,!1),UH(this.eCloseIcon,!1);return}}setupLabel(){var e;let{displayName:t,columnGroup:i}=this.params;if(HK(t)){let e=WS(t,!0);this.getRefElement("agLabel").textContent=e}this.addOrRemoveCssClass("ag-sticky-label",!(null==(e=i.getColGroupDef())?void 0:e.suppressStickyLabel))}};$_.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,HW([zR("columnModel")],$_.prototype,"columnModel",2),HW([jz("agOpened")],$_.prototype,"eOpenIcon",2),HW([jz("agClosed")],$_.prototype,"eCloseIcon",2);var $E=class extends jH{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},$T=class e extends $E{constructor(){super(e.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),HK(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let t=e.key;(t===jw.LEFT||t===jw.UP||t===jw.RIGHT||t===jw.DOWN||e.shiftKey&&t===jw.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){let e=this.eTextArea.getValue();return HK(e)||HK(this.params.value)?this.params.parseValue(e):this.params.value}};$T.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,HW([jz("eTextArea")],$T.prototype,"eTextArea",2);var $M=class extends $E{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;let{eSelect:t,valueService:i,gos:r}=this,{values:n,value:o,eventKey:s}=e;if(HY(n))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=s&&s===jw.ENTER;let a=!1;n.forEach(r=>{let n={value:r},s=i.formatValue(e.column,null,r);n.text=null!=s?s:r,t.addOption(n),a=a||o===r}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:d}=e;null!=l&&t.setPickerGap(l),null!=d&&t.setPickerMaxHeight(d),null!=u&&t.setPickerMaxWidth(u),"fullRow"!==r.get("editType")&&this.addManagedListener(this.eSelect,j4.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};HW([zR("valueService")],$M.prototype,"valueService",2),HW([jz("eSelect")],$M.prototype,"eSelect",2);var $R=class extends $E{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`),this.cellEditorInput=e}init(e){let t;this.params=e;let i=this.eInput;if(this.cellEditorInput.init(i,e),e.cellStartedEdit){this.focusAfterAttached=!0;let i=e.eventKey;i===jw.BACKSPACE||e.eventKey===jw.DELETE?t="":i&&1===i.length?t=i:(t=this.cellEditorInput.getStartValue(),i!==jw.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,t=this.cellEditorInput.getStartValue();null!=t&&i.setStartValue(t),this.addManagedListener(i.getGui(),"keydown",e=>{let{key:t}=e;(t===jw.PAGE_UP||t===jw.PAGE_DOWN)&&e.preventDefault()})}afterGuiAttached(){var e,t;let i=this.localeService.getLocaleTextFunc(),r=this.eInput;if(r.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Uu()||r.getFocusableElement().focus();let n=r.getInputElement();this.highlightAllOnFocus?n.select():null==(t=(e=this.cellEditorInput).setCaret)||t.call(e)}focusIn(){let e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};HW([jz("eInput")],$R.prototype,"eInput",2);var $D=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){let e=this.eInput.getValue();return HK(e)||HK(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){let e=this.eInput.getValue(),t=HK(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},$A=class extends $R{constructor(){super(new $D)}},$I=class extends jH{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){let i=Math.abs(t),r=e.formatValue(i),n=HK(r)?r:i,o=t>=0;o?this.eDelta.textContent="â†‘"+n:this.eDelta.textContent="â†“"+n,this.eDelta.classList.toggle("ag-value-change-delta-up",o),this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),U0(this.eDelta)}refresh(e,t=!1){let i=e.value;if(i===this.lastValue||(HK(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:HK(e.value)?this.eValue.textContent=i:U0(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if("number"==typeof i&&"number"==typeof this.lastValue){let t=i-this.lastValue;this.showDelta(e,t)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}};HW([zR("filterManager")],$I.prototype,"filterManager",2);var $P=class extends jH{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;return HY(i)&&(i=""),!(i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&(t||this.addSlideAnimation(),this.lastValue=i,HK(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:HK(e.value)?this.eCurrent.textContent=i:U0(this.eCurrent),!0)}};HW([zR("filterManager")],$P.prototype,"filterManager",2);var $L=class e{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();let r=this.createDataChangedEvent(e,i,t);this.dispatchLocalEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,r){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:i,newData:t,update:r}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){let t=new e(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(e,t){let i=HK(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);let n=this.createDataChangedEvent(e,r,!1);this.dispatchLocalEvent(n)}checkRowSelectable(){let e=this.beans.gos.get("isRowSelectable");this.setRowSelectable(!e||e(this))}setRowSelectable(t,i){if(this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)),!i)){if(this.beans.gos.get("groupSelectsChildren")){let e=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:null!=e&&e,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){let i=this.beans.gos.getCallback("getRowId");if(i)if(this.data){let t=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:t.length>0?t:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${e.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t}getGroupKeys(e=!1){let t=[],i=this;for(e&&(i=i.parent);i&&i.level>=0;)t.push(i.key),i=i.parent;return t.reverse(),t}isPixelInRange(e){return!!HK(this.rowTop)&&!!HK(this.rowHeight)&&e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DISPLAYED_CHANGED)))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))}setHighlighted(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_GROUP_CHANGED)))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=zm(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,t=!0,i=0,r=this.__autoHeights;if(null==r||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(n=>{let o=r[n.getId()];if(null==o)if(this.beans.columnModel.isColSpanActive()){let t=[];switch(n.getPinned()){case"left":t=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":t=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:t=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(t.includes(n)){e=!0;return}o=-1}else{e=!0;return}else t=!1;o>i&&(i=o)}),e)||((t||i<10)&&(i=this.beans.gos.getRowHeightForNode(this).height),i==this.rowHeight))return;this.setRowHeight(i);let n=this.beans.rowModel;n.onRowHeightChangedDebounced&&n.onRowHeightChangedDebounced()}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))}setExpanded(t,i,r){if(this.expanded===t)return;this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));let n=Object.assign({},this.createGlobalRowEvent(Wc.EVENT_ROW_GROUP_OPENED),{expanded:t,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n,r),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gos.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,t,i){var r;let n="string"!=typeof e?e:null!=(r=this.beans.columnModel.getGridColumn(e))?r:this.beans.columnModel.getPrimaryColumn(e),o=this.getValueFromValueService(n);if(this.beans.gos.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(n,o,t,i),!1;let s=this.beans.valueService.setValue(this,n,t,i);return this.dispatchCellChangedEvent(n,t,o),this.checkRowSelectable(),s}getValueFromValueService(e){var t,i;let r=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!r,o=!1,s=null!=(t=this.beans.gos.get("groupTotalRow"))?t:this.beans.gos.get("groupIncludeFooter");o="function"!=typeof s?!!s:!!(null!=(i=this.beans.gos.getCallback("groupTotalRow"))?i:this.beans.gos.getCallback("groupIncludeFooter"))({node:this});let a=this.beans.gos.get("groupSuppressBlankHeader"),l=n&&o&&!a;return this.beans.valueService.getValue(e,this,!1,l)}dispatchEventForSaveValueReadOnly(e,t,i,r){let n=this.beans.gos.addGridCommonParams({type:Wc.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:t,newValue:i,value:i,source:r});this.beans.eventService.dispatchEvent(n)}setGroupValue(e,t){let i=this.beans.columnModel.getGridColumn(e);HY(this.groupData)&&(this.groupData={});let r=i.getColId(),n=this.groupData[r];n!==t&&(this.groupData[r]=t,this.dispatchCellChangedEvent(i,t,n))}setAggData(e){let t=this.aggData;if(this.aggData=e,this.eventService){let i=e=>{let i=this.aggData?this.aggData[e]:void 0,r=t?t[e]:void 0;if(i===r)return;let n=this.beans.columnModel.lookupGridColumn(e);n&&this.dispatchCellChangedEvent(n,i,r)};for(let e in this.aggData)i(e);for(let t in e)t in this.aggData||i(t)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){let e=this.beans.gos.get("treeData"),i=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(e?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&Hq(this.childrenAfterGroup)}dispatchCellChangedEvent(t,i,r){let n={type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:i,oldValue:r};this.dispatchLocalEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(t=>t.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let t=!1,i=!1,r=!1;if(!(null==(e=this.childrenAfterGroup)?void 0:e.length))return this.selectable?this.selected:null;for(let e=0;e<this.childrenAfterGroup.length;e++){let n=this.childrenAfterGroup[e],o=n.isSelected();if(!n.selectable){let e=n.calculateSelectedFromChildren();if(null===e)continue;o=e}switch(o){case!0:t=!0;break;case!1:i=!0;break;default:r=!0}}if(!r&&(!t||!i))return!!t||!i&&(this.selectable?this.selected:null)}setSelectedInitialValue(e){this.selected=e}selectThisNode(t,i,r="api"){let n=!this.selectable&&t,o=this.selected===t;if(n||o)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));let s=this.sibling;s&&s.footer&&s.eventService&&s.dispatchLocalEvent(s.createLocalRowEvent(e.EVENT_ROW_SELECTED));let a=Hk(HH({},this.createGlobalRowEvent(Wc.EVENT_ROW_SELECTED)),HF({event:i||null,source:r}));return this.beans.eventService.dispatchEvent(a),!0}setSelected(e,t=!1,i="api"){"boolean"==typeof i?console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead."):this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:i})}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Hk(HH({},e),HF({nodes:[this.footer?this.sibling:this]})))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}addEventListener(e,t){var i,r;this.eventService||(this.eventService=new zL),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new zk(this.beans.frameworkOverrides));let n=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.wrap(t))?r:t;this.eventService.addEventListener(e,n)}removeEventListener(e,t){var i,r;if(!this.eventService)return;let n=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.unwrap(t))?r:t;this.eventService.removeEventListener(e,n),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let t=this,i=!0,r=!1,n=null;for(;i&&!r;){let o=t.parent;HK(o)&&t.firstChild?o.rowGroupColumn===e&&(r=!0,n=o):i=!1,t=o}return r?n:null}isFullWidthCell(){if(this.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(null==this.key)return;let e=[],t=this;for(;null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}createFooter(){if(this.sibling)return;let t=new Set(["eventService","__objectId","sticky"]),i=new e(this.beans);Object.keys(this).forEach(e=>{t.has(e)||(i[e]=this[e])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};$L.ID_PREFIX_ROW_GROUP="row-group-",$L.ID_PREFIX_TOP_PINNED="t-",$L.ID_PREFIX_BOTTOM_PINNED="b-",$L.OBJECT_ID_SEQUENCE=0,$L.EVENT_ROW_SELECTED="rowSelected",$L.EVENT_DATA_CHANGED="dataChanged",$L.EVENT_CELL_CHANGED="cellChanged",$L.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",$L.EVENT_MASTER_CHANGED="masterChanged",$L.EVENT_GROUP_CHANGED="groupChanged",$L.EVENT_MOUSE_ENTER="mouseEnter",$L.EVENT_MOUSE_LEAVE="mouseLeave",$L.EVENT_HEIGHT_CHANGED="heightChanged",$L.EVENT_TOP_CHANGED="topChanged",$L.EVENT_DISPLAYED_CHANGED="displayedChanged",$L.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",$L.EVENT_LAST_CHILD_CHANGED="lastChildChanged",$L.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",$L.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",$L.EVENT_EXPANDED_CHANGED="expandedChanged",$L.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",$L.EVENT_SELECTABLE_CHANGED="selectableChanged",$L.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",$L.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",$L.EVENT_DRAGGING_CHANGED="draggingChanged";var $k=class extends jH{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=Ua(e,t),[r,n]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=e(r,n);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${o} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",e=>{z7(e)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",e=>{z7(e);let t=this.gos.get("groupSelectsFiltered"),i=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(i,t)?0===this.onClicked(!0,t,e||{})&&this.onClicked(!1,t,e):i?this.onClicked(!1,t,e):this.onClicked(!0,t,e||{})}),this.addManagedListener(this.rowNode,$L.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gos.get("isRowSelectable")||"function"==typeof this.getIsVisible()){let e=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.rowNode,$L.EVENT_DATA_CHANGED,e),this.addManagedListener(this.rowNode,$L.EVENT_CELL_CHANGED,e),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){var e,t,i;let r=this.rowNode.selectable,n=this.getIsVisible();if(r)if("function"==typeof n){let t=null==(e=this.overrides)?void 0:e.callbackParams;if(this.column){let e=this.column.createColumnFunctionCallbackParams(this.rowNode);r=n(HH(HH({},t),e))}else r=n(Hk(HH({},t),HF({node:this.rowNode,data:this.rowNode.data})))}else r=null!=n&&n;if(null==(t=this.column)?void 0:t.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!r),this.setVisible(!0),this.setDisplayed(!0);return}(null==(i=this.overrides)?void 0:i.removeHidden)?this.setDisplayed(r):this.setVisible(r)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:null==(t=null==(e=this.column)?void 0:e.getColDef())?void 0:t.checkboxSelection}};HW([jz("eCheckbox")],$k.prototype,"eCheckbox",2),HW([zE],$k.prototype,"postConstruct",1);var $N=((_=$N||{})[_.Up=0]="Up",_[_.Down=1]="Down",_),$F=((E=$F||{})[E.Left=0]="Left",E[E.Right=1]="Right",E),$O=((T=$O||{})[T.ToolPanel=0]="ToolPanel",T[T.HeaderCell=1]="HeaderCell",T[T.RowDrag=2]="RowDrag",T[T.ChartPanel=3]="ChartPanel",T[T.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",T),$G=class extends Wl{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=jv("columnMovePin",this.gos,null),this.eHideIcon=jv("columnMoveHide",this.gos,null),this.eMoveIcon=jv("columnMoveMove",this.gos,null),this.eLeftIcon=jv("columnMoveLeft",this.gos,null),this.eRightIcon=jv("columnMoveRight",this.gos,null),this.eGroupIcon=jv("columnMoveGroup",this.gos,null),this.eAggregateIcon=jv("columnMoveValue",this.gos,null),this.ePivotIcon=jv("columnMovePivot",this.gos,null),this.eDropNotAllowedIcon=jv("dropNotAllowed",this.gos,null)}addDragSource(e,t=!1){let i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}removeDragSource(e){let t=this.dragSourceAndParamsList.find(t=>t.dragSource===e);t&&(this.dragService.removeDragSource(t.params),zq(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=void 0,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){let t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var i,r,n,o;let s=this.getHorizontalDirection(e),a=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);let l=this.dropTargets.filter(t=>this.isMouseOnDropTarget(e,t)),u=this.findCurrentDropTarget(e,l);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(e,s,a,t),null!==this.lastDropTarget&&null===u&&(null==(r=(i=this.dragSource).onGridExit)||r.call(i,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null==(o=(n=this.dragSource).onGridEnter)||o.call(n,this.dragItem)),this.enterDragTargetIfExists(u,e,s,a,t),this.lastDropTarget=u;else if(u&&u.onDragging){let i=this.createDropTargetEvent(u,e,s,a,t);u.onDragging(i)}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(let i of t){let t=i.getBoundingClientRect();if(0===t.width||0===t.height)return!1;let r=e.clientX>=t.left&&e.clientX<t.right,n=e.clientY>=t.top&&e.clientY<t.bottom;if(!r||!n)return!1}return!0}isMouseOnDropTarget(e,t){let i=this.getAllContainersFromDropTarget(t),r=!1;for(let t of i)if(this.allContainersIntersect(e,t)){r=!0;break}return(!t.targetContainsSource||!!t.getContainer().contains(this.dragSource.eElement))&&r&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){let i=t.length;if(0===i)return null;if(1===i)return t[0];for(let i of this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY))for(let e of t)if(-1!==z2(this.getAllContainersFromDropTarget(e)).indexOf(i))return e;return null}enterDragTargetIfExists(e,t,i,r,n){if(e){if(e.onDragEnter){let o=this.createDropTargetEvent(e,t,i,r,n);e.onDragEnter(o)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,r){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){let n=this.createDropTargetEvent(this.lastDropTarget,e,t,i,r);this.lastDropTarget.onDragLeave(n)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(e=>e.external).find(t=>t.getContainer()===e.getContainer())||null}getHorizontalDirection(e){let t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){let t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,r,n){let o=e.getContainer(),s=o.getBoundingClientRect(),{gridApi:a,columnApi:l,dragItem:u,dragSource:d}=this,h=t.clientX-s.left,c=t.clientY-s.top;return{event:t,x:h,y:c,vDirection:r,hDirection:i,dragSource:d,fromNudge:n,dragItem:u,api:a,columnApi:l,dropZoneTarget:o}}positionGhost(e){let t=this.eGhost;if(!t)return;let i=t.getBoundingClientRect().height,r=Uy()-2,n=UC()-2,o=UX(t.offsetParent),{clientY:s,clientX:a}=e,l=s-o.top-i/2,u=a-o.left-10,d=this.gos.getDocument(),h=d.defaultView||window,c=h.pageYOffset||d.documentElement.scrollTop,p=h.pageXOffset||d.documentElement.scrollLeft;r>0&&u+t.clientWidth>r+p&&(u=r+p-t.clientWidth),u<0&&(u=0),n>0&&l+t.clientHeight>n+c&&(l=n+c-t.clientHeight),l<0&&(l=0),t.style.left=`${u}px`,t.style.top=`${l}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=U3($G.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);let{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);let t=this.eGhost.querySelector(".ag-dnd-ghost-label"),i=this.dragSource.dragItemName;zd(i)&&(i=i()),t.innerHTML=WS(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";let r=this.gos.getDocument(),n=null,o=null;try{n=r.fullscreenElement}catch(e){}finally{n||(n=this.gos.getRootNode());let e=n.querySelector("body");o=e||(n instanceof ShadowRoot?n:n instanceof Document?null==n?void 0:n.documentElement:n)}this.eGhostParent=o,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){U0(this.eGhostIcon);let i=null;switch(!e&&(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():$G.ICON_NOT_ALLOWED),e){case $G.ICON_PINNED:i=this.ePinnedIcon;break;case $G.ICON_MOVE:i=this.eMoveIcon;break;case $G.ICON_LEFT:i=this.eLeftIcon;break;case $G.ICON_RIGHT:i=this.eRightIcon;break;case $G.ICON_GROUP:i=this.eGroupIcon;break;case $G.ICON_AGGREGATE:i=this.eAggregateIcon;break;case $G.ICON_PIVOT:i=this.ePivotIcon;break;case $G.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case $G.ICON_HIDE:i=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),!(i===this.eHideIcon&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}};$G.ICON_PINNED="pinned",$G.ICON_MOVE="move",$G.ICON_LEFT="left",$G.ICON_RIGHT="right",$G.ICON_GROUP="group",$G.ICON_AGGREGATE="aggregate",$G.ICON_PIVOT="pivot",$G.ICON_NOT_ALLOWED="notAllowed",$G.ICON_HIDE="hide",$G.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,HW([zR("dragService")],$G.prototype,"dragService",2),HW([zR("mouseEventService")],$G.prototype,"mouseEventService",2),HW([zR("columnApi")],$G.prototype,"columnApi",2),HW([zR("gridApi")],$G.prototype,"gridApi",2),HW([zE],$G.prototype,"init",1),HW([zT],$G.prototype,"clearDragSourceParamsList",1),$G=HW([zM("dragAndDropService")],$G);var $V=class extends jH{constructor(e,t,i,r,n,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=r,this.dragStartPixels=n,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(jy("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){let e=this.gos.get("rowDragManaged")?new $z(this,this.beans,this.rowNode,this.column):new $H(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];let e=this.beans.selectionService.getSelectedNodes();return -1!==e.indexOf(this.rowNode)?e:[this.rowNode]}checkCompatibility(){let e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&za("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();let t=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var e;let i=this.getDragItem(),r=(null==(e=i.rowNodes)?void 0:e.length)||1,n=this.getRowDragText(this.column);return n?n(i,r):1===r?this.cellValueFn():`${r} ${t("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};HW([zR("beans")],$V.prototype,"beans",2),HW([zE],$V.prototype,"postConstruct",1),HW([zT],$V.prototype,"removeDragSource",1);var $B=class extends Wl{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){let t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let e=!0,i=!1;this.column&&(e=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=zd(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,t),this.parent.setVisible(e,t)):(this.parent.setDisplayed(e,t),this.parent.setVisible(!0,t))}}},$H=class extends $B{constructor(e,t,i,r){super(e,i,r),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}};HW([zE],$H.prototype,"postConstruct",1);var $z=class extends $B{constructor(e,t,i,r){super(e,i,r),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,Wc.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Wc.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),t=e&&e.shouldPreventRowMove(),i=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(t&&!r||i)}};HW([zE],$z.prototype,"postConstruct",1);var $W=class extends Wl{init(e,t,i,r,n,o,s){var a,l,u,d;this.params=s,this.eGui=t,this.eCheckbox=i,this.eExpanded=r,this.eContracted=n,this.comp=e,this.compClass=o;let{node:h,value:c,colDef:p}=s,g=this.isTopLevelFooter();if(!g){if(this.isEmbeddedRowMismatch())return;if(h.footer&&this.gos.get("groupHideOpenParents")&&(p&&p.showRowGroup)!==(h.rowGroupColumn&&h.rowGroupColumn.getColId()))return}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!g){let e=s.node.footer&&s.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(e=>{var t;return e.getColId()===(null==(t=s.colDef)?void 0:t.showRowGroup)}),t="multipleColumns"!=this.gos.get("groupDisplayType")||this.gos.get("treeData")||this.gos.get("showOpenedGroup")&&!s.node.footer&&(!s.node.group||null!=s.node.rowGroupIndex&&s.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(e=>{var t;return e.getColId()===(null==(t=s.colDef)?void 0:t.showRowGroup)})),i=!h.group&&((null==(a=this.params.colDef)?void 0:a.field)||(null==(l=this.params.colDef)?void 0:l.valueGetter)),r=this.isExpandable(),n=this.columnModel.isPivotMode()&&h.leafGroup&&(null==(u=h.rowGroupColumn)?void 0:u.getColId())===(null==(d=s.column)?void 0:d.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!r&&!i&&!t&&!e&&!n)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var e,t;let i=null==(e=this.params.colDef)?void 0:e.cellAriaRole,r=null==(t=this.params.column)?void 0:t.getColDef().cellAriaRole;return i||r||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){let{node:e,eGridCell:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void W5(t);let i=()=>{W2(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,$L.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gos.getGrandTotalRow()||null!=this.params.value||-1!=this.params.node.level)return!1;let e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;let t=this.columnModel.getRowGroupColumns();return!t||0===t.length||t[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;let e="left"===this.params.pinned,t="right"===this.params.pinned,i=!e&&!t;return this.gos.get("enableRtl")?this.columnModel.isPinningLeft()?!t:!i:this.columnModel.isPinningLeft()?!e:!i}findDisplayedGroupNode(){let e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let i=t.parent;for(;null!=i;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}HY(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){let e=this.params.node,t=this.params.column;if(!this.gos.get("groupHideOpenParents")||!e.groupData){this.showingValueForOpenedParent=!1;return}if(null!=e.rowGroupColumn){let i=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(i)){this.showingValueForOpenedParent=!1;return}}let i=null!=e.groupData[t.getId()];this.showingValueForOpenedParent=i}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var e;let t=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(t),{valueFormatted:r,value:n}=t,o=r;if(null==o){let t=this.displayedGroupNode.rowGroupColumn&&(null==(e=this.params.column)?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));o=""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&t?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):null!=n?n:null}this.comp.setInnerRenderer(i,o)}adjustParamsWithDetailsFromRelatedColumn(){let e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e||null!=t&&!t.isRowGroupDisplayed(e.getId()))return this.params;let i=this.params,{value:r,node:n}=this.params,o=this.valueService.formatValue(e,n,r);return Hk(HH({},i),HF({valueFormatted:o}))}addFooterValue(){let e=this.params.totalValueGetter;if(!e){let t=this.params.footerValueGetter;t&&(e=t,za("As of v31.3, footerValueGetter is deprecated. Use `totalValueGetter` instead."))}let t="";if(e){let i=H8(this.params);i.value=this.params.value,"function"==typeof e?t=e(i):"string"==typeof e?t=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(null!=this.params.value?this.params.value:"");let i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gos.get("groupRowRendererParams"),e);let t=this.userComponentFactory.getInnerRendererDetails(e,e),i=e=>e&&e.componentClass==this.compClass;if(t&&!i(t))return t;let r=this.displayedGroupNode.rowGroupColumn,n=r?r.getColDef():void 0;if(!n)return;let o=this.userComponentFactory.getCellRendererDetails(n,e);return o&&!i(o)?o:i(o)&&n.cellRendererParams&&n.cellRendererParams.innerRenderer?this.userComponentFactory.getInnerRendererDetails(n.cellRendererParams,e):void 0}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,$L.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){let e=this.displayedGroupNode.allChildrenCount,t=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?`(${e})`:"";this.comp.setChildCount(t)}isShowRowGroupForThisRow(){if(this.gos.get("treeData"))return!0;let e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;let t=this.params.column;return null==t||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;let t=this.params,i=jy("groupExpanded",this.gos,null),r=jy("groupContracted",this.gos,null);i&&this.eExpanded.appendChild(i),r&&this.eContracted.appendChild(r);let n=t.eGridCell;!((null==(e=this.params.column)?void 0:e.isCellEditable(t.node))&&this.gos.get("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(n,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,$L.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();let o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,$L.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroupNode,$L.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroupNode,$L.EVENT_GROUP_CHANGED,o),this.addManagedListener(this.displayedGroupNode,$L.EVENT_HAS_CHILDREN_CHANGED,o)}onExpandClicked(e){We(e)||(z7(e),this.onExpandOrContract(e))}onExpandOrContract(e){let t=this.displayedGroupNode,i=!t.expanded;!i&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(i,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;let e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;let i=this.params.column;return null==i||"string"!=typeof i.getColDef().showRowGroup||this.isShowRowGroupForThisRow()}showExpandAndContractIcons(){let{params:e,displayedGroupNode:t,columnModel:i}=this,{node:r}=e,n=this.isExpandable();if(n){let e=!!this.showingValueForOpenedParent||r.expanded;this.comp.setExpandedDisplayed(e),this.comp.setContractedDisplayed(!e)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);let o=i.isPivotMode(),s=o&&t.leafGroup,a=n&&!s,l=r.footer&&-1===r.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",a),this.comp.addOrRemoveCssClass("ag-row-group",a),o?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",s):l||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!a)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){let e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,$L.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gos.get("groupHideOpenParents"))return;let e=this.params,t=e.node,i=!!e.colDef,r=this.gos.get("treeData"),n=!i||r||!0===e.colDef.showRowGroup?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+n,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;let e=new $V(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){let e=this.params.checkbox;return"function"==typeof e||!0===e}addCheckboxIfNeeded(){let e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){let e=new $k;this.getContext().createBean(e),e.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(e.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(e))}this.comp.setCheckboxVisible(t)}onKeyDown(e){e.key!==jw.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){We(e)||Wr(this.eExpanded,e)||Wr(this.eContracted,e)||this.onExpandOrContract(e)}};HW([zR("expressionService")],$W.prototype,"expressionService",2),HW([zR("valueService")],$W.prototype,"valueService",2),HW([zR("columnModel")],$W.prototype,"columnModel",2),HW([zR("userComponentFactory")],$W.prototype,"userComponentFactory",2),HW([zR("ctrlsService")],$W.prototype,"ctrlsService",2);var $U=class e extends jH{constructor(){super(e.TEMPLATE)}init(e){let t=this.createManagedBean(new $W),i=!e.colDef,r=this.getGui();t.init({setInnerRenderer:(e,t)=>this.setRenderDetails(e,t),setChildCount:e=>this.eChildCount.textContent=e,addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setContractedDisplayed:e=>UH(this.eContracted,e),setExpandedDisplayed:e=>UH(this.eExpanded,e),setCheckboxVisible:e=>this.eCheckbox.classList.toggle("ag-invisible",!e)},r,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),i&&WH(r,t.getCellAriaRole())}setRenderDetails(e,t){if(e){let t=e.newAgStackInstance();t&&t.then(e=>{if(!e)return;let t=()=>this.context.destroyBean(e);this.isAlive()?(this.eValue.appendChild(e.getGui()),this.addDestroyFunc(t)):t()})}else this.eValue.innerText=t}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};$U.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,HW([jz("eExpanded")],$U.prototype,"eExpanded",2),HW([jz("eContracted")],$U.prototype,"eContracted",2),HW([jz("eCheckbox")],$U.prototype,"eCheckbox",2),HW([jz("eValue")],$U.prototype,"eValue",2),HW([jz("eChildCount")],$U.prototype,"eChildCount",2);var $j=class e extends jH{constructor(){super(e.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){let e=jy("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);let t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};$j.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,HW([jz("eLoadingIcon")],$j.prototype,"eLoadingIcon",2),HW([jz("eLoadingText")],$j.prototype,"eLoadingText",2);var $$=class e extends jH{constructor(){super(e.TEMPLATE)}init(e){let t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>WK(e.eParentOfValue)),WK(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");let t=e("ariaSkeletonCellLoadingFailed","Row failed to load");W$(this.getGui(),t)}setupLoading(){let e=this.gos.getDocument().createElement("div");e.classList.add("ag-skeleton-effect"),this.getGui().appendChild(e);let t=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");W$(this.getGui(),t)}refresh(e){return!1}destroy(){super.destroy()}};$$.TEMPLATE='<div class="ag-skeleton-container"></div>';var $K=class e extends jH{constructor(){super()}destroy(){super.destroy()}init(t){let i=this.gos.get("overlayLoadingTemplate");if(this.setTemplate(null!=i?i:e.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){let e=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=e("loadingOoo","Loading...")})}}};$K.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var $Y=class e extends jH{constructor(){super()}destroy(){super.destroy()}init(t){let i=this.gos.get("overlayNoRowsTemplate");if(this.setTemplate(null!=i?i:e.DEFAULT_NO_ROWS_TEMPLATE),!i){let e=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=e("noRowsToShow","No Rows To Show")})}}};$Y.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var $q=class extends $E{constructor(){super('<div class="ag-tooltip"></div>')}init(e){let{value:t}=e;this.getGui().textContent=WS(t,!0)}},$X=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);let i=e.getInputElement();t.preventStepping?e.addManagedListener(i,"keydown",this.preventStepping):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===jw.UP||e.key===jw.DOWN)&&e.preventDefault()}getValue(){let e=this.eInput.getValue();if(!HK(e)&&!HK(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"==typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}},$Z=class extends $R{constructor(){super(new $X)}},$Q=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){let e=this.eInput.getDate();return HK(e)||HK(this.params.value)?null!=e?e:null:this.params.value}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return UP(e,!1)}},$J=class extends $R{constructor(){super(new $Q)}},$0=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){let e=this.formatDate(this.eInput.getDate());return HK(e)||HK(this.params.value)?this.params.parseValue(null!=e?e:""):this.params.value}getStartValue(){var e,t;return UP(null!=(t=this.parseDate(null!=(e=this.params.value)?e:void 0))?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)}},$1=class extends $R{constructor(){super(new $0(()=>this.dataTypeService))}};HW([zR("dataTypeService")],$1.prototype,"dataTypeService",2);var $2=class e extends jH{constructor(){super(e.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e);let t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),Wq(t,"polite"),this.addManagedListener(t,"click",e=>{if(z7(e),this.eCheckbox.isDisabled())return;let t=this.eCheckbox.getValue();this.onCheckboxChanged(t)}),this.addManagedListener(t,"dblclick",e=>{z7(e)}),this.addManagedListener(this.params.eGridCell,"keydown",e=>{if(e.key===jw.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();let t=this.eCheckbox.getValue();this.onCheckboxChanged(t),e.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var t,i,r;let n,o=!0;if(e.node.group&&e.column){let i=e.column.getColId();i.startsWith(Wf)?n=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[i]?n=null!=(t=e.value)?t:void 0:o=!1}else n=null!=(i=e.value)?i:void 0;if(!o)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(n);let s=null!=e.disabled?e.disabled:!(null==(r=e.column)?void 0:r.isCellEditable(e.node));this.eCheckbox.setDisabled(s);let a=this.localeService.getLocaleTextFunc(),l=Ua(a,n),u=s?l:`${a("ariaToggleCellValue","Press SPACE to toggle cell value")} (${l})`;this.eCheckbox.setInputAriaLabel(u)}onCheckboxChanged(e){let{column:t,node:i,rowIndex:r,value:n}=this.params,o={type:Wc.EVENT_CELL_EDITING_STARTED,column:t,colDef:null==t?void 0:t.getColDef(),data:i.data,node:i,rowIndex:r,rowPinned:i.rowPinned,value:n};this.eventService.dispatchEvent(o);let s=this.params.node.setDataValue(this.params.column,e,"edit"),a={type:Wc.EVENT_CELL_EDITING_STOPPED,column:t,colDef:null==t?void 0:t.getColDef(),data:i.data,node:i,rowIndex:r,rowPinned:i.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:s};this.eventService.dispatchEvent(a)}};$2.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,HW([jz("eCheckbox")],$2.prototype,"eCheckbox",2);var $5=class extends $E{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(e){var t;this.params=e;let i=null!=(t=e.value)?t:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,Wc.EVENT_FIELD_VALUE_CHANGED,e=>this.setAriaLabel(e.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.localeService.getLocaleTextFunc(),i=Ua(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${r} (${i})`)}};HW([jz("eCheckbox")],$5.prototype,"eCheckbox",2);var $3=class extends jH{constructor(){super(),this.setTemplate("<div></div>")}init(e){var t;this.params=e,this.cssClassPrefix=null!=(t=this.params.cssClassPrefix)?t:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;let e=U3(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(jy("check",this.gos)):this.params.icon&&(js(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){let e=U3(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;let e=U3(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){let e=U3(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),t=this.getGui();if(this.params.subMenu){let i=this.gos.get("enableRtl")?"smallLeft":"smallRight";W2(t,!1),e.appendChild(jy(i,this.gos))}t.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}destroy(){super.destroy()}},$4=class extends Wl{constructor(){super(...arguments),this.agGridDefaults={agDateInput:$l,agColumnHeader:$x,agColumnGroupHeader:$_,agSortIndicator:$S,agTextColumnFloatingFilter:$w,agNumberColumnFloatingFilter:$C,agDateColumnFloatingFilter:$a,agReadOnlyFloatingFilter:jU,agAnimateShowChangeCellRenderer:$I,agAnimateSlideCellRenderer:$P,agGroupCellRenderer:$U,agGroupRowRenderer:$U,agLoadingCellRenderer:$j,agSkeletonCellRenderer:$$,agCheckboxCellRenderer:$2,agCellEditor:$A,agTextCellEditor:$A,agNumberCellEditor:$Z,agDateCellEditor:$J,agDateStringCellEditor:$1,agSelectCellEditor:$M,agLargeTextCellEditor:$T,agCheckboxCellEditor:$5,agTextColumnFilter:$f,agNumberColumnFilter:$p,agDateColumnFilter:$o,agLoadingOverlay:$K,agNoRowsOverlay:$Y,agTooltipComponent:$q,agMenuItem:$3},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){let e=this.gos.get("components");null!=e&&H6(e,(e,t)=>this.registerJsComponent(e,t))}registerDefaultComponent(e,t){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){let i=(e,t)=>({componentFromFramework:t,component:e}),r=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=r)return i(r,!0);let n=this.jsComps[t];if(n){let e=this.getFrameworkOverrides().isFrameworkComponent(n);return i(n,e)}let o=this.agGridDefaults[t];if(o)return i(o,!1);let s=this.enterpriseAgDefaultCompsModule[t];return s?zS.__assertRegistered(s,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):zs(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){let i=jg(t,[...Object.keys(this.agGridDefaults).filter(e=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(e)),...Object.keys(this.jsComps)],!0,.8).values;console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),i.length>0&&console.warn(`         Did you mean: [${i.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};HW([zE],$4.prototype,"init",1),$4=HW([zM("userComponentRegistry")],$4);var $6={propertyName:"dateComponent",cellRenderer:!1},$8={propertyName:"headerComponent",cellRenderer:!1},$9={propertyName:"headerGroupComponent",cellRenderer:!1},$7={propertyName:"cellRenderer",cellRenderer:!0},Ke={propertyName:"loadingCellRenderer",cellRenderer:!0},Kt={propertyName:"cellEditor",cellRenderer:!1},Ki={propertyName:"innerRenderer",cellRenderer:!0},Kr={propertyName:"loadingOverlayComponent",cellRenderer:!1},Kn={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Ko={propertyName:"tooltipComponent",cellRenderer:!1},Ks={propertyName:"filter",cellRenderer:!1},Ka={propertyName:"floatingFilterComponent",cellRenderer:!1},Kl={propertyName:"toolPanel",cellRenderer:!1},Ku={propertyName:"statusPanel",cellRenderer:!1},Kd={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Kh={propertyName:"loadingCellRenderer",cellRenderer:!0},Kc={propertyName:"groupRowRenderer",cellRenderer:!0},Kp={propertyName:"detailCellRenderer",cellRenderer:!0},Kg={propertyName:"menuItem",cellRenderer:!1},Kf=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};Kf.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var Km=class extends Wl{getHeaderCompDetails(e,t){return this.getCompDetails(e,$8,"agColumnHeader",t)}getHeaderGroupCompDetails(e){let t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,$9,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Kd,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Kh,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Kc,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Kp,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,Ki,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,Ki,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,$7,null,t)}getLoadingCellRendererDetails(e,t){return this.getCompDetails(e,Ke,"agSkeletonCellRenderer",t,!0)}getCellEditorDetails(e,t){return this.getCompDetails(e,Kt,"agCellEditor",t,!0)}getFilterDetails(e,t,i){return this.getCompDetails(e,Ks,i,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,$6,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Kr,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Kn,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,Ko,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,$7,null,t)}getFloatingFilterCompDetails(e,t,i){return this.getCompDetails(e,Ka,i,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,Kl,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,Ku,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,Kg,"agMenuItem",t,!0)}getCompDetails(e,t,i,r,n=!1){let{propertyName:o,cellRenderer:s}=t,{compName:a,jsComp:l,fwComp:u,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:c}=this.getCompKeys(e,t,r),p=e=>{let t=this.userComponentRegistry.retrieve(o,e);t&&(l=t.componentFromFramework?void 0:t.component,u=t.componentFromFramework?t.component:void 0)};if(null!=a&&p(a),null==l&&null==u&&null!=i&&p(i),l&&s&&!this.agComponentUtils.doesImplementIComponent(l)&&(l=this.agComponentUtils.adaptFunction(o,l)),!l&&!u){n&&console.error(`AG Grid: Could not find component ${a}, did you forget to configure this component?`);return}let g=this.mergeParamsWithApplicationProvidedParams(e,t,r,d),f=null==l,m=l||u;return{componentFromFramework:f,componentClass:m,params:g,type:t,popupFromSelector:h,popupPositionFromSelector:c,newAgStackInstance:()=>this.newAgStackInstance(m,f,g,t)}}getCompKeys(e,t,i){let r,n,o,s,a,l,{propertyName:u}=t;if(e){let t=e[u+"Selector"],d=t?t(i):null,h=e=>{"string"==typeof e?r=e:null!=e&&!0!==e&&(this.getFrameworkOverrides().isFrameworkComponent(e)?o=e:n=e)};d?(h(d.component),s=d.params,a=d.popup,l=d.popupPosition):h(e[u])}return{compName:r,jsComp:n,fwComp:o,paramsFromSelector:s,popupFromSelector:a,popupPositionFromSelector:l}}newAgStackInstance(e,t,i,r){let n,o=r.propertyName;if(t){let t=this.componentMetadataProvider.retrieve(o);n=this.frameworkComponentWrapper.wrap(e,t.mandatoryMethodList,t.optionalMethodList,r)}else n=new e;let s=this.initComponent(n,i);return null==s?jN.resolve(n):s.then(()=>n)}mergeParamsWithApplicationProvidedParams(e,t,i,r=null){let n=this.gos.getGridCommonParams();ze(n,i);let o=e&&e[t.propertyName+"Params"];return"function"==typeof o?ze(n,o(i)):"object"==typeof o&&ze(n,o),ze(n,r),n}initComponent(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)}getDefaultFloatingFilterType(e,t){if(null==e)return null;let i=null,{compName:r,jsComp:n,fwComp:o}=this.getCompKeys(e,Ks);return r?i=Kf.getFloatingFilterType(r):null==n&&null==o&&!0===e.filter&&(i=t()),i}};HW([zR("gridOptions")],Km.prototype,"gridOptions",2),HW([zR("agComponentUtils")],Km.prototype,"agComponentUtils",2),HW([zR("componentMetadataProvider")],Km.prototype,"componentMetadataProvider",2),HW([zR("userComponentRegistry")],Km.prototype,"userComponentRegistry",2),HW([zD("frameworkComponentWrapper")],Km.prototype,"frameworkComponentWrapper",2),Km=HW([zM("userComponentFactory")],Km);var Kv=((M=Kv||{})[M.SINGLE_SHEET=0]="SINGLE_SHEET",M[M.MULTI_SHEET=1]="MULTI_SHEET",M),Ky=((R=Ky||{})[R.Above=0]="Above",R[R.Below=1]="Below",R),KC=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){let i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;let r=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<r.left+n,this.tickRight=e.clientX>r.right-n,this.tickUp=e.clientY<r.top+n&&!i,this.tickDown=e.clientY>r.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let e;if(this.tickCount++,e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Kw=class extends Wl{constructor(e){super(),this.eContainer=e}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(e=>{let t=e.gridBodyCtrl;this.autoScrollService=new KC({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?$G.ICON_NOT_ALLOWED:$G.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let e=[...this.selectionService.getSelectedNodes()].sort((e,t)=>null==e.rowIndex||null==t.rowIndex?0:this.getRowIndexNumber(e)-this.getRowIndexNumber(t));if(-1!==e.indexOf(t))return e}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(Wc.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(e=>{e.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(e){let t=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=e;return!t.contains(i)}onEnterOrDragging(e){this.dispatchGridEvent(Wc.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;let t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){let i=this.isFromThisGrid(e),r=this.gos.get("rowDragManaged"),n=e.dragItem.rowNodes;!(r&&this.shouldPreventRowMove())&&(this.gos.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(n[0],t):this.moveRows(n,t))}getRowIndexNumber(e){return parseInt(zW(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){let t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&1===t.highlighted,r=this.mouseEventService.getNormalisedPosition(e).y,n=e.dragItem.rowNodes,o=+!!i;if(this.isFromThisGrid(e))n.forEach(e=>{e.rowTop<r&&(o-=1)}),this.moveRows(n,r,o);else{let e=this.gos.getCallback("getRowId"),t=this.clientSideRowModel.getRowIndexAtPixel(r)+1;0===this.clientSideRowModel.getHighlightPosition(r)&&t--,this.clientSideRowModel.updateRowData({add:n.map(e=>e.data).filter(t=>!this.clientSideRowModel.getRowNode(e?e({data:t,level:0}):t.id)),addIndex:t})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){var r;this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),null==(r=this.rangeService)||r.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void za("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=t=>{e.onDragEnter(this.draggingToRowDragEvent(Wc.EVENT_ROW_DRAG_ENTER,t))}),e.onDragLeave&&(t.onDragLeave=t=>{e.onDragLeave(this.draggingToRowDragEvent(Wc.EVENT_ROW_DRAG_LEAVE,t))}),e.onDragging&&(t.onDragging=t=>{e.onDragging(this.draggingToRowDragEvent(Wc.EVENT_ROW_DRAG_MOVE,t))}),e.onDragStop&&(t.onDragStop=t=>{e.onDragStop(this.draggingToRowDragEvent(Wc.EVENT_ROW_DRAG_END,t))})),this.dragAndDropService.addDropTarget(HH({isInterestedIn:e=>2===e,getIconName:()=>$G.ICON_MOVE,external:!0},t))}getRowDropZone(e){let t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),n=this.onDragging.bind(this),o=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?t=>{i(t),e.onDragEnter(this.draggingToRowDragEvent(Wc.EVENT_ROW_DRAG_ENTER,t))}:i,onDragLeave:e.onDragLeave?t=>{r(t),e.onDragLeave(this.draggingToRowDragEvent(Wc.EVENT_ROW_DRAG_LEAVE,t))}:r,onDragging:e.onDragging?t=>{n(t),e.onDragging(this.draggingToRowDragEvent(Wc.EVENT_ROW_DRAG_MOVE,t))}:n,onDragStop:e.onDragStop?t=>{o(t),e.onDragStop(this.draggingToRowDragEvent(Wc.EVENT_ROW_DRAG_END,t))}:o,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:r,onDragging:n,onDragStop:o,fromGrid:!0}}draggingToRowDragEvent(e,t){let i,r,n=this.mouseEventService.getNormalisedPosition(t).y,o=n>this.paginationProxy.getCurrentPageHeight(),s=-1;switch(!o&&(s=this.rowModel.getRowIndexAtPixel(n),i=this.rowModel.getRow(s)),t.vDirection){case 1:r="down";break;case 0:r="up";break;default:r=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:s,overNode:i,y:n,vDirection:r})}dispatchGridEvent(e,t){let i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent(Wc.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent(Wc.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(e=>{e.setDragging(!1)})}};HW([zR("dragAndDropService")],Kw.prototype,"dragAndDropService",2),HW([zR("rowModel")],Kw.prototype,"rowModel",2),HW([zR("paginationProxy")],Kw.prototype,"paginationProxy",2),HW([zR("columnModel")],Kw.prototype,"columnModel",2),HW([zR("focusService")],Kw.prototype,"focusService",2),HW([zR("sortController")],Kw.prototype,"sortController",2),HW([zR("filterManager")],Kw.prototype,"filterManager",2),HW([zR("selectionService")],Kw.prototype,"selectionService",2),HW([zR("mouseEventService")],Kw.prototype,"mouseEventService",2),HW([zR("ctrlsService")],Kw.prototype,"ctrlsService",2),HW([zD("rangeService")],Kw.prototype,"rangeService",2),HW([zE],Kw.prototype,"postConstruct",1);var Kb=class extends Wl{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){let t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){let i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){let t=this.dragSources.find(t=>t.dragSource===e);t&&(this.removeListener(t),zq(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:r,stopPropagationForTouch:n}=e;i.addEventListener("mousedown",t);let o=null,s=this.gos.get("suppressTouch");r&&!s&&(o=t=>{UB(t.target)||(t.cancelable&&(t.preventDefault(),n&&t.stopPropagation()),this.onTouchStart(e,t))},i.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!r})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let i=t.touches[0];this.touchLastTime=i,this.touchStart=i;let r=t=>this.onTouchMove(t,e.eElement),n=t=>this.onTouchUp(t,e.eElement),o=t.target,s=[{target:this.gos.getRootNode(),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:r,options:{passive:!0}},{target:o,type:"touchend",listener:n,options:{passive:!0}},{target:o,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(s),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){if(e.skipMouseEvent&&e.skipMouseEvent(t)||t._alreadyProcessedByDragService||(t._alreadyProcessedByDragService=!0,0!==t.button))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let i=t=>this.onMouseMove(t,e.eElement),r=t=>this.onMouseUp(t,e.eElement),n=this.gos.getRootNode(),o=[{target:n,type:"mousemove",listener:i},{target:n,type:"mouseup",listener:r},{target:n,type:"contextmenu",listener:e=>e.preventDefault()}];this.addTemporaryEvents(o),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(e=>{let{target:t,type:i,listener:r,options:n}=e;t.addEventListener(i,r,n)}),this.dragEndFunctions.push(()=>{e.forEach(e=>{let{target:t,type:i,listener:r,options:n}=e;t.removeEventListener(i,r,n)})})}isEventNearStartEvent(e,t){let{dragStartPixels:i}=this.currentDragParams;return jM(e,t,HK(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;let r={type:Wc.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(r),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){let i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;Uu()&&(null==(i=this.gos.getDocument().getSelection())||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){let t=this.gos.get("enableCellTextSelection"),i="mousemove"===e.type;return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){let t=e.target,i=null==t?void 0:t.tagName.toLocaleLowerCase();return!!(null==i?void 0:i.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);let i={type:Wc.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}};HW([zR("mouseEventService")],Kb.prototype,"mouseEventService",2),HW([zT],Kb.prototype,"removeAllListeners",1),Kb=HW([zM("dragService")],Kb);var KS="ag-list-item-hovered",Kx=class extends Wl{constructor(e,t,i){super(),this.comp=e,this.virtualList=t,this.params=i,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){this.dragAndDropService.addDropTarget({isInterestedIn:e=>e===this.params.dragSourceType,getIconName:()=>this.moveBlocked?$G.ICON_PINNED:$G.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()})}createAutoScrollService(){let e=this.virtualList.getGui();this.autoScrollService=new KC({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;let t=this.getListDragItem(e),i=this.virtualList.getComponentAt(t.rowIndex);if(!i)return;let r=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,UO(r,KS),UO(r,`ag-item-highlight-${t.position}`))}getListDragItem(e){let t=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(t).paddingTop),r=this.virtualList.getRowHeight(),n=this.virtualList.getScrollTop(),o=Math.max(0,(e.y-i+n)/r),s=this.params.getNumRows(this.comp)-1,a=0|Math.min(s,o);return{rowIndex:a,position:Math.round(o)>o||o>s?"bottom":"top",component:this.virtualList.getComponentAt(a)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${KS}`).forEach(e=>{[KS,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(t=>{e.classList.remove(t)})}),this.lastHoveredListItem=null}};function K_(e){return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():e}HW([zR("dragAndDropService")],Kx.prototype,"dragAndDropService",2),HW([zE],Kx.prototype,"postConstruct",1);var KE=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}__getAlignedGridService(){return this.alignedGridsService}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){delete this.detailGridInfoMap[e]}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;H6(this.detailGridInfoMap,(i,r)=>{HK(r)&&(e(r,t),t++)})}getDataAsCsv(e){if(zS.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){zS.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCsv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}assertNotExcelMultiSheet(e,t){return!!zS.__assertRegistered("@ag-grid-enterprise/excel-export","api."+e,this.context.getGridId())&&(1!==this.excelCreator.getFactoryMode()||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1))}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(zS.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(zS.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){zS.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,t){if(!e)return;let i=this.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${e}`;null===t?i.removeAttribute(r):i.setAttribute(r,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}logDeprecation(e,t,i,r){za(`Since ${e} api.${t} is deprecated. Please use ${i} instead. ${null!=r?r:""}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(e={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(e))}flashCells(e={}){let t=e=>za(`Since v31.1 api.flashCells parameter '${e}Delay' is deprecated. Please use '${e}Duration' instead.`);HK(e.fadeDelay)&&t("fade"),HK(e.flashDelay)&&t("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(e))}redrawRows(e={}){let t=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(t))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return za("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(e,t,i,r){this.expansionService.setRowNodeExpanded(e,t,i,r)}onGroupExpandedOrCollapsed(){HY(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(e){HY(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(e,t,i){this.rowRenderer.addRenderedRowListener(e,t,i)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return zS.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.filterManager.setAdvancedFilterModel(e)}showAdvancedFilterBuilder(){zS.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every(e=>e.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==e.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)))return;let{nodes:t,source:i,newValue:r}=e;this.selectionService.setNodesSelected({nodes:t,source:null!=i?i:"api",newValue:r})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return HY(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(e){HY(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(e,"api")}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){return HY(this.clientSideRowModel)?void this.logMissingRowModel("getBestCostNodeSelection","clientSide"):this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t),"ensureVisible")}ensureIndexVisible(e,t){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t),"ensureVisible")}ensureNodeVisible(e,t=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t),"ensureVisible")}forEachLeafNode(e){HY(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){HY(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){HY(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){return za("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.filterManager.getColumnFilterInstance(e)}destroyFilter(e){let t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(zS.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return K_(this.statusBarService.getStatusPanel(e))}getColumnDef(e){let t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(e="api"){this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(e))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(e){return this.filterManager.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.filterManager.setColumnFilterModel(e,t)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,i){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:i,forceBrowserFocus:!0})}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){let t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}assertSideBarLoaded(e){return zS.__assertRegistered("@ag-grid-enterprise/side-bar","api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance"))return K_(this.sideBarService.getSideBarComp().getToolPanelInstance(e))}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(HK(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setRowCount(e,t){this.serverSideRowModel?this.columnModel.isRowGroupEmpty()?this.serverSideRowModel.setRowCount(e,t):console.error("AG Grid: setRowCount cannot be used while using row grouping."):this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){return this.logDeprecation("31.3","getValue","getCellValue"),this.getCellValue({colKey:e,rowNode:t})}getCellValue(e){var t;let{colKey:i,rowNode:r,useFormatter:n}=e,o=null!=(t=this.columnModel.getPrimaryColumn(i))?t:this.columnModel.getGridColumn(i);if(HY(o))return null;let s=this.valueService.getValue(o,r);if(n){let e=this.valueService.formatValue(o,r,s);return null!=e?e:WS(s,!0)}return s}addEventListener(e,t){this.apiEventService.addEventListener(e,t)}addGlobalListener(e){this.apiEventService.addGlobalListener(e)}removeEventListener(e,t){this.apiEventService.removeEventListener(e,t)}removeGlobalListener(e){this.apiEventService.removeGlobalListener(e)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){var e;let t=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;let i={type:Wc.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(i),this.destroyCalled=!0,null==(e=this.ctrlsService.get("gridCtrl"))||e.destroyGridUi(),this.context.destroy(),this.detailGridInfoMap={},zi(this,["isDestroyed"],t)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(zS.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){this.rangeService?this.rangeService.addCellRange(e):zS.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),zS.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(e,t){if(zS.__assertRegistered("@ag-grid-enterprise/charts","api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>t())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(e){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(e))}getChartImageDataURL(e){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(e))}downloadChart(e){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(e))}openChartToolPanel(e){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(e))}closeChartToolPanel(e){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(e.chartId))}createRangeChart(e){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(e))}createPivotChart(e){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(e))}createCrossFilterChart(e){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(e))}updateChart(e){return this.assertChart("updateChart",()=>this.chartService.updateChart(e))}restoreChart(e,t){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(e,t))}assertClipboard(e,t){zS.__assertRegistered("@ag-grid-enterprise/clipboard","api"+e,this.context.getGridId())&&t()}copyToClipboard(e){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(e))}cutToClipboard(e){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(e))}copySelectedRowsToClipboard(e){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(e))}copySelectedRangeToClipboard(e){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(e))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(e,t){za("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");let i=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:i,buttonElement:t,positionBy:"button"})}showColumnMenuAfterMouseClick(e,t){za("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let i=this.columnModel.getGridColumn(e);(i||(i=this.columnModel.getPrimaryColumn(e)),i)?this.menuService.showColumnMenu({column:i,mouseEvent:t,positionBy:"mouse"}):console.error(`AG Grid: column '${e}' not found`)}showContextMenu(e){let{rowNode:t,column:i,value:r,x:n,y:o}=e||{},{x:s,y:a}=this.menuService.getContextMenuPosition(t,i);null!=n&&(s=n),null!=o&&(a=o),this.menuService.showContextMenu({mouseEvent:new MouseEvent("mousedown",{clientX:s,clientY:a}),rowNode:t,column:i,value:r})}showColumnChooser(e){this.menuService.showColumnChooser({chooserParams:e})}showColumnFilter(e){let t=this.columnModel.getGridColumn(e);t?this.menuService.showFilterMenu({column:t,containerType:"columnFilter",positionBy:"auto"}):console.error(`AG Grid: column '${e}' not found`)}showColumnMenu(e){let t=this.columnModel.getGridColumn(e);t?this.menuService.showColumnMenu({column:t,positionBy:"auto"}):console.error(`AG Grid: column '${e}' not found`)}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(K_)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(K_)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){let t=this.columnModel.getGridColumn(e.colKey);if(!t)return void console.warn(`AG Grid: no column found for ${e.colKey}`);let i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};null==e.rowPinned&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);let r=this.navigationService.getCellByPosition(i);r&&(this.focusService.isCellFocused(i)||this.focusService.setFocusedCell(i),r.startRowOrCellEdit(e.key))}addAggFunc(e,t){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:t})}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){return this.serverSideTransactionManager?this.serverSideTransactionManager.applyTransaction(e):void this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(e,t){return this.serverSideTransactionManager?this.serverSideTransactionManager.applyTransactionAsync(e,t):void this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}applyServerSideRowData(e){var t,i;let r=null!=(t=e.startRow)?t:0,n=null!=(i=e.route)?i:[];r<0?console.warn(`AG Grid: invalid value ${e.startRow} for startRow, the value should be >= 0`):this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,r,n):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){return this.serverSideTransactionManager?this.serverSideTransactionManager.flushAsyncTransactions():void this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(e){return this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(e)):void this.logMissingRowModel("applyTransaction","clientSide")}applyTransactionAsync(e,t){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(e,t)):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions()):this.logMissingRowModel("flushAsyncTransactions","clientSide")}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){this.serverSideRowModel?this.serverSideRowModel.refreshStore(e):this.logMissingRowModel("refreshServerSide","serverSide")}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}sizeColumnsToFit(e){"number"==typeof e?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t,"api")}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t,"api")}setColumnWidth(e,t,i=!0,r="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,i,r)}setColumnWidths(e,t=!0,i="api"){this.columnModel.setColumnWidths(e,!1,t,i)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:t,source:"api"})}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t,source:"api"})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns("api",e)}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(e){return this.gos.get(e)}setGridOption(e,t){this.updateGridOptions({[e]:t})}updateGridOptions(e){this.gos.updateGridOptions({options:e})}__internalUpdateGridOptions(e,t){this.gos.updateGridOptions({options:e,force:t,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(e,t){za(`set${e.charAt(0).toUpperCase()}${e.slice(1,e.length)} is deprecated. Please use 'api.setGridOption('${e}', newValue)' or 'api.updateGridOptions({ ${e}: newValue })' instead.`),this.setGridOption(e,t)}setPivotMode(e){this.deprecatedUpdateGridOption("pivotMode",e)}setPinnedTopRowData(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)}setPinnedBottomRowData(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)}setPopupParent(e){this.deprecatedUpdateGridOption("popupParent",e)}setSuppressModelUpdateAfterUpdateTransaction(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)}setDataTypeDefinitions(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)}setPagination(e){this.deprecatedUpdateGridOption("pagination",e)}paginationSetPageSize(e){this.deprecatedUpdateGridOption("paginationPageSize",e)}setSideBar(e){this.deprecatedUpdateGridOption("sideBar",e)}setSuppressClipboardPaste(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)}setGroupRemoveSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.deprecatedUpdateGridOption("groupDisplayType",e)}setGroupIncludeFooter(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)}setRowClass(e){this.deprecatedUpdateGridOption("rowClass",e)}setDeltaSort(e){this.deprecatedUpdateGridOption("deltaSort",e)}setSuppressRowDrag(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)}setEnableAdvancedFilter(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)}setQuickFilter(e){za("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})}setExcludeHiddenColumnsFromQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)}setIncludeHiddenColumnsInQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.deprecatedUpdateGridOption("quickFilterParser",e)}setQuickFilterMatcher(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)}setAlwaysShowHorizontalScroll(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)}setFunctionsReadOnly(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)}setColumnDefs(e,t="api"){za("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})}setAutoGroupColumnDef(e,t="api"){za("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})}setDefaultColDef(e,t="api"){za("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})}setColumnTypes(e,t="api"){za("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})}setTreeData(e){this.deprecatedUpdateGridOption("treeData",e)}setServerSideDatasource(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)}setCacheBlockSize(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)}setDatasource(e){this.deprecatedUpdateGridOption("datasource",e)}setViewportDatasource(e){this.deprecatedUpdateGridOption("viewportDatasource",e)}setRowData(e){this.deprecatedUpdateGridOption("rowData",e)}setEnableCellTextSelection(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)}setHeaderHeight(e){this.deprecatedUpdateGridOption("headerHeight",e)}setDomLayout(e){this.deprecatedUpdateGridOption("domLayout",e)}setFillHandleDirection(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)}setGroupHeaderHeight(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)}setAnimateRows(e){this.deprecatedUpdateGridOption("animateRows",e)}setIsExternalFilterPresent(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)}setTabToNextCell(e){this.deprecatedUpdateGridOption("tabToNextCell",e)}setTabToNextHeader(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)}setNavigateToNextHeader(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)}setGetChildCount(e){this.deprecatedUpdateGridOption("getChildCount",e)}setProcessRowPostCreate(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)}setGetRowId(e){za("getRowId is a static property and can no longer be updated.")}setGetRowClass(e){this.deprecatedUpdateGridOption("getRowClass",e)}setIsFullWidthRow(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)}setIsRowSelectable(e){this.deprecatedUpdateGridOption("isRowSelectable",e)}setIsRowMaster(e){this.deprecatedUpdateGridOption("isRowMaster",e)}setPostSortRows(e){this.deprecatedUpdateGridOption("postSortRows",e)}setGetDocument(e){this.deprecatedUpdateGridOption("getDocument",e)}setGetContextMenuItems(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)}setGetMainMenuItems(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)}setProcessCellForClipboard(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)}setSendToClipboard(e){this.deprecatedUpdateGridOption("sendToClipboard",e)}setProcessCellFromClipboard(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)}setProcessPivotResultColDef(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.deprecatedUpdateGridOption("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)}setGetServerSideGroupLevelParams(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)}setGetRowStyle(e){this.deprecatedUpdateGridOption("getRowStyle",e)}setGetRowHeight(e){this.deprecatedUpdateGridOption("getRowHeight",e)}};HW([zR("rowRenderer")],KE.prototype,"rowRenderer",2),HW([zR("navigationService")],KE.prototype,"navigationService",2),HW([zR("filterManager")],KE.prototype,"filterManager",2),HW([zR("columnModel")],KE.prototype,"columnModel",2),HW([zR("selectionService")],KE.prototype,"selectionService",2),HW([zR("gridOptionsService")],KE.prototype,"gos",2),HW([zR("valueService")],KE.prototype,"valueService",2),HW([zR("alignedGridsService")],KE.prototype,"alignedGridsService",2),HW([zR("eventService")],KE.prototype,"eventService",2),HW([zR("pinnedRowModel")],KE.prototype,"pinnedRowModel",2),HW([zR("context")],KE.prototype,"context",2),HW([zR("rowModel")],KE.prototype,"rowModel",2),HW([zR("sortController")],KE.prototype,"sortController",2),HW([zR("paginationProxy")],KE.prototype,"paginationProxy",2),HW([zR("focusService")],KE.prototype,"focusService",2),HW([zR("dragAndDropService")],KE.prototype,"dragAndDropService",2),HW([zR("menuService")],KE.prototype,"menuService",2),HW([zR("valueCache")],KE.prototype,"valueCache",2),HW([zR("animationFrameService")],KE.prototype,"animationFrameService",2),HW([zR("ctrlsService")],KE.prototype,"ctrlsService",2),HW([zR("overlayService")],KE.prototype,"overlayService",2),HW([zR("stateService")],KE.prototype,"stateService",2),HW([zR("expansionService")],KE.prototype,"expansionService",2),HW([zR("apiEventService")],KE.prototype,"apiEventService",2),HW([zR("frameworkOverrides")],KE.prototype,"frameworkOverrides",2),HW([zR("undoRedoService")],KE.prototype,"undoRedoService",2),HW([zR("rowNodeBlockLoader")],KE.prototype,"rowNodeBlockLoader",2),HW([zD("csvCreator")],KE.prototype,"csvCreator",2),HW([zD("excelCreator")],KE.prototype,"excelCreator",2),HW([zD("rangeService")],KE.prototype,"rangeService",2),HW([zD("clipboardService")],KE.prototype,"clipboardService",2),HW([zD("aggFuncService")],KE.prototype,"aggFuncService",2),HW([zD("statusBarService")],KE.prototype,"statusBarService",2),HW([zD("chartService")],KE.prototype,"chartService",2),HW([zD("ssrmTransactionManager")],KE.prototype,"serverSideTransactionManager",2),HW([zD("sideBarService")],KE.prototype,"sideBarService",2),HW([zE],KE.prototype,"init",1),KE=HW([zM("gridApi")],KE);var KT=class extends Wl{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_VISIBLE,()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return HK(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!=typeof e)return void console.warn(`AG Grid - Grid option quickFilterText only supports string inputs, received: ${typeof e}`);let t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchEvent({type:KT.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchEvent({type:KT.EVENT_QUICK_FILTER_CHANGED}))}onQuickFilterColumnConfigChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:KT.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(i=>{let r=this.getQuickFilterTextForColumn(i,e);return HK(r)&&r.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);let{quickFilterParts:r,matcher:n}=this;return n(r,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0),r=e.getColDef();if(r.getQuickFilterText){let n=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:r});i=r.getQuickFilterText(n)}return HK(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){let t=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(i=>{let r=this.getQuickFilterTextForColumn(i,e);HK(r)&&t.push(r)}),t.join(KT.QUICK_FILTER_SEPARATOR)}};KT.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",KT.QUICK_FILTER_SEPARATOR="\n",HW([zR("valueService")],KT.prototype,"valueService",2),HW([zR("columnModel")],KT.prototype,"columnModel",2),HW([zR("rowModel")],KT.prototype,"rowModel",2),HW([zE],KT.prototype,"postConstruct",1),KT=HW([zM("quickFilterService")],KT);var KM=class extends Wl{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var e,t,i;this.addManagedListener(this.eventService,Wc.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,Wc.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",e=>this.setAdvancedFilterModel(e.currentValue)),this.addManagedListener(this.eventService,Wc.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:e})=>this.onAdvancedFilterEnabledChanged(e)),this.addManagedListener(this.eventService,Wc.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,KT.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=HH({},null!=(i=null==(t=null==(e=this.gos.get("initialState"))?void 0:e.filter)?void 0:t.filterModel)?i:{})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return"function"==typeof t&&t(e)}setFilterModel(e,t="api"){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();if(this.dataTypeService.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:t});let i=[],r=this.getFilterModel();if(e){let t=jI(Object.keys(e));this.allColumnFilters.forEach((r,n)=>{let o=e[n];i.push(this.setModelOnFilterWrapper(r.filterPromise,o)),t.delete(n)}),t.forEach(t=>{let r=this.columnModel.getPrimaryColumn(t)||this.columnModel.getGridColumn(t);if(!r)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+t);if(!r.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+t);let n=this.getOrCreateFilterWrapper(r,"NO_UI");n?i.push(this.setModelOnFilterWrapper(n.filterPromise,e[t])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+t)})}else this.allColumnFilters.forEach(e=>{i.push(this.setModelOnFilterWrapper(e.filterPromise,null))});jN.all(i).then(()=>{let e=this.getFilterModel(),i=[];this.allColumnFilters.forEach((t,n)=>{let o=r?r[n]:null,s=e?e[n]:null;jP.jsonEquals(o,s)||i.push(t.column)}),i.length>0&&this.onFilterChanged({columns:i,source:t})})}setModelOnFilterWrapper(e,t){return new jN(i=>{e.then(e=>{"function"!=typeof e.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(e.setModel(t)||jN.resolve()).then(()=>i())})})}getFilterModel(){let e={};return this.allColumnFilters.forEach((t,i)=>{let r=this.getModelFromFilterWrapper(t);HK(r)&&(e[i]=r)}),e}getModelFromFilterWrapper(e){var t;let i=e.filterPromise.resolveNow(null,e=>e);return null==i?null!=(t=this.initialFilterModel[e.column.getColId()])?t:null:"function"!=typeof i.getModel?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):i.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):(null==(t=this.advancedFilterService)?void 0:t.isFilterPresent())&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!(null==(e=this.advancedFilterService)?void 0:e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;let e=e=>!!e&&(e.isFilterActive?e.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),t=!!this.gos.getGroupAggFiltering(),i=e=>{if(!e.isPrimary())return!0;let i=!this.columnModel.isPivotActive();return!!e.isValueActive()&&!!i&&(!!this.columnModel.isPivotMode()||t)};this.allColumnFilters.forEach(t=>{if(t.filterPromise.resolveNow(!1,e)){let e=t.filterPromise.resolveNow(null,e=>e);i(t.column)?this.activeAggregateFilters.push(e):this.activeColumnFilters.push(e)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(i=>{let r=i.filterPromise.resolveNow(!1,e=>e.isFilterActive());i.column.setFilterActive(r,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(e,t,i){let{data:r,aggData:n}=e,o=i?this.activeAggregateFilters:this.activeColumnFilters,s=i?n:r;for(let i=0;i<o.length;i++){let r=o[i];if(null!=r&&r!==t){if("function"!=typeof r.doesFilterPass)throw Error("Filter is missing method doesFilterPass");if(!r.doesFilterPass({node:e,data:s}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){let t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){let{source:t,filterInstance:i,additionalEventAttributes:r,columns:n}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",r),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(e=>{e.filterPromise&&e.filterPromise.then(e=>{e&&e!==i&&e.onAnyFilterChanged&&e.onAnyFilterChanged()})});let o={source:t,type:Wc.EVENT_FILTER_CHANGED,columns:n||[]};r&&ze(o,r),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!(null!=(e=this.gos.get("allowShowChangeAfterFilter"))&&e)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}onNewRowsLoaded(e){this.allColumnFilters.forEach(e=>{e.filterPromise.then(e=>{e.onNewRowsLoaded&&e.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{let r=i?this.columnModel.getGridColumn(i):e;return r?this.valueService.getValue(r,t,!0):void 0}}getFilterComponent(e,t,i=!0){var r;if(i)return(null==(r=this.getOrCreateFilterWrapper(e,t))?void 0:r.filterPromise)||null;let n=this.cachedFilter(e);return n?n.filterPromise:null}isFilterActive(e){let t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,e=>e.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let i=this.cachedFilter(e);return i||(i=this.createFilterWrapper(e,t),this.setColumnFilterWrapper(e,i)),i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(zS.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFilter";else{let i=this.dataTypeService.getBaseDataType(e);t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(zS.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFloatingFilter";else{let i=this.dataTypeService.getBaseDataType(e);t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e){let t,i=this.getDefaultFilter(e),r=e.getColDef(),n=Hk(HH({},this.createFilterParams(e,r)),HF({filterModifiedCallback:()=>this.filterModifiedCallbackFactory(t,e)(),filterChangedCallback:i=>this.filterChangedCallbackFactory(t,e)(i),doesRowPassOtherFilter:e=>this.doesRowPassOtherFilters(t,e)})),o=this.userComponentFactory.getFilterDetails(r,n,i);return o?{filterPromise:()=>{let e=o.newAgStackInstance();return e&&e.then(e=>t=e),e},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:H8(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e,t){var i;let r={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:n,compDetails:o}=this.createFilterInstance(e);return r.filterPromise=null!=(i=null==n?void 0:n())?i:null,r.compDetails=o,r}onColumnsChanged(){let e=[];this.allColumnFilters.forEach((t,i)=>{let r;(r=t.column.isPrimary()?this.columnModel.getPrimaryColumn(i):this.columnModel.getGridColumn(i))&&r===t.column||(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))}),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){let e=this.columnModel.getGroupAutoColumns();null==e||e.forEach(e=>{"agGroupColumnFilter"===e.getColDef().filter&&this.getOrCreateFilterWrapper(e,"NO_UI")})}isFilterAllowed(e){var t,i;if(this.isAdvancedFilterEnabled()||!e.isFilterAllowed())return!1;let r=this.allColumnFilters.get(e.getColId());return null==(i=null==(t=null==r?void 0:r.filterPromise)?void 0:t.resolveNow(!0,e=>"function"!=typeof(null==e?void 0:e.isFilterAllowed)||(null==e?void 0:e.isFilterAllowed())))||i}getFloatingFilterCompDetails(e,t){let i=t=>{let i=this.getFilterComponent(e,"NO_UI");null!=i&&i.then(e=>{t(K_(e))})},r=e.getColDef(),n=Hk(HH({},this.createFilterParams(e,r)),HF({filterChangedCallback:()=>i(t=>this.filterChangedCallbackFactory(t,e)())})),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(r,Ks,n),s=this.userComponentFactory.getDefaultFloatingFilterType(r,()=>this.getDefaultFloatingFilter(e));return null==s&&(s="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(r,{column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1},s)}getCurrentFloatingFilterParentModel(e){let t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,e=>e&&e.getModel()):null}destroyFilter(e,t="api"){let i=e.getColId(),r=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],r&&(this.disposeFilterWrapper(r,t),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.getContext().destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());let r={type:Wc.EVENT_FILTER_DESTROYED,source:t,column:e.column};this.eventService.dispatchEvent(r)})}filterModifiedCallbackFactory(e,t){return()=>{let i={type:Wc.EVENT_FILTER_MODIFIED,column:t,filterInstance:e};this.eventService.dispatchEvent(i)}}filterChangedCallbackFactory(e,t){return i=>{var r;let n=null!=(r=null==i?void 0:i.source)?r:"api";this.callOnFilterChangedOutsideRenderCycle({filter:e,additionalEventAttributes:i,columns:[t],source:n})}}checkDestroyFilter(e){let t=this.allColumnFilters.get(e);if(!t)return;let i=t.column,{compDetails:r}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,r))return void this.destroyFilter(i,"paramsUpdated");let n=i.getColDef().filterParams;t.filterPromise?t.filterPromise.then(e=>{!1===(null==e||!e.refresh||e.refresh(HH(Hk(HH({},this.createFilterParams(i,i.getColDef())),HF({filterModifiedCallback:this.filterModifiedCallbackFactory(e,i),filterChangedCallback:this.filterChangedCallbackFactory(e,i),doesRowPassOtherFilter:t=>this.doesRowPassOtherFilters(e,t)})),n)))&&this.destroyFilter(i,"paramsUpdated")}):this.destroyFilter(i,"paramsUpdated")}setColumnFilterWrapper(e,t){let i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListener(e,zO.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(i)))}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:i}=e,{componentClass:r}=t;return!(i===r||(null==i?void 0:i.render)&&(null==r?void 0:r.render)&&i.render===r.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(e);this.advancedFilterService.setModel(null!=e?e:null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&this.columnModel.getAllGridColumns().some(e=>e.getColDef().floatingFilter)}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();let i=this.getFilterInstanceImpl(e,e=>{t&&t(K_(e))});return K_(i)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstance(e,e=>{t(e)})})}getFilterInstanceImpl(e,t){let i=this.columnModel.getPrimaryColumn(e);if(!i)return;let r=this.getFilterComponent(i,"NO_UI"),n=r&&r.resolveNow(null,e=>e);return n?setTimeout(t,0,n):r&&r.then(e=>{t(e)}),n}warnAdvancedFilters(){za("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;null==(t=this.advancedFilterService)||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return+!!this.isAdvancedFilterHeaderActive()}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){let t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){let i;if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let i=()=>{},r=new Promise(e=>{i=e});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:i}),r}let r=this.columnModel.getPrimaryColumn(e),n=r?this.getOrCreateFilterWrapper(r,"NO_UI"):null;return n?(i=this.setModelOnFilterWrapper(n.filterPromise,t),new Promise(e=>{i.then(t=>e(t))})):Promise.resolve()}getFilterWrapper(e){var t;let i=this.columnModel.getPrimaryColumn(e);return i&&null!=(t=this.cachedFilter(i))?t:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};HW([zR("valueService")],KM.prototype,"valueService",2),HW([zR("columnModel")],KM.prototype,"columnModel",2),HW([zR("rowModel")],KM.prototype,"rowModel",2),HW([zR("userComponentFactory")],KM.prototype,"userComponentFactory",2),HW([zR("rowRenderer")],KM.prototype,"rowRenderer",2),HW([zR("dataTypeService")],KM.prototype,"dataTypeService",2),HW([zR("quickFilterService")],KM.prototype,"quickFilterService",2),HW([zD("advancedFilterService")],KM.prototype,"advancedFilterService",2),HW([zE],KM.prototype,"init",1),KM=HW([zM("filterManager")],KM);var KR=class extends jH{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedListener(this.eventService,Wc.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))}hasFilter(){return!!this.filterWrapper}getFilter(){var e,t;return null!=(t=null==(e=this.filterWrapper)?void 0:e.filterPromise)?t:null}afterInit(){var e,t,i;return null!=(i=null==(t=null==(e=this.filterWrapper)?void 0:e.filterPromise)?void 0:t.then(()=>{}))?i:jN.resolve()}afterGuiAttached(e){var t,i;null==(i=null==(t=this.filterWrapper)?void 0:t.filterPromise)||i.then(t=>{var i;null==(i=null==t?void 0:t.afterGuiAttached)||i.call(t,e)})}afterGuiDetached(){var e,t;null==(t=null==(e=this.filterWrapper)?void 0:e.filterPromise)||t.then(e=>{var t;null==(t=null==e?void 0:e.afterGuiDetached)||t.call(e)})}createFilter(e){var t;let{column:i,source:r}=this;this.filterWrapper=this.filterManager.getOrCreateFilterWrapper(i,r),(null==(t=this.filterWrapper)?void 0:t.filterPromise)&&this.filterWrapper.filterPromise.then(t=>{let n=t.getGui();if(HK(n)||console.warn(`AG Grid: getGui method from filter returned ${n}, it should be a DOM element or an HTML template string.`),"string"==typeof n&&(n=U3(n)),this.appendChild(n),e){let e={type:Wc.EVENT_FILTER_OPENED,column:i,source:r,eGui:this.getGui()};this.eventService.dispatchEvent(e)}})}onFilterDestroyed(e){("api"===e.source||"paramsUpdated"===e.source)&&e.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(U0(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}};HW([zR("filterManager")],KR.prototype,"filterManager",2),HW([zR("columnModel")],KR.prototype,"columnModel",2),HW([zE],KR.prototype,"postConstruct",1);var KD=class extends jH{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},KA=class e extends KD{constructor(t){super(e.TEMPLATE,t)}postConstruct(){let e=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),addOrRemoveBodyCssClass:(e,t)=>this.eFloatingFilterBody.classList.toggle(e,t),setButtonWrapperDisplayed:e=>UH(this.eButtonWrapper,e),setCompDetails:e=>this.setCompDetails(e),getFloatingFilterComp:()=>this.compPromise,setWidth:t=>e.style.width=t,setMenuIcon:e=>this.eButtonShowMainFilter.appendChild(e)},e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(e=>this.afterCompCreated(e))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}};KA.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,HW([jz("eFloatingFilterBody")],KA.prototype,"eFloatingFilterBody",2),HW([jz("eButtonWrapper")],KA.prototype,"eButtonWrapper",2),HW([jz("eButtonShowMainFilter")],KA.prototype,"eButtonShowMainFilter",2),HW([zE],KA.prototype,"postConstruct",1),HW([zT],KA.prototype,"destroyFloatingFilterComp",1);var KI=((D=KI||{}).AUTO_HEIGHT="ag-layout-auto-height",D.NORMAL="ag-layout-normal",D.PRINT="ag-layout-print",D),KP=class extends Wl{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){var e;let t=null!=(e=this.gos.get("domLayout"))?e:"normal";return -1===["normal","print","autoHeight"].indexOf(t)?(za(`${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):t}};HW([zE],KP.prototype,"postConstruct",1);var KL=class extends Wl{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=zm(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=zm(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){let{fakeHScrollComp:e,fakeVScrollComp:t}=this.ctrlsService.getParams();this.addManagedListener(this.centerRowsCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));let i=this.gos.get("debounceVerticalScrollbar"),r=i?zm(this.onVScroll.bind(this),100):this.onVScroll.bind(this),n=i?zm(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",r),t.onScrollCallback(n)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(null==this.centerRowsCtrl)return;void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft());let t=this.enableRtl?e:-e,{topCenter:i,stickyTopCenter:r,stickyBottomCenter:n,centerHeader:o,bottomCenter:s,fakeHScrollComp:a}=this.ctrlsService.getParams();o.setHorizontalScroll(-t),s.setContainerTranslateX(t),i.setContainerTranslateX(t),r.setContainerTranslateX(t),n.setContainerTranslateX(t);let l=this.centerRowsCtrl.getViewportElement(),u=0===this.lastScrollSource[1];e=Math.abs(e),u?a.setScrollPosition(e):UJ(l,e,this.enableRtl)}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){let t,i=this.centerRowsCtrl.getViewportElement(),{scrollLeft:r}=i;this.shouldBlockScrollUpdate(1,r,!0)||(t=0===e?UQ(i,this.enableRtl):this.ctrlsService.get("fakeHScrollComp").getScrollPosition(),this.doHorizontalScroll(Math.round(t)),this.resetLastHScrollDebounced())}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let t;t=0===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,0===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){let t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();(this.scrollLeft!==e||e!==t)&&(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){let t={type:Wc.EVENT_BODY_SCROLL,direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{let e=Hk(HH({},t),HF({type:Wc.EVENT_BODY_SCROLL_END}));this.eventService.dispatchEvent(e)},100)}shouldBlockScrollUpdate(e,t,i=!1){return(!i||!!Ug())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){let t=U$(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return!!(e<0)||!!(e+t>i)}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&UZ()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){let e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){let i=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&UZ()?e>0?0:i:Math.min(Math.max(e,0),i)),UJ(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){let t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let i=this.rowModel.getRowCount(),r=-1;for(let t=0;t<i;t++){let i=this.rowModel.getRow(t);if("function"==typeof e){if(i&&e(i)){r=t;break}}else if(e===i||e===i.data){r=t;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t){if(this.gos.isDomLayout("print"))return;let i=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=i)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);let r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{let i;r||this.paginationProxy.goToPageWithIndex(e);let n=this.ctrlsService.getGridBodyCtrl(),o=n.getStickyTopHeight(),s=n.getStickyBottomHeight(),a=this.paginationProxy.getRow(e);do{let e=a.rowTop,r=a.rowHeight,n=this.paginationProxy.getPixelOffset(),l=a.rowTop-n,u=l+a.rowHeight,d=this.getVScrollPosition(),h=this.heightScaler.getDivStretchOffset(),c=d.top+h,p=d.bottom+h,g=p-c,f=this.heightScaler.getScrollPositionForPixel(l),m=this.heightScaler.getScrollPositionForPixel(u-g),v=Math.min((f+m)/2,l),y=c+o>l,C=p-s<u,w=null;"top"===t?w=f:"bottom"===t?w=m:"middle"===t?w=v:y?w=f-o:C&&(w=m+s),null!==w&&(this.setVerticalScrollPosition(w),this.rowRenderer.redraw({afterScroll:!0})),i=e!==a.rowTop||r!==a.rowHeight}while(i)this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){let i=this.columnModel.getGridColumn(e);if(!i||i.isPinned()||!this.columnModel.isColumnDisplayed(i))return;let r=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{null!==r&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:i,columnAfterEnd:r}=this.isColumnOutsideViewport(e),n=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl,a=(s?i:r)||n,l=s?r:i;"auto"!==t&&(a="start"===t,l="end"===t);let u="middle"===t;if(a||l||u){let{colLeft:t,colMiddle:i,colRight:r}=this.getColumnBounds(e);return u?i-o/2:a?s?r:t:s?t-o:r-o}return null}isColumnOutsideViewport(e){let{start:t,end:i}=this.getViewportBounds(),{colLeft:r,colRight:n}=this.getColumnBounds(e),o=this.enableRtl;return{columnBeforeStart:o?t>n:i<n,columnAfterEnd:o?i<r:t>r}}getColumnBounds(e){let t=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),r=e.getActualWidth(),n=e.getLeft(),o=t?-1:1,s=t?i-n:n;return{colLeft:s,colMiddle:s+r/2*o,colRight:s+r*o}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}};HW([zR("ctrlsService")],KL.prototype,"ctrlsService",2),HW([zR("animationFrameService")],KL.prototype,"animationFrameService",2),HW([zR("paginationProxy")],KL.prototype,"paginationProxy",2),HW([zR("rowModel")],KL.prototype,"rowModel",2),HW([zR("rowContainerHeightService")],KL.prototype,"heightScaler",2),HW([zR("rowRenderer")],KL.prototype,"rowRenderer",2),HW([zR("columnModel")],KL.prototype,"columnModel",2),HW([zE],KL.prototype,"postConstruct",1);var Kk=((A=Kk||{}).ANIMATION_ON="ag-row-animation",A.ANIMATION_OFF="ag-row-no-animation",A),KN="ag-force-vertical-scroll",KF=class extends Wl{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,r,n,o,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=r,this.eBottom=n,this.eStickyTop=o,this.eStickyBottom=s,this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",e=>this.setCellTextSelection(e.currentValue)),this.createManagedBean(new KP(this.comp)),this.bodyScrollFeature=this.createManagedBean(new KL(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,i,n,o,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(r),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,Wc.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(e=>{this.addManagedListener(e,"focusin",t=>{let{target:i}=t,r=UU(i,"ag-root",e);e.classList.toggle("ag-has-focus",!r)}),this.addManagedListener(e,"focusout",t=>{let{target:i,relatedTarget:r}=t,n=e.contains(r),o=UU(r,"ag-root",e);UU(i,"ag-root",e)||(!n||o)&&e.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){let e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();let t=e&&this.gos.getScrollbarWidth()||0,i=16*!!US(),r=`calc(100% + ${t+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(r))}onGridColumnsChanged(){let e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;let e=e=>{let i=e.relatedTarget;if(null===Um(i))return void this.rowRenderer.stopEditing();let r=t.some(e=>e.contains(i))&&this.mouseEventService.isElementInThisGrid(i);if(!r){let e=this.popupService;r=e.getActivePopups().some(e=>e.contains(i))||e.isElementWithinCustomPopup(i)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(t=>this.addManagedListener(t,"focusout",e))}updateRowCount(){let e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===t?-1:e+t)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e?KN:null,e),e||t&&je(this.eBodyViewport)}setupRowAnimationCssClass(){let e=()=>{let e=this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(e?"ag-row-animation":"ag-row-no-animation",e)};e(),this.addManagedListener(this.eventService,Wc.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){let e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyWheel.bind(this)),this.addManagedListener(this.eStickyBottom,"wheel",this.onStickyWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){let e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",e=>this.onFullWidthContainerWheel(e,t))}onFullWidthContainerWheel(e,t){!(!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX))&&this.mouseEventService.isEventFromThisGrid(e)&&(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();let{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Ug())return;let t=new $b(this.eBodyViewport);this.addManagedListener(t,$b.EVENT_LONG_TAP,t=>{e(void 0,t.touchStart,t.touchEvent)}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Kw(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){let{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(e){let e=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){let e=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+this.filterManager.getHeaderHeight(),t=this.pinnedRowModel.getPinnedTopTotalHeight(),i=0;e>0&&(i+=e),t>0&&(i+=t),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){let e=this.pinnedRowModel.getPinnedBottomTotalHeight(),t=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0;this.comp.setStickyBottomBottom(`${e+t}px`)}sizeColumnsToFit(e,t){let i=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,r=UK(this.eGridBody)-i;r>0?this.columnModel.sizeColumnsToFit(r,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):100===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):500===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};HW([zR("animationFrameService")],KF.prototype,"animationFrameService",2),HW([zR("rowContainerHeightService")],KF.prototype,"rowContainerHeightService",2),HW([zR("ctrlsService")],KF.prototype,"ctrlsService",2),HW([zR("columnModel")],KF.prototype,"columnModel",2),HW([zR("scrollVisibleService")],KF.prototype,"scrollVisibleService",2),HW([zR("menuService")],KF.prototype,"menuService",2),HW([zR("headerNavigationService")],KF.prototype,"headerNavigationService",2),HW([zR("dragAndDropService")],KF.prototype,"dragAndDropService",2),HW([zR("pinnedRowModel")],KF.prototype,"pinnedRowModel",2),HW([zR("rowRenderer")],KF.prototype,"rowRenderer",2),HW([zR("popupService")],KF.prototype,"popupService",2),HW([zR("mouseEventService")],KF.prototype,"mouseEventService",2),HW([zR("rowModel")],KF.prototype,"rowModel",2),HW([zR("filterManager")],KF.prototype,"filterManager",2);var KO=((I=KO||{})[I.FILL=0]="FILL",I[I.RANGE=1]="RANGE",I),KG=((P=KG||{})[P.VALUE=0]="VALUE",P[P.DIMENSION=1]="DIMENSION",P),KV="ag-cell-range-selected",KB=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(KV,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${KV}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${KV}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${KV}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${KV}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Un(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){let e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,r=!t&&e.right,n=!t&&e.bottom,o=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",o)}isSingleCell(){let{rangeService:e}=this.beans;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){let{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;let t=e.getCellRanges();return t.length>0&&t.every(e=>z1([1,0],e.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){let e,t,i=this.beans.gos.get("enableRtl"),r=!1,n=!1,o=!1,s=!1,a=this.cellCtrl.getCellPosition().column,l=this.beans.columnModel;i?(e=l.getDisplayedColAfter(a),t=l.getDisplayedColBefore(a)):(e=l.getDisplayedColBefore(a),t=l.getDisplayedColAfter(a));let u=this.rangeService.getCellRanges().filter(e=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),e));e||(s=!0),t||(n=!0);for(let i=0;i<u.length&&(!r||!n||!o||!s);i++){let a=u[i],l=this.rangeService.getRangeStartRow(a),d=this.rangeService.getRangeEndRow(a);!r&&this.beans.rowPositionUtils.sameRow(l,this.cellCtrl.getCellPosition())&&(r=!0),!o&&this.beans.rowPositionUtils.sameRow(d,this.cellCtrl.getCellPosition())&&(o=!0),!s&&e&&0>a.columns.indexOf(e)&&(s=!0),!n&&t&&0>a.columns.indexOf(t)&&(n=!0)}return{top:r,right:n,bottom:o,left:s}}refreshHandle(){if(this.beans.context.isDestroyed())return;let e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){let e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;let r=zW(t),n=this.cellCtrl.getCellPosition(),o=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),s=e.get("enableRangeHandle"),a=1===i&&!this.cellCtrl.isEditing()&&(o||s);if(this.hasChartRange){let e=1===t[0].type&&this.rangeService.isCellInSpecificRange(n,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",e),a=0===r.type}return a&&null!=r.endRow&&this.rangeService.isContiguousRange(r)&&this.rangeService.isBottomRightCell(r,n)}addSelectionHandle(){let e=this.beans.gos,t=zW(this.rangeService.getCellRanges()).type,i=+!(e.get("enableFillHandle")&&HY(t));this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},KH=class extends Wl{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();zU(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;let e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column,r=this.column.getPinned();for(let n=0;i&&n<e&&(t.push(i),!(!(i=this.beans.columnModel.getDisplayedColAfter(i))||HY(i))&&r===i.getPinned());n++);}return t}onLeftChanged(){if(!this.eGui)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){return(this.beans.gos.get("enableRtl")&&this.colsSpanning?zW(this.colsSpanning):this.column).getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;let t=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?t+this.beans.columnModel.getBodyContainerWidth()+(e||0):t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;let t=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${t}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Kz=class extends Wl{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,e=>this.cellComp.addOrRemoveCssClass(e,!0),e=>this.cellComp.addOrRemoveCssClass(e,!1)),this.cellClassRules=t}applyUserStyles(){let e,t=this.column.getColDef();if(t.cellStyle){if("function"==typeof t.cellStyle){let i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});e=(0,t.cellStyle)(i)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}}applyClassesFromColDef(){let e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(e=>this.cellComp.addOrRemoveCssClass(e,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(e=>this.cellComp.addOrRemoveCssClass(e,!0))}destroy(){super.destroy()}},KW=class{postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gos.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};HW([zR("resizeObserverService")],KW.prototype,"resizeObserverService",2),HW([zR("paginationProxy")],KW.prototype,"paginationProxy",2),HW([zR("context")],KW.prototype,"context",2),HW([zR("gridOptionsService")],KW.prototype,"gos",2),HW([zR("environment")],KW.prototype,"environment",2),HW([zR("rowRenderer")],KW.prototype,"rowRenderer",2),HW([zR("valueService")],KW.prototype,"valueService",2),HW([zR("eventService")],KW.prototype,"eventService",2),HW([zR("columnModel")],KW.prototype,"columnModel",2),HW([zR("headerNavigationService")],KW.prototype,"headerNavigationService",2),HW([zR("navigationService")],KW.prototype,"navigationService",2),HW([zR("columnAnimationService")],KW.prototype,"columnAnimationService",2),HW([zR("focusService")],KW.prototype,"focusService",2),HW([zR("popupService")],KW.prototype,"popupService",2),HW([zR("stylingService")],KW.prototype,"stylingService",2),HW([zR("columnHoverService")],KW.prototype,"columnHoverService",2),HW([zR("userComponentFactory")],KW.prototype,"userComponentFactory",2),HW([zR("userComponentRegistry")],KW.prototype,"userComponentRegistry",2),HW([zR("animationFrameService")],KW.prototype,"animationFrameService",2),HW([zR("dragService")],KW.prototype,"dragService",2),HW([zR("dragAndDropService")],KW.prototype,"dragAndDropService",2),HW([zR("sortController")],KW.prototype,"sortController",2),HW([zR("filterManager")],KW.prototype,"filterManager",2),HW([zR("rowContainerHeightService")],KW.prototype,"rowContainerHeightService",2),HW([zR("frameworkOverrides")],KW.prototype,"frameworkOverrides",2),HW([zR("cellPositionUtils")],KW.prototype,"cellPositionUtils",2),HW([zR("rowPositionUtils")],KW.prototype,"rowPositionUtils",2),HW([zR("selectionService")],KW.prototype,"selectionService",2),HW([zR("rowCssClassCalculator")],KW.prototype,"rowCssClassCalculator",2),HW([zR("rowModel")],KW.prototype,"rowModel",2),HW([zR("ctrlsService")],KW.prototype,"ctrlsService",2),HW([zR("ctrlsFactory")],KW.prototype,"ctrlsFactory",2),HW([zR("agStackComponentsRegistry")],KW.prototype,"agStackComponentsRegistry",2),HW([zR("valueCache")],KW.prototype,"valueCache",2),HW([zR("rowNodeEventThrottle")],KW.prototype,"rowNodeEventThrottle",2),HW([zR("localeService")],KW.prototype,"localeService",2),HW([zR("syncService")],KW.prototype,"syncService",2),HW([zR("ariaAnnouncementService")],KW.prototype,"ariaAnnouncementService",2),HW([zD("rangeService")],KW.prototype,"rangeService",2),HW([zD("selectionHandleFactory")],KW.prototype,"selectionHandleFactory",2),HW([zE],KW.prototype,"postConstruct",1),KW=HW([zM("beans")],KW);var KU=class extends KW{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!We(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}let{eventService:t,rangeService:i,gos:r}=this.beans,n=e.ctrlKey||e.metaKey;i&&n&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);let o=this.cellCtrl.createEvent(e,Wc.EVENT_CELL_CLICKED);t.dispatchEvent(o);let s=this.column.getColDef();s.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{s.onCellClicked(o)})},0),(r.get("singleClickEdit")||s.singleClickEdit)&&!r.get("suppressClickEdit")&&!(e.shiftKey&&(null==i?void 0:i.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Ug()||Wt("dblclick"))return!1;let e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){let t=this.column.getColDef(),i=this.cellCtrl.createEvent(e,Wc.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof t.onCellDoubleClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{t.onCellDoubleClicked(i)})},0),this.beans.gos.get("singleClickEdit")||this.beans.gos.get("suppressClickEdit")||this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){let{ctrlKey:t,metaKey:i,shiftKey:r}=e,n=e.target,{cellCtrl:o,beans:s}=this,{eventService:a,rangeService:l,focusService:u}=s;if(this.isRightClickInExistingRange(e))return;let d=l&&0!=l.getCellRanges().length;if(!r||!d){let e=Uu()&&!o.isEditing()&&!UB(n);o.focusCell(e)}if(r&&d&&!u.isCellFocused(o.getCellPosition())){e.preventDefault();let t=u.getFocusedCell();if(t){let{column:e,rowIndex:i,rowPinned:r}=t,n=s.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:r}),o=null==n?void 0:n.getCellCtrl(e);(null==o?void 0:o.isEditing())&&o.stopEditing(),u.setFocusedCell({column:e,rowIndex:i,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(n)){if(l){let e=this.cellCtrl.getCellPosition();r?l.extendLatestRangeToCell(e):l.setRangeToCell(e,t||i)}a.dispatchEvent(this.cellCtrl.createEvent(e,Wc.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){let{rangeService:t}=this.beans;if(t){let i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),r=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&r)return!0}return!1}containsWidget(e){return UU(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let t=this.cellCtrl.createEvent(e,Wc.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let t=this.cellCtrl.createEvent(e,Wc.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.getGui(),i=t.contains(e.target),r=t.contains(e.relatedTarget);return i&&r}destroy(){}},Kj=class extends Wl{constructor(e,t,i,r,n){super(),this.cellCtrl=e,this.beans=t,this.rowNode=r,this.rowCtrl=n}setComp(e){this.eGui=e}onKeyDown(e){let t=e.key;switch(t){case jw.ENTER:this.onEnterKeyDown(e);break;case jw.F2:this.onF2KeyDown(e);break;case jw.ESCAPE:this.onEscapeKeyDown(e);break;case jw.TAB:this.onTabKeyDown(e);break;case jw.BACKSPACE:case jw.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case jw.DOWN:case jw.UP:case jw.RIGHT:case jw.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;let t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var i;let{cellCtrl:r,beans:n,rowNode:o}=this,{gos:s,rangeService:a,eventService:l}=n;if(!r.isEditing()){if(l.dispatchEvent({type:Wc.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),jE(e,s.get("enableCellEditingOnBackspace"))){if(a&&s.get("enableRangeSelection"))a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){let e=r.getColumn(),t=null!=(i=this.beans.valueService.parseValue(e,o,"",o.getValueFromValueService(e)))?i:null;o.setDataValue(e,t,"cellClear")}}else r.startRowOrCellEdit(e,t);l.dispatchEvent({type:Wc.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){let t=e.shiftKey?jw.UP:jw.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(jw.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(jw.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;let t=e.key;" "===t?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(t,e),e.preventDefault())}onSpaceKeyDown(e){let{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){let i=this.rowNode.isSelected(),r=!i;if(r||!t.get("suppressRowDeselection")){let t=this.beans.gos.get("groupSelectsFiltered"),n=this.rowNode.setSelectedParams({newValue:r,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"spaceKey"});void 0===i&&0===n&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},K$=class extends jH{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(jy("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);let i=()=>{try{let t=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",t),e.dataTransfer.setData("text/plain",t)}catch(e){}};t?t(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e})):i()}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};HW([zE],K$.prototype,"postConstruct",1);var KK=class{static getHeaderClassesFromColDef(e,t,i,r){return HY(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,i,r)}static getToolPanelClassesFromColDef(e,t,i,r){return HY(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,i,r)}static refreshFirstAndLastStyles(e,t,i){e.addOrRemoveCssClass("ag-column-first",i.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",i.isColumnAtEdge(t,"last"))}static getClassParams(e,t,i,r){return t.addGridCommonParams({colDef:e,column:i,columnGroup:r})}static getColumnClassesFromCollDef(e,t,i,r,n){let o;return HY(e)?[]:"string"==typeof(o="function"==typeof e?e(this.getClassParams(t,i,r,n)):e)?[o]:Array.isArray(o)?[...o]:[]}},KY=0,Kq=class e extends Wl{constructor(e,t,i,r){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=t,this.beans=i,this.rowCtrl=r,this.instanceId=e.getId()+"-"+KY++,this.colIdSanitised=WS(this.column.getId()),i.gos.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new KH(this,this.beans),this.addDestroyFunc(()=>{var e;null==(e=this.cellPositionFeature)||e.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new Kz(this,this.beans),this.addDestroyFunc(()=>{var e;null==(e=this.cellCustomStyleFeature)||e.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new KU(this,this.beans,this.column),this.addDestroyFunc(()=>{var e;null==(e=this.cellMouseListenerFeature)||e.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new Kj(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var e;null==(e=this.cellKeyboardListenerFeature)||e.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new KB(this.beans,this),this.addDestroyFunc(()=>{var e;null==(e=this.cellRangeFeature)||e.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(e,t){let i=()=>{let e=this.column.getColDef(),t=this.rowNode.data;if(e.tooltipField&&HK(t))return zt(t,e.tooltipField,this.column.isTooltipFieldContainsDots());let i=e.tooltipValueGetter;return i?i(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},r="whenTruncated"===this.beans.gos.get("tooltipShowMode");t||!r||this.isCellRenderer()||(t=()=>{let e=this.getGui(),t=0===e.children.length?e:e.querySelector(".ag-cell-value");return!t||t.scrollWidth>t.clientWidth});let n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=e?()=>e:i,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:t};this.tooltipFeature=new jG(n,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,t,i,r,n){var o,s,a,l;this.cellComp=e,this.eGui=t,this.printLayout=r,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null==(o=this.cellPositionFeature)||o.setComp(t),null==(s=this.cellCustomStyleFeature)||s.setComp(e),null==(a=this.tooltipFeature)||a.refreshToolTip(),null==(l=this.cellKeyboardListenerFeature)||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),n&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(e=>e()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;let t=e.parentElement,i=this.beans.gos.getRowHeightForNode(this.rowNode).height,r=n=>{if(this.editing||!this.isAlive())return;let{paddingTop:o,paddingBottom:s,borderBottomWidth:a,borderTopWidth:l}=Uj(t),u=e.offsetHeight+(o+s+a+l);if(n<5){let t=this.beans.gos.getDocument(),i=!t||!t.contains(e),o=0==u;if(i||o)return void window.setTimeout(()=>r(n+1),0)}let d=Math.max(u,i);this.rowNode.setRowAutoHeight(d,this.column)},n=()=>r(0);n();let o=this.beans.resizeObserverService.observeResize(e,n);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var e;return null!=(e=this.column.getColDef().cellAriaRole)?e:"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){let e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){var e;return null!=(e=this.valueFormatted)?e:this.value}showValue(e=!1){var t;let i,r=this.getValueToDisplay();if(this.rowNode.stub){let e=this.createCellRendererParams();i=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),e)}else if(this.isCellRenderer()){let e=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),e)}this.cellComp.setRenderDetails(i,r,e),null==(t=this.cellRangeFeature)||t.refreshHandle()}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return null==this.rowNode.rowPinned&&("function"==typeof e||!0===e)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return t||i||r||n}startEditing(e=null,t=!1,i=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,t,i)});let r=this.createCellEditorParams(e,t),n=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(n,r);this.editCompDetails=o;let s=(null==o?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!n.cellEditorPopup,a=(null==o?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:n.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,s,a,this.beans.gos.get("reactiveCustomComponents"));let l=this.createEvent(i,Wc.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(l)}setEditing(e){var t;this.editing!==e&&(this.editing=e,null==(t=this.cellRangeFeature)||t.refreshHandle())}stopRowOrCellEdit(e=!1){"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){let t={newValueExists:!1};if(e)return t;let i=this.cellComp.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?t:{newValue:i.getValue(),newValueExists:!0}}saveNewValue(e,t){if(t===e)return!1;this.suppressRefreshCell=!0;let i=this.rowNode.setDataValue(this.column,t,"edit");return this.suppressRefreshCell=!1,i}stopEditing(e=!1){if(!this.editing)return!1;let{newValue:t,newValueExists:i}=this.takeValueFromCellEditor(e),r=this.rowNode.getValueFromValueService(this.column),n=!1;return i&&(n=this.saveNewValue(r,t)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,t,!e&&!!n),n}dispatchEditingStoppedEvent(e,t,i){let r=Hk(HH({},this.createEvent(null,Wc.EVENT_CELL_EDITING_STOPPED)),HF({oldValue:e,newValue:t,valueChanged:i}));this.beans.eventService.dispatchEvent(r)}createCellEditorParams(e,t){return this.beans.gos.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:t,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:e=>this.beans.valueService.setValue(this.rowNode,this.column,e),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(e,t,i,r)=>this.registerRowDragger(e,t,r),setTooltip:(e,t)=>{var i;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),null==(i=this.tooltipFeature)||i.refreshToolTip()}})}parseValue(e){return this.beans.valueService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;let e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;let e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?null==(t=this.rowCtrl)||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var t,i,r,n;if(this.suppressRefreshCell||this.editing)return;let o=this.column.getColDef(),s=null!=e&&!!e.newData,a=null!=e&&!!e.suppressFlash||!!o.suppressCellFlash,l=null==o.field&&null==o.valueGetter&&null==o.showRowGroup,u=e&&e.forceRefresh||l||s,d=!!this.cellComp,h=this.updateAndFormatValue(d);if(d){if(u||h){this.showValue(s);let e=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!a&&!e&&(this.beans.gos.get("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),null==(t=this.cellCustomStyleFeature)||t.applyUserStyles(),null==(i=this.cellCustomStyleFeature)||i.applyClassesFromColDef()}null==(r=this.tooltipFeature)||r.refreshToolTip(),null==(n=this.cellCustomStyleFeature)||n.applyCellClassRules()}}stopEditingAndFocus(e=!1,t=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(t)}navigateAfterEdit(e){if(this.beans.gos.get("enterNavigatesVerticallyAfterEdit")){let t=e?jw.UP:jw.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.getCellPosition(),!1)}}flashCell(e){var t,i;let r=null!=(t=null==e?void 0:e.flashDuration)?t:null==e?void 0:e.flashDelay,n=null!=(i=null==e?void 0:e.fadeDuration)?i:null==e?void 0:e.fadeDelay;this.animateCell("data-changed",r,n)}animateCell(e,t,i){if(!this.cellComp)return;let r=`ag-cell-${e}`,n=`ag-cell-${e}-animation`,{gos:o}=this.beans;t||(t=o.get("cellFlashDuration")),HK(i)||(i=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(n,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.cellComp.addOrRemoveCssClass(n,!0),this.eGui.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.eGui.style.transition="")},i))},t)})}onFlashCells(e){if(!this.cellComp)return;let t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var t;return null!=(t=this.callValueFormatter(e))?t:e}callValueFormatter(e){return this.beans.valueService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i}valuesAreEqual(e,t){let i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){let t=this.getGui();this.beans.gos.setDomData(t,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gos.setDomData(t,e.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,t){return this.beans.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var t;null==(t=this.cellKeyboardListenerFeature)||t.processCharacter(e)}onKeyDown(e){var t;null==(t=this.cellKeyboardListenerFeature)||t.onKeyDown(e)}onMouseEvent(e,t){var i;null==(i=this.cellMouseListenerFeature)||i.onMouseEvent(e,t)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&(null==(e=this.cellPositionFeature)||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{cellComp:e,column:t,beans:i}=this;KK.refreshFirstAndLastStyles(e,t,i.columnModel)}refreshAriaColIndex(){let e=this.beans.columnModel.getAriaColumnIndex(this.column);Ue(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return null==(e=this.cellPositionFeature)?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,t=null){this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t):this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t)})}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;let e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;let e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}onCellFocused(e){if(this.beans.gos.get("suppressCellFocus"))return;let t=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){t&&(null==e?void 0:e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",t),t&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});let i="fullRow"===this.beans.gos.get("editType");t||i||!this.editing||this.stopRowOrCellEdit(),t&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:H$(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);let e=!0==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;let e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}onColDefChanged(){if(this.cellComp)if(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing){let e=this.getCellEditor();if(null==e?void 0:e.refresh){let{eventKey:t,cellStartedEdit:i}=this.editCompDetails.params,r=this.createCellEditorParams(t,i),n=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(n,r);e.refresh(o.params)}}else this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){let e=!0==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),i=this.createEvent(e,Wc.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(i)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){let e=new $k;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=new K$(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,t);let r=this.createRowDragComp(e,t,i);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,t,i){let r=this.beans.gos.get("pagination"),n=this.beans.gos.get("rowDragManaged"),o=this.beans.gos.isRowModelType("clientSide");if(n){if(!o)return void za("managed row dragging is only allowed in the Client Side Row Model");if(r)return void za("managed row dragging is not possible when doing pagination")}let s=new $V(()=>this.value,this.rowNode,this.column,e,t,i);return this.beans.context.createBean(s),s}};Kq.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var KX=0,KZ=class e extends Wl{constructor(e,t,i,r,n){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=t,this.gos=t.gos,this.rowNode=e,this.paginationPage=t.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=r,this.printLayout=n,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+KX++,this.rowId=WS(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gos.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;let e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=WS(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}setComp(e,t,i){let r={rowComp:e,element:t,containerType:i};this.allRowGuis.push(r),"left"===i?this.leftGui=r:"right"===i?this.rightGui=r:"fullWidth"===i?this.fullWidthGui=r:this.centerGui=r,this.initialiseRowComp(r),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),e){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0}}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(e){let t=e?"none":"";this.allRowGuis.forEach(e=>e.element.style.display=t)}initialiseRowComp(t){let i=this.gos;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);let r=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(e=>r.addOrRemoveCssClass(e,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&W2(t.element,!0==this.rowNode.expanded),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=WS(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(zg(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(zg(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){if(this.gos.get("enableRangeSelection"))return void za("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");let t=this.beans.localeService.getLocaleTextFunc(),i=new $V(()=>`1 ${t("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0),r=this.createBean(i,this.beans.context);this.rowDragComps.push(r)}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType);if("FullWidthDetail"==this.rowType&&!zS.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>{var t;return null==(t=null==e?void 0:e.rowComp)?void 0:t.getFullWidthCellRenderer()}):[null==(t=null==(e=this.fullWidthGui)?void 0:e.rowComp)?void 0:t.getFullWidthCellRenderer()]}getCellElement(e){let t=this.getCellCtrl(e);return t?t.getGui():null}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){let e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),t=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&t&&i}setRowType(){let e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow"),t=this.rowNode.isFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),n=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(r);e?this.rowType="FullWidthLoading":i?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":n?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){this.isFullWidth()||(e||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(t):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(e,t,i=null){let r={list:[],map:{}},n=(e,t)=>{r.list.push(t),r.map[e]=t};return t.forEach(t=>{let i=t.getInstanceId(),r=e.map[i];r||(r=new Kq(t,this.rowNode,this.beans,this)),n(i,r)}),e.list.forEach(e=>{null!=r.map[e.getColumn().getInstanceId()]||(this.isCellEligibleToBeRemoved(e,i)?e.destroy():n(e.getColumn().getInstanceId(),e))}),r}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{let i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:throw Error(`Unhandled case: ${e}`)}}createAllCellCtrls(){let e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let t=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t);let i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");let r=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){if(e.getColumn().getPinned()!=t)return!0;let i=e.isEditing(),r=this.beans.focusService.isCellFocused(e.getCellPosition());if(i||r){let t=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(t)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(e){let t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",t),this.addManagedPropertyListener("ensureDomOrder",t)}setAnimateFlags(e){if(this.isSticky()||!e)return;let t=HK(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),r=this.beans.columnModel.isPinningRight();if(t){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){let e=(e,t)=>!e||e.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(e.element,t).params),t=e(this.fullWidthGui,null),i=e(this.centerGui,null),r=e(this.leftGui,"left"),n=e(this.rightGui,"right");return t&&i&&r&&n}addListeners(){this.addManagedListener(this.rowNode,$L.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,$L.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,$L.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,$L.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,$L.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));let e=this.beans.eventService;this.addManagedListener(e,Wc.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,Wc.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,Wc.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,Wc.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,Wc.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,Wc.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,Wc.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(e,Wc.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach(e=>{this.addRowDraggerToRow(e)}):(this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[])}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,$L.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,$L.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell())return void this.beans.rowRenderer.redrawRow(this.rowNode);if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(t=>t.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(e=>{this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",0===e),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",1===e)})}postProcessRowDragging(){let e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){let e=this.rowNode.isExpandable(),t=!0==this.rowNode.expanded;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),W2(i.element,e&&t)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:H$(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.allRowGuis.find(t=>t.element.contains(e.target));if((t?t.element:null)!==e.target)return;let i=this.rowNode,r=this.beans.focusService.getFocusedCell(),n={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:r&&r.column};this.beans.navigationService.navigateToNextCell(e,e.key,n,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||We(e))return;let t=this.allRowGuis.find(t=>t.element.contains(e.target)),i=t?t.element:null,r=i===e.target,n=null;r||(n=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&r||!n)&&this.beans.navigationService.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var e;let t=null==(e=this.allRowGuis.find(e=>U5(e.element)))?void 0:e.element;return t?t.getBoundingClientRect().top:0}onFullWidthRowFocused(e){var t;let i=this.rowNode,r=!!e&&this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned,n=this.fullWidthGui?this.fullWidthGui.element:null==(t=this.centerGui)?void 0:t.element;n&&(n.classList.toggle("ag-full-width-focus",r),r&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let i={list:[],map:{}};return e.list.forEach(e=>{e!==t&&(i.list.push(e),i.map[e.getColumn().getInstanceId()]=e)}),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}}createRowEvent(e,t){return this.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:t})}createRowEventWithSource(e,t){let i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){if(We(e))return;let t=this.createRowEventWithSource(Wc.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=UU(e.target,"ag-row-drag",3),!this.isFullWidth())return;let t=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:t.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(We(e)||this.lastMouseDownOnDragger)return;let t=this.createRowEventWithSource(Wc.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);let i=e.ctrlKey||e.metaKey,r=e.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;let n=this.gos.get("rowMultiSelectWithClick"),o=!this.gos.get("suppressRowDeselection"),s="rowClicked";this.rowNode.isSelected()?n?this.rowNode.setSelectedParams({newValue:!1,event:e,source:s}):i?o&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:s}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!r,rangeSelect:r,event:e,source:s}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n&&!i,rangeSelect:r,event:e,source:s})}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(e){if("FullWidthDetail"!==this.rowType||!this.gos.get("detailRowAutoHeight"))return;let t=()=>{let t=e.clientHeight;if(null!=t&&t>0){let e=()=>{this.rowNode.setRowHeight(t),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(e,0)}},i=this.beans.resizeObserverService.observeResize(e,t);this.addDestroyFunc(i),t()}createFullWidthCompDetails(e,t){let i=this.gos.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,i,r)=>this.addFullWidthRowDragging(e,t,i,r),setTooltip:(e,t)=>this.refreshRowTooltip(e,t)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}}refreshRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new jG({getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:t},this.beans)))}addFullWidthRowDragging(e,t,i="",r){if(!this.isFullWidth())return;let n=new $V(()=>i,this.rowNode,void 0,e,t,r);this.createBean(n,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(n,this.beans.context)})}onUiLevelChanged(){let e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){let t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(e=>{e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(e=>e.rowComp.addOrRemoveCssClass("ag-row-last",t)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;let t=this.getAllCellCtrls(),i=this.editingRow;this.stoppingRowEdit=!0;let r=!1;for(let n of t){let t=n.stopEditing(e);i&&!e&&!r&&t&&(r=!0)}if(r){let e=this.createRowEvent(Wc.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(e)}i&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(t=>{t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-editing",e));let t=e?this.createRowEvent(Wc.EVENT_ROW_EDITING_STARTED):this.createRowEvent(Wc.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)}startRowEditing(e=null,t=null,i=null){this.editingRow||this.getAllCellCtrls().reduce((r,n)=>{let o=n===t;return o?n.startEditing(e,o,i):n.startEditing(null,o,i),!!r||n.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach(e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,e=>e.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return"left"===e?"left":"right"===e?"right":null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){let e,t=this.gos.get("rowStyle");if(t&&"function"==typeof t)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");let i=this.gos.getCallback("getRowStyle");return(i&&(e=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),e||t)?Object.assign({},t,e):this.emptyStyle}onRowSelected(e){let t=!!this.rowNode.isSelected();this.forEachGui(e,e=>{e.rowComp.addOrRemoveCssClass("ag-row-selected",t),Un(e.element,t),e.element.contains(this.beans.gos.getActiveDomElement())&&(e===this.centerGui||e===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;let e=this.rowNode.isSelected();if(e&&this.beans.gos.get("suppressRowDeselection"))return;let t=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(t)}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,$L.EVENT_MOUSE_ENTER,()=>{this.beans.dragService.isDragging()||this.gos.get("suppressRowHoverHighlight")||(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,$L.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){let t=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition();return Math.min(Math.max(this.applyPaginationOffset(t.top,!0)-100,e),this.applyPaginationOffset(t.bottom,!0)+100)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;let t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),r=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,n=r?`${Math.min(i,r)-2}px`:void 0;this.forEachGui(e,e=>{e.element.style.height=`${t}px`,n&&e.element.style.setProperty("--ag-line-height",n)})}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}destroyFirstPass(e=!1){if(this.active=!1,!e&&this.gos.isAnimateRows()&&!this.isSticky())if(null!=this.rowNode.rowTop){let e=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(e)}else this.allRowGuis.forEach(e=>e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);let t=this.createRowEvent(Wc.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();let e=e=>(e.list.forEach(e=>e.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,e=>{e.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){let e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&HK(e)){let t=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t),r=`${i}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){let t;if(this.printLayout)return"";if(this.isSticky())t=this.rowNode.stickyRowTop;else{let i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,r=this.applyPaginationOffset(i);t=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return t+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let t=null;return this.getAllCellCtrls().forEach(i=>{i.getColumn()==e&&(t=i)}),null!=t||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(t=i)}),t}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){let t=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),r=this.rowNode.rowIndex%2==0,n=i+this.rowNode.rowIndex+1;this.forEachGui(e,e=>{e.rowComp.setRowIndex(t),e.rowComp.addOrRemoveCssClass("ag-row-even",r),e.rowComp.addOrRemoveCssClass("ag-row-odd",!r),W9(e.element,n)})}};KZ.DOM_DATA_KEY_ROW_CTRL="renderedRow";var KQ=class extends Wl{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Wt("touchstart")?"touchstart":"mousedown"].forEach(e=>{let t=this.processMouseEvent.bind(this,e);this.addManagedListener(this.element,e,t)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||We(t))return;let i=this.getRowForEvent(t),r=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,i,r):(r&&r.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Ug())return;let e=new $b(this.element),t=e=>{let t=this.getRowForEvent(e.touchEvent),i=this.mouseEventService.getRenderedCellForEvent(e.touchEvent);this.handleContextMenuMouseEvent(void 0,e.touchEvent,t,i)};this.addManagedListener(e,$b.EVENT_LONG_TAP,t),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){let e=this.gos.getDomData(t,KZ.DOM_DATA_KEY_ROW_CTRL);if(e)return e;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,r){let n=i?i.getRowNode():null,o=r?r.getColumn():null,s=null;if(o){let i=e||t;r.dispatchCellContextMenuEvent(null!=i?i:null),s=this.valueService.getValue(o,n)}let a=this.ctrlsService.getGridBodyCtrl(),l=r?r.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:n,column:o,value:s,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:Wi(this.gos,e,Kq.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Wi(this.gos,e,KZ.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){let{cellCtrl:i,rowCtrl:r}=this.getControlsForEventTarget(t.target);!t.defaultPrevented&&(i?this.processCellKeyboardEvent(i,e,t):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,i){let r=e.getRowNode(),n=e.getColumn(),o=e.isEditing();if(!jS(this.gos,i,r,n,o)&&"keydown"===t&&(!o&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),jb(i)&&e.processCharacter(i)),"keydown"===t){let t=e.createEvent(i,Wc.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(t)}}processFullWidthRowKeyboardEvent(e,t,i){let r=e.getRowNode(),n=this.focusService.getFocusedCell(),o=n&&n.column;if(!jS(this.gos,i,r,o,!1)){let r=i.key;if("keydown"===t)switch(r){case jw.PAGE_HOME:case jw.PAGE_END:case jw.PAGE_UP:case jw.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case jw.UP:case jw.DOWN:e.onKeyboardNavigate(i);break;case jw.TAB:e.onTabKeyDown(i)}}if("keydown"===t){let t=e.createRowEvent(Wc.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(t)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;let i=j_(e);return i===jw.A?this.onCtrlAndA(e):i===jw.C?this.onCtrlAndC(e):i===jw.D?this.onCtrlAndD(e):i===jw.V?this.onCtrlAndV(e):i===jw.X?this.onCtrlAndX(e):i===jw.Y?this.onCtrlAndY():i===jw.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){let{pinnedRowModel:t,paginationProxy:i,rangeService:r}=this;if(r&&i.isRowsToRender()){let e,i,[n,o]=[t.isEmpty("top"),t.isEmpty("bottom")];o?(e=null,i=this.paginationProxy.getRowCount()-1):(e="bottom",i=t.getPinnedBottomRowData().length-1);let s=this.columnModel.getAllDisplayedColumns();if(Hq(s))return;r.setCellRange({rowStartIndex:0,rowStartPinned:n?null:"top",rowEndIndex:i,rowEndPinned:e,columnStart:s[0],columnEnd:zW(s)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);(null==t?void 0:t.isEditing())||(null==i?void 0:i.isEditing())||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);(null==t?void 0:t.isEditing())||(null==i?void 0:i.isEditing())||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){let{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);(null==t?void 0:t.isEditing())||(null==i?void 0:i.isEditing())||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gos.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};HW([zR("mouseEventService")],KQ.prototype,"mouseEventService",2),HW([zR("valueService")],KQ.prototype,"valueService",2),HW([zR("menuService")],KQ.prototype,"menuService",2),HW([zR("ctrlsService")],KQ.prototype,"ctrlsService",2),HW([zR("navigationService")],KQ.prototype,"navigationService",2),HW([zR("focusService")],KQ.prototype,"focusService",2),HW([zR("undoRedoService")],KQ.prototype,"undoRedoService",2),HW([zR("columnModel")],KQ.prototype,"columnModel",2),HW([zR("paginationProxy")],KQ.prototype,"paginationProxy",2),HW([zR("pinnedRowModel")],KQ.prototype,"pinnedRowModel",2),HW([zD("rangeService")],KQ.prototype,"rangeService",2),HW([zD("clipboardService")],KQ.prototype,"clipboardService",2),HW([zE],KQ.prototype,"postConstruct",1);var KJ=class extends Wl{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedListener(this.eventService,Wc.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){let e=UK(this.gridBodyCtrl.getBodyViewportElement());if(e<=50)return;let t=this.getPinnedColumnsOverflowingViewport(e-50),i=this.gos.getCallback("processUnpinnedColumns");t.length&&(i&&(t=i({columns:t,viewportWidth:e})),this.columnModel.setColumnsPinned(t,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){let t=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(t<e)return[];let i=[...this.columnModel.getDisplayedLeftColumns()],r=[...this.columnModel.getDisplayedRightColumns()],n=0,o=0,s=[],a=t-0-e;for(;(o<i.length||n<r.length)&&a>0;){if(n<r.length){let e=r[n++];a-=e.getActualWidth(),s.push(e)}if(o<i.length&&a>0){let e=i[o++];a-=e.getActualWidth(),s.push(e)}}return s}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=U$(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==e){this.bodyHeight=e;let t={type:Wc.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(t)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}};HW([zR("ctrlsService")],KJ.prototype,"ctrlsService",2),HW([zR("pinnedWidthService")],KJ.prototype,"pinnedWidthService",2),HW([zR("columnModel")],KJ.prototype,"columnModel",2),HW([zR("scrollVisibleService")],KJ.prototype,"scrollVisibleService",2),HW([zE],KJ.prototype,"postConstruct",1);var K0=class extends Wl{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,Wc.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){let e=this.pinnedWidthService.getPinnedLeftWidth();UH(this.element,e>0),ji(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};HW([zR("pinnedWidthService")],K0.prototype,"pinnedWidthService",2),HW([zE],K0.prototype,"postConstruct",1);var K1=class extends Wl{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,Wc.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){let e=this.pinnedWidthService.getPinnedRightWidth();UH(this.element,e>0),ji(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};HW([zR("pinnedWidthService")],K1.prototype,"pinnedWidthService",2),HW([zE],K1.prototype,"postConstruct",1);var K2=class extends Wl{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedListener(this.eventService,Wc.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){let e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}};HW([zR("rowContainerHeightService")],K2.prototype,"maxDivHeightScaler",2),HW([zE],K2.prototype,"postConstruct",1);var K5=class extends Wl{constructor(e){super(),this.eContainer=e}postConstruct(){!this.rangeService||(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",e=>{e.currentValue?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gos.get("enableRangeSelection")&&this.enableFeature())}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};HW([zR("dragService")],K5.prototype,"dragService",2),HW([zD("rangeService")],K5.prototype,"rangeService",2),HW([zE],K5.prototype,"postConstruct",1);var K3=class extends Wl{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,Wc.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){let e,{columnModel:t}=this,i=this.gos.isDomLayout("print"),r=t.getBodyContainerWidth(),n=t.getDisplayedColumnsLeftWidth(),o=t.getDisplayedColumnsRightWidth();i?e=r+n+o:(e=r,this.addSpacer&&0===(this.gos.get("enableRtl")?n:o)&&this.scrollVisibleService.isVerticalScrollShowing()&&(e+=this.gos.getScrollbarWidth())),this.callback(e)}};HW([zR("columnModel")],K3.prototype,"columnModel",2),HW([zR("scrollVisibleService")],K3.prototype,"scrollVisibleService",2),HW([zE],K3.prototype,"postConstruct",1);var K4=((L=K4||{}).LEFT="left",L.RIGHT="right",L.CENTER="center",L.FULL_WIDTH="fullWidth",L.TOP_LEFT="topLeft",L.TOP_RIGHT="topRight",L.TOP_CENTER="topCenter",L.TOP_FULL_WIDTH="topFullWidth",L.STICKY_TOP_LEFT="stickyTopLeft",L.STICKY_TOP_RIGHT="stickyTopRight",L.STICKY_TOP_CENTER="stickyTopCenter",L.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",L.STICKY_BOTTOM_LEFT="stickyBottomLeft",L.STICKY_BOTTOM_RIGHT="stickyBottomRight",L.STICKY_BOTTOM_CENTER="stickyBottomCenter",L.STICKY_BOTTOM_FULL_WIDTH="stickyBottomFullWidth",L.BOTTOM_LEFT="bottomLeft",L.BOTTOM_RIGHT="bottomRight",L.BOTTOM_CENTER="bottomCenter",L.BOTTOM_FULL_WIDTH="bottomFullWidth",L),K6=((k=K6||{}).LEFT="left",k.RIGHT="right",k.CENTER="center",k.FULL_WIDTH="fullWidth",k);function K8(e){switch(e){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":case"stickyBottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":case"stickyBottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":case"stickyBottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}var K9=WT([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["stickyBottomCenter","ag-sticky-bottom-container"],["stickyBottomLeft","ag-pinned-left-sticky-bottom"],["stickyBottomRight","ag-pinned-right-sticky-bottom"],["stickyBottomFullWidth","ag-sticky-bottom-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),K7=WT([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"],["stickyBottomCenter","ag-sticky-bottom-viewport"]]),Ye=class e extends Wl{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer="topFullWidth"===this.name||"stickyTopFullWidth"===this.name||"stickyBottomFullWidth"===this.name||"bottomFullWidth"===this.name||"fullWidth"===this.name}static getRowContainerCssClasses(e){return{container:K9.get(e),viewport:K7.get(e)}}static getPinned(e){switch(e){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"stickyBottomLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"stickyBottomRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new KJ(this)))}registerWithCtrlsService(){switch(this.name){case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return;default:this.ctrlsService.register(this.name,this)}}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new KQ(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();this.forContainers(["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],()=>{this.pinnedWidthFeature=this.createManagedBean(new K0(this.eContainer)),this.addManagedListener(this.eventService,Wc.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],()=>{this.pinnedWidthFeature=this.createManagedBean(new K1(this.eContainer)),this.addManagedListener(this.eventService,Wc.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["center","left","right","fullWidth"],()=>this.createManagedBean(new K2(this.eContainer,"center"===this.name?i:void 0))),this.forContainers(["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right","stickyTopCenter","stickyTopLeft","stickyTopRight","stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],()=>this.createManagedBean(new K5(this.eContainer))),this.forContainers(["center","topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],()=>this.createManagedBean(new K3(e=>this.comp.setContainerWidth(`${e}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth","stickyBottomCenter","stickyBottomLeft","stickyBottomRight","stickyBottomFullWidth"].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);let e=()=>{let e=this.gos.get("ensureDomOrder"),t=this.gos.isDomLayout("print");this.comp.setDomOrder(e||t)};this.addManagedPropertyListener("domLayout",e),e()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],()=>{let e=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",e)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let e=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,i,e)}getCenterWidth(){return UK(this.eViewport)}getCenterViewportScrollLeft(){return UQ(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return U2(this.eViewport)}getViewportScrollLeft(){return UQ(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||U7(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){UJ(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!e.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.getRowCtrls();if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});let i=this.gos.isDomLayout("print"),r=this.gos.get("embedFullWidthRows")||i,n=t.filter(e=>{let t=e.isFullWidth();return this.isFullWithContainer?!r&&t:r||!t});this.comp.setRowCtrls({rowCtrls:n,useFlushSync:e})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"stickyBottomCenter":case"stickyBottomLeft":case"stickyBottomRight":case"stickyBottomFullWidth":return this.rowRenderer.getStickyBottomRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};HW([zR("dragService")],Ye.prototype,"dragService",2),HW([zR("ctrlsService")],Ye.prototype,"ctrlsService",2),HW([zR("columnModel")],Ye.prototype,"columnModel",2),HW([zR("resizeObserverService")],Ye.prototype,"resizeObserverService",2),HW([zR("rowRenderer")],Ye.prototype,"rowRenderer",2),HW([zE],Ye.prototype,"postConstruct",1);var Yt=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="left"></ag-row-container>
                <ag-row-container ref="centerContainer" name="center"></ag-row-container>
                <ag-row-container ref="rightContainer" name="right"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>
        </div>
        <div class="ag-sticky-bottom" ref="eStickyBottom" role="presentation">
            <ag-row-container ref="stickyBottomLeftContainer" name="stickyBottomLeft"></ag-row-container>
            <ag-row-container ref="stickyBottomCenterContainer" name="stickyBottomCenter"></ag-row-container>
            <ag-row-container ref="stickyBottomRightContainer" name="stickyBottomRight"></ag-row-container>
            <ag-row-container ref="stickyBottomFullWidthContainer" name="stickyBottomFullWidth"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,Yi=class extends jH{constructor(){super(Yt)}init(){let e=(e,t)=>{let i=`${e}px`;t.style.minHeight=i,t.style.height=i};this.ctrl=this.createManagedBean(new KF),this.ctrl.setComp({setRowAnimationCssOnBodyViewport:(e,t)=>this.setRowAnimationCssOnBodyViewport(e,t),setColumnCount:e=>W7(this.getGui(),e),setRowCount:e=>W8(this.getGui(),e),setTopHeight:t=>e(t,this.eTop),setBottomHeight:t=>e(t,this.eBottom),setTopDisplay:e=>this.eTop.style.display=e,setBottomDisplay:e=>this.eBottom.style.display=e,setStickyTopHeight:e=>this.eStickyTop.style.height=e,setStickyTopTop:e=>this.eStickyTop.style.top=e,setStickyTopWidth:e=>this.eStickyTop.style.width=e,setStickyBottomHeight:e=>this.eStickyBottom.style.height=e,setStickyBottomBottom:e=>this.eStickyBottom.style.bottom=e,setStickyBottomWidth:e=>this.eStickyBottom.style.width=e,setColumnMovingCss:(e,t)=>this.addOrRemoveCssClass(e,t),updateLayoutClasses:(e,t)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(e=>{e.toggle("ag-layout-auto-height",t.autoHeight),e.toggle("ag-layout-normal",t.normal),e.toggle("ag-layout-print",t.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)},setAlwaysVerticalScrollClass:(e,t)=>this.eBodyViewport.classList.toggle(KN,t),registerBodyViewportResizeListener:e=>{let t=this.resizeObserverService.observeResize(this.eBodyViewport,e);this.addDestroyFunc(()=>t())},setPinnedTopBottomOverflowY:e=>this.eTop.style.overflowY=this.eBottom.style.overflowY=e,setCellSelectableCss:(e,t)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(i=>i.classList.toggle(e,t))},setBodyViewportWidth:e=>this.eBodyViewport.style.width=e},this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&this.gos.get("enableRangeSelection")||"multiple"===this.gos.get("rowSelection"))&&W6(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};HW([zR("resizeObserverService")],Yi.prototype,"resizeObserverService",2),HW([zD("rangeService")],Yi.prototype,"rangeService",2),HW([jz("eBodyViewport")],Yi.prototype,"eBodyViewport",2),HW([jz("eStickyTop")],Yi.prototype,"eStickyTop",2),HW([jz("eStickyBottom")],Yi.prototype,"eStickyBottom",2),HW([jz("eTop")],Yi.prototype,"eTop",2),HW([jz("eBottom")],Yi.prototype,"eBottom",2),HW([jz("gridHeader")],Yi.prototype,"headerRootComp",2),HW([jz("eBody")],Yi.prototype,"eBody",2),HW([zE],Yi.prototype,"init",1);var Yr=class extends Wl{postConstruct(){this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){let e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;let t={type:Wc.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(t)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};HW([zR("ctrlsService")],Yr.prototype,"ctrlsService",2),HW([zR("columnAnimationService")],Yr.prototype,"columnAnimationService",2),HW([zE],Yr.prototype,"postConstruct",1),Yr=HW([zM("scrollVisibleService")],Yr);var Yn=class extends Wl{constructor(){super(...arguments),this.gridInstanceId=Yn.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[Yn.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return Wi(this.gos,e.target,Kq.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){let e=t[Yn.GRID_DOM_KEY];if(HK(e))return e===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){let t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){let t,i,r=this.gos.isDomLayout("normal");if(null!=e.clientX||null!=e.clientY?(t=e.clientX,i=e.clientY):(t=e.x,i=e.y),r){let e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition();t+=e.getScrollFeature().getHScrollPosition().left,i+=r.top}return{x:t,y:i}}};Yn.gridInstanceSequence=new jL,Yn.GRID_DOM_KEY="__ag_grid_instance",HW([zR("ctrlsService")],Yn.prototype,"ctrlsService",2),Yn=HW([zM("mouseEventService")],Yn);var Yo=class extends Wl{constructor(){super(),this.onPageDown=zv(this.onPageDown,100),this.onPageUp=zv(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let i=e.key,r=e.altKey,n=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e),a=!1;switch(i){case jw.PAGE_HOME:case jw.PAGE_END:n||r||(this.onHomeOrEndKey(i),a=!0);break;case jw.LEFT:case jw.RIGHT:case jw.UP:case jw.DOWN:if(!s)return!1;!n||r||o||(this.onCtrlUpDownLeftRight(i,s),a=!0);break;case jw.PAGE_DOWN:case jw.PAGE_UP:n||r||(a=this.handlePageUpDown(i,s,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),!!t&&(e===jw.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){var t;let{scrollIndex:i,scrollType:r,scrollColumn:n,focusIndex:o,focusColumn:s}=e;HK(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),HK(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(o),this.focusService.setFocusedCell({rowIndex:o,column:s,rowPinned:null,forceBrowserFocus:!0}),null==(t=this.rangeService)||t.setRangeToCell({rowIndex:o,rowPinned:null,column:s})}onPageDown(e){let t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),r=this.paginationProxy.getPixelOffset(),n=t.top+i,o=this.paginationProxy.getRowIndexAtPixel(n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){let t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),r=t.top,n=this.paginationProxy.getRowIndexAtPixel(r+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,n,!0):this.navigateToNextPage(e,n,!0)}navigateToNextPage(e,t,i=!1){let r,n=this.getViewportHeight(),o=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(e.rowIndex),u=i?(null==l?void 0:l.rowHeight)-n-a:n-a,d=(null==l?void 0:l.rowTop)+u,h=this.paginationProxy.getRowIndexAtPixel(d+a);h===e.rowIndex&&(t=h=e.rowIndex+(i?-1:1)),i?(r="bottom",h<o&&(h=o),t<o&&(t=o)):(r="top",h>s&&(h=s),t>s&&(t=s)),this.isRowTallerThanView(h)&&(t=h,r="top"),this.navigateTo({scrollIndex:t,scrollType:r,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let r=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var i;let r=t?-1:1,n=this.getViewportHeight(),o=this.paginationProxy.getPageLastRow(),s=0,a=e.rowIndex;for(;a>=0&&a<=o;){let e=this.paginationProxy.getRow(a);if(e){let t=null!=(i=e.rowHeight)?i:0;if(s+t>n)break;s+=t}a+=r}return Math.max(0,Math.min(a,o))}getViewportHeight(){let{gridBodyCtrl:e,center:t}=this.ctrlsService.getParams(),i=e.getScrollFeature().getVScrollPosition(),r=this.gos.getScrollbarWidth(),n=i.bottom-i.top;return t.isHorizontalScrollShowing()&&(n-=r),n}isRowTallerThanView(e){let t=this.paginationProxy.getRow(e);if(!t)return!1;let i=t.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let{rowIndex:i,column:r}=this.cellNavigationService.getNextCellToFocus(e,t,!0);this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(e){let t=e===jw.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),r=t?i[0]:zW(i),n=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:r,focusIndex:n,focusColumn:r})}onTabKeyDown(e,t){let i=t.shiftKey,r=this.tabToNextCellCommon(e,i,t);if(!1!==r){r&&t.preventDefault();return}if(i){let{rowIndex:i,rowPinned:r}=e.getRowPosition();(r?0===i:i===this.paginationProxy.getPageFirstRow())&&(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Kq&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&t.preventDefault()}tabToNextCell(e,t){let i=this.focusService.getFocusedCell();if(!i)return!1;let r=this.getCellByPosition(i);return(!!r||!!(r=this.rowRenderer.getRowByPosition(i))&&!!r.isFullWidth())&&!!this.tabToNextCellCommon(r,e,t)}tabToNextCellCommon(e,t,i){let r,n=e.isEditing();if(!n&&e instanceof Kq){let t=e.getRowCtrl();t&&(n=t.isEditing())}return null===(r=n?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t))?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){let r=e.getCellPosition();e.getGui().focus(),e.stopEditing();let n=this.findNextCellToFocusOn(r,t,!0);return!1===n?null:null!=n&&(n.startEditing(null,!0,i),n.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){let r=e.getCellPosition(),n=this.findNextCellToFocusOn(r,t,!0);if(!1===n)return null;if(null==n)return!1;let o=n.getCellPosition(),s=this.isCellEditable(r),a=this.isCellEditable(o),l=o&&r.rowIndex===o.rowIndex&&r.rowPinned===o.rowPinned;return s&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),n.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(n.setFocusInOnEditor(),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(e,t){let i,r=this.columnModel.getAllDisplayedColumns();if(e instanceof KZ)i=Hk(HH({},e.getRowPosition()),HF({column:t?r[0]:zW(r)}));else i=e.getCellPosition();let n=this.findNextCellToFocusOn(i,t,!1);if(!1===n)return null;if(n instanceof Kq)n.focusCell(!0);else if(n)return this.tryToFocusFullWidthRow(n.getRowPosition(),t);return HK(n)}findNextCellToFocusOn(e,t,i){var r;let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);let o=this.gos.getCallback("tabToNextCell");if(HK(o)){let r=o({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(!0===r||null===r)null===r&&za("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(!1===r)return!1;r.floating&&(za("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),r.rowPinned=r.floating),n={rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned}}}if(!n)return null;if(n.rowIndex<0){let e=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:e+n.rowIndex,column:n.column},fromCell:!0}),null}let s="fullRow"===this.gos.get("editType");if(i&&!s&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);let a=this.getCellByPosition(n);if(!a){let e=this.rowRenderer.getRowByPosition(n);if(!e||!e.isFullWidth()||i)continue;return e}if(!a.isSuppressNavigable())return null==(r=this.rangeService)||r.setRangeToCell(n),a}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){let t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,i,r){let n=i,o=!1;for(;n&&(n===i||!this.isValidNavigateCell(n));)this.gos.get("enableRtl")?t===jw.LEFT&&(n=this.getLastCellOfColSpan(n)):t===jw.RIGHT&&(n=this.getLastCellOfColSpan(n)),o=HY(n=this.cellNavigationService.getNextCellToFocus(t,n));if(o&&e&&e.key===jw.UP&&(n={rowIndex:-1,rowPinned:null,column:i.column}),r){let r=this.gos.getCallback("navigateToNextCell");if(HK(r)){let o=r({key:t,previousCellPosition:i,nextCellPosition:n||null,event:e});HK(o)?(o.floating&&(za("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),o.rowPinned=o.floating),n={rowPinned:o.rowPinned,rowIndex:o.rowIndex,column:o.column}):n=null}}if(!n)return;if(n.rowIndex<0){let t=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:t+n.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}let s=this.getNormalisedPosition(n);s?this.focusPosition(s):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(e){this.ensureCellVisible(e);let t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){let i=this.columnModel.getAllDisplayedColumns(),r=this.rowRenderer.getRowByPosition(e);if(!r||!r.isFullWidth())return!1;let n=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?zW(i):i[0])};this.focusPosition(o);let s=null!=n&&this.rowPositionUtils.before(o,n),a={type:Wc.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,floating:o.rowPinned,fromBelow:s};return this.eventService.dispatchEvent(a),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),null==(t=this.rangeService)||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){let t=this.getCellByPosition(e);if(!t)return e;let i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:zW(i),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=this.gos.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&(null==i?void 0:i.sticky))&&HY(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};HW([zR("mouseEventService")],Yo.prototype,"mouseEventService",2),HW([zR("paginationProxy")],Yo.prototype,"paginationProxy",2),HW([zR("focusService")],Yo.prototype,"focusService",2),HW([zR("columnModel")],Yo.prototype,"columnModel",2),HW([zR("rowModel")],Yo.prototype,"rowModel",2),HW([zR("ctrlsService")],Yo.prototype,"ctrlsService",2),HW([zR("rowRenderer")],Yo.prototype,"rowRenderer",2),HW([zR("headerNavigationService")],Yo.prototype,"headerNavigationService",2),HW([zR("rowPositionUtils")],Yo.prototype,"rowPositionUtils",2),HW([zR("cellNavigationService")],Yo.prototype,"cellNavigationService",2),HW([zR("pinnedRowModel")],Yo.prototype,"pinnedRowModel",2),HW([zD("rangeService")],Yo.prototype,"rangeService",2),HW([zE],Yo.prototype,"postConstruct",1),Yo=HW([zM("navigationService")],Yo);var Ys=class e extends $E{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gos.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,i=e=>{jS(this.gos,e,t.node,t.column,!0)||t.onKeyDown(e)};this.addManagedListener(e,"keydown",i)}};Ys.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",HW([zE],Ys.prototype,"postConstruct",1);var Ya=class extends jH{constructor(e,t,i,r,n){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=r,this.cellCtrl=t;const o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(o);const s=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a=(e,t)=>{null!=t&&""!=t?s.setAttribute(e,t):s.removeAttribute(e)};WH(s,t.getCellAriaRole()),a("col-id",t.getColumnIdSanitised());const l=t.getTabIndex();void 0!==l&&a("tabindex",l.toString()),t.setComp({addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setUserStyles:e=>U9(s,e),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:e=>this.includeSelection=e,setIncludeRowDrag:e=>this.includeRowDrag=e,setIncludeDndSource:e=>this.includeDndSource=e,setRenderDetails:(e,t,i)=>this.setRenderDetails(e,t,i),setEditDetails:(e,t,i)=>this.setEditDetails(e,t,i),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()},this.getGui(),this.eCellWrapper,i,n)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;let r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,r=i&&null==this.eCellWrapper;if(r){let e=document.createElement("div");e.setAttribute("role","presentation"),e.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=e,this.getGui().appendChild(this.eCellWrapper)}let n=!i&&null!=this.eCellWrapper;n&&(U1(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);let o=!e&&i,s=o&&null==this.eCellValue;if(s){let e=document.createElement("span");e.setAttribute("role","presentation"),e.setAttribute("class","ag-cell-value"),this.eCellValue=e,this.eCellWrapper.appendChild(this.eCellValue)}let a=!o&&null!=this.eCellValue;a&&(U1(this.eCellValue),this.eCellValue=void 0);let l=r||n||s||a;return l&&this.removeControls(),!e&&t&&this.addControls(),l}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){let r=this.editorVersion,n=e.newAgStackInstance();if(!n)return;let{params:o}=e;n.then(e=>this.afterCellEditorCreated(r,e,o,t,i)),HY(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();U0(t);let i=null!=e?WS(e,!0):null;null!=i&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),U1(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),U1(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t}createCellRendererInstance(e){let t=this.beans.gos.get("suppressAnimationFrame"),i=this.rendererVersion,{componentClass:r}=e,n=()=>{if(this.rendererVersion!==i||!this.isAlive())return;let t=e.newAgStackInstance(),n=this.afterCellRendererCreated.bind(this,i,r);t&&t.then(n)};!t&&this.firstRender?this.beans.animationFrameService.createTask(n,this.rowNode.rowIndex,"createTasksP2"):n()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion)return void this.beans.context.destroyBean(i);if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){let e=this.getParentOfValue();U0(e),e.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,i,r,n){if(e!==this.editorVersion)return void this.beans.context.destroyBean(t);if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let o=r||void 0!==t.isPopup&&t.isPopup();o?this.addPopupCellEditor(i,n):this.addInCellEditor(),this.refreshEditStyles(!0,o),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),null==(i=this.rowCtrl)||i.setInlineEditingCss(e)}addInCellEditor(){let e=this.getGui();e.contains(this.beans.gos.getActiveDomElement())&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){"fullRow"===this.beans.gos.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");let i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Ys(e));let r=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&r.appendChild(this.cellEditorGui);let n=this.beans.popupService,o=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),s=null!=t?t:i.getPopupPosition?i.getPopupPosition():"over",a=this.beans.gos.get("enableRtl"),l={ePopup:r,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:s,alignSide:a?"right":"left",keepWithinBounds:!0},u=n.positionPopupByComponent.bind(n,l),d=this.beans.localeService.getLocaleTextFunc(),h=n.addPopup({modal:o,eChild:r,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){let e=this.getGui();e.contains(this.beans.gos.getActiveDomElement())&&Uf()&&e.focus({preventScroll:!0}),U0(this.getParentOfValue())}},Yl=class extends jH{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const r=document.createElement("div");r.setAttribute("comp-id",`${this.getCompId()}`),r.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(r);const n=this.getGui(),o=n.style;this.domOrder=this.rowCtrl.getDomOrder(),WH(n,"row");const s=this.rowCtrl.getTabIndex();null!=s&&n.setAttribute("tabindex",s.toString()),e.setComp({setDomOrder:e=>this.domOrder=e,setCellCtrls:e=>this.setCellCtrls(e),showFullWidth:e=>this.showFullWidth(e),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setUserStyles:e=>U9(n,e),setTop:e=>o.top=e,setTransform:e=>o.transform=e,setRowIndex:e=>n.setAttribute("row-index",e),setRowId:e=>n.setAttribute("row-id",e),setRowBusinessKey:e=>n.setAttribute("row-business-key",e),refreshFullWidth:e=>this.refreshFullWidth(e)},this.getGui(),i),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){let t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){let t=e=>{if(this.isAlive()){let t=e.getGui();this.getGui().appendChild(t),this.rowCtrl.setupDetailRowAutoHeight(t),this.setFullWidthRowComp(e)}else this.beans.context.destroyBean(e)},i=e.newAgStackInstance();i&&i.then(t)}setCellCtrls(e){let t=Object.assign({},this.cellComps);e.forEach(e=>{let i=e.getInstanceId();null==this.cellComps[i]?this.newCellComp(e):t[i]=null});let i=H7(t).filter(e=>null!=e);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];e.forEach(e=>{let i=this.cellComps[e.getInstanceId()];i&&t.push(i.getGui())}),U6(this.getGui(),t)}newCellComp(e){let t=new Ya(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){let e=H7(this.cellComps).filter(e=>null!=e);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(e=>{if(!e)return;let t=e.getCtrl().getInstanceId();this.cellComps[t]===e&&(e.detach(),e.destroy(),this.cellComps[t]=null)})}refreshFullWidth(e){let{fullWidthCellRenderer:t}=this;if(!t||!t.refresh)return!1;let i=e();return t.refresh(i)}},Yu=class extends jH{constructor(){super(function(){let e=jH.elementGettingCreated.getAttribute("name"),t=Ye.getRowContainerCssClasses(e);return"center"===e||"topCenter"===e||"stickyTopCenter"===e||"bottomCenter"===e||"stickyBottomCenter"===e?`<div class="${t.viewport}" ref="eViewport" role="presentation">
                <div class="${t.container}" ref="eContainer"></div>
            </div>`:`<div class="${t.container}" ref="eContainer"></div>`}()),this.rowComps={},this.name=jH.elementGettingCreated.getAttribute("name"),this.type=K8(this.name)}postConstruct(){this.createManagedBean(new Ye(this.name)).setComp({setViewportHeight:e=>this.eViewport.style.height=e,setRowCtrls:({rowCtrls:e})=>this.setRowCtrls(e),setDomOrder:e=>{this.domOrder=e},setContainerWidth:e=>this.eContainer.style.width=e},this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){let t=HH({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;let i=e=>{let i=e.getInstanceId(),r=t[i];if(r)this.rowComps[i]=r,delete t[i],this.ensureDomOrder(r.getGui());else{if(!e.getRowNode().displayed)return;let t=new Yl(e,this.beans,this.type);this.rowComps[i]=t,this.appendRow(t.getGui())}};e.forEach(i),H7(t).forEach(e=>{this.eContainer.removeChild(e.getGui()),e.destroy()}),WH(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?U8(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(U4(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};HW([zR("beans")],Yu.prototype,"beans",2),HW([jz("eViewport")],Yu.prototype,"eViewport",2),HW([jz("eContainer")],Yu.prototype,"eContainer",2),HW([zE],Yu.prototype,"postConstruct",1),HW([zT],Yu.prototype,"preDestroy",1);var Yd=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(e=>{e.isPrimary()&&!e.isAnyFunctionActive()&&(e.isAllowValue()?this.columnsToAggregate.push(e):e.isAllowRowGroup()?this.columnsToGroup.push(e):e.isAllowPivot()&&this.columnsToPivot.push(e))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?$G.ICON_PINNED:$G.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};HW([zR("columnModel")],Yd.prototype,"columnModel",2),HW([zR("gridOptionsService")],Yd.prototype,"gos",2);var Yh=class{static attemptMoveColumns(e){let{isFromHeader:t,hDirection:i,xPosition:r,fromEnter:n,fakeEvent:o,pinned:s,gos:a,columnModel:l}=e,u=1===i,{allMovingColumns:d}=e;if(t){let e=[];d.forEach(t=>{var i;let r=null,n=t.getParent();for(;null!=n&&1===n.getDisplayedLeafColumns().length;)r=n,n=n.getParent();null!=r?((null==(i=r.getColGroupDef())?void 0:i.marryChildren)?r.getProvidedColumnGroup().getLeafColumns():r.getLeafColumns()).forEach(t=>{e.includes(t)||e.push(t)}):e.includes(t)||e.push(t)}),d=e}let h=d.slice();l.sortColumnsLikeGridColumns(h);let c=this.calculateValidMoves({movingCols:h,draggingRight:u,xPosition:r,pinned:s,gos:a,columnModel:l}),p=this.calculateOldIndex(h,l);if(0===c.length)return;let g=c[0],f=null!==p&&!n;if(t&&(f=null!==p),f&&!o&&(0===i&&g>=p||u&&g<=p))return;let m=l.getAllDisplayedColumns(),v=[],y=null;for(let e=0;e<c.length;e++){let t=c[e],i=l.getProposedColumnOrder(h,t);if(!l.doesOrderPassRules(i))continue;let r=i.filter(e=>m.includes(e));if(null===y)y=r;else if(!zU(r,y))break;let n=this.groupFragCount(i);v.push({move:t,fragCount:n})}if(0!==v.length)return v.sort((e,t)=>e.fragCount-t.fragCount),this.moveColumns(d,v[0].move,"uiColumnMoved",!1,l)}static moveColumns(e,t,i,r,n){return n.moveColumns(e,t,i,r),r?null:{columns:e,toIndex:t}}static calculateOldIndex(e,t){let i=t.getAllGridColumns(),r=z$(e.map(e=>i.indexOf(e))),n=r[0];return zW(r)-n!=r.length-1?null:n}static groupFragCount(e){function t(e){let t=[],i=e.getOriginalParent();for(;null!=i;)t.push(i),i=i.getOriginalParent();return t}let i=0;for(let r=0;r<e.length-1;r++){let n=t(e[r]),o=t(e[r+1]);[n,o]=n.length>o.length?[n,o]:[o,n],n.forEach(e=>{-1===o.indexOf(e)&&i++})}return i}static getDisplayedColumns(e,t){switch(t){case"left":return e.getDisplayedLeftColumns();case"right":return e.getDisplayedRightColumns();default:return e.getDisplayedCenterColumns()}}static calculateValidMoves(e){let t,{movingCols:i,draggingRight:r,xPosition:n,pinned:o,gos:s,columnModel:a}=e;if(s.get("suppressMovableColumns")||i.some(e=>e.getColDef().suppressMovable))return[];let l=this.getDisplayedColumns(a,o),u=a.getAllGridColumns(),d=l.filter(e=>z1(i,e)),h=l.filter(e=>!z1(i,e)),c=u.filter(e=>!z1(i,e)),p=0,g=n;if(r){let e=0;d.forEach(t=>e+=t.getActualWidth()),g-=e}if(g>0){for(let e=0;e<h.length&&!((g-=h[e].getActualWidth())<0);e++)p++;r&&p++}if(p>0){let e=h[p-1];t=c.indexOf(e)+1}else -1===(t=c.indexOf(h[0]))&&(t=0);let f=[t],m=(e,t)=>e-t;if(r){let e=t+1,i=u.length-1;for(;e<=i;)f.push(e),e++;f.sort(m)}else{let e=t,i=u.length-1,r=u[e];for(;e<=i&&0>l.indexOf(r);)e++,f.push(e),r=u[e];for(e=t-1;e>=0;)f.push(e),e--;f.sort(m).reverse()}return f}static normaliseX(e,t,i,r,n){let o=n.getHeaderRowContainerCtrl(t).getViewport();return i&&(e-=o.getBoundingClientRect().left),r.get("enableRtl")&&(e=o.clientWidth-e),null==t&&(e+=n.get("center").getCenterViewportScrollLeft()),e}},Yc=class{constructor(e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!HK(e)}init(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){return this.pinned?$G.ICON_PINNED:$G.ICON_MOVE}onDragEnter(e){let t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{let i=e.dragItem.visibleState,r=(t||[]).filter(e=>i[e.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(e){let r=e.filter(e=>!e.getColDef().lockVisible);this.columnModel.setColumnsVisible(r,t,i)}}setColumnsPinned(e,t,i){if(e){let r=e.filter(e=>!e.getColDef().lockPinned);this.columnModel.setColumnsPinned(r,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.isCenterContainer){let t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),r=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>r-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,r=!1){var n;if(r){if(this.lastMovedInfo){let{columns:e,toIndex:t}=this.lastMovedInfo;Yh.moveColumns(e,t,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,HY(e.hDirection))return;let o=Yh.normaliseX(e.x,this.pinned,!1,this.gos,this.ctrlsService);t||this.checkCenterForScrolling(o);let s=this.normaliseDirection(e.hDirection),a=e.dragSource.type,l=(null==(n=e.dragSource.getDragItem().columns)?void 0:n.filter(e=>!e.getColDef().lockPinned||e.getPinned()==this.pinned))||[],u=Yh.attemptMoveColumns({allMovingColumns:l,isFromHeader:1===a,hDirection:s,xPosition:o,pinned:this.pinned,fromEnter:t,fakeEvent:i,gos:this.gos,columnModel:this.columnModel});u&&(this.lastMovedInfo=u)}normaliseDirection(e){if(!this.gos.get("enableRtl"))return e;switch(e){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${e}`)}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon($G.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon($G.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon($G.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100);let t=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let e=this.lastDraggingEvent.dragItem.columns.filter(e=>!e.getColDef().lockPinned);if(e.length>0&&(this.dragAndDropService.setGhostIcon($G.ICON_PINNED),this.failedMoveAttempts>7)){let t=this.needToMoveLeft?"left":"right";this.setColumnsPinned(e,t,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};HW([zR("columnModel")],Yc.prototype,"columnModel",2),HW([zR("dragAndDropService")],Yc.prototype,"dragAndDropService",2),HW([zR("gridOptionsService")],Yc.prototype,"gos",2),HW([zR("ctrlsService")],Yc.prototype,"ctrlsService",2),HW([zE],Yc.prototype,"init",1);var Yp=class extends Wl{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]]}})}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new Yc(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new Yd(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};HW([zR("dragAndDropService")],Yp.prototype,"dragAndDropService",2),HW([zR("columnModel")],Yp.prototype,"columnModel",2),HW([zR("ctrlsService")],Yp.prototype,"ctrlsService",2),HW([zE],Yp.prototype,"postConstruct",1),HW([zE],Yp.prototype,"init",1);var Yg=class e extends KD{constructor(t){super(e.TEMPLATE,t),this.headerCompVersion=0,this.column=t.getColumnGroupChild(),this.pinned=t.getPinned()}postConstruct(){var e;let t=this.getGui();null!=(e=this.column.getColId())&&""!=e?t.setAttribute("col-id",e):t.removeAttribute("col-id"),this.ctrl.setComp({setWidth:e=>t.style.width=e,addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setAriaSort:e=>e?Ui(t,e):Ur(t),setUserCompDetails:e=>this.setUserCompDetails(e),getUserCompInstance:()=>this.headerComp},this.getGui(),this.eResize,this.eHeaderCompWrapper);let i=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",i)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(e=>this.afterCompCreated(t,e))}afterCompCreated(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(t)}};Yg.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,HW([jz("eResize")],Yg.prototype,"eResize",2),HW([jz("eHeaderCompWrapper")],Yg.prototype,"eHeaderCompWrapper",2),HW([zE],Yg.prototype,"postConstruct",1),HW([zT],Yg.prototype,"destroyHeaderComp",1);var Yf=class e extends KD{constructor(t){super(e.TEMPLATE,t)}postConstruct(){let e=this.getGui();e.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setResizableDisplayed:e=>UH(this.eResize,e),setWidth:t=>e.style.width=t,setAriaExpanded:t=>{let i;return i="aria-expanded",void 0!=t?e.setAttribute(i,t):e.removeAttribute(i)},setUserCompDetails:e=>this.setUserCompDetails(e),getUserCompInstance:()=>this.headerGroupComp},e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(e=>this.afterHeaderCompCreated(e))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive())return void t();let i=this.getGui(),r=e.getGui();i.appendChild(r),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}};Yf.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,HW([jz("eResize")],Yf.prototype,"eResize",2),HW([zE],Yf.prototype,"postConstruct",1);var Ym=((N=Ym||{}).COLUMN_GROUP="group",N.COLUMN="column",N.FLOATING_FILTER="filter",N),Yv=class extends jH{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){W9(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:e=>this.getGui().style.height=e,setTop:e=>this.getGui().style.top=e,setHeaderCtrls:(e,t)=>this.setHeaderCtrls(e,t),setWidth:e=>this.getGui().style.width=e})}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,t){if(!this.isAlive())return;let i=this.headerComps;if(this.headerComps={},e.forEach(e=>{let t=e.getInstanceId(),r=i[t];delete i[t],null==r&&(r=this.createHeaderComp(e),this.getGui().appendChild(r.getGui())),this.headerComps[t]=r}),H6(i,(e,t)=>{this.getGui().removeChild(t.getGui()),this.destroyBean(t)}),t){let e=H7(this.headerComps);e.sort((e,t)=>e.getCtrl().getColumnGroupChild().getLeft()-t.getCtrl().getColumnGroupChild().getLeft());let t=e.map(e=>e.getGui());U6(this.getGui(),t)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new Yf(e);break;case"filter":t=new KA(e);break;default:t=new Yg(e)}return this.createBean(t),t.setParentComponent(this),t}};HW([zE],Yv.prototype,"init",1),HW([zT],Yv.prototype,"destroyHeaderCtrls",1);var Yy=0,YC=class e extends Wl{constructor(e,t,i){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=i,this.beans=t,this.instanceId=e.getUniqueId()+"-"+Yy++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(e){let{headerRowIndex:t,column:i}=this.focusService.getFocusedHeader();return jx(this.gos,e,t,i)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){this.comp&&this.column&&(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:i}=this;KK.refreshFirstAndLastStyles(e,t,i.columnModel)}refreshAriaColIndex(){let{beans:e,column:t}=this,i=e.columnModel.getAriaColumnIndex(t);Ue(this.eGui,i)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gos.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){var t;let i=this.gos.getActiveDomElement(),r=e.key===jw.LEFT||e.key===jw.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),i!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||r)&&(e.preventDefault(),e.stopImmediatePropagation()),!r))return;let n=$F[e.key===jw.LEFT!==this.gos.get("enableRtl")?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let i=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(i,e.shiftKey),null==(t=this.resizeFeature)||t.toggleColumnResizing(!0)}else this.moveHeader(n)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e);if(this.column.getPinned()){let e=this.pinnedWidthService.getPinnedLeftWidth(),i=this.pinnedWidthService.getPinnedRightWidth(),r=UK(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(e+i+t>r)if(!(r>e+i))return 0;else t=r-e-i}return t}getResizeDiff(e){let t=e.key===jw.LEFT!==this.gos.get("enableRtl"),i=this.column.getPinned(),r=this.gos.get("enableRtl");return i&&r!==("right"===i)&&(t=!t),(t?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var e;null==(e=this.resizeFeature)||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case jw.PAGE_DOWN:case jw.PAGE_UP:case jw.PAGE_HOME:case jw.PAGE_END:t&&e.preventDefault()}}addDomData(){let t=e.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(this.eGui,t,this),this.addDestroyFunc(()=>this.gos.setDomData(this.eGui,t,null))}getGui(){return this.eGui}focus(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){let r=null!=e?e:t;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault();let n=i instanceof zO?i:void 0;this.menuService.isHeaderContextMenuEnabled(n)&&this.menuService.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent(Wc.EVENT_COLUMN_HEADER_CONTEXT_MENU,i)}dispatchColumnMouseEvent(e,t){this.eventService.dispatchEvent({type:e,column:t})}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};YC.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",HW([zR("pinnedWidthService")],YC.prototype,"pinnedWidthService",2),HW([zR("focusService")],YC.prototype,"focusService",2),HW([zR("userComponentFactory")],YC.prototype,"userComponentFactory",2),HW([zR("ctrlsService")],YC.prototype,"ctrlsService",2),HW([zR("dragAndDropService")],YC.prototype,"dragAndDropService",2),HW([zR("menuService")],YC.prototype,"menuService",2),HW([zE],YC.prototype,"postConstruct",1);var Yw=YC,Yb=class extends Wl{constructor(e,t,i,r){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=r,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?zW(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,zO.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){let e=this.beans.gos.get("suppressColumnMoveAnimation"),t=HK(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),r=this.modifyLeftForPrintLayout(e,i),n=this.modifyLeftForPrintLayout(e,t);this.setLeft(r),this.actualLeft=n,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gos.isDomLayout("print")||"left"===e.getPinned())return t;let i=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?i+this.beans.columnModel.getBodyContainerWidth()+t:i+t}setLeft(e){if(HK(e)&&(this.eCell.style.left=`${e}px`),this.columnOrGroup instanceof zO)this.columnOrGroup;else{let e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&Ut(this.ariaEl,e.length),e[0]}}};HW([zE],Yb.prototype,"postConstruct",1);var YS=class extends Wl{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};HW([zR("columnHoverService")],YS.prototype,"columnHoverService",2),HW([zE],YS.prototype,"postConstruct",1);var Yx=class extends Yw{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,r){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=r,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,zO.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){let e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=jy("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new jY(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.localeService.getLocaleTextFunc();W$(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;let t=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(t){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),t.focus();return}let i=this.findNextColumnWithFloatingFilter(e.shiftKey);i&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:i},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.columnModel,i=this.column;do if(!(i=e?t.getDisplayedColBefore(i):t.getDisplayedColAfter(i)))break;while(!i.getColDef().filter||!i.getColDef().floatingFilter)return i}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case jw.UP:case jw.DOWN:t||e.preventDefault();case jw.LEFT:case jw.RIGHT:if(t)return;e.stopPropagation();case jw.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case jw.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&UU(e.relatedTarget,"ag-floating-filter");if(t&&i&&e.target===this.eGui){let e=this.lastFocusEvent,t=!!(e&&e.key===jw.TAB);if(e&&t){let t=e.shiftKey;this.focusService.focusInto(this.eGui,t)}}let r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(){this.createManagedBean(new YS([this.column],this.eGui));let e=()=>{if(!this.gos.get("columnHoverHighlight"))return;let e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){let e=new Yb(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;let e=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;let{filterManager:e}=this.beans,t=t=>{if((null==t?void 0:t.source)==="filterDestroyed"&&this.context.isDestroyed())return;let i=this.comp.getFloatingFilterComp();i&&i.then(i=>{var r;if(i){let n=e.getCurrentFloatingFilterParentModel(this.column);i.onParentModelChanged(n,t?this.gos.addGridCommonParams({columns:null!=(r=t.columns)?r:[],type:Wc.EVENT_FILTER_CHANGED,source:"api"===t.source?"api":"columnFilter"}):null)}})};this.destroySyncListener=this.addManagedListener(this.column,zO.EVENT_FILTER_CHANGED,t),e.isFilterActive(this.column)&&t(null)}setupWidth(){let e=()=>{let e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};this.addManagedListener(this.column,zO.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,zO.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var e,t;let i=this.active;this.setupActive();let r=!i&&this.active;i&&!this.active&&(null==(e=this.destroySyncListener)||e.call(this),null==(t=this.destroyFilterChangedListener)||t.call(this));let n=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();o&&n?o.then(e=>{var t;!e||this.beans.filterManager.areFilterCompsDifferent(null!=(t=this.userCompDetails)?t:null,n)?this.updateCompDetails(n,r):this.updateFloatingFilterParams(n)}):this.updateCompDetails(n,r)}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var t;if(!e)return;let i=e.params;null==(t=this.comp.getFloatingFilterComp())||t.then(e=>{let t=!1;(null==e?void 0:e.refresh)&&"function"==typeof e.refresh&&null!==e.refresh(i)&&(t=!0),!t&&(null==e?void 0:e.onParamsUpdated)&&"function"==typeof e.onParamsUpdated&&null!==e.onParamsUpdated(i)&&za("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},Y_=class extends Wl{constructor(e,t,i,r,n){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=r,this.ctrl=n}postConstruct(){let e,t,i=[],r=()=>{if(UH(this.eResize,e),!e)return;let r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(i.push(r),t){let e=this.gos.get("skipHeaderOnAutoSize"),t=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",e)};this.eResize.addEventListener("dblclick",t);let r=new $b(this.eResize);r.addEventListener($b.EVENT_DOUBLE_TAP,t),i.push(()=>{this.eResize.removeEventListener("dblclick",t),r.removeEventListener($b.EVENT_DOUBLE_TAP,t),r.destroy()})}},n=()=>{i.forEach(e=>e()),i.length=0},o=()=>{let i=this.column.isResizable(),o=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(i!==e||o!==t)&&(e=i,t=o,n(),r())};o(),this.addDestroyFunc(n),this.ctrl.addRefreshFunction(o)}onResizing(e,t){let{column:i,lastResizeAmount:r,resizeStartWidth:n}=this,o=this.normaliseResizeAmount(t);if(!(this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(o-r)>UK(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50))this.lastResizeAmount=o,this.columnModel.setColumnWidths([{key:i,newWidth:n+o}],this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,i="left"!==this.pinned,r="right"===this.pinned;return this.gos.get("enableRtl")?i&&(t*=-1):r&&(t*=-1),t}};HW([zR("horizontalResizeService")],Y_.prototype,"horizontalResizeService",2),HW([zR("pinnedWidthService")],Y_.prototype,"pinnedWidthService",2),HW([zR("ctrlsService")],Y_.prototype,"ctrlsService",2),HW([zR("columnModel")],Y_.prototype,"columnModel",2),HW([zE],Y_.prototype,"postConstruct",1);var YE=class extends Wl{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new j8),this.cbSelectAll.addCssClass("ag-header-select-all"),WH(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Wc.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),W0(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);let t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){let e=this.localeService.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${i} (${t})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${i} (${t})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return"multiple"===this.gos.get("rowSelection")||(console.warn(`AG Grid: ${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){let t=this.rowModel.getType();return"clientSide"===t||"serverSide"===t||(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly(),r="uiSelectAll";i?r="uiSelectAllCurrentPage":t&&(r="uiSelectAllFiltered");let n={source:r,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))),!!e&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};HW([zR("rowModel")],YE.prototype,"rowModel",2),HW([zR("selectionService")],YE.prototype,"selectionService",2);var YT=class extends Yw{constructor(e,t,i){super(e,t,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,r){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(r),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new Y_(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new YS([this.column],t)),this.createManagedBean(new Yb(this.column,t,this.beans)),this.createManagedBean(new jY(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,zO.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(e,t){var i,r;if(!this.column.isResizable())return;let n=Math.min(Math.max(this.column.getActualWidth()+e,null!=(i=this.column.getMinWidth())?i:0),null!=(r=this.column.getMaxWidth())?r:Number.MAX_SAFE_INTEGER);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:n}],t,!0,"uiColumnResized")}moveHeader(e){let{eGui:t,column:i,gos:r,ctrlsService:n}=this,o=this.getPinned(),s=t.getBoundingClientRect().left,a=i.getActualWidth(),l=0===e!==r.get("enableRtl"),u=Yh.normaliseX(l?s-20:s+a+20,o,!0,r,n);Yh.attemptMoveColumns({allMovingColumns:[i],isFromHeader:!0,hDirection:e,xPosition:u,pinned:o,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:this.beans.columnModel}),n.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto")}setupUserComp(){let e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,t)=>{this.beans.sortController.setSortForColumn(this.column,e,!!t,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,t)=>{this.setupTooltip(e,t)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new YE(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===jw.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===jw.ENTER&&this.onEnterKeyDown(e),e.key===jw.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){let t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){let i=this.comp.getUserCompInstance();i&&i instanceof $x&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){let e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let i="whenTruncated"===this.gos.get("tooltipShowMode"),r=this.eGui,n=this.column.getColDef();t||!i||n.headerComponent||(t=()=>{let e=r.querySelector(".ag-header-cell-text");return!e||e.scrollWidth>e.clientWidth});let o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>null!=e?e:this.column.getColDef().headerTooltip,shouldDisplayTooltip:t},s=this.createManagedBean(new jG(o));this.refreshFunctions.push(()=>s.refreshToolTip())}setupClassesFromColDef(){let e=()=>{let e=this.column.getColDef(),t=KK.getHeaderClassesFromColDef(e,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(t),t.forEach(e=>{i.has(e)?i.delete(e):this.comp.addOrRemoveCssClass(e,!0)}),i.forEach(e=>this.comp.addOrRemoveCssClass(e,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;let{column:t,beans:i,displayName:r,dragAndDropService:n,gos:o}=this,{columnModel:s}=i,a=!this.gos.get("suppressDragLeaveHidesColumns"),l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?$G.ICON_HIDE:$G.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(t),dragItemName:r,onDragStarted:()=>{a=!o.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:e=>{var t;if(a){let i=(null==(t=null==e?void 0:e.columns)?void 0:t.filter(e=>!e.getColDef().lockVisible))||[];s.setColumnsVisible(i,!0,"uiColumnMoved")}},onGridExit:e=>{var t;if(a){let i=(null==(t=null==e?void 0:e.columns)?void 0:t.filter(e=>!e.getColDef().lockVisible))||[];s.setColumnsVisible(i,!1,"uiColumnMoved")}}};n.addDragSource(l,!0)}createDragItem(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){let e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!!t&&!!t.refresh&&t.refresh(e)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){let e=()=>{let e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};this.addManagedListener(this.column,zO.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){let e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,zO.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){let e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,zO.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){let e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,zO.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){let e=()=>{let e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};this.addManagedListener(this.column,zO.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupWrapTextClass(){let e=()=>{let e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:i,beans:r}=this;if(!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}let{numberOfParents:n,isSpanningTotal:o}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",n>0);let{columnModel:s}=r,a=s.getColumnHeaderRowHeight();if(0===n){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${a}px`);return}i.addOrRemoveCssClass("ag-header-span-total",o);let l=n*(s.isPivotMode()?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight());e.style.setProperty("top",`${-l}px`),e.style.setProperty("height",`${a+l}px`)}setupAutoHeight(e){let t,{columnModel:i,resizeObserverService:r}=this.beans,n=t=>{if(!this.isAlive())return;let{paddingTop:r,paddingBottom:o,borderBottomWidth:s,borderTopWidth:a}=Uj(this.getGui()),l=e.offsetHeight+(r+o+s+a);if(t<5){let i=this.beans.gos.getDocument(),r=!i||!i.contains(e),o=0==l;if(r||o)return void window.setTimeout(()=>n(t+1),0)}i.setColumnHeaderHeight(this.column,l)},o=!1,s=()=>{let e=this.column.isAutoHeaderHeight();e&&!o&&a(),!e&&o&&l()},a=()=>{o=!0,n(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),t=r.observeResize(e,()=>n(0))},l=()=>{o=!1,t&&t(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),t=void 0};s(),this.addDestroyFunc(()=>l()),this.addManagedListener(this.column,zO.EVENT_WIDTH_CHANGED,()=>o&&n(0)),this.addManagedListener(this.eventService,zO.EVENT_SORT_CHANGED,()=>{o&&window.setTimeout(()=>n(0))}),this.addRefreshFunction(s)}refreshAriaSort(){if(this.sortable){let e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Wz(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((e,t)=>"filter"===e?-1:t.charCodeAt(0)-e.charCodeAt(0)).map(e=>this.ariaDescriptionProperties.get(e)).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){let e=()=>{if(!this.gos.get("columnHoverHighlight"))return;let e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_HOVER_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){let e=e=>this.handleMouseOverChange("mouseenter"===e.type),t=()=>this.dispatchColumnMouseEvent(Wc.EVENT_COLUMN_HEADER_CLICKED,this.column),i=e=>this.handleContextMenuMouseEvent(e,void 0,this.column);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",t),this.addManagedListener(this.getGui(),"contextmenu",i)}handleMouseOverChange(e){this.setActiveHeader(e);let t={type:e?Wc.EVENT_COLUMN_HEADER_MOUSE_OVER:Wc.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column};this.eventService.dispatchEvent(t)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return t instanceof $x?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},YM=class extends Wl{constructor(e,t,i,r){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);let e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){let e=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{let t=[];this.columnGroup.getDisplayedLeafColumns().forEach(e=>{e.getColDef().suppressAutoSize||t.push(e.getColId())}),t.length>0&&this.columnModel.autoSizeColumns({columns:t,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){let t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){let r=this.normaliseDragChange(t),n=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(n,i,e)}getInitialValues(e){let t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),r=this.getSizeRatiosOfColumns(t,i),n={columnsToResize:t,resizeStartWidth:i,resizeRatios:r},o=null;if(e&&(o=this.columnModel.getDisplayedGroupAtDirection(this.columnGroup,"After")),o){let e=n.groupAfterColumns=o.getDisplayedLeafColumns().filter(e=>e.isResizable()),t=n.groupAfterStartWidth=this.getInitialSizeOfColumns(e);n.groupAfterRatios=this.getSizeRatiosOfColumns(e,t)}else n.groupAfterColumns=void 0,n.groupAfterStartWidth=void 0,n.groupAfterRatios=void 0;return n}storeLocalValues(e){let{columnsToResize:t,resizeStartWidth:i,resizeRatios:r,groupAfterColumns:n,groupAfterStartWidth:o,groupAfterRatios:s}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=r,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){let t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){var r,n,o;if(!this.resizeCols||!this.resizeRatios)return;let s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!=(r=this.resizeTakeFromCols)?r:void 0,groupAfterStartWidth:null!=(n=this.resizeTakeFromStartWidth)?n:void 0,groupAfterRatios:null!=(o=this.resizeTakeFromRatios)?o:void 0};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i,r=!0){let{columnsToResize:n,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,d=[];if(d.push({columns:n,ratios:s,width:t}),a){let e=t-o;d.push({columns:a,ratios:u,width:l-e})}this.columnModel.resizeColumnSets({resizeSets:d,finished:r,source:i}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}getInitialSizeOfColumns(e){return e.reduce((e,t)=>e+t.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(e=>e.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}};HW([zR("horizontalResizeService")],YM.prototype,"horizontalResizeService",2),HW([zR("autoWidthCalculator")],YM.prototype,"autoWidthCalculator",2),HW([zR("columnModel")],YM.prototype,"columnModel",2),HW([zE],YM.prototype,"postConstruct",1);var YR=class extends Wl{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Wh.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}};HW([zE],YR.prototype,"postConstruct",1);var YD=class extends Yw{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){let e=this.getGui();this.setDragSource(e)}},this.column=e}setComp(e,t,i){this.comp=e,this.setGui(t),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();let r=this.getParentRowCtrl().getPinned(),n=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new YS(n,t)),this.createManagedBean(new Yb(this.column,t,this.beans)),this.createManagedBean(new YR(e,this.column)),this.resizeFeature=this.createManagedBean(new YM(e,i,r,this.column)),this.createManagedBean(new jY(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>void 0,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(Wc.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,t){if(!this.resizeFeature)return;let i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){let{beans:t,eGui:i,column:r,gos:n,ctrlsService:o}=this,s=n.get("enableRtl"),a=0===e,l=this.getPinned(),u=i.getBoundingClientRect(),d=u.left,h=u.width,c=Yh.normaliseX(a!==s?d-20:d+h+20,l,!0,n,o),p=r.getGroupId(),g=this.focusService.getFocusedHeader();Yh.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:c,pinned:l,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:t.columnModel});let f=r.getDisplayedLeafColumns(),m=a?f[0]:zW(f);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(m,"auto"),!this.isAlive()&&g&&this.restoreFocus(p,r,g)}restoreFocus(e,t,i){let r=t.getLeafColumns();if(!r.length)return;let n=r[0].getParent();if(!n)return;let o=this.findGroupWidthId(n,e);o&&this.focusService.focusHeaderPosition({headerPosition:Hk(HH({},i),HF({column:o}))})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){let e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:e=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),e,"gridInitializing")},setTooltip:(e,t)=>{this.setupTooltip(e,t)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){let e=e=>this.handleMouseOverChange("mouseenter"===e.type),t=()=>this.dispatchColumnMouseEvent(Wc.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup()),i=e=>this.handleContextMenuMouseEvent(e,void 0,this.column.getProvidedColumnGroup());this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",t),this.addManagedListener(this.getGui(),"contextmenu",i)}handleMouseOverChange(e){let t={type:e?Wc.EVENT_COLUMN_HEADER_MOUSE_OVER:Wc.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(t)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let i=this.column.getColGroupDef(),r="whenTruncated"===this.gos.get("tooltipShowMode"),n=this.eGui;t||!r||(null==i?void 0:i.headerGroupComponent)||(t=()=>{let e=n.querySelector(".ag-header-group-text");return!e||e.scrollWidth>e.clientWidth});let o={getColumn:()=>this.column,getGui:()=>n,getLocation:()=>"headerGroup",getTooltipValue:()=>null!=e?e:i&&i.headerTooltip,shouldDisplayTooltip:t};i&&(o.getColDef=()=>i),this.createBean(new jG(o))}setupExpandable(){let e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,zG.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,zG.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){let e=this.column;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){let e=this.column.getColGroupDef(),t=KK.getHeaderClassesFromColDef(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(e=>e.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(e=>this.comp.addOrRemoveCssClass(e,!0))}setupMovingCss(){let e=this.column.getProvidedColumnGroup().getLeafColumns(),t=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());e.forEach(e=>{this.addManagedListener(e,zO.EVENT_MOVING_CHANGED,t)}),t()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){let e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===jw.ENTER){let e=this.column,t=!e.isExpanded();this.beans.columnModel.setColumnGroupOpened(e.getProvidedColumnGroup(),t,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;let{beans:t,column:i,displayName:r,gos:n,dragAndDropService:o}=this,{columnModel:s}=t,a=i.getProvidedColumnGroup().getLeafColumns(),l=!n.get("suppressDragLeaveHidesColumns"),u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?$G.ICON_HIDE:$G.ICON_NOT_ALLOWED,dragItemName:r,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!n.get("suppressDragLeaveHidesColumns"),a.forEach(e=>e.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(e=>e.setMoving(!1,"uiColumnDragged")),onGridEnter:e=>{var t;if(l){let i=(null==(t=null==e?void 0:e.columns)?void 0:t.filter(e=>!e.getColDef().lockVisible))||[];s.setColumnsVisible(i,!0,"uiColumnMoved")}},onGridExit:e=>{var t;if(l){let i=(null==(t=null==e?void 0:e.columns)?void 0:t.filter(e=>!e.getColDef().lockVisible))||[];s.setColumnsVisible(i,!1,"uiColumnMoved")}}};o.addDragSource(u,!0)}getDragItemForGroup(e){let t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(e=>i[e.getId()]=e.isVisible());let r=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(e=>{t.indexOf(e)>=0&&(r.push(e),zq(t,e))}),t.forEach(e=>r.push(e)),{columns:r,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(t=>{(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}},YA=0,YI=class extends Wl{constructor(e,t,i){super(),this.instanceId=YA++,this.rowIndex=e,this.pinned=t,this.type=i,this.headerRowClass=`ag-header-row ${"group"==i?"ag-header-row-column-group":"filter"==i?"ag-header-row-column-filter":"ag-header-row-column"}`}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_VIRTUAL_COLUMNS_CHANGED,e=>this.onVirtualColumnsChanged(e.afterScroll)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){if(this.headerCellCtrls)return H2(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{columnModel:e}=this.beans;return this.isPrintLayout?null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let{columnModel:e,filterManager:t}=this.beans,i=e.getHeaderRowCount(),r=[],n=0;t.hasFloatingFilters()&&(i++,n=1);let o=e.getColumnGroupHeaderRowHeight(),s=e.getColumnHeaderRowHeight(),a=i-(1+n);for(let e=0;e<a;e++)r.push(o);r.push(s);for(let t=0;t<n;t++)r.push(e.getFloatingFiltersHeight());let l=0;for(let e=0;e<this.rowIndex;e++)l+=r[e];return{topOffset:l,rowHeight:r[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){let t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){let e=this.headerCellCtrls;for(let t of(this.headerCellCtrls=new Map,this.getColumnsInViewport()))this.recycleAndCreateHeaderCtrls(t,e);let t=e=>{let{focusService:t,columnModel:i}=this.beans;return!!t.isHeaderWrapperFocused(e)&&i.isDisplayed(e.getColumnGroupChild())};if(e)for(let[i,r]of e)t(r)?this.headerCellCtrls.set(i,r):this.destroyBean(r);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(e,t){let i;if(!this.headerCellCtrls||e.isEmptyGroup())return;let r=e.getUniqueId();if(t&&(i=t.get(r),t.delete(r)),i&&i.getColumnGroupChild()!=e&&(this.destroyBean(i),i=void 0),null==i)switch(this.type){case"filter":i=this.createBean(new Yx(e,this.beans,this));break;case"group":i=this.createBean(new YD(e,this.beans,this));break;default:i=this.createBean(new YT(e,this.beans,this))}this.headerCellCtrls.set(r,i)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[],t=this.getActualDepth(),{columnModel:i}=this.beans;return["left",null,"right"].forEach(r=>{let n=i.getVirtualHeaderGroupRow(r,t);e=e.concat(n)}),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){if(!this.headerCellCtrls)return!1;let i=Array.from(this.headerCellCtrls.values()).find(t=>t.getColumnGroupChild()==e);return!!i&&i.focus(t)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}};HW([zR("beans")],YI.prototype,"beans",2),HW([zE],YI.prototype,"postConstruct",1);var YP=class extends Wl{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,Wc.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){let t=new Yp(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){let t=new jL,i=this.focusService.getFocusHeaderToUseAfterRefresh(),r=()=>{let i=t.next(),r=!this.hidden&&(null==this.columnsRowCtrl||!e||this.columnsRowCtrl.getRowIndex()!==i);(r||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),r&&(this.columnsRowCtrl=this.createBean(new YI(i,this.pinned,"column")))},n=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;let i=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void i();let r=t.next();if(this.filtersRowCtrl){let t=this.filtersRowCtrl.getRowIndex()!==r;(!e||t)&&i()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new YI(r,this.pinned,"filter")))};(()=>{let e=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let i=0;i<e;i++){let e=this.createBean(new YI(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(e)}})(),r(),n();let o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(e){null!=e&&e.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){let e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new K3(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(null==this.pinned)return;let e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;let i=()=>{let i=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==i)return;let r=0==i,n=this.hidden!==r,o=this.gos.get("enableRtl"),s=this.gos.getScrollbarWidth(),a=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t);this.comp.setPinnedContainerWidth(`${a?i+s:i}px`),this.comp.setDisplayed(!r),n&&(this.hidden=r,this.refresh())};this.addManagedListener(this.eventService,Wc.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,Wc.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,Wc.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,Wc.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(e){if(e instanceof zO){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(e)}if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){let i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){let t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){let t=this.getAllCtrls()[e];return t?t.getType():void 0}focusHeader(e,t,i){let r=this.getAllCtrls()[e];return!!r&&r.focusHeader(t,i)}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+ +!!this.columnsRowCtrl+ +!!this.filtersRowCtrl}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};HW([zR("ctrlsService")],YP.prototype,"ctrlsService",2),HW([zR("scrollVisibleService")],YP.prototype,"scrollVisibleService",2),HW([zR("pinnedWidthService")],YP.prototype,"pinnedWidthService",2),HW([zR("columnModel")],YP.prototype,"columnModel",2),HW([zR("focusService")],YP.prototype,"focusService",2),HW([zR("filterManager")],YP.prototype,"filterManager",2);var YL=class e extends jH{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate(),this.createManagedBean(new YP(this.pinned)).setComp({setDisplayed:e=>this.setDisplayed(e),setCtrls:e=>this.setCtrls(e),setCenterWidth:e=>this.eCenterContainer.style.width=e,setViewportScrollLeft:e=>this.getGui().scrollLeft=e,setPinnedContainerWidth:e=>{let t=this.getGui();t.style.width=e,t.style.maxWidth=e,t.style.minWidth=e}},this.getGui())}selectAndSetTemplate(){let t="left"==this.pinned,i="right"==this.pinned,r=t?e.PINNED_LEFT_TEMPLATE:i?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(r),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let t,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let r=e=>{let i=e.getGui();i.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(i),t&&U4(this.eRowContainer,i,t),t=i};e.forEach(e=>{let t=e.getInstanceId(),n=i[t];delete i[t];let o=n||this.createBean(new Yv(e));this.headerRowComps[t]=o,this.rowCompsList.push(o),r(o)}),H7(i).forEach(e=>this.destroyRowComp(e))}};YL.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',YL.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',YL.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,HW([jz("eCenterContainer")],YL.prototype,"eCenterContainer",2),HW([zE],YL.prototype,"init",1),HW([zT],YL.prototype,"destroyRowComps",1);var Yk=((F=Yk||{})[F.UP=0]="UP",F[F.DOWN=1]="DOWN",F[F.LEFT=2]="LEFT",F[F.RIGHT=3]="RIGHT",F),YN=class extends Wl{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl});let e=this.gos.getDocument();this.addManagedListener(e,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){let e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;let{headerRowIndex:r,column:n}=t,o=this.getHeaderRowCount(),{headerRowIndex:s,column:a,headerRowIndexWithoutSpan:l}=0===e?this.headerPositionUtils.getColumnVisibleParent(n,r):this.headerPositionUtils.getColumnVisibleChild(n,r),u=!1;return s<0&&(s=0,a=n,u=!0),s>=o?(s=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==l&&(this.currentHeaderRowWithoutSpan=l),(!!u||!!a)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:s,column:a},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){let r,n,o=this.focusService.getFocusedHeader(),s=this.gos.get("enableRtl");if(-1!==this.currentHeaderRowWithoutSpan?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,n=2===e!==s?"Before":"After",(r=this.headerPositionUtils.findHeader(o,n))||!t)return this.focusService.focusHeaderPosition({headerPosition:r,direction:n,fromTab:t,allowUserOverride:!0,event:i});if(t){let e=this.gos.getCallback("tabToNextHeader");if(e)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:e,headerPosition:r,direction:n})}return this.focusNextHeaderRow(o,n,i)}focusNextHeaderRow(e,t,i){let r,n=e.headerRowIndex,o=null;if("Before"===t?n>0&&(r=n-1,this.currentHeaderRowWithoutSpan-=1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),!o)return!1;let{column:s,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(o.column,null==o?void 0:o.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){let i;if(!e.getPinned()){if(e instanceof Wh){let r=e.getDisplayedLeafColumns();i="Before"===t?zW(r):r[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}}};HW([zR("focusService")],YN.prototype,"focusService",2),HW([zR("headerPositionUtils")],YN.prototype,"headerPositionUtils",2),HW([zR("ctrlsService")],YN.prototype,"ctrlsService",2),HW([zE],YN.prototype,"postConstruct",1),YN=HW([zM("headerNavigationService")],YN);var YF=class extends Wl{setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new jY(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();let r=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",r),this.mockContextMenuForIPad(r),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){let e,{columnModel:t}=this,i=0,r=t.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(r++,i=1);let n=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),s=r-(1+i);if(e=i*t.getFloatingFiltersHeight()+s*n+o,this.headerHeight===e)return;this.headerHeight=e;let a=`${e+1}px`;this.comp.setHeightAndMinHeight(a),this.eventService.dispatchEvent({type:Wc.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){let e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){let e=this.columnModel.getAllDisplayedColumns().some(e=>e.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),i=e.shiftKey!==t?2:3;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case jw.LEFT:t=2;case jw.RIGHT:HK(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case jw.UP:t=0;case jw.DOWN:HK(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){let{relatedTarget:t}=e;!(!t&&this.eGui.contains(this.gos.getActiveDomElement()))&&(this.eGui.contains(t)||this.focusService.clearFocusedHeader())}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;let{target:r}=null!=e?e:t;(r===this.eGui||r===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!Ug())return;let t=new $b(this.eGui);this.addManagedListener(t,$b.EVENT_LONG_TAP,t=>{e(void 0,t.touchStart,t.touchEvent)}),this.addDestroyFunc(()=>t.destroy())}};HW([zR("headerNavigationService")],YF.prototype,"headerNavigationService",2),HW([zR("focusService")],YF.prototype,"focusService",2),HW([zR("columnModel")],YF.prototype,"columnModel",2),HW([zR("ctrlsService")],YF.prototype,"ctrlsService",2),HW([zR("filterManager")],YF.prototype,"filterManager",2),HW([zR("menuService")],YF.prototype,"menuService",2);var YO=class e extends jH{constructor(){super(e.TEMPLATE)}postConstruct(){this.createManagedBean(new YF).setComp({addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setHeightAndMinHeight:e=>{this.getGui().style.height=e,this.getGui().style.minHeight=e}},this.getGui(),this.getFocusableElement());let e=e=>{this.createManagedBean(e),this.appendChild(e)};e(new YL("left")),e(new YL(null)),e(new YL("right"))}};YO.TEMPLATE='<div class="ag-header" role="presentation"/>',HW([zE],YO.prototype,"postConstruct",1);var YG=class extends Wl{addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};HW([zR("dragService")],YG.prototype,"dragService",2),HW([zR("ctrlsService")],YG.prototype,"ctrlsService",2),YG=HW([zM("horizontalResizeService")],YG);var YV=class extends Wl{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,r=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:r})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let r=-1,n="left",o=this.menuService.isLegacyMenuEnabled();!o&&this.gos.get("enableRtl")&&(r=1,n="right");let s=o?void 0:4*r,a=o?void 0:4;this.showPopup(e,r=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:r,nudgeX:s,nudgeY:a,alignSide:n,keepWithinBounds:!0,position:"under",column:e})},i,t,o)}showPopup(e,t,i,r,n){let o,s=e?this.createBean(new KR(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!(null==s?void 0:s.hasFilter())||!e)throw Error("AG Grid - unable to show popup filter, filter instantiation failed");let a=document.createElement("div");WH(a,"presentation"),a.classList.add("ag-menu"),n||a.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(a,"keydown",e=>this.trapFocusWithin(e,a)),a.appendChild(null==s?void 0:s.getGui());let l=this.menuService.isColumnMenuAnchoringEnabled()?null!=r?r:this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=t=>{e.setMenuVisible(!1,"contextMenu");let n=t instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),n&&r&&U5(r)){let e=this.focusService.findTabbableParent(r);e&&e.focus()}null==s||s.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},d=this.localeService.getLocaleTextFunc(),h=n&&"columnFilter"!==i?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),c=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:u,positionCallback:()=>t(a),anchorToElement:l,ariaLabel:h});c&&(this.hidePopup=o=c.hideFunc),s.afterInit().then(()=>{t(a),s.afterGuiAttached({container:i,hidePopup:o})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==jw.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){let r={type:Wc.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:t,column:null!=i?i:null};this.eventService.dispatchEvent(r)}isMenuEnabled(e){var t;return e.isFilterAllowed()&&(null!=(t=e.getColDef().menuTabs)?t:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}};HW([zR("filterManager")],YV.prototype,"filterManager",2),HW([zR("popupService")],YV.prototype,"popupService",2),HW([zR("focusService")],YV.prototype,"focusService",2),HW([zR("ctrlsService")],YV.prototype,"ctrlsService",2),HW([zR("menuService")],YV.prototype,"menuService",2),YV=HW([zM("filterMenuFactory")],YV);var YB=((O=YB||{}).TAB_GUARD="ag-tab-guard",O.TAB_GUARD_TOP="ag-tab-guard-top",O.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",O),YH=class extends Wl{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:t,eTopGuard:i,eBottomGuard:r,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:s,onFocusIn:a,onFocusOut:l,shouldStopEventPropagation:u,onTabKeyDown:d,handleKeyDown:h,eFocusableElement:c}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=r,this.providedFocusInnerElement=s,this.eFocusableElement=c,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.providedFocusIn=a,this.providedFocusOut=l,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h}postConstruct(){this.createManagedBean(new jY(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);let t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){let t,i,r=this.gos.getDocument(),n=this.focusService.findFocusableElements(r.body,null,!0),o=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===o)return;e?(t=0,i=o):(t=o+1,i=n.length);let s=n.slice(t,i),a=this.gos.get("tabIndex");s.sort((e,t)=>{let i=parseInt(e.getAttribute("tabindex")||"0"),r=parseInt(t.getAttribute("tabindex")||"0");return r===a?1:i===a?-1:0===i?1:0===r?-1:i-r}),s[e?s.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())}onFocusOut(e){!this.focusTrapActive&&(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e){return e===this.eTopGuard||e===this.eBottomGuard}};HW([zR("focusService")],YH.prototype,"focusService",2),HW([zE],YH.prototype,"postConstruct",1);var Yz=class extends jH{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();let t=[this.eTopGuard,this.eBottomGuard];this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new YH({comp:{setTabIndex:e=>{t.forEach(t=>null!=e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex"))}},focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(e){let t=document.createElement("div");return t.classList.add("ag-tab-guard","top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom"),WH(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];U0(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){js(e)||(e=e.getGui());let{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}},YW=class e extends Yz{constructor(t){super(e.getTemplate(t.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=t}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(e=>this.addItem(e)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var e,t,i;return null==(i=null==(t=null==(e=this.activeItem)?void 0:e.tabbedItem)?void 0:t.afterDetachedCallback)?void 0:i.call(t)})}static getTemplate(e){return`<div class="ag-tabs ${e}">
            <div ref="eHeader"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>
        </div>`}setupHeader(){let{enableCloseButton:e,cssClass:t}=this.params,i=(e,i)=>{e.classList.add(`ag-tabs-${i}`),t&&e.classList.add(`${t}-${i}`)};e?(this.setupCloseButton(i),this.eTabHeader=this.gos.getDocument().createElement("div"),i(this.eHeader,"header-wrapper"),WH(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,WH(this.eTabHeader,"tablist"),i(this.eTabHeader,"header")}setupCloseButton(e){let t=this.gos.getDocument(),i=t.createElement("button");e(i,"close-button");let r=jy("close",this.gos,void 0,!0);W$(i,this.params.closeButtonAriaLabel),i.appendChild(r),this.addManagedListener(i,"click",()=>{var e,t;return null==(t=(e=this.params).onCloseClicked)?void 0:t.call(e)});let n=t.createElement("div");e(n,"close-button-wrapper"),WH(n,"presentation"),n.appendChild(i),this.eHeader.appendChild(n),this.eCloseButton=i}handleKeyDown(e){switch(e.key){case jw.RIGHT:case jw.LEFT:if(!this.eTabHeader.contains(this.gos.getActiveDomElement()))return;let t=e.key===jw.RIGHT,i=this.gos.get("enableRtl"),r=this.items.indexOf(this.activeItem),n=t!==i?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===n)return;e.preventDefault();let o=this.items[n];this.showItemWrapper(o),o.eHeaderButton.focus();break;case jw.UP:case jw.DOWN:e.stopPropagation()}}onTabKeyDown(e){var t,i,r,n;if(e.defaultPrevented)return;let{focusService:o,eHeader:s,eBody:a,activeItem:l,params:u}=this,{suppressTrapFocus:d,enableCloseButton:h}=u,c=this.gos.getActiveDomElement(),p=e.target,g=e.shiftKey;if(s.contains(c)){e.preventDefault(),h&&g&&!(null==(t=this.eCloseButton)?void 0:t.contains(c))?null==(i=this.eCloseButton)||i.focus():d&&g?null==(r=this.focusService.findFocusableElementBeforeTabGuard(this.gos.getDocument().body,p))||r.focus():this.focusBody(e.shiftKey);return}let f=null;if(o.isTargetUnderManagedComponent(a,p)&&(g&&(f=this.focusService.findFocusableElementBeforeTabGuard(a,p)),f||d||(f=l.eHeaderButton)),!f&&a.contains(c)&&!(f=o.findNextFocusableElement(a,!1,g))){e.preventDefault(),d&&!g?this.forceFocusOutOfContainer(g):h&&!g?null==(n=this.eCloseButton)||n.focus():this.focusHeader();return}f&&(e.preventDefault(),f.focus())}focusInnerElement(e){e?this.focusHeader():this.focusBody(!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){this.focusService.focusInto(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){let t=document.createElement("span");WH(t,"tab"),t.setAttribute("tabindex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eTabHeader.appendChild(t),W$(t,e.titleLabel);let i={tabbedItem:e,eHeaderButton:t};this.items.push(i),t.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(e){let t=this.items.find(t=>t.tabbedItem===e);t&&this.showItemWrapper(t)}showItemWrapper(e){var t,i,r,n,o,s;let{tabbedItem:a,eHeaderButton:l}=e;if(null==(i=(t=this.params).onItemClicked)||i.call(t,{item:a}),this.activeItem===e){null==(n=(r=this.params).onActiveItemClicked)||n.call(r);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),U0(this.eBody),a.bodyPromise.then(e=>{this.eBody.appendChild(e);let t=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,t),a.afterAttachedCallback&&a.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){let t=a.getScrollableContainer&&a.getScrollableContainer()||e;this.lastScrollListener=this.addManagedListener(t,"scroll",()=>{this.tabbedItemScrollMap.set(a.name,t.scrollTop)});let i=this.tabbedItemScrollMap.get(a.name);void 0!==i&&setTimeout(()=>{t.scrollTop=i},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null==(s=(o=this.activeItem.tabbedItem).afterDetachedCallback)||s.call(o)),l.classList.add("ag-tab-selected"),this.activeItem=e}};HW([zR("focusService")],YW.prototype,"focusService",2),HW([jz("eHeader")],YW.prototype,"eHeader",2),HW([jz("eBody")],YW.prototype,"eBody",2),HW([zE],YW.prototype,"postConstruct",1);var YU=class extends Wl{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){let i=this.gos.getWindow(),r=()=>{var i,r;let n=null!=(i=null==e?void 0:e.clientWidth)?i:0,o=null!=(r=null==e?void 0:e.clientHeight)?r:0,s=!0,a=()=>{var i,r;if(s){let s=null!=(i=null==e?void 0:e.clientWidth)?i:0,l=null!=(r=null==e?void 0:e.clientHeight)?r:0;(s!==n||l!==o)&&(n=s,o=l,t()),this.doNextPolyfillTurn(a)}};return a(),()=>s=!1},n=this.gos.get("suppressBrowserResizeObserver");if(i.ResizeObserver&&!n){let r;return(r=new i.ResizeObserver(t)).observe(e),()=>r.disconnect()}return this.getFrameworkOverrides().wrapIncoming(()=>r(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;let e=()=>{let e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach(e=>e())};this.polyfillScheduled=!0,window.setTimeout(e,50)}};YU=HW([zM("resizeObserverService")],YU);var Yj=class extends Wl{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){let t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){let e=this.paginationProxy.getCurrentPage();e!==this.lastPage&&(this.lastPage=e,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);let r={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],r),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((e,i)=>e.index!==i.index?t*(i.index-e.index):i.createOrder-e.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");let t=this.createTasksP1,i=t.list,r=this.createTasksP2,n=r.list,o=this.destroyTasks,s=new Date().getTime(),a=new Date().getTime()-s,l=e<=0,u=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!u.getScrollFeature().scrollGridIfNeeded()){let e;if(i.length)this.sortTaskList(t),e=i.pop().task;else if(n.length)this.sortTaskList(r),e=n.pop().task;else if(o.length)e=o.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(e)||e()}a=new Date().getTime()-s}i.length||n.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){let t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask(()=>{t=!1,e()})):window.setTimeout(e,0)}}};HW([zR("ctrlsService")],Yj.prototype,"ctrlsService",2),HW([zR("paginationProxy")],Yj.prototype,"paginationProxy",2),HW([zE],Yj.prototype,"init",1),Yj=HW([zM("animationFrameService")],Yj);var Y$=((G=Y$||{}).EVERYTHING="group",G.FILTER="filter",G.SORT="sort",G.MAP="map",G.AGGREGATE="aggregate",G.FILTER_AGGREGATES="filter_aggregates",G.PIVOT="pivot",G.NOTHING="nothing",G),YK=class extends Wl{postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(e){if(!this.isClientSideRowModel)return;let t=new Set(e);this.rowModel.forEachNode(e=>{e.id&&t.has(e.id)&&(e.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){let e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,r){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i,r),e.setExpanded(t,void 0,r))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};HW([zR("rowModel")],YK.prototype,"rowModel",2),HW([zE],YK.prototype,"postConstruct",1),YK=HW([zM("expansionService")],YK);var YY=class extends Wl{postConstruct(){var e;this.activeMenuFactory=null!=(e=this.enterpriseMenuFactory)?e:this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){let i=this.getRowCtrl(e),r=this.getCellGui(i,t);if(!r)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};let n=r.getBoundingClientRect();return{x:n.x+n.width/2,y:n.y+n.height/2}}showContextMenu(e){var t,i,r;let{column:n,rowNode:o}=e,{anchorToElement:s,value:a}=e;o&&n&&null==a&&(a=o.getValueFromValueService(n)),null==s&&(s=this.getContextMenuAnchorElement(o,n)),null==(r=this.contextMenuFactory)||r.onContextMenu(null!=(t=e.mouseEvent)?t:null,null!=(i=e.touchEvent)?i:null,null!=o?o:null,null!=n?n:null,a,s)}showColumnChooser(e){var t;null==(t=this.columnChooserFactory)||t.showColumnChooser(e)}hidePopupMenu(){var e;null==(e=this.contextMenuFactory)||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;null==(e=this.columnChooserFactory)||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){let{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(null!=i?i:t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(null==e?void 0:e.getColDef().suppressHeaderContextMenu)&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(Ug()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){var t;let i=e.getColDef(),r=null==(t=i.floatingFilterComponentParams)?void 0:t.suppressFilterButton;return null!=r&&za("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==i.suppressFloatingFilterButton?!r:!i.suppressFloatingFilterButton}getColumnMenuType(){var e;return null!=(e=this.gos.get("columnMenu"))?e:"legacy"}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?e:!this.gos.exists("suppressMenuHide")||e}showColumnMenuCommon(e,t,i,r){let{column:n,positionBy:o}=t;if("button"===o){let{buttonElement:o}=t;e.showMenuAfterButtonClick(n,o,i,r)}else if("mouse"===o){let{mouseEvent:o}=t;e.showMenuAfterMouseEvent(n,o,i,r)}else n&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),this.animationFrameService.requestAnimationFrame(()=>{let t=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getHeaderCtrlForColumn(n);e.showMenuAfterButtonClick(n,t.getAnchorElementForMenu(r),i,!0)}))}getRowCtrl(e){let{rowIndex:t,rowPinned:i}=e||{};if(null!=t)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;let i=e.getCellCtrl(t);return(null==i?void 0:i.getGui())||void 0}getContextMenuAnchorElement(e,t){let i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),r=this.getRowCtrl(e);if(!r)return i;let n=this.getCellGui(r,t);return n||(r.isFullWidth()?r.getFullWidthElement():i)}};HW([zR("filterMenuFactory")],YY.prototype,"filterMenuFactory",2),HW([zR("ctrlsService")],YY.prototype,"ctrlsService",2),HW([zR("animationFrameService")],YY.prototype,"animationFrameService",2),HW([zR("filterManager")],YY.prototype,"filterManager",2),HW([zR("rowRenderer")],YY.prototype,"rowRenderer",2),HW([zD("columnChooserFactory")],YY.prototype,"columnChooserFactory",2),HW([zD("contextMenuFactory")],YY.prototype,"contextMenuFactory",2),HW([zD("enterpriseMenuFactory")],YY.prototype,"enterpriseMenuFactory",2),HW([zE],YY.prototype,"postConstruct",1),YY=HW([zM("menuService")],YY);var Yq=class extends Wl{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let i=this.getHeaderCellForColumn(e);if(!i)return -1;let r=this.rowRenderer.getAllCellsForColumn(e);return t||r.push(i),this.addElementsToContainerAndGetWidth(r)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){let t=document.createElement("form");t.style.position="fixed";let i=this.centerRowContainerCtrl.getContainerElement();e.forEach(e=>this.cloneItemIntoDummy(e,t)),i.appendChild(t);let r=t.offsetWidth;return i.removeChild(t),r+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{let r=i.getHtmlElementForColumnHeader(e);null!=r&&(t=r)}),t}cloneItemIntoDummy(e,t){let i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";let r=document.createElement("div"),n=r.classList;["ag-header-cell","ag-header-group-cell"].some(e=>i.classList.contains(e))?(n.add("ag-header","ag-header-row"),r.style.position="static"):n.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(e=>o.classList.contains(e))){for(let e=0;e<o.classList.length;e++){let t=o.classList[e];"ag-row-position-absolute"!=t&&n.add(t)}break}o=o.parentElement}r.appendChild(i),t.appendChild(r)}};HW([zR("rowRenderer")],Yq.prototype,"rowRenderer",2),HW([zR("ctrlsService")],Yq.prototype,"ctrlsService",2),HW([zR("rowCssClassCalculator")],Yq.prototype,"rowCssClassCalculator",2),HW([zE],Yq.prototype,"postConstruct",1),Yq=HW([zM("autoWidthCalculator")],Yq);var YX=class extends Wl{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,i,r,n;if(this.isClientSide)throw Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let o=null==(t=e.childStore)?void 0:t.getStoreBounds();return e.footer&&(o=null==(i=e.sibling.childStore)?void 0:i.getStoreBounds()),(null!=(r=null==o?void 0:o.heightPx)?r:0)+(null!=(n=null==o?void 0:o.topPx)?n:0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){let t=e.footer&&0===e.rowIndex,i=!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex);if(t||i){let t=e.footer?e.sibling:e;for(;t.isExpandable()&&t.expanded;)if(t.master)t=t.detailNode;else if(t.childrenAfterSort){if(0===t.childrenAfterSort.length)break;t=zW(t.childrenAfterSort)}return t.rowTop+t.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){let t="top"===e,i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);let r=t?this.rowRenderer.getFirstVisibleVerticalPixel():this.rowRenderer.getLastVisibleVerticalPixel(),n=new Set,o=e=>{if(n.add(e),t){let t=this.getLastPixelOfGroup(e),n=r+i+e.rowHeight;t<n?e.stickyRowTop=i+(t-n):e.stickyRowTop=i}else{let t=this.getFirstPixelOfGroup(e),n=r-(i+e.rowHeight);t>n?e.stickyRowTop=i-(t-n):e.stickyRowTop=i}i=0,n.forEach(e=>{let t=e.stickyRowTop+e.rowHeight;i<t&&(i=t)})},s=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=e=>!!e.displayed&&(e.footer?!0!==s&&("grand"!==s||-1!==e.level)&&("group"!==s||!(e.level>-1))&&!n.has(e):!!e.isExpandable()&&!0!==a&&!n.has(e)&&e.expanded);for(let e=0;e<100;e++){let e=r+i;t||(e=r-i);let n=this.rowModel.getRowIndexAtPixel(e),s=this.rowModel.getRow(n);if(null==s)break;let a=this.getStickyAncestors(s).find(e=>(t?e.rowIndex<n:e.rowIndex>n)&&l(e));if(a){o(a);continue}if((t?s.rowTop<e:s.rowTop+s.rowHeight>e)&&l(s)){o(s);continue}break}return t||n.forEach(e=>{e.stickyRowTop=i-(e.stickyRowTop+e.rowHeight)}),this.refreshNodesAndContainerHeight(e,n,i)}areFooterRowsStickySuppressed(){let e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;let t=!!this.gos.get("groupIncludeFooter")||"group"===e,i=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!!t&&!!i||(i?"grand":!!t&&"group")}canRowsBeSticky(){let e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){let t=[],i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){let e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){let t=new Set;if(this.stickyTopRowCtrls.some(t=>t.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){let r=this.stickyTopRowCtrls[i].getRowNode();r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){let r=this.stickyBottomRowCtrls[i].getRowNode();r!==e&&t.add(r)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,i){let r="top"===e,n=r?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,o={},s=[];for(let e=0;e<n.length;e++){let i=n[e].getRowNode();if(!t.has(i)){o[i.id]=n[e],i.sticky=!1;continue}s.push(n[e])}let a=new Set;for(let e=0;e<s.length;e++)a.add(s[e].getRowNode());let l=[];t.forEach(e=>{a.has(e)||(e.sticky=!0,l.push(this.createRowCon(e,!1,!1)))});let u=!!l.length||s.length!==n.length;r?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),u=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),u=!0),this.destroyRowCtrls(o,!1);let d=[...s,...l];return d.sort((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex),r||d.reverse(),d.forEach(e=>e.setRowTop(e.getRowNode().stickyRowTop)),!!u&&(r?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0)}};HW([zR("rowModel")],YX.prototype,"rowModel",2),HW([zR("rowRenderer")],YX.prototype,"rowRenderer",2),HW([zR("ctrlsService")],YX.prototype,"ctrlsService",2),HW([zE],YX.prototype,"postConstruct",1);var YZ=class extends Wl{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(e=>e.onRangeSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(e=>e.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener(Wc.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.addEventListener(Wc.EVENT_COLUMN_MOVED,t),this.eventService.addEventListener(Wc.EVENT_COLUMN_PINNED,t),this.eventService.addEventListener(Wc.EVENT_COLUMN_VISIBLE,t)},r=()=>{this.eventService.removeEventListener(Wc.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.removeEventListener(Wc.EVENT_COLUMN_MOVED,t),this.eventService.removeEventListener(Wc.EVENT_COLUMN_PINNED,t),this.eventService.removeEventListener(Wc.EVENT_COLUMN_VISIBLE,t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListener("enableRangeSelection",e=>{e.currentValue?i():r()}),this.gos.get("enableRangeSelection")&&i()}}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,Wc.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gos.isGroupRowsSticky()){let e=this.rowModel.getType();("clientSide"===e||"serverSide"===e)&&(this.stickyRowFeature=this.createManagedBean(new YX(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new YQ(null!=e?e:3)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){let e=H7(this.rowCtrlsByRowIndex),t=H7(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,Wc.EVENT_CELL_FOCUSED,e=>{this.onCellFocusChanged(e)}),this.addManagedListener(this.eventService,Wc.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,Wc.EVENT_FLASH_CELLS,e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))}),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())}),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Wc.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(e=>{let t=t=>{this.getAllCellCtrls().forEach(i=>{i.getColumn()===e&&t(i)})},i=()=>{t(e=>e.onLeftChanged())},r=()=>{t(e=>e.onWidthChanged())},n=()=>{t(e=>e.onFirstRightPinnedChanged())},o=()=>{t(e=>e.onLastLeftPinnedChanged())},s=()=>{t(e=>e.onColDefChanged())};e.addEventListener("leftChanged",i),e.addEventListener("widthChanged",r),e.addEventListener("firstRightPinnedChanged",n),e.addEventListener("lastLeftPinnedChanged",o),e.addEventListener("colDefChanged",s),this.destroyFuncsForColumnListeners.push(()=>{e.removeEventListener("leftChanged",i),e.removeEventListener("widthChanged",r),e.removeEventListener("firstRightPinnedChanged",n),e.removeEventListener("lastLeftPinnedChanged",o),e.removeEventListener("colDefChanged",s)})})}onDomLayoutChanged(){let e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){let t=[];return this.getAllRowCtrls().forEach(i=>{let r=i.getCellElement(e);r&&t.push(r)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(e=>{e.destroyFirstPass(),e.destroySecondPass()}),e.length=0,t&&t.forEach(t=>{let i=new KZ(t,this.beans,!1,!1,this.printLayout);e.push(i)})}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){var i;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(null==(i=this.cachedRowCtrls)?void 0:i.has(e))return void this.cachedRowCtrls.removeRow(e);let t=t=>{let i=t[e.rowIndex];i&&i.getRowNode()===e&&(i.destroyFirstPass(),i.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":t(this.topRowCtrls);break;case"bottom":t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e){null==e||e.forEach(e=>this.redrawRow(e,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){let t=(null==e?void 0:e.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;let i=this.gos.getActiveDomElement(),r=this.gos.getDomData(i,Kq.DOM_DATA_KEY_CELL_CTRL),n=this.gos.getDomData(i,KZ.DOM_DATA_KEY_ROW_CTRL);return r||n?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);let i=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&this.gos.isAnimateRows(),n=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(n,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),i=t.length;for(let r=0;r<i;r++){let i=t[r].getAllCellCtrls(),n=i.length;for(let t=0;t<n;t++)e.push(i[t])}return e}getAllRowCtrls(){let e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(let e in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[e]);return i}addRenderedRowListener(e,t,i){let r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){let t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(e=>e.refreshOrDestroyCell(t)),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(e=>{!e.isFullWidth()||e.refreshFullWidth()||this.redrawRow(e.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var t;let i=this.getCellCtrls(e.rowNodes,e.columns).map(e=>e.getCellRenderer()).filter(e=>null!=e);if(null==(t=e.columns)?void 0:t.length)return i;let r=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(e=>{if(n&&!this.isRowInMap(e.getRowNode(),n)||!e.isFullWidth())return;let t=e.getFullWidthCellRenderers();for(let e=0;e<t.length;e++){let i=t[e];null!=i&&r.push(i)}}),[...r,...i]}getCellEditorInstances(e){let t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(e=>{let i=e.getCellEditor();i&&t.push(i)}),t}getEditingCells(){let e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){let i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(e=>{let i=e.id;switch(e.rowPinned){case"top":t.top[i]=e;break;case"bottom":t.bottom[i]=e;break;default:t.normal[i]=e}}),t}isRowInMap(e,t){let i=e.id;switch(e.rowPinned){case"top":return null!=t.top[i];case"bottom":return null!=t.bottom[i];default:return null!=t.normal[i]}}getRowCtrls(e){let t=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&t?i.filter(e=>{let i=e.getRowNode();return this.isRowInMap(i,t)}):i}getCellCtrls(e,t){let i;HK(t)&&(i={},t.forEach(e=>{let t=this.columnModel.getGridColumn(e);HK(t)&&(i[t.getId()]=!0)}));let r=[];return this.getRowCtrls(e).forEach(e=>{e.getAllCellCtrls().forEach(e=>{let t=e.getColumn().getId();i&&!i[t]||r.push(e)})}),r}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){let e=[];H6(this.rowCtrlsByRowIndex,(t,i)=>{null==i.getRowNode().id&&e.push(t)}),this.removeRowCtrls(e);let t={};return H6(this.rowCtrlsByRowIndex,(e,i)=>{t[i.getRowNode().id]=i}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(e=>{let i=this.rowCtrlsByRowIndex[e];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[e]})}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(e={}){let t,{afterScroll:i}=e;this.stickyRowFeature&&Uf()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0);let r=this.firstRenderedRow,n=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;this.stickyRowFeature&&(o=this.stickyRowFeature.checkStickyRows());let s=this.firstRenderedRow!==r||this.lastRenderedRow!==n;if((!i||o||s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!o),null!=t)){let e=this.getCellToRestoreFocusToAfterRefresh();null!=t&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}}removeRowCompsNotToDraw(e,t){let i={};e.forEach(e=>i[e]=!0);let r=Object.keys(this.rowCtrlsByRowIndex).filter(e=>!i[e]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){let t=UT(this.firstRenderedRow,this.lastRenderedRow),i=(e,i)=>{let r=i.getRowNode().rowIndex;null!=r&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(r)};H6(this.rowCtrlsByRowIndex,i),H6(e,i),t.sort((e,t)=>e-t);let r=[];for(let e=0;e<t.length;e++){let i=t[e],n=this.paginationProxy.getRow(i);n&&!n.sticky&&r.push(i)}return r}recycleRows(e,t=!1,i=!1){let r=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(r,!t);let n=[];r.forEach(r=>{let o=this.createOrUpdateRowCtrl(r,e,t,i);HK(o)&&n.push(o)}),e&&(!i||this.gos.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,t):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){let t={type:Wc.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}onDisplayedColumnsChanged(){let e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(e=>{if(!e.isFullWidth())return!1;let i=e.getRowNode();return null==t||!!this.isRowInMap(i,t)})}createOrUpdateRowCtrl(e,t,i,r){let n,o=this.rowCtrlsByRowIndex[e];if(!o&&HK(n=this.paginationProxy.getRow(e))&&HK(t)&&t[n.id]&&n.alreadyRendered&&(o=t[n.id],t[n.id]=null),!o){if(n||(n=this.paginationProxy.getRow(e)),!HK(n))return;o=this.createRowCon(n,i,r)}return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){let i=[];H6(e,(e,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable())return void this.cachedRowCtrls.addRow(r);r.destroyFirstPass(!t),t?(this.zombieRowCtrls[r.getInstanceId()]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[r.getInstanceId()]})):r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),zh(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gos.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{let i,r,n=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gos.get("suppressRowVirtualisation"),a=!1;do{let e=this.paginationProxy.getPixelOffset(),{pageFirstPixel:t,pageLastPixel:l}=this.paginationProxy.getCurrentPagePixelRange(),u=this.rowContainerHeightService.getDivStretchOffset(),d=o.getScrollFeature().getVScrollPosition(),h=d.top,c=d.bottom;s?(i=t+u,r=l+u):(i=Math.max(h+e-n,t)+u,r=Math.min(c+e+n,l)+u),this.firstVisibleVPixel=Math.max(h+e,t)+u,this.lastVisibleVPixel=Math.min(c+e,l)+u,a=this.ensureAllRowsInRangeHaveHeightsCalculated(i,r)}while(a)let l=this.paginationProxy.getRowIndexAtPixel(i),u=this.paginationProxy.getRowIndexAtPixel(r),d=this.paginationProxy.getPageFirstRow(),h=this.paginationProxy.getPageLastRow();l<d&&(l=d),u>h&&(u=h),e=l,t=u}else e=0,t=-1;let i=this.gos.isDomLayout("normal"),r=this.gos.get("suppressMaxRenderedRowRestriction"),n=Math.max(this.getRowBuffer(),500);i&&!r&&t-e>n&&(t=e+n);let o=e!==this.firstRenderedRow,s=t!==this.lastRenderedRow;if(o||s){this.firstRenderedRow=e,this.lastRenderedRow=t;let i={type:Wc.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(i)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;let e={type:Wc.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let i=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){let t=e.getRowNode(),i=this.focusService.isRowNodeFocused(t),r=e.isEditing(),n=t.detail;return!!(i||r||n)&&!!this.paginationProxy.isRowPresent(t)}createRowCon(e,t,i){let r=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(r)return r;let n=this.gos.get("suppressAnimationFrame"),o=i&&!n&&!this.printLayout;return new KZ(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){return Object.values(this.rowCtrlsByRowIndex).map(e=>e.getRowNode())}getRowByPosition(e){let t,{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:!(t=this.rowCtrlsByRowIndex[i])&&((t=this.getStickyTopRowCtrls().find(e=>e.getRowNode().rowIndex===i)||null)||(t=this.getStickyBottomRowCtrls().find(e=>e.getRowNode().rowIndex===i)||null))}return t}isRangeInRenderedViewport(e,t){if(null==e||null==t)return!1;let i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}};HW([zR("animationFrameService")],YZ.prototype,"animationFrameService",2),HW([zR("paginationProxy")],YZ.prototype,"paginationProxy",2),HW([zR("columnModel")],YZ.prototype,"columnModel",2),HW([zR("pinnedRowModel")],YZ.prototype,"pinnedRowModel",2),HW([zR("rowModel")],YZ.prototype,"rowModel",2),HW([zR("focusService")],YZ.prototype,"focusService",2),HW([zR("beans")],YZ.prototype,"beans",2),HW([zR("rowContainerHeightService")],YZ.prototype,"rowContainerHeightService",2),HW([zR("ctrlsService")],YZ.prototype,"ctrlsService",2),HW([zE],YZ.prototype,"postConstruct",1),YZ=HW([zM("rowRenderer")],YZ);var YQ=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(null==e||null==e.id)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return null!=this.entriesMap[e.id]}removeRow(e){let t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],zq(this.entriesList,i)}removeFromCache(e){let t=e.getRowNode().id;delete this.entriesMap[t],zq(this.entriesList,e)}getEntries(){return this.entriesList}},YJ=class extends Wl{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(e){return Hq("top"===e?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){let i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(Hq(i))return 0;for(let t=0;t<i.length;t++){let r=i[t];if(r.rowTop+r.rowHeight-1>=e)return t}return i.length-1}setPinnedTopRowData(){let e=this.gos.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);let t={type:Wc.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}setPinnedBottomRowData(){let e=this.gos.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);let t={type:Wc.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}createNodesFromData(e,t){let i=[];if(e){let r=0;e.forEach((e,n)=>{let o=new $L(this.beans);o.data=e,o.id=(t?$L.ID_PREFIX_TOP_PINNED:$L.ID_PREFIX_BOTTOM_PINNED)+n,o.rowPinned=t?"top":"bottom",o.setRowTop(r),o.setRowHeight(this.gos.getRowHeightForNode(o).height),o.setRowIndex(n),r+=o.rowHeight,i.push(o)})}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){Hq(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){Hq(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||0===e.length)return 0;let t=zW(e);return t.rowTop+t.rowHeight}};HW([zR("beans")],YJ.prototype,"beans",2),HW([zE],YJ.prototype,"init",1),YJ=HW([zM("pinnedRowModel")],YJ);var Y0=((V=Y0||{}).Applied="Applied",V.StoreNotFound="StoreNotFound",V.StoreLoading="StoreLoading",V.StoreWaitingToLoad="StoreWaitingToLoad",V.StoreLoadingFailed="StoreLoadingFailed",V.StoreWrongType="StoreWrongType",V.Cancelled="Cancelled",V.StoreNotStarted="StoreNotStarted",V),Y1=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let r=0;r<e.childrenAfterGroup.length;r++){let n=e.childrenAfterGroup[r];n.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[r],t,i):i&&t(n)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){let e={rowNode:t,children:null};this.mapToItems[t.id]=e,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(e=>this.nodeIdsToColumns[i.id][e.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let e=0;e<t;e++){let e=this.mapToItems[i.id],t=this.mapToItems[i.parent.id];t.children||(t.children=[]),t.children.push(e),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let i=this.nodeIdsToColumns[e.id];return t.filter(e=>i[e.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let i=this.nodeIdsToColumns[e.id];return t.filter(e=>!i[e.getId()])}},Y2=class e extends Wl{constructor(t){super(),this.state=e.STATE_WAITING_TO_LOAD,this.version=0,this.id=t}getId(){return this.id}load(){this.state=e.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=e.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){let t=e===this.version,i=this.isAlive();return t&&i}successCommon(t,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(t=!0){let i={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(i)}};Y2.EVENT_LOAD_COMPLETE="loadComplete",Y2.STATE_WAITING_TO_LOAD="needsLoading",Y2.STATE_LOADING="loading",Y2.STATE_LOADED="loaded",Y2.STATE_FAILED="failed";var Y5=Y2,Y3=class extends Wl{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=jP.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){let e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener(Y5.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){jP.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:Y3.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:Y3.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");let e=this.getAvailableLoadingCount(),t=this.blocks.filter(e=>e.getState()===Y5.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(e=>e.load()),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide"))return this.rowModel.getBlockStates();let e={};return this.blocks.forEach(t=>{let{id:i,state:r}=t.getBlockStateJson();e[i]=r}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Y3.BLOCK_LOADED_EVENT="blockLoaded",Y3.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",HW([zR("rowModel")],Y3.prototype,"rowModel",2),HW([zE],Y3.prototype,"postConstruct",1),HW([HU(0,zI("loggerFactory"))],Y3.prototype,"setBeans",1),Y3=HW([zM("rowNodeBlockLoader")],Y3);var Y4=class extends Wl{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,Wc.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,i,r){let n=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return n&&this.calculatePages(),n}isPaginateChildRows(){return!!(this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onModelUpdated(e){this.calculatePages();let t={type:Wc.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,newPageSize:!!e&&e.newPageSize,keepRenderedRows:!!e&&e.keepRenderedRows};this.eventService.dispatchEvent(t)}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages();let e={type:Wc.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){if(!this.active||this.currentPage===e||"number"!=typeof this.currentPage)return;this.currentPage=e,this.calculatePages();let t={type:Wc.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!0,newPageSize:!1,keepRenderedRows:!1};this.eventService.dispatchEvent(t)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return HY(this.topRowBounds)||HY(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){let t=this.getPageFirstRow(),i=this.getPageLastRow();for(let r=t;r<=i;r++){let t=this.getRow(r);t&&e(t)}}getType(){return this.rowModel.getType()}getRowBounds(e){let t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;let t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=Math.floor(this.rowModel.getRowCount()/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return HK(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:HK(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:HK(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:HK(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;let e=this.pageSizeAutoCalculated;if(this.pageSizeAutoCalculated=void 0,this.pageSize===e)return;this.calculatePages();let t={type:Wc.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!1};this.eventService.dispatchEvent(t)}setPageSize(e,t){let i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}if(i!==this.pageSize){this.calculatePages();let e={type:Wc.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(HK(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:Wc.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let t=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{let e=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=e-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};HW([zR("rowModel")],Y4.prototype,"rowModel",2),HW([zE],Y4.prototype,"postConstruct",1),Y4=HW([zM("paginationProxy")],Y4);var Y6=class extends Wl{processAllCellClasses(e,t,i,r){this.processClassRules(void 0,e.cellClassRules,t,i,r),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,r,n){if(null==t&&null==e)return;let o={},s={},a=(e,t)=>{e.split(" ").forEach(e=>{""!=e.trim()&&t(e)})};if(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n,l=e[r],u=t[l];"string"==typeof u?n=this.expressionService.evaluate(u,i):"function"==typeof u&&(n=u(i)),a(l,e=>{n?o[e]=!0:s[e]=!0})}}e&&n&&Object.keys(e).forEach(e=>a(e,e=>{o[e]||(s[e]=!0)})),n&&Object.keys(s).forEach(n),Object.keys(o).forEach(r)}getStaticCellClasses(e,t){let i,{cellClass:r}=e;return r?("string"==typeof(i="function"==typeof r?r(t):r)&&(i=[i]),i||[]):[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(e=>{i(e)})}};HW([zR("expressionService")],Y6.prototype,"expressionService",2),Y6=HW([zM("stylingService")],Y6);var Y8=class extends j8{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},Y9=class extends j6{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},Y7=class extends $u{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));let e=Uu();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||e||this.eInput.focus()}),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(e){var t;let i=e instanceof Date?null!=(t=UP(null!=e?e:null,!1))?t:void 0:e;return this.min===i||(this.min=i,ju(this.eInput,"min",i)),this}setMax(e){var t;let i=e instanceof Date?null!=(t=UP(null!=e?e:null,!1))?t:void 0:e;return this.max===i||(this.max=i,ju(this.eInput,"max",i)),this}setStep(e){return this.step===e||(this.step=e,ju(this.eInput,"step",e)),this}getDate(){var e;if(this.eInput.validity.valid)return null!=(e=UN(this.getValue()))?e:void 0}setDate(e,t){this.setValue(UP(null!=e?e:null,!1),t)}},qe=class extends j6{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();let{min:e,max:t,step:i}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>{let t=e.target.value;this.setValue(t)})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());let i=super.setValue(e,t);return this.eInput.value=e,i}},qt=class extends jH{constructor(e,t){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=t}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(e){let t="";this.params.valueFormatter&&(t=this.params.valueFormatter(e)),this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),this.value=e}highlightString(e){let{parsedValue:t}=this;if(this.params.cellRenderer||!HK(t))return;let i=HK(e);if(i){let r=null==t?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(r>=0){let i=r+e.length,n=WS(t.slice(0,r),!0),o=WS(t.slice(r,i),!0),s=WS(t.slice(i));this.renderValueWithoutRenderer(`${n}<span class="ag-rich-select-row-text-highlight">${o}</span>${s}`)}else i=!1}i||this.renderValueWithoutRenderer(t)}updateHighlighted(e){var t;let i=this.getGui(),r=`ag-rich-select-row-${this.getCompId()}`;null==(t=i.parentElement)||t.setAttribute("id",r),e&&(W1(this.getParentComponent().getAriaElement(),r),this.wrapperEl.setAttribute("data-active-option",r)),Un(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,t){let i=this.gos.getDocument(),r=this.getGui(),n=i.createElement("span");n.style.overflow="hidden",n.style.textOverflow="ellipsis";let o=WS(HK(t)?t:e,!0);this.parsedValue=HK(o)?o:null,r.appendChild(n),this.renderValueWithoutRenderer(o),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})}renderValueWithoutRenderer(e){let t=this.getGui().querySelector("span");t&&(t.innerHTML=HK(e)?e:"&nbsp;")}populateWithRenderer(e,t){let i,r;return this.params.cellRenderer&&(r=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:t,setTooltip:(e,t)=>{this.setTooltip({newTooltipText:e,shouldDisplayTooltip:t})}})),r&&(i=r.newAgStackInstance()),i&&jh(i,this.getGui()),!!i&&(i.then(e=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(e)})}),!0)}onClick(){let e=this.getParentComponent(),t={type:Wc.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};null==e||e.dispatchEvent(t)}};HW([zR("userComponentFactory")],qt.prototype,"userComponentFactory",2),HW([zE],qt.prototype,"postConstruct",1);var qi=class e extends Yz{constructor(t){super(e.getTemplate((null==t?void 0:t.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0;const{cssIdentifier:i="default",ariaRole:r="listbox",listName:n}=t||{};this.cssIdentifier=i,this.ariaRole=r,this.listName=n}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,Wc.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){let e=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),t=this.eContainer;WH(t,this.ariaRole),W$(t,e)}addResizeObserver(){let e=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),t=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(t)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){let t=e.target;t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=WU(t)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case jw.UP:case jw.DOWN:this.navigate(e.key===jw.UP)&&e.preventDefault();break;case jw.PAGE_HOME:case jw.PAGE_END:case jw.PAGE_UP:case jw.PAGE_DOWN:null!==this.navigateToPage(e.key)&&e.preventDefault()}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(z7(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(null==this.lastFocusedRowIndex)return!1;let t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount())&&(this.focusRow(t),!0)}navigateToPage(e,t="focused"){let i=!1;"focused"===t&&(t=this.getLastFocusedRow(),i=!0);let r=this.model.getRowCount()-1,n=-1;return(e===jw.PAGE_HOME?n=0:e===jw.PAGE_END?n=r:e===jw.PAGE_DOWN?n=Math.min(t+this.pageSize,r):e===jw.PAGE_UP&&(n=Math.max(t-this.pageSize,0)),-1===n)?null:(i?this.focusRow(n):this.ensureIndexVisible(n),n)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(e),this.animationFrameService.requestAnimationFrame(()=>{if(this.isScrolling=!1,!this.isAlive())return;let t=this.renderedRows.get(e);t&&t.eDiv.focus()}))}getComponentAt(e){let t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,i)=>e(t.rowComponent,i))}static getTemplate(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(e,t=!0){let i=this.model.getRowCount();if("number"!=typeof e||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;let r=e*this.rowHeight,n=r+this.rowHeight,o=this.getGui(),s=o.scrollTop,a=o.offsetHeight,l=t?0:this.rowHeight;return s>r+l?(o.scrollTop=r,!0):s+a<n-l&&(o.scrollTop=n-a,!0)}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(null==this.model||!this.isAlive())return;let t=this.model.getRowCount();this.eContainer.style.height=`${t*this.rowHeight}px`,zy(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;let t=this.getGui(),i=t.scrollTop,r=i+t.offsetHeight,n=Math.floor(i/this.rowHeight),o=Math.floor(r/this.rowHeight);this.pageSize=Math.floor((r-i)/this.rowHeight),this.ensureRowsRendered(n,o,e)}ensureRowsRendered(e,t,i){this.renderedRows.forEach((i,r)=>{(r<e||r>t)&&r!==this.lastFocusedRowIndex&&this.removeRow(r)}),i&&this.refreshRows();for(let i=e;i<=t;i++)!this.renderedRows.has(i)&&i<this.model.getRowCount()&&this.insertRow(i)}insertRow(e){let t=this.model.getRow(e),i=document.createElement("div");i.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),WH(i,"tree"===this.ariaRole?"treeitem":"option"),W3(i,this.model.getRowCount()),W4(i,e+1),i.setAttribute("tabindex","-1"),i.style.height=`${this.rowHeight}px`,i.style.top=`${this.rowHeight*e}px`;let r=this.componentCreator(t,i);r.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),i.appendChild(r.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:r,eDiv:i,value:t})}removeRow(e){let t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){let e=this.model.getRowCount();this.renderedRows.forEach((t,i)=>{var r,n;if(i>=e)this.removeRow(i);else{let e=this.model.getRow(i);(null==(n=(r=this.model).areRowsEqual)?void 0:n.call(r,t.value,e))?this.componentUpdater(e,t.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};HW([zR("resizeObserverService")],qi.prototype,"resizeObserverService",2),HW([zR("animationFrameService")],qi.prototype,"animationFrameService",2),HW([jz("eContainer")],qi.prototype,"eContainer",2),HW([zE],qi.prototype,"postConstruct",1);var qr=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,qn=class extends j5{constructor(e){var t,i;super(Hk(HH({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!=(t=null==e?void 0:e.template)?t:qr,modalPicker:!1},e),HF({maxPickerHeight:null!=(i=null==e?void 0:e.maxPickerHeight)?i:"calc(var(--ag-row-height) * 6.5)"}))),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:r,value:n,valueList:o,searchStringCreator:s}=e||{};null!=r&&(this.cellRowHeight=r),void 0!==n&&(this.value=n),null!=o&&(this.values=o),s&&(this.searchStringCreator=s)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();let{allowTyping:e,placeholder:t}=this.config;e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(t),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{searchDebounceDelay:i=300}=this.config;this.clearSearchString=zm(this.clearSearchString,i),this.renderSelectedValue(),e&&(this.eInput.onValueChange(e=>this.searchTextFromString(e)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){let e=this.gos.getDocument(),t=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=t("loadingOoo","Loading..."),this.eLoading=i}createListComponent(){this.listComponent=this.createBean(new qi({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setComponentUpdater((e,t)=>{}),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,Wc.EVENT_FIELD_PICKER_VALUE_SELECTED,e=>{this.onListValueSelected(e.value,e.fromEnterKey)});let{cellRowHeight:e}=this;e&&this.listComponent.setRowHeight(e);let t=this.listComponent.getGui(),i=this.listComponent.getAriaElement();this.addManagedListener(t,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(t,"mousedown",e=>e.preventDefault()),t.classList.add("ag-rich-select-list");let r=`ag-rich-select-list-${this.listComponent.getCompId()}`;i.setAttribute("id",r),W$(i,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),Us(this.eWrapper,i)}renderSelectedValue(){let e,t,{value:i,eDisplayField:r,config:n}=this,{allowTyping:o,initialInputValue:s}=this.config,a=this.config.valueFormatter?this.config.valueFormatter(i):i;if(o)return void this.eInput.setValue(null!=s?s:a);if(n.cellRenderer&&(e=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:a})),e&&(t=e.newAgStackInstance()),t)U0(r),jh(t,r),t.then(e=>{this.addDestroyFunc(()=>this.getContext().destroyBean(e))});else{if(HK(this.value))r.innerText=a,r.classList.remove("ag-display-as-placeholder");else{let{placeholder:e}=n;HK(e)?(r.innerHTML=`${WS(e)}`,r.classList.add("ag-display-as-placeholder")):U0(r)}this.setTooltip({newTooltipText:null!=a?a:null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){let{currentList:e,value:t}=this;if(null==t||!e)return -1;for(let i=0;i<e.length;i++)if(e[i]===t)return i;return -1}highlightFilterMatch(){var e;null==(e=this.listComponent)||e.forEachRenderedRow((e,t)=>{e.highlightString(this.searchString)})}highlightSelectedValue(e){var t;null==e&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,null==(t=this.listComponent)||t.forEachRenderedRow((t,i)=>{let r=-1!==e&&this.highlightedItem===i;t.updateHighlighted(r)})}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){let{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){let{valueList:t,refresh:i}=e;!this.listComponent||this.currentList!==t&&(this.currentList=t,this.listComponent.setModel({getRowCount:()=>t.length,getRow:e=>t[e],areRowsEqual:(e,t)=>e===t}),i&&(this.values?this.listComponent.refresh(!0):(this.values=t,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var e,t;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}(null==(e=this.eLoading)?void 0:e.offsetParent)&&(null==(t=this.eLoading.parentElement)||t.removeChild(this.eLoading));let i=this.getCurrentValueIndex();-1!==i?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;let e=this.eInput.getFocusableElement();e.focus(),e.select()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===jw.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!jb(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){null==e&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){let t,{valueFormatter:i=e=>e}=this.config;return"number"==typeof e[0]||"string"==typeof e[0]?t=e.map(e=>i(e)):"object"==typeof e[0]&&this.searchStringCreator&&(t=this.searchStringCreator(e)),t}getSuggestionsAndFilteredValues(e,t){let i=[],r=[];if(!e.length)return{suggestions:i,filteredValues:r};let{searchType:n="fuzzy",filterList:o}=this.config;if("fuzzy"===n){let e=jg(this.searchString,t,!0);i=e.values;let n=e.indices;if(o&&n.length)for(let e=0;e<n.length;e++)r.push(this.values[n[e]])}else i=t.filter((e,t)=>{let i=e.toLocaleLowerCase(),s=this.searchString.toLocaleLowerCase(),a="match"===n?i.startsWith(s):-1!==i.indexOf(s);return o&&a&&r.push(this.values[t]),a});return{suggestions:i,filteredValues:r}}filterListModel(e){let{filterList:t}=this.config;t&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())}runSearch(){var e,t;let{values:i}=this,r=this.buildSearchStrings(i);if(!r)return void this.highlightSelectedValue(-1);let{suggestions:n,filteredValues:o}=this.getSuggestionsAndFilteredValues(this.searchString,r),{filterList:s,highlightMatch:a,searchType:l="fuzzy"}=this.config,u=o.length,d=!!(s&&""!==this.searchString);if(this.filterListModel(d?o:i),n.length){let e=d?0:r.indexOf(n[0]);this.selectListItem(e)}else if(this.highlightSelectedValue(-1),!d||u)null==(e=this.listComponent)||e.ensureIndexVisible(0);else if(d){this.getAriaElement().removeAttribute("data-active-option");let e=null==(t=this.listComponent)?void 0:t.getAriaElement();e&&W1(e,null)}a&&"fuzzy"!==l&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var e;let t=null==(e=this.listComponent)?void 0:e.getGui(),i=!!this.currentList&&0===this.currentList.length;null==t||t.classList.toggle("ag-hidden",i)}clearSearchString(){this.searchString=""}selectListItem(e,t){this.isPickerDisplayed&&this.currentList&&this.listComponent&&!(e<0)&&!(e>=this.currentList.length)&&(this.listComponent.ensureIndexVisible(e,!t)&&!t&&this.listComponent.refresh(!0),this.highlightSelectedValue(e))}setValue(e,t,i){let r=this.currentList?this.currentList.indexOf(e):-1;return -1===r?this:(this.value=e,i||this.selectListItem(r),this.renderSelectedValue(),super.setValue(e,t))}createRowComponent(e){let t=new qt(this.config,this.eWrapper);t.setParentComponent(this.listComponent),this.getContext().createBean(t),t.setState(e);let{highlightMatch:i,searchType:r="fuzzy"}=this.config;return i&&"fuzzy"!==r&&t.highlightString(this.searchString),t}getRowForMouseEvent(e){let{listComponent:t}=this;if(!t)return -1;let i=(null==t?void 0:t.getGui()).getBoundingClientRect(),r=t.getScrollTop();return Math.floor((e.clientY-i.top+r)/t.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;let t=this.getRowForMouseEvent(e);-1!==t&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.selectListItem(t,!0))}onNavigationKeyDown(e,t){e.preventDefault();let i=t===jw.DOWN;if(!this.isPickerDisplayed&&i)return void this.showPicker();let r=this.highlightedItem;this.selectListItem(-1===r?0:r+(i?1:-1))}onPageNavigation(e){var t;if(!this.isPickerDisplayed)return;let i=null==(t=this.listComponent)?void 0:t.navigateToPage(e,this.highlightedItem);null!=i&&this.animationFrameService.requestAnimationFrame(()=>{if(!this.isAlive())return null;this.highlightSelectedValue(i)})}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){this.isPickerDisplayed&&this.currentList&&this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,t){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,t),this.hidePicker()}dispatchPickerEvent(e,t){let i={type:Wc.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:t,value:e};this.dispatchEvent(i)}getFocusableElement(){let{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){let t=e.key,{allowTyping:i}=this.config;switch(t){case jw.LEFT:case jw.RIGHT:i||e.preventDefault();break;case jw.PAGE_HOME:case jw.PAGE_END:if(i){e.preventDefault();let i=this.eInput.getInputElement(),r=t===jw.PAGE_HOME?0:i.value.length;i.setSelectionRange(r,r);break}case jw.PAGE_UP:case jw.PAGE_DOWN:e.preventDefault(),this.onPageNavigation(t);break;case jw.DOWN:case jw.UP:this.onNavigationKeyDown(e,t);break;case jw.ESCAPE:this.isPickerDisplayed&&(U5(this.listComponent.getGui())&&(e.preventDefault(),z7(e)),this.hidePicker());break;case jw.ENTER:this.onEnterKeyDown(e);break;case jw.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};HW([zR("userComponentFactory")],qn.prototype,"userComponentFactory",2),HW([zR("animationFrameService")],qn.prototype,"animationFrameService",2),HW([jz("eInput")],qn.prototype,"eInput",2);var qo=class e extends j0{constructor(t){super(t,e.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");let{minValue:e,maxValue:t,textFieldWidth:i,step:r,value:n,onValueChange:o}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),null!=i&&this.setTextFieldWidth(i),null!=r&&this.setStep(r),null!=n&&this.setValue(n),null!=o&&this.onValueChange(o)}onValueChange(e){let t=Wc.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,t,()=>{let t=parseFloat(this.eText.getValue());this.eSlider.setValue(t.toString(),!0),e(t||0)}),this.addManagedListener(this.eSlider,t,()=>{let t=this.eSlider.getValue();this.eText.setValue(t,!0),e(parseFloat(t))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,t){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),t||this.dispatchEvent({type:Wc.EVENT_FIELD_VALUE_CHANGED})),this}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};qo.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,HW([jz("eLabel")],qo.prototype,"eLabel",2),HW([jz("eSlider")],qo.prototype,"eSlider",2),HW([jz("eText")],qo.prototype,"eText",2),HW([zE],qo.prototype,"init",1);var qs=class e extends jH{constructor(t={}){super(e.getTemplate(t)),this.params=t,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:i,items:r,suppressEnabledCheckbox:n,expanded:o,suppressToggleExpandOnEnableChange:s,useToggle:a}=t;this.cssIdentifier=t.cssIdentifier||"default",this.enabled=null==i||i,this.items=r||[],this.useToggle=null!=a&&a,this.alignItems=t.alignItems||"center",this.expanded=null==o||o,null!=n&&(this.suppressEnabledCheckbox=n),null!=s&&(this.suppressToggleExpandOnEnableChange=s)}static getTemplate(e){let t=e.cssIdentifier||"default",i=e.direction||"vertical";return`
            <div class="ag-group ag-${t}-group" role="presentation">
                <div ref="eToolbar" class="ag-group-toolbar ag-${t}-group-toolbar">
                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
                </div>
                <div ref="eContainer" class="ag-group-container ag-group-container-${i} ag-${t}-group-container"></div>
            </div>
        `}postConstruct(){if(this.setupTitleBar(),this.items.length){let e=this.items;this.items=[],this.addItems(e)}let e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);let{onEnableChange:t,suppressOpenCloseIcons:i}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(null!=i&&i),this.refreshChildDisplay(),UH(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(e=>{this.setEnabled(e,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(e)}),null!=t&&this.onEnableChange(t)}refreshChildDisplay(){var e;UH(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),null==(e=this.eTitleBar)||e.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e;let t=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(t),this}toggleGroupExpand(t){var i;let r=!1;if((null==(i=this.eTitleBar)?void 0:i.isSuppressCollapse())&&!this.useToggle)t=!0,r=!0;else if(t=null!=t?t:!this.expanded,this.expanded===t)return this;return this.expanded=t,this.refreshChildDisplay(),UH(this.eContainer,t),r||this.dispatchEvent({type:t?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this}addItems(e){e.forEach(e=>this.addItem(e))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,t){let i=this.eContainer,r=e instanceof jH?e.getGui():e;r.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),t?(i.insertAdjacentElement("afterbegin",r),this.items.unshift(r)):(i.appendChild(r),this.items.push(r))}hideItem(e,t){UH(this.items[t],!e)}getItemIndex(e){let t=e instanceof jH?e.getGui():e;return this.items.indexOf(t)}setTitle(e){var t;return null==(t=this.eTitleBar)||t.setTitle(e),this}addTitleBarWidget(e){var t;return null==(t=this.eTitleBar)||t.addWidget(e),this}addCssClassToTitleBar(e){var t;null==(t=this.eTitleBar)||t.addCssClass(e)}dispatchEnableChangeEvent(t){let i={type:e.EVENT_ENABLE_CHANGE,enabled:t};this.dispatchEvent(i)}setEnabled(e,t,i){var r;return this.enabled=e,this.refreshDisabledStyles(),i||this.toggleGroupExpand(e),t||(this.cbGroupEnabled.setValue(e),null==(r=this.eToggle)||r.setValue(e)),this}isEnabled(){return this.enabled}onEnableChange(t){return this.addManagedListener(this,e.EVENT_ENABLE_CHANGE,e=>t(e.enabled)),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){var t;return null==(t=this.eTitleBar)||t.hideOpenCloseIcons(e),this}refreshDisabledStyles(){var e;let t=!this.enabled;this.eContainer.classList.toggle("ag-disabled",t),null==(e=this.eTitleBar)||e.refreshDisabledStyles(this.suppressEnabledCheckbox&&t),this.eContainer.classList.toggle("ag-disabled-group-container",t)}setupTitleBar(){let e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){let e=this.createManagedBean(new qu(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListener(e,qu.EVENT_EXPAND_CHANGED,e=>this.toggleGroupExpand(e.expanded)),e}createToggleTitleBar(){var e;let t=this.createManagedBean(new Y8({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:e=>{this.setEnabled(e,!0),this.dispatchEnableChangeEvent(e)}}));return t.addCssClass("ag-group-title-bar"),t.addCssClass(`ag-${null!=(e=this.params.cssIdentifier)?e:"default"}-group-title-bar ag-unselectable`),this.eToggle=t,this.toggleGroupExpand(this.enabled),t}};qs.EVENT_EXPANDED="expanded",qs.EVENT_COLLAPSED="collapsed",qs.EVENT_ENABLE_CHANGE="enableChange",HW([jz("eToolbar")],qs.prototype,"eToolbar",2),HW([jz("cbGroupEnabled")],qs.prototype,"cbGroupEnabled",2),HW([jz("eContainer")],qs.prototype,"eContainer",2),HW([zE],qs.prototype,"postConstruct",1);var qa="ag-disabled-group-title-bar",ql=class e extends jH{constructor(t={}){super(e.getTemplate(t)),this.suppressOpenCloseIcons=!1;const{title:i,suppressOpenCloseIcons:r}=t;i&&i.length>0&&(this.title=i),null!=r&&(this.suppressOpenCloseIcons=r)}static getTemplate(e){var t;let i=null!=(t=e.cssIdentifier)?t:"default";return`
            <div class="ag-group-title-bar ag-${i}-group-title-bar ag-unselectable" role="button">
                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${i}-group-title"></span>
            </div>
        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(jv("columnSelectClosed",this.gos,null)),this.eGroupOpenedIcon.appendChild(jv("columnSelectOpen",this.gos,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",e=>{switch(e.key){case jw.ENTER:case jw.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case jw.RIGHT:case jw.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===jw.RIGHT)}})}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||W2(this.getGui(),e)}refreshOpenCloseIcons(e){let t=!this.suppressOpenCloseIcons;UH(this.eGroupOpenedIcon,t&&e),UH(this.eGroupClosedIcon,t&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(t){let i={type:e.EVENT_EXPAND_CHANGED,expanded:t};this.dispatchEvent(i)}setTitle(e){let t=this.getGui(),i=!!e&&e.length>0;e=i?e:void 0,this.eTitle.textContent=null!=e?e:"",UH(t,i),e!==this.title&&(this.title=e);let r=t.classList.contains(qa);return this.refreshDisabledStyles(r),this}addWidget(e){return this.getGui().appendChild(e),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){let t=this.getGui();e?(t.classList.add(qa),t.removeAttribute("tabindex")):(t.classList.remove(qa),"string"==typeof this.title?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex"))}};ql.EVENT_EXPAND_CHANGED="expandedChanged",HW([jz("eGroupOpenedIcon")],ql.prototype,"eGroupOpenedIcon",2),HW([jz("eGroupClosedIcon")],ql.prototype,"eGroupClosedIcon",2),HW([jz("eTitle")],ql.prototype,"eTitle",2),HW([zE],ql.prototype,"postConstruct",1);var qu=ql,qd=class extends Yz{constructor(e=0,t){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[],this.params=null!=t?t:{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){let t=this.getParentComponent(),i=t&&t.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case jw.UP:case jw.RIGHT:case jw.DOWN:case jw.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case jw.ESCAPE:this.closeIfIsChild()&&z7(e)}}handleFocusIn(e){var t,i;let r=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(r)&&(this.getGui().contains(r)||(null==(i=null==(t=this.activeMenuItem)?void 0:t.getSubMenuGui())?void 0:i.contains(r)))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var t;let i=e.relatedTarget;!(!this.activeMenuItem||this.getGui().contains(i)||(null==(t=this.activeMenuItem.getSubMenuGui())?void 0:t.contains(i)))&&(this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate())}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){null!=e&&jN.all(e.map(e=>"separator"===e?jN.resolve({eGui:this.createSeparator()}):"string"==typeof e?(console.warn(`AG Grid: unrecognised menu item ${e}`),jN.resolve({eGui:null})):this.addItem(e))).then(e=>{e.forEach(e=>{(null==e?void 0:e.eGui)&&(this.appendChild(e.eGui),e.comp&&this.menuItems.push(e.comp))})})}addItem(e){let t=this.createManagedBean(new qp);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(e=>e.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(t.setParentComponent(this),this.addManagedListener(t,qp.EVENT_CLOSE_MENU,e=>{this.dispatchEvent(e)}),this.addManagedListener(t,qp.EVENT_MENU_ITEM_ACTIVATED,e=>{this.activeMenuItem&&this.activeMenuItem!==e.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=e.menuItem}),{comp:t,eGui:t.getGui()}))}activateFirstItem(){let e=this.menuItems.filter(e=>!e.isDisabled())[0];e&&e.activate()}createSeparator(){return U3(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`)}handleNavKey(e){switch(e){case jw.UP:case jw.DOWN:let t=this.findNextItem(e===jw.UP);t&&t!==this.activeMenuItem&&t.activate();return}e===(this.gos.get("enableRtl")?jw.RIGHT:jw.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){let t=this.getParentComponent();return!!t&&t instanceof qp&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0)}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){let t,i=this.menuItems.filter(e=>!e.isDisabled());if(!i.length)return;if(!this.activeMenuItem)return e?zW(i):i[0];e&&i.reverse();let r=!1;for(let e=0;e<i.length;e++){let n=i[e];if(!r){n===this.activeMenuItem&&(r=!0);continue}t=n;break}return r&&!t?i[0]:t||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};HW([zR("focusService")],qd.prototype,"focusService",2),HW([zE],qd.prototype,"postConstruct",1);var qh=class extends Yz{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===jw.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){let e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};HW([zE],qh.prototype,"postConstruct",1);var qc=class e extends Wl{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(e){var t,i;let{menuItemDef:r,isAnotherSubMenuOpen:n,level:o,childComponent:s,contextParams:a}=e;return this.params=e.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=n,this.childComponent=s,this.contextParams=a,this.cssClassPrefix=null!=(i=null==(t=this.params.menuItemParams)?void 0:t.cssClassPrefix)?i:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,Hk(HH({},r),HF({level:o,isAnotherSubMenuOpen:n,openSubMenu:e=>this.openSubMenu(e),closeSubMenu:()=>this.closeSubMenu(),closeMenu:e=>this.closeMenu(e),updateTooltip:(e,t)=>this.refreshTooltip(e,t),onItemActivated:()=>this.onItemActivated()}))).newAgStackInstance().then(e=>{var t;this.menuItemComp=e;let i=null==(t=e.configureDefaults)?void 0:t.call(e);i&&this.configureDefaults(!0===i?void 0:i)})}addListeners(e,t){(null==t?void 0:t.suppressClick)||this.addManagedListener(e,"click",e=>this.onItemSelected(e)),(null==t?void 0:t.suppressKeyboardSelect)||this.addManagedListener(e,"keydown",e=>{(e.key===jw.ENTER||e.key===jw.SPACE)&&(e.preventDefault(),this.onItemSelected(e))}),(null==t?void 0:t.suppressMouseDown)||this.addManagedListener(e,"mousedown",e=>{e.stopPropagation(),e.preventDefault()}),(null==t?void 0:t.suppressMouseOver)||(this.addManagedListener(e,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(t=!1){var i,r;let n;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;let o=U3('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=o;let s=()=>{this.subMenuIsOpening=!1};if(this.childComponent){let e=this.createBean(new qh(this.childComponent));e.setParentComponent(this);let t=e.getGui(),i="mouseenter",r=()=>this.cancelDeactivate();t.addEventListener(i,r),n=()=>t.removeEventListener(i,r),o.appendChild(t),this.childComponent.afterGuiAttached&&(s=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){let i=this.createBean(new qd(this.level+1,this.contextParams));i.setParentComponent(this),i.addMenuItems(this.params.subMenu),o.appendChild(i.getGui()),this.addManagedListener(i,e.EVENT_CLOSE_MENU,e=>this.dispatchEvent(e)),i.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),n=()=>this.destroyBean(i),t&&(s=()=>{i.activateFirstItem(),this.subMenuIsOpening=!1})}let a=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:o}),l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:o,positionCallback:a,anchorToElement:this.eGui,ariaLabel:l("ariaLabelSubMenu","SubMenu"),afterGuiAttached:s});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var e,t;u&&u.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),n(),null==(t=(e=this.menuItemComp).setExpanded)||t.call(e,!1),this.eSubMenuGui=void 0},null==(r=(i=this.menuItemComp).setExpanded)||r.call(i,!0)}setAriaExpanded(e){this.suppressAria||W2(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e){var t,i;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),null==(i=(t=this.menuItemComp).setActive)||i.call(t,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var e,t;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),null==(t=(e=this.menuItemComp).setActive)||t.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var t,i;null==(i=(t=this.menuItemComp).select)||i.call(t),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gos.addGridCommonParams(HH({},this.contextParams)))):this.openSubMenu(e&&"keydown"===e.type),this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect||this.closeMenu(e)}closeMenu(t){let i={type:e.EVENT_CLOSE_MENU};t&&(t instanceof MouseEvent?i.mouseEvent=t:i.keyboardEvent=t),this.dispatchEvent(i)}onItemActivated(){let t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),e.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),e.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){var t,i,r;if(!this.menuItemComp)return void setTimeout(()=>this.configureDefaults(e));let n=this.menuItemComp.getGui(),o=null==(i=(t=this.menuItemComp).getRootElement)?void 0:i.call(t);o&&((null==e?void 0:e.suppressRootStyles)||n.classList.add("ag-menu-option-custom"),n=o),this.eGui=n,this.suppressRootStyles=!!(null==e?void 0:e.suppressRootStyles),!this.suppressRootStyles&&(n.classList.add(this.cssClassPrefix),null==(r=this.params.cssClasses)||r.forEach(e=>n.classList.add(e)),this.params.disabled&&n.classList.add(`${this.cssClassPrefix}-disabled`)),(null==e?void 0:e.suppressTooltip)||this.refreshTooltip(this.params.tooltip),this.suppressAria=!!(null==e?void 0:e.suppressAria),!this.suppressAria&&(WH(n,"treeitem"),WQ(n,this.level+1),this.params.disabled&&WJ(n,!0)),(null==e?void 0:e.suppressTabIndex)||n.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(n,e),this.suppressFocus=!!(null==e?void 0:e.suppressFocus)}refreshTooltip(e,t){this.tooltip=e,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),e&&this.menuItemComp&&(this.tooltipFeature=this.createBean(new jG({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:t})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};qc.EVENT_CLOSE_MENU="closeMenu",qc.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",qc.ACTIVATION_DELAY=80,HW([zR("popupService")],qc.prototype,"popupService",2),HW([zR("userComponentFactory")],qc.prototype,"userComponentFactory",2);var qp=qc,qg=class e extends jH{constructor(t){super(e.getTemplate(t)),this.config=t,this.closable=!0}static getTemplate(e){let t=e.cssIdentifier||"default";return`<div class="ag-panel ag-${t}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${t}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${t}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${t}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${t}-panel-content-wrapper"></div>
        </div>`}postConstruct(){let{component:e,closable:t,hideTitleBar:i,title:r,minWidth:n=250,width:o,minHeight:s=250,height:a,centered:l,popup:u,x:d,y:h}=this.config;this.positionableFeature=new jZ(this.getGui(),{minWidth:n,width:o,minHeight:s,height:a,centered:l,x:d,y:h,popup:u,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);let c=this.getGui();e&&this.setBodyComponent(e),i?UH(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(null!=t?t:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",e=>{if(c.contains(e.relatedTarget)||c.contains(this.gos.getActiveDomElement())||this.eTitleBarButtons.contains(e.target))return void e.preventDefault();let t=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");t&&t.focus()}),u&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){let e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(t){if(t!==this.closable&&(this.closable=t),t){let t=this.closeButtonComp=new jH(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(t);let i=t.getGui(),r=jy("close",this.gos);r.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(r),this.addTitleBarButton(t),t.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){let e=this.closeButtonComp.getGui();e.parentElement.removeChild(e),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,t){let i=this.eTitleBarButtons,r=i.children,n=r.length;null==t&&(t=n),t=Math.max(0,Math.min(t,n)),e.addCssClass("ag-panel-title-bar-button");let o=e.getGui();0===t?i.insertAdjacentElement("afterbegin",o):t===n?i.insertAdjacentElement("beforeend",o):r[t-1].insertAdjacentElement("afterend",o),e.setParentComponent(this)}getBodyHeight(){return U$(this.eContentWrapper)}getBodyWidth(){return UK(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));let e=this.getGui();e&&U5(e)&&this.close(),super.destroy()}};qg.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',HW([jz("eContentWrapper")],qg.prototype,"eContentWrapper",2),HW([jz("eTitleBar")],qg.prototype,"eTitleBar",2),HW([jz("eTitleBarButtons")],qg.prototype,"eTitleBarButtons",2),HW([jz("eTitle")],qg.prototype,"eTitle",2),HW([zE],qg.prototype,"postConstruct",1);var qf=qg,qm=class extends qf{constructor(e){super(Hk(HH({},e),HF({popup:!0}))),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){let e=this.getGui(),{movable:t,resizable:i,maximizable:r}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",t=>{this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),r&&this.setMaximizable(r),i&&this.setResizable(i)}renderComponent(){let e=this.getGui(),{alwaysOnTop:t,modal:i,title:r,afterGuiAttached:n}=this.config,o=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:t,ariaLabel:r||o("ariaLabelDialog","Dialog"),afterGuiAttached:n});s&&(this.close=s.hideFunc)}onClosed(e){var t,i;this.destroy(),null==(i=(t=this.config).closedCallback)||i.call(t,e)}toggleMaximize(){let e=this.positionableFeature.getPosition();if(this.isMaximized){let{x:e,y:t,width:i,height:r}=this.lastPosition;this.setWidth(i),this.setHeight(r),this.positionableFeature.offsetElement(e,t)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){UH(this.maximizeIcon,!this.isMaximized),UH(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}let t=this.eTitleBar;if(!t||e===this.isMaximizable)return;let i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){let e=this.maximizeButtonComp=this.createBean(new jH('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=jy("maximize",this.gos),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=jy("minimize",this.gos),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};HW([zR("popupService")],qm.prototype,"popupService",2);var qv=0,qy=class extends Wl{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedListener(this.eventService,Wc.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let t,{eventSource:i,ePopup:r}=e,n=this.getPopupIndex(r);-1!==n&&(this.popupList[n].alignedToElement=i);let o=i.getBoundingClientRect(),s=this.getParentRect(),a=this.keepXYWithinBounds(r,o.top-s.top,0),l=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${l}px`;let u=s.right-s.left-l;function d(){return o.right-s.left-2}function h(){return o.left-s.left-l}this.gos.get("enableRtl")?((t=h())<0&&(t=d(),this.setAlignedStyles(r,"left")),t>u&&(t=0,this.setAlignedStyles(r,"right"))):((t=d())>u&&(t=h(),this.setAlignedStyles(r,"right")),t<0&&(t=0,this.setAlignedStyles(r,"left"))),r.style.left=`${t}px`,r.style.top=`${a}px`}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:i,nudgeY:r,skipObserver:n}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:r,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:i,nudgeY:r,keepWithinBounds:n,eventSource:o,alignSide:s="left",position:a="over",column:l,rowNode:u,type:d}=e,h=o.getBoundingClientRect(),c=this.getParentRect(),p=this.getPopupIndex(t);-1!==p&&(this.popupList[p].alignedToElement=o);let g=()=>{let i,n=h.left-c.left;return"right"===s&&(n-=t.offsetWidth-h.width),"over"===a?(i=h.top-c.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),i="under"===this.shouldRenderUnderOrAbove(t,h,c,e.nudgeY||0)?h.top-c.top+h.height:h.top-t.offsetHeight-2*(r||0)-c.top),{x:n,y:i}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:r,keepWithinBounds:n,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(d,t,o,null,l,u)})}shouldRenderUnderOrAbove(e,t,i,r){let n=i.bottom-t.bottom,o=t.top-i.top,s=e.offsetHeight+r;return n>s?"under":o>s||o>n?"above":"under"}setAlignedStyles(e,t){let i=this.getPopupIndex(e);if(-1===i)return;let{alignedToElement:r}=this.popupList[i];!r||(["right","left","over","above","under"].forEach(t=>{r.classList.remove(`ag-has-popup-positioned-${t}`),e.classList.remove(`ag-popup-positioned-${t}`)}),t&&(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`)))}callPostProcessPopup(e,t,i,r,n,o){let s=this.gos.getCallback("postProcessPopup");s&&s({column:n,rowNode:o,ePopup:t,type:e,eventSource:i,mouseEvent:r})}positionPopup(e){let{ePopup:t,keepWithinBounds:i,nudgeX:r,nudgeY:n,skipObserver:o,updatePosition:s}=e,a={width:0,height:0},l=(o=!1)=>{let{x:l,y:u}=s();(!o||t.clientWidth!==a.width||t.clientHeight!==a.height)&&(a.width=t.clientWidth,a.height=t.clientHeight,r&&(l+=r),n&&(u+=n),i&&(l=this.keepXYWithinBounds(t,l,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${l}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){let e=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>e(),qy.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){let e=this.gos.getDocument(),t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),UX(t)}keepXYWithinBounds(e,t,i){let r=0===i,n=r?"top":"left",o=this.gos.getDocument(),s=o.documentElement,a=this.getPopupParent(),l=a.getBoundingClientRect(),u=o.documentElement.getBoundingClientRect(),d=a===o.body,h=e[r?"offsetHeight":"offsetWidth"],c=d?(r?UY:Uq)(s)+s[r?"scrollTop":"scrollLeft"]:a[r?"clientHeight":"clientWidth"];return d&&(c-=Math.abs(u[n]-l[n])),Math.min(Math.max(t,0),Math.abs(c-h))}addPopup(e){let t=this.gos.getDocument(),{eChild:i,ariaLabel:r,alwaysOnTop:n,positionCallback:o,anchorToElement:s}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};let a=this.getPopupIndex(i);if(-1!==a)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);let l=this.createPopupWrapper(i,r,!!n),u=this.addEventListenersToPopup(Hk(HH({},e),HF({wrapperEl:l})));return o&&o(),this.addPopupToPopupList(i,l,u,s),{hideFunc:u}}initialisePopupPosition(e){let t=this.getPopupParent().getBoundingClientRect();HK(e.style.top)||(e.style.top=`${-1*t.top}px`),HK(e.style.left)||(e.style.left=`${-1*t.left}px`)}createPopupWrapper(e,t,i){let r=this.getPopupParent(),n=document.createElement("div"),{allThemes:o}=this.environment.getTheme();return o.length&&n.classList.add(...o),n.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||WH(e,"dialog"),W$(e,t),n.appendChild(e),r.appendChild(n),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),n}handleThemeChange(){let{allThemes:e}=this.environment.getTheme();for(let t of this.popupList){for(let e of Array.from(t.wrapper.classList))e.startsWith("ag-theme-")&&t.wrapper.classList.remove(e);e.length&&t.wrapper.classList.add(...e)}}addEventListenersToPopup(e){let t=this.gos.getDocument(),i=this.getPopupParent(),{wrapperEl:r,eChild:n,closedCallback:o,afterGuiAttached:s,closeOnEsc:a,modal:l}=e,u=!1,d=e=>{!r.contains(this.gos.getActiveDomElement())||e.key!==jw.ESCAPE||We(e)||p({keyboardEvent:e})},h=e=>p({mouseEvent:e}),c=e=>p({touchEvent:e}),p=(e={})=>{let{mouseEvent:s,touchEvent:a,keyboardEvent:l,forceHide:p}=e;!p&&(this.isEventFromCurrentPopup({mouseEvent:s,touchEvent:a},n)||u)||(u=!0,i.removeChild(r),t.removeEventListener("keydown",d),t.removeEventListener("mousedown",h),t.removeEventListener("touchstart",c),t.removeEventListener("contextmenu",h),this.eventService.removeEventListener(Wc.EVENT_DRAG_STARTED,h),o&&o(s||a||l),this.removePopupFromPopupList(n))};return s&&s({hidePopup:p}),window.setTimeout(()=>{a&&t.addEventListener("keydown",d),l&&(t.addEventListener("mousedown",h),this.eventService.addEventListener(Wc.EVENT_DRAG_STARTED,h),t.addEventListener("touchstart",c),t.addEventListener("contextmenu",h))},0),p}addPopupToPopupList(e,t,i,r){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:qv++,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let i=this.getPopupIndex(e);if(-1===i)return;let r=this.popupList[i];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(e=>e&&e()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;let n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=n,r.isAnchored=!0,n}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:r,ePopup:n}=e,o=r.getBoundingClientRect(),s=i.top-o.top,a=i.left-o.left,l=s,u=a,d=n.style.top,h=parseInt(d.substring(0,d.length-1),10),c=n.style.left,p=parseInt(c.substring(0,c.length-1),10);return new jN(i=>{this.getFrameworkOverrides().setInterval(()=>{let i=t.getBoundingClientRect(),o=r.getBoundingClientRect();if(0==o.top&&0==o.left&&0==o.height&&0==o.width)return void e.hidePopup();let d=i.top-o.top;if(d!=l){let e=this.keepXYWithinBounds(n,h+s-d,0);n.style.top=`${e}px`}l=d;let c=i.left-o.left;if(c!=u){let e=this.keepXYWithinBounds(n,p+a-c,1);n.style.left=`${e}px`}u=c},200).then(e=>{i(()=>{null!=e&&window.clearInterval(e)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){let{mouseEvent:i,touchEvent:r}=e,n=i||r;if(!n)return!1;let o=this.getPopupIndex(t);if(-1===o)return!1;for(let e=o;e<this.popupList.length;e++)if(Wr(this.popupList[e].element,n))return!0;return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(e){let t=this.gos.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){let t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=i.length,n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),o=n.length,s=this.getWrapper(e);if(!s||r<=1||!t.contains(e))return;let a=i.indexOf(s),l=s.querySelectorAll("div"),u=[];for(l.forEach(e=>{0!==e.scrollTop&&u.push([e,e.scrollTop])}),o?s.classList.contains("ag-always-on-top")?a!==r-1&&zW(n).insertAdjacentElement("afterend",s):a!==r-o-1&&n[0].insertAdjacentElement("beforebegin",s):a!==r-1&&zW(i).insertAdjacentElement("afterend",s);u.length;){let e=u.pop();e[0].scrollTop=e[1]}}};qy.WAIT_FOR_POPUP_CONTENT_RESIZE=200,HW([zR("focusService")],qy.prototype,"focusService",2),HW([zR("ctrlsService")],qy.prototype,"ctrlsService",2),HW([zR("resizeObserverService")],qy.prototype,"resizeObserverService",2),HW([zE],qy.prototype,"postConstruct",1),qy=HW([zM("popupService")],qy);var qC=class extends jH{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var t;let i=!1;if(HK(e)){let r=null==(t=this.value)?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(r>=0){i=!0,this.hasHighlighting=!0;let t=r+e.length,n=WS(this.value.slice(0,r)),o=WS(this.value.slice(r,t)),s=WS(this.value.slice(t));this.getGui().lastElementChild.innerHTML=`${n}<b>${o}</b>${s}`}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=null!=(e=WS(this.value))?e:"&nbsp;"}},qw=class e extends $E{constructor(t){super(e.TEMPLATE),this.params=t,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new qi({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:e=>this.autocompleteEntries[e]});let e=this.virtualList.getGui();this.addManagedListener(e,"click",()=>this.params.onConfirmed()),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",e=>e.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(e,t){e.preventDefault();let i=this.autocompleteEntries.indexOf(this.selectedValue),r=t===jw.UP?i-1:i+1;this.checkSetSelectedValue(r)}setSearch(e){this.searchString=e,HK(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,t){let i,r=!1,n=e.toLocaleLowerCase(),o=t.filter(e=>{let t=e.toLocaleLowerCase().indexOf(n),o=0===t,s=t>=0;return s&&(!i||!r&&o||r===o&&e.length<i.length)&&(i=e,r=o),s});return!i&&o.length&&(i=o[0]),{topMatch:i,allMatches:o}}runSearch(){var e,t;let i,r,{autocompleteEntries:n}=this.params,o=n.map(e=>{var t;return null!=(t=e.displayValue)?t:e.key});if(this.params.useFuzzySearch)r=(i=jg(this.searchString,o,!0).values).length?i[0]:void 0;else{let e=this.runContainsSearch(this.searchString,o);i=e.allMatches,r=e.topMatch}let s=n.filter(({key:e,displayValue:t})=>i.includes(null!=t?t:e));if(!s.length&&this.selectedValue&&(null==(t=null==(e=this.params)?void 0:e.forceLastSelection)?void 0:t.call(e,this.selectedValue,this.searchString))&&(s=[this.selectedValue]),this.autocompleteEntries=s,this.virtualList.refresh(),!r)return;let a=i.indexOf(r);this.checkSetSelectedValue(a)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){let t=this.autocompleteEntries[e];this.selectedValue!==t&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((t,i)=>{t.updateSelected(e===i)}))}createRowComponent(e){var t;let i=new qC;return this.getContext().createBean(i),i.setState(null!=(t=e.displayValue)?t:e.key,e===this.selectedValue),i}onMouseMove(e){let t=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),r=Math.floor((e.clientY-t.top+i)/this.virtualList.getRowHeight());this.checkSetSelectedValue(r)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&null!=(e=this.selectedValue)?e:null}};qw.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,HW([jz("eList")],qw.prototype,"eList",2),HW([zE],qw.prototype,"init",1);var qb=class e extends jH{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){let t=H$(e);this.updateValue(t),this.updateAutocompleteList(t)}updateValue(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)}updateAutocompleteList(e){var t,i,r,n;let o=null!=(i=null==(t=this.listGenerator)?void 0:t.call(this,e,this.lastPosition))?i:{enabled:!1};if((!o.type||o.type!==(null==(r=this.autocompleteListParams)?void 0:r.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,null==(n=this.autocompleteListParams)?void 0:n.enabled){this.isListOpen||this.openList();let{searchString:e}=this.autocompleteListParams;this.autocompleteList.setSearch(null!=e?e:"")}else this.isListOpen&&this.closeList()}onKeyDown(e){let t=e.key;switch(this.updateLastPosition(),t){case jw.ENTER:this.onEnterKeyDown(e);break;case jw.TAB:this.onTabKeyDown(e);break;case jw.DOWN:case jw.UP:this.onUpDownKeyDown(e,t);break;case jw.LEFT:case jw.RIGHT:case jw.PAGE_HOME:case jw.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case jw.ESCAPE:this.onEscapeKeyDown(e);break;case jw.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}}confirmSelection(){var t;let i=null==(t=this.autocompleteList)?void 0:t.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,t){var i;e.preventDefault(),this.isListOpen?null==(i=this.autocompleteList)||i.onNavigationKeyDown(e,t):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!=(e=this.eAutocompleteInput.getValue())?e:null)}setCaret(e,t){let i=this.gos.getDocument(),r=this.gos.getActiveDomElement();t&&(!r||r===i.body)&&this.eAutocompleteInput.getFocusableElement().focus();let n=this.eAutocompleteInput.getInputElement();n.setSelectionRange(e,e),e===n.value.length&&(n.scrollLeft=n.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=null!=(e=this.eAutocompleteInput.getInputElement().selectionStart)?e:0}validate(t){var i;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity(null!=(i=this.validationMessage)?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new qw({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));let e=this.autocompleteList.getGui(),t={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gos.get("enableRtl")?"right":"left",keepWithinBounds:!0},i=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(t),ariaLabel:this.listAriaLabel});this.hidePopup=i.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return H$(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){let{value:t,position:i,silent:r,updateListOnlyIfOpen:n,restoreFocus:o}=e;this.eAutocompleteInput.setValue(t,!0),this.setCaret(null!=i?i:this.lastPosition,o),r||this.updateValue(t),(!n||this.isListOpen)&&this.updateAutocompleteList(t)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};qb.EVENT_VALUE_CHANGED="eventValueChanged",qb.EVENT_VALUE_CONFIRMED="eventValueConfirmed",qb.EVENT_OPTION_SELECTED="eventOptionSelected",qb.EVENT_VALID_CHANGED="eventValidChanged",HW([zR("popupService")],qb.prototype,"popupService",2),HW([jz("eAutocompleteInput")],qb.prototype,"eAutocompleteInput",2),HW([zE],qb.prototype,"postConstruct",1);var qS=class e extends jH{constructor(e,t,i,r){super(),this.dragSourceDropTarget=e,this.ghost=t,this.horizontal=i,this.template=r}init(){var t;this.setTemplate(null!=(t=this.template)?t:e.TEMPLATE);let i=this.getGui();this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(jy("columnDrag",this.gos)),this.eButton.appendChild(jy("cancel",this.gos)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){let e=this.localeService.getLocaleTextFunc(),t=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(t,e),W$(this.getGui(),t.join(". "))}addAdditionalAriaInstructions(e,t){if(this.isRemovable()){let i=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(i)}}setupTooltip(){let e=()=>{let e=this.getTooltip();this.setTooltip({newTooltipText:e})};e(),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,e)}getDragSourceId(){}getDefaultIconName(){return $G.ICON_NOT_ALLOWED}addDragSource(){let{dragAndDropService:e,eDragHandle:t}=this,i=this.createGetDragItem(),r=this.getDefaultIconName(),n={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:t,getDefaultIconName:()=>r,getDragItem:i,dragItemName:this.getDisplayName()};e.addDragSource(n,!0),this.addDestroyFunc(()=>e.removeDragSource(n))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){UH(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();let t={type:e.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",e=>this.onKeyDown(e)),this.addManagedListener(this.eButton,"click",e=>{this.dispatchEvent(t),e.stopPropagation()});let i=new $b(this.eButton);this.addManagedListener(i,$b.EVENT_TAP,()=>{this.dispatchEvent(t)}),this.addDestroyFunc(i.destroy.bind(i))}onKeyDown(t){t.key===jw.DELETE&&this.isRemovable()&&(t.preventDefault(),this.dispatchEvent({type:e.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){let e=WS(this.getDisplayValue());this.eText.innerHTML=e}addElementClasses(e,t){t=t?`-${t}`:"";let i=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${t}`,`ag-column-drop-${i}-cell${t}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};qS.EVENT_COLUMN_REMOVE="columnRemove",qS.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`,HW([zR("dragAndDropService")],qS.prototype,"dragAndDropService",2),HW([jz("eText")],qS.prototype,"eText",2),HW([jz("eDragHandle")],qS.prototype,"eDragHandle",2),HW([jz("eButton")],qS.prototype,"eButton",2),HW([zE],qS.prototype,"init",1);var qx=class e extends jH{constructor(t){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=t,this.state=e.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),WH(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e}isSourceEventFromTarget(e){let{dropZoneTarget:t,dragSource:i}=e;return t.contains(i.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,U0(this.getGui()),U0(this.ePillDropList)}init(e){this.params=null!=e?e:{},this.createManagedBean(new jY(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new jZ(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),W$(this.ePillDropList,this.getAriaLabel())}handleKeyDown(e){let t=!this.horizontal,i=e.key===jw.DOWN,r=e.key===jw.UP;if(!t){let t=this.gos.get("enableRtl");i=!t&&e.key===jw.RIGHT||t&&e.key===jw.LEFT,r=!t&&e.key===jw.LEFT||t&&e.key===jw.RIGHT}if(!i&&!r)return;let n=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,r);n&&(e.preventDefault(),n.focus())}addElementClasses(e,t){t=t?`-${t}`:"";let i=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${t}`,`ag-column-drop-${i}${t}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){let t=this.getNewInsertIndex(e);if(t<0)return!1;let i=Math.max(this.minimumAllowedNewInsertIndex(),t),r=i!==this.insertIndex;return r&&(this.insertIndex=i),r}getNewInsertIndex(e){let t=e.event,i=this.horizontal?t.clientX:t.clientY,r=this.childPillComponents.map(e=>e.getGui().getBoundingClientRect()),n=r.findIndex(e=>this.horizontal?e.right>i&&e.left<i:e.top<i&&e.bottom>i);if(-1===n){let e=this.gos.get("enableRtl");return r.every(e=>i>(this.horizontal?e.right:e.bottom))?e&&this.horizontal?0:this.childPillComponents.length:r.every(e=>i<(this.horizontal?e.left:e.top))?e&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=n?n+1:n}checkDragStartedBySelf(t){this.state===e.STATE_NOT_DRAGGING&&(this.state=e.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(t.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(t){let i=this.getItems(t.dragSource.getDragItem());this.state=e.STATE_NEW_ITEMS_IN;let r=i.filter(e=>this.isItemDroppable(e,t)),n=r.every(e=>-1!==this.childPillComponents.map(e=>e.getItem()).indexOf(e));if(0!==r.length){if(this.potentialDndItems=r,n){this.state=e.STATE_NOT_DRAGGING;return}this.handleDragEnterEnd(t),this.checkInsertIndex(t),this.refreshGui()}}isPotentialDndItems(){return zz(this.potentialDndItems)}handleDragLeaveEnd(e){}onDragLeave(t){if(this.state===e.STATE_REARRANGE_ITEMS){let e=this.getItems(t.dragSource.getDragItem());this.removeItems(e)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(t),this.potentialDndItems=[],this.refreshGui()),this.state=e.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let t=!1;this.state===e.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),t=!0):t=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!t)&&this.refreshGui()}this.state=e.STATE_NOT_DRAGGING}removeItems(e){let t=this.getExistingItems().filter(t=>!z1(e,t));this.updateItems(t)}addItems(e){if(!e)return;let t=this.getExistingItems().slice(),i=e.filter(e=>0>t.indexOf(e));zJ(t,i,this.insertIndex),this.updateItems(t)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){let t=this.getNonGhostItems().slice();return zJ(t,e,this.insertIndex),!zU(t,this.getExistingItems())&&(this.updateItems(t),!0)}refreshGui(){let e=this.ePillDropList.scrollTop,t=this.resizeEnabled,i=this.getFocusedItem(),r=this.focusService.findNextFocusableElement();r||(r=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=e),t&&this.toggleResizable(t),this.focusService.isKeyboardMode()&&this.restoreFocus(i,r)}getFocusedItem(){let e=this.getGui(),t=this.gos.getActiveDomElement();return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1}restoreFocus(e,t){let i=Array.from(this.getGui().querySelectorAll(".ag-column-drop-cell"));if(-1===e)return;0===i.length&&t.focus();let r=Math.min(i.length-1,e),n=i[r];n&&n.focus()}focusList(e){let t=e?this.childPillComponents.length-1:0;this.restoreFocus(t,this.getFocusableElement())}getNonGhostItems(){let e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(e=>!z1(this.potentialDndItems,e)):e}addItemsToGui(){let e=this.getNonGhostItems().map(e=>this.createItemComponent(e,!1));if(this.isPotentialDndItems()){let t=this.potentialDndItems.map(e=>this.createItemComponent(e,!0));this.insertIndex>=e.length?e.push(...t):e.splice(this.insertIndex,0,...t)}this.appendChild(this.ePillDropList),e.forEach((e,t)=>{t>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(e.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((e,t)=>{let i=e.getGui();W4(i,t+1),W3(i,this.childPillComponents.length)})}createItemComponent(e,t){let i=this.createPillComponent(e,this.dropTarget,t,this.horizontal);return i.addEventListener(qS.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[e])),this.context.createBean(i),this.guiDestroyFunctions.push(()=>this.destroyBean(i)),t||this.childPillComponents.push(i),i}addIconAndTitleToGui(){let{title:e,icon:t}=this.params;if(!e||!t)return;let i=document.createElement("div");if(W0(i,!0),this.addElementClasses(i,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),i.appendChild(t),!this.horizontal){let t=document.createElement("span");this.addElementClasses(t,"title"),t.innerHTML=e,i.appendChild(t)}this.appendChild(i)}isExistingItemsEmpty(){return 0===this.getExistingItems().length}addEmptyMessageToGui(){let{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;let t=document.createElement("span");t.innerHTML=e,this.addElementClasses(t,"empty-message"),this.ePillDropList.appendChild(t)}addArrow(e){if(this.horizontal){let t=jy(this.gos.get("enableRtl")?"smallLeft":"smallRight",this.gos);this.addElementClasses(t,"cell-separator"),e.appendChild(t)}}};qx.STATE_NOT_DRAGGING="notDragging",qx.STATE_NEW_ITEMS_IN="newItemsIn",qx.STATE_REARRANGE_ITEMS="rearrangeItems",HW([zR("focusService")],qx.prototype,"focusService",2),HW([zR("dragAndDropService")],qx.prototype,"dragAndDropService",2);var q_=["touchstart","touchend","touchmove","touchcancel"],qE=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(e,t){return new jN(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,r){let n=z1(q_,t);e.addEventListener(t,i,{capture:!!r,passive:n})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){let t="solid"===this.frameworkName?"react":this.frameworkName;return`https://www.ag-grid.com/${t}-data-grid${e?`/${e}`:""}`}},qT=class extends Wl{getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let i,r,n=e===jw.UP,o=e===jw.DOWN,s=e===jw.LEFT;if(n||o)r=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),i=t.column;else{let e=this.columnModel.getAllDisplayedColumns(),n=this.gos.get("enableRtl");r=t.rowIndex,i=s!==n?e[0]:zW(e)}return{rowIndex:r,rowPinned:null,column:i}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,r=!1;for(;!r;){switch(e){case jw.UP:i=this.getCellAbove(i);break;case jw.DOWN:i=this.getCellBelow(i);break;case jw.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case jw.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e)}r=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){let t,i=e.column;switch(e.rowPinned){case"top":t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!!t&&!i.isSuppressNavigable(t)}getCellToLeft(e){if(!e)return null;let t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){let t=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":if(this.rowModel.isRowsToRender())return{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null};if(this.pinnedRowModel.isRowsToRender("bottom"))return{rowIndex:0,rowPinned:"bottom"};return null;default:if(this.pinnedRowModel.isRowsToRender("bottom"))return{rowIndex:0,rowPinned:"bottom"};return null}let r=this.rowModel.getRow(e.rowIndex),n=this.getNextStickyPosition(r);return n||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gos.isGroupRowsSticky()||!e||!e.sticky)return;let i=this.rowRenderer.getStickyTopRowCtrls().some(t=>t.getRowNode().rowIndex===e.rowIndex),r=[],n=(r=i?[...this.rowRenderer.getStickyTopRowCtrls()].sort((e,t)=>e.getRowNode().rowIndex-t.getRowNode().rowIndex):[...this.rowRenderer.getStickyBottomRowCtrls()].sort((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex)).findIndex(t=>t.getRowNode().rowIndex===e.rowIndex),o=r[n+(t?-1:1)];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;let t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){let t=e.rowPinned,i=e.rowIndex;return"top"===t?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:"bottom"===t?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i}getRowAbove(e){let t=e.rowIndex,i=e.rowPinned;if(i?0===t:t===this.paginationProxy.getPageFirstRow())return"top"===i?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;let r=this.rowModel.getRow(e.rowIndex),n=this.getNextStickyPosition(r,!0);return n||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;let t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let t=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,r=e.rowPinned,n=this.columnModel.getDisplayedColAfter(e.column);if(!n){n=t[0];let o=this.getRowBelow(e);if(HY(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;i=o?o.rowIndex:null,r=o?o.rowPinned:null}return{rowIndex:i,column:n,rowPinned:r}}getNextTabbedCellBackwards(e){let t=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,r=e.rowPinned,n=this.columnModel.getDisplayedColBefore(e.column);if(!n){n=zW(t);let o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(HY(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;i=o?o.rowIndex:null,r=o?o.rowPinned:null}return{rowIndex:i,column:n,rowPinned:r}}};HW([zR("columnModel")],qT.prototype,"columnModel",2),HW([zR("rowModel")],qT.prototype,"rowModel",2),HW([zR("rowRenderer")],qT.prototype,"rowRenderer",2),HW([zR("pinnedRowModel")],qT.prototype,"pinnedRowModel",2),HW([zR("paginationProxy")],qT.prototype,"paginationProxy",2),qT=HW([zM("cellNavigationService")],qT);var qM=class extends Wl{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}getAlignedGridApis(){var e;let t=null!=(e=this.gos.get("alignedGrids"))?e:[],i="function"==typeof t;"function"==typeof t&&(t=t());let r=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return t.map(e=>{var t;if(!e){zl("alignedGrids contains an undefined option."),i||zl(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),zl(r());return}return e instanceof KE?e:"current"in e?null==(t=e.current)?void 0:t.api:(e.api||zl(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${r()}`),e.api)}).filter(e=>!!e&&!e.isDestroyed())}init(){this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||e(t.__getAlignedGridService())})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){let t=[];return e.columns?e.columns.forEach(e=>{t.push(e)}):e.column&&t.push(e.column),t}getColumnIds(e){let t=[];return e.columns?e.columns.forEach(e=>{t.push(e.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case Wc.EVENT_COLUMN_MOVED:case Wc.EVENT_COLUMN_VISIBLE:case Wc.EVENT_COLUMN_PINNED:case Wc.EVENT_COLUMN_RESIZED:this.processColumnEvent(e);break;case Wc.EVENT_COLUMN_GROUP_OPENED:this.processGroupOpenedEvent(e);break;case Wc.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(e){e.columnGroups.forEach(t=>{let i=null;if(t){let e=t.getGroupId();i=this.columnModel.getProvidedColumnGroup(e)}(!t||i)&&(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(i,t.isExpanded(),"alignedGridChanged"))})}processColumnEvent(e){var t;let i=e.column,r=null;if(i&&(r=this.columnModel.getPrimaryColumn(i.getColId())),i&&!r)return;let n=this.getMasterColumns(e);switch(e.type){case Wc.EVENT_COLUMN_MOVED:{let t=e.api.getColumnState().map(e=>({colId:e.colId}));this.columnModel.applyColumnState({state:t,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${e.toIndex}`)}break;case Wc.EVENT_COLUMN_VISIBLE:{let t=e.api.getColumnState().map(e=>({colId:e.colId,hide:e.hide}));this.columnModel.applyColumnState({state:t},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${e.visible}`)}break;case Wc.EVENT_COLUMN_PINNED:{let t=e.api.getColumnState().map(e=>({colId:e.colId,pinned:e.pinned}));this.columnModel.applyColumnState({state:t},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${e.pinned}`)}break;case Wc.EVENT_COLUMN_RESIZED:let o={};n.forEach(t=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${t.getActualWidth()}`),o[t.getId()]={key:t.getColId(),newWidth:t.getActualWidth()}}),null==(t=e.flexColumns)||t.forEach(e=>{o[e.getId()]&&delete o[e.getId()]}),this.columnModel.setColumnWidths(Object.values(o),!1,e.finished,"alignedGridChanged")}let s=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(e=>{e.setGridOption("alwaysShowVerticalScroll",s)})}};HW([zR("columnModel")],qM.prototype,"columnModel",2),HW([zR("ctrlsService")],qM.prototype,"ctrlsService",2),HW([HU(0,zI("loggerFactory"))],qM.prototype,"setBeans",1),HW([zE],qM.prototype,"init",1),qM=HW([zM("alignedGridsService")],qM);var qR=class extends Wl{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,Wc.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(e){var t;let{newValue:i,clearSelection:r,suppressFinishActions:n,rangeSelect:o,nodes:s,event:a,source:l="api"}=e;if(0===s.length)return 0;if(s.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;let u=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,d=s.map(e=>e.footer?e.sibling:e);if(o){if(s.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let e=null;if("checkboxSelected"===l&&!1===i&&this.lastRowNode&&(this.lastRowNode.id?e=this.lastRowNode:this.lastRowNode=null),null==e&&(e=this.getLastSelectedNode()),e){let t=d[0];if(t!==e&&this.isMultiselect())return this.selectRange(t,e,i,l)}}this.lastRowNode=i?null:d[0];let h=0;for(let e=0;e<d.length;e++){let r=d[e];!(u&&r.group)&&r.selectThisNode(i,a,l)&&h++,this.groupSelectsChildren&&(null==(t=r.childrenAfterGroup)?void 0:t.length)&&(h+=this.selectChildren(r,i,u,l))}if(!n&&(i&&(r||!this.isMultiselect())&&(h+=this.clearOtherNodes(d[0],l)),h>0)){this.updateGroupsFromChildrenSelections(l);let e={type:Wc.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(e)}return h}selectRange(e,t,i=!0,r){let n=this.rowModel.getNodesInRangeForSelection(e,t),o=0;n.forEach(e=>{e.group&&this.groupSelectsChildren||e.selectThisNode(i,void 0,r)&&o++}),this.updateGroupsFromChildrenSelections(r);let s={type:Wc.EVENT_SELECTION_CHANGED,source:r};return this.eventService.dispatchEvent(s),o}selectChildren(e,t,i,r){let n=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return HY(n)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:r,nodes:n})}getLastSelectedNode(){let e=Array.from(this.selectedNodes.keys());if(0==e.length)return null;let t=this.selectedNodes.get(zW(e));return t||null}getSelectedNodes(){let e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((i,r)=>{i&&e(i)&&t.set(r,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;let i=this.rowModel.getRootNode();t||(t=new Y1(!0,i)).setInactive();let r=!1;return t.forEachChangedNodeDepthFirst(t=>{if(t!==i){let i=t.calculateSelectedFromChildren();r=t.selectThisNode(null!==i&&i,void 0,e)||r}}),r}clearOtherNodes(e,t){let i=new Map,r=0;return this.selectedNodes.forEach(n=>{if(n&&n.id!==e.id){let e=this.selectedNodes.get(n.id);r+=e.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&n.parent&&i.set(n.parent.id,n.parent)}}),i.forEach(e=>{let i=e.calculateSelectedFromChildren();e.selectThisNode(null!==i&&i,void 0,t)}),r}onRowSelected(e){let t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(HK(t)&&e.id!==t.id&&t){let i=t.id;this.selectedNodes.get(i)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){let t=this.getSelectionCount();if(this.resetNodes(),t){let t={type:Wc.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(t)}}resetNodes(){var e;null==(e=this.selectedNodes)||e.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;let e=this.rowModel.getTopLevelNodes();if(null===e)return;let t=[];return!function e(i){for(let r=0,n=i.length;r<n;r++){let n=i[r];n.isSelected()?t.push(n):n.group&&n.children&&e(n.children)}}(e),t}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),0===e}deselectAllRowNodes(e){let t=e=>e.selectThisNode(!1,void 0,r),i="clientSide"===this.rowModel.getType(),{source:r,justFiltered:n,justCurrentPage:o}=e;if(o||n){if(!i)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(n,o).forEach(t)}else this.selectedNodes.forEach(e=>{e&&t(e)}),this.reset(r);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(r);let s={type:Wc.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(s)}getSelectedCounts(e,t){let i=0,r=0,n=e=>{(!this.groupSelectsChildren||!e.group)&&(e.isSelected()?i++:e.selectable&&r++)};return this.getNodesToSelect(e,t).forEach(n),{selectedCount:i,notSelectedCount:r}}getSelectAllState(e,t){let{selectedCount:i,notSelectedCount:r}=this.getSelectedCounts(e,t);return(0!==i||0!==r)&&(i>0&&r>0?null:i>0)}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(e=>e.selectable).length>0}getNodesToSelect(e=!1,t=!1){if("clientSide"!==this.rowModel.getType())throw Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);let i=[];if(t)return this.paginationProxy.forEachNodeOnPage(e=>{if(!e.group)return void i.push(e);if(!e.expanded){let t=e=>{var r;i.push(e),(null==(r=e.childrenAfterFilter)?void 0:r.length)&&e.childrenAfterFilter.forEach(t)};t(e);return}this.groupSelectsChildren||i.push(e)}),i;let r=this.rowModel;return e?r.forEachNodeAfterFilter(e=>{i.push(e)}):r.forEachNode(e=>{i.push(e)}),i}selectAllRowNodes(e){if("clientSide"!==this.rowModel.getType())throw Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);let{source:t,justFiltered:i,justCurrentPage:r}=e;this.getNodesToSelect(i,r).forEach(e=>e.selectThisNode(!0,void 0,t)),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);let n={type:Wc.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(n)}getSelectionState(){let e=[];return this.selectedNodes.forEach(t=>{(null==t?void 0:t.id)&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;let i=new Set(e),r=[];this.rowModel.forEachNode(e=>{i.has(e.id)&&r.push(e)}),this.setNodesSelected({newValue:!0,nodes:r,source:t})}};HW([zR("rowModel")],qR.prototype,"rowModel",2),HW([zR("paginationProxy")],qR.prototype,"paginationProxy",2),HW([zE],qR.prototype,"init",1),qR=HW([zM("selectionService")],qR);var qD=class{constructor(e){this.viaApi=(e,...t)=>(za(`Since v31, 'columnApi.${e}' is deprecated and moved to 'api.${e}'.`),this.api[e](...t)),this.api=e}sizeColumnsToFit(e){this.viaApi("sizeColumnsToFit",e)}setColumnGroupOpened(e,t){this.viaApi("setColumnGroupOpened",e,t)}getColumnGroup(e,t){return this.viaApi("getColumnGroup",e,t)}getProvidedColumnGroup(e){return this.viaApi("getProvidedColumnGroup",e)}getDisplayNameForColumn(e,t){return this.viaApi("getDisplayNameForColumn",e,t)}getDisplayNameForColumnGroup(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)}getColumn(e){return this.viaApi("getColumn",e)}getColumns(){return this.viaApi("getColumns")}applyColumnState(e){return this.viaApi("applyColumnState",e)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(e){this.viaApi("setColumnGroupState",e)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(e){return this.viaApi("getDisplayedColAfter",e)}getDisplayedColBefore(e){return this.viaApi("getDisplayedColBefore",e)}setColumnVisible(e,t){this.viaApi("setColumnVisible",e,t)}setColumnsVisible(e,t){this.viaApi("setColumnsVisible",e,t)}setColumnPinned(e,t){this.viaApi("setColumnPinned",e,t)}setColumnsPinned(e,t){this.viaApi("setColumnsPinned",e,t)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(e,t){this.viaApi("moveColumn",e,t)}moveColumnByIndex(e,t){this.viaApi("moveColumnByIndex",e,t)}moveColumns(e,t){this.viaApi("moveColumns",e,t)}moveRowGroupColumn(e,t){this.viaApi("moveRowGroupColumn",e,t)}setColumnAggFunc(e,t){this.viaApi("setColumnAggFunc",e,t)}setColumnWidth(e,t,i=!0,r){this.viaApi("setColumnWidth",e,t,i,r)}setColumnWidths(e,t=!0,i){this.viaApi("setColumnWidths",e,t,i)}setPivotMode(e){this.viaApi("setPivotMode",e)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(e,t){return this.viaApi("getPivotResultColumn",e,t)}setValueColumns(e){this.viaApi("setValueColumns",e)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(e){this.viaApi("removeValueColumn",e)}removeValueColumns(e){this.viaApi("removeValueColumns",e)}addValueColumn(e){this.viaApi("addValueColumn",e)}addValueColumns(e){this.viaApi("addValueColumns",e)}setRowGroupColumns(e){this.viaApi("setRowGroupColumns",e)}removeRowGroupColumn(e){this.viaApi("removeRowGroupColumn",e)}removeRowGroupColumns(e){this.viaApi("removeRowGroupColumns",e)}addRowGroupColumn(e){this.viaApi("addRowGroupColumn",e)}addRowGroupColumns(e){this.viaApi("addRowGroupColumns",e)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(e){this.viaApi("setPivotColumns",e)}removePivotColumn(e){this.viaApi("removePivotColumn",e)}removePivotColumns(e){this.viaApi("removePivotColumns",e)}addPivotColumn(e){this.viaApi("addPivotColumn",e)}addPivotColumns(e){this.viaApi("addPivotColumns",e)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(e,t){return this.viaApi("autoSizeColumn",e,t)}autoSizeColumns(e,t){this.viaApi("autoSizeColumns",e,t)}autoSizeAllColumns(e){this.viaApi("autoSizeAllColumns",e)}setPivotResultColumns(e){this.viaApi("setPivotResultColumns",e)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};HW([zR("gridApi")],qD.prototype,"api",2),qD=HW([zM("columnApi")],qD);var qA=class extends Wl{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=e=>this.callColumnCellValueChangedHandler(e),t=this.gos.useAsyncEvents();this.eventService.addEventListener(Wc.EVENT_CELL_VALUE_CHANGED,e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener(Wc.EVENT_CELL_VALUE_CHANGED,e,t)),this.addManagedPropertyListener("treeData",e=>this.isTreeData=e.currentValue)}getValue(e,t,i=!1,r=!1){let n;if(this.initialised||this.init(),!t)return;let o=e.getColDef(),s=o.field,a=e.getColId(),l=t.data,u=t.groupData&&void 0!==t.groupData[a],d=!r&&t.aggData&&void 0!==t.aggData[a],h=this.isSsrm&&r&&!!e.getColDef().aggFunc,c=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&o.filterValueGetter?n=this.executeFilterValueGetter(o.filterValueGetter,l,e,t):this.isTreeData&&d?n=t.aggData[a]:this.isTreeData&&o.valueGetter?n=this.executeValueGetter(o.valueGetter,l,e,t):this.isTreeData&&s&&l?n=zt(l,s,e.isFieldContainsDots()):u?n=t.groupData[a]:d?n=t.aggData[a]:o.valueGetter?n=this.executeValueGetter(o.valueGetter,l,e,t):c?n=zt(l,t.field,e.isFieldContainsDots()):s&&l&&!h&&(n=zt(l,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof n&&0===n.indexOf("=")){let i=n.substring(1);n=this.executeValueGetter(i,l,e,t)}if(null==n){let i=this.getOpenedGroup(t,e);if(null!=i)return i}return n}parseValue(e,t,i,r){let n=e.getColDef(),o=this.gos.addGridCommonParams({node:t,data:null==t?void 0:t.data,oldValue:r,newValue:i,colDef:n,column:e}),s=n.valueParser;return HK(s)?"function"==typeof s?s(o):this.expressionService.evaluate(s,o):i}formatValue(e,t,i,r,n=!0){let o,s=null,a=e.getColDef();if(r?o=r:n&&(o=a.valueFormatter),o){let r=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});s="function"==typeof o?o(r):this.expressionService.evaluate(o,r)}else if(a.refData)return a.refData[i]||"";return null==s&&Array.isArray(i)&&(s=i.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;let i=t.getColDef().showRowGroup,r=e.parent;for(;null!=r;){if(r.rowGroupColumn&&(!0===i||i===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,r){let n,o=this.columnModel.getPrimaryColumn(t);if(!e||!o)return!1;HY(e.data)&&(e.data={});let{field:s,valueSetter:a}=o.getColDef();if(HY(s)&&HY(a))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(o,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;let l=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(o,e),newValue:i,colDef:o.getColDef(),column:o});if(l.newValue=i,void 0===(n=HK(a)?"function"==typeof a?a(l):this.expressionService.evaluate(a,l):this.setValueUsingField(e.data,s,i,o.isFieldContainsDots()))&&(n=!0),!n)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),l.newValue=this.getValue(o,e);let u={type:Wc.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,api:l.api,columnApi:l.columnApi,colDef:l.colDef,context:l.context,data:e.data,node:e,oldValue:l.oldValue,newValue:l.newValue,value:l.newValue,source:r};return this.eventService.dispatchEvent(u),!0}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;"function"==typeof t&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})}setValueUsingField(e,t,i,r){if(!t)return!1;let n=!1;if(r){let r=t.split("."),o=e;for(;r.length>0&&o;){let e=r.shift();0===r.length?(n=o[e]===i)||(o[e]=i):o=o[e]}}else(n=e[t]===i)||(e[t]=i);return!n}executeFilterValueGetter(e,t,i,r){let n=this.gos.addGridCommonParams({data:t,node:r,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,r)});return"function"==typeof e?e(n):this.expressionService.evaluate(e,n)}executeValueGetter(e,t,i,r){let n,o=i.getColId(),s=this.valueCache.getValue(r,o);if(void 0!==s)return s;let a=this.gos.addGridCommonParams({data:t,node:r,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,r)});return n="function"==typeof e?e(a):this.expressionService.evaluate(e,a),this.valueCache.setValue(r,o,n),n}getValueCallback(e,t){let i=this.columnModel.getPrimaryColumn(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){let i=this.getValue(e,t),r=e.getColDef().keyCreator,n=i;return r&&(n=r(this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data}))),"string"==typeof n||null==n||"[object Object]"===(n=String(n))&&za("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key"),n}};HW([zR("expressionService")],qA.prototype,"expressionService",2),HW([zR("columnModel")],qA.prototype,"columnModel",2),HW([zR("valueCache")],qA.prototype,"valueCache",2),HW([zR("dataTypeService")],qA.prototype,"dataTypeService",2),HW([zE],qA.prototype,"init",1),qA=HW([zM("valueService")],qA);var qI=class extends Wl{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if("string"==typeof e)return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];let t=Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",this.createFunctionBody(e));return this.expressionToFunctionCache[e]=t,t}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};HW([HU(0,zI("loggerFactory"))],qI.prototype,"setBeans",1),qI=HW([zM("expressionService")],qI);var qP=class extends Wl{setBeans(e){this.logging=e.get("debug")}create(e){return new qL(e,this.isLogging.bind(this))}isLogging(){return this.logging}};HW([HU(0,zI("gridOptionsService"))],qP.prototype,"setBeans",1),qP=HW([zM("loggerFactory")],qP);var qL=class{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}},qk=class extends Wl{setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:e=>1===e||0===e,getIconName:()=>$G.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new KP(this.view)),this.addRtlSupport();let r=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),this.ctrlsService.register("gridCtrl",this)}isDetailGrid(){var e;let t=this.focusService.findTabbableParent(this.getGui());return(null==(e=null==t?void 0:t.getAttribute("row-id"))?void 0:e.startsWith("detail"))||!1}showDropZones(){return zS.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return zS.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return zS.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return zS.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){let e={type:Wc.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){let e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.view.getFocusableContainers(),i=this.gos.getActiveDomElement(),r=t.findIndex(e=>e.contains(i))+(e?-1:1);return!(r<=0)&&!(r>=t.length)&&this.focusService.focusInto(t[r])}focusInnerElement(e){let t=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(zW(t),!0);let e=zW(i);if(this.focusService.focusGridView(e,!0))return!0}if(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(let e=1;e<t.length;e++)if(this.focusService.focusInto(t[e]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}};HW([zR("focusService")],qk.prototype,"focusService",2),HW([zR("resizeObserverService")],qk.prototype,"resizeObserverService",2),HW([zR("columnModel")],qk.prototype,"columnModel",2),HW([zR("ctrlsService")],qk.prototype,"ctrlsService",2),HW([zR("mouseEventService")],qk.prototype,"mouseEventService",2),HW([zR("dragAndDropService")],qk.prototype,"dragAndDropService",2);var qN=class extends Yz{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:e=>this.addCssClass(e),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:e=>{this.getGui().style.userSelect=null!=e?e:"",this.getGui().style.webkitUserSelect=null!=e?e:""},setCursor:e=>{this.getGui().style.cursor=null!=e?e:""}};this.ctrl=this.createManagedBean(new qk);let t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>void 0,focusInnerElement:e=>this.ctrl.focusInnerElement(e),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,t){let i=this.eRootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(){let e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",t=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",r=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${t}
                </div>
                ${i}
                <ag-pagination></ag-pagination>
                ${r}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){let e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(e=>U5(e))}};HW([zR("loggerFactory")],qN.prototype,"loggerFactory",2),HW([jz("gridBody")],qN.prototype,"gridBodyComp",2),HW([jz("sideBar")],qN.prototype,"sideBarComp",2),HW([jz("rootWrapperBody")],qN.prototype,"eRootWrapperBody",2),HW([zE],qN.prototype,"postConstruct",1);var qF=class extends Wl{progressSort(e,t,i){let r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,i)}setSortForColumn(e,t,i,r){"asc"!==t&&"desc"!==t&&(t=null);let n=this.gos.isColumnsSortingCoupledToGroup(),o=[e];if(n&&e.getColDef().showRowGroup){let t=this.columnModel.getSourceColumnsForGroupColumn(e),i=null==t?void 0:t.filter(e=>e.isSortable());i&&(o=[e,...i])}o.forEach(e=>e.setSort(t,r));let s=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!s){let e=this.clearSortBarTheseColumns(o,r);a.push(...e)}this.updateSortIndex(e),a.push(...o),this.dispatchSortChangedEvents(r,a)}updateSortIndex(e){let t=this.gos.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),r=t&&i||e,n=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(e=>e.setSortIndex(null));let o=n.filter(e=>(!t||!e.getColDef().showRowGroup)&&e!==r);(r.getSort()?[...o,r]:o).forEach((e,t)=>{e.setSortIndex(t)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(e=>!!e.getSort());return e&&e.length>0}dispatchSortChangedEvents(e,t){let i={type:Wc.EVENT_SORT_CHANGED,source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){let i=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(r=>{e.includes(r)||(r.getSort()&&i.push(r),r.setSort(void 0,t))}),i}getNextSortDirection(e){let t,i;if(!Array.isArray(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):qF.DEFAULT_SORTING_ORDER)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;let r=t.indexOf(e.getSort()),n=r==t.length-1;return(i=r<0||n?t[0]:t[r+1],0>qF.DEFAULT_SORTING_ORDER.indexOf(i))?(console.warn("AG Grid: invalid sort type "+i),null):i}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(e=>!!e.getSort());if(this.columnModel.isPivotMode()){let t=this.gos.isColumnsSortingCoupledToGroup();e=e.filter(e=>{let i=!!e.getAggFunc(),r=!e.isPrimary(),n=t?this.columnModel.getGroupDisplayColumnForGroup(e.getId()):e.getColDef().showRowGroup;return i||r||n})}let t=this.columnModel.getRowGroupColumns().filter(e=>!!e.getSort()),i={};e.forEach((e,t)=>i[e.getId()]=t),e.sort((e,t)=>{let r=e.getSortIndex(),n=t.getSortIndex();return null!=r&&null!=n?r-n:null==r&&null==n?i[e.getId()]>i[t.getId()]?1:-1:null==n?-1:1});let r=this.gos.isColumnsSortingCoupledToGroup()&&!!t.length;r&&(e=[...new Set(e.map(e=>{var t;return null!=(t=this.columnModel.getGroupDisplayColumnForGroup(e.getId()))?t:e}))]);let n=new Map;return e.forEach((e,t)=>n.set(e,t)),r&&t.forEach(e=>{let t=this.columnModel.getGroupDisplayColumnForGroup(e.getId());n.set(e,n.get(t))}),n}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,r])=>t-r).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=this.gos.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){let t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(null==t?void 0:t.length))return e.getSort();let i=null!=e.getColDef().field||e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(e=>e.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};qF.DEFAULT_SORTING_ORDER=["asc","desc",null],HW([zR("columnModel")],qF.prototype,"columnModel",2),qF=HW([zM("sortController")],qF);var qO=class extends Wl{static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",qO.toggleKeyboardMode),e.addEventListener("mousedown",qO.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",qO.toggleKeyboardMode),e.addEventListener("mousedown",qO.toggleKeyboardMode))}static toggleKeyboardMode(e){let t=qO.keyboardModeActive,i="keydown"===e.type;i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(qO.keyboardModeActive=i)}static unregisterGridCompController(e){qO.removeKeyboardModeEvents(e)}init(){let e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl})}registerKeyboardFocusEvents(){let e=this.gos.getDocument();qO.addKeyboardModeEvents(e),qO.instanceCount++,this.addDestroyFunc(()=>{qO.instanceCount--,qO.unregisterGridCompController(e)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;let e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return qO.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),KZ.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Yw.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(this.gos.getDomData(i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return!!this.isCellRestoreFocused(e)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}isCellRestoreFocused(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){let{rowIndex:e,rowPinned:t,column:i}=this.focusedCellPosition,r={rowIndex:e,rowPinned:t,column:i,isFullWidthCell:!1},n=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return n&&(r.isFullWidthCell=n.isFullWidth()),r}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;let e=HH({type:Wc.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){let{column:t,rowIndex:i,rowPinned:r,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:o=!1}=e,s=this.columnModel.getGridColumn(t);if(!s){this.focusedCellPosition=null;return}this.focusedCellPosition=s?{rowIndex:i,rowPinned:H$(r),column:s}:null;let a=Hk(HH({type:Wc.EVENT_CELL_FOCUSED},this.getFocusEventParams()),HF({forceBrowserFocus:n,preventScrollOnBrowserFocus:o,floating:null}));this.eventService.dispatchEvent(a)}isCellFocused(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(null==this.focusedHeaderPosition)return!1;let t=e.getColumnGroupChild(),i=e.getRowIndex(),r=e.getPinned(),{column:n,headerRowIndex:o}=this.focusedHeaderPosition;return t===n&&i===o&&r==n.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){if(this.gos.get("suppressHeaderFocus"))return!1;let{direction:t,fromTab:i,allowUserOverride:r,event:n,fromCell:o,rowWithoutSpanValue:s}=e,{headerPosition:a}=e;if(o&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(r){let e=this.getFocusedHeader(),r=this.headerNavigationService.getHeaderRowCount();if(i){let i=this.gos.getCallback("tabToNextHeader");i&&(a=this.getHeaderPositionFromUserFunc({userFunc:i,direction:t,currentPosition:e,headerPosition:a,headerRowCount:r}))}else{let t=this.gos.getCallback("navigateToNextHeader");t&&n&&(a=t({key:n.key,previousHeaderPosition:e,nextHeaderPosition:a,headerRowCount:r,event:n}))}}return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:n,fromCell:o,rowWithoutSpanValue:s})}focusHeaderPositionFromUserFunc(e){if(this.gos.get("suppressHeaderFocus"))return!1;let{userFunc:t,headerPosition:i,direction:r,event:n}=e,o=this.getFocusedHeader(),s=this.headerNavigationService.getHeaderRowCount(),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:o,headerPosition:i,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:r,event:n})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:i,currentPosition:r,headerPosition:n,headerRowCount:o}=e,s=t({backwards:"Before"===i,previousHeaderPosition:r,nextHeaderPosition:n,headerRowCount:o});return!0===s||null===s?(null===s&&za("Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),r):!1===s?null:s}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:i,fromCell:r,rowWithoutSpanValue:n,event:o}=e;if(-1===t.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(t.column);this.headerNavigationService.scrollToColumn(t.column,i);let s=this.ctrlsService.getHeaderRowContainerCtrl(t.column.getPinned()).focusHeader(t.headerRowIndex,t.column,o);return s&&(null!=n||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(null!=n?n:-1),s}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];if(!e)return!1;e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0));let t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){let t=this.headerNavigationService.getHeaderRowCount()-1,i=zW(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===H$(t)}findFocusableElements(e,t,i=!1){let r=UV;t&&(r+=", "+t),i&&(r+=', [tabindex="-1"]');let n=Array.prototype.slice.apply(e.querySelectorAll(UG)).filter(e=>U5(e)),o=Array.prototype.slice.apply(e.querySelectorAll(r));return o.length?n.filter(e=>-1===o.indexOf(e)):n}focusInto(e,t=!1,i=!1){let r=this.findFocusableElements(e,null,i),n=t?zW(r):r[0];return!!n&&(n.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;let i=this.findFocusableElements(e),r=i.indexOf(t);if(-1===r)return null;let n=-1;for(let e=r-1;e>=0;e--)if(i[e].classList.contains("ag-tab-guard-top")){n=e;break}return n<=0?null:i[n-1]}findNextFocusableElement(e=this.eGridDiv,t,i){let r=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),n=this.gos.getActiveDomElement(),o=(t?r.findIndex(e=>e.contains(n)):r.indexOf(n))+(i?-1:1);return o<0||o>=r.length?null:r[o]}isTargetUnderManagedComponent(e,t){if(!t)return!1;let i=e.querySelectorAll(`.${jY.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let e=0;e<i.length;e++)if(i[e].contains(t))return!0;return!1}findTabbableParent(e,t=5){let i=0;for(;e&&null===Um(e)&&++i<=t;)e=e.parentElement;return null===Um(e)?null:e}focusGridView(e,t){var i;if(this.gos.get("suppressCellFocus"))return t?this.gos.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);let r=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!r)return!1;let{rowIndex:n,rowPinned:o}=r,s=this.getFocusedHeader();return!e&&s&&(e=s.column),null!=n&&!!e&&(this.navigationService.ensureCellVisible({rowIndex:n,column:e,rowPinned:o}),this.setFocusedCell({rowIndex:n,column:e,rowPinned:H$(o),forceBrowserFocus:!0}),null==(i=this.rangeService)||i.setRangeToCell({rowIndex:n,rowPinned:o,column:e}),!0)}focusNextGridCoreContainer(e,t=!1){return!!(!t&&this.gridCtrl.focusNextInnerContainer(e))||(!t&&(e||this.gridCtrl.isDetailGrid())||this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){var t,i;return this.advancedFilterFocusColumn=null==e?void 0:e.column,null!=(i=null==(t=this.advancedFilterService)?void 0:t.getCtrl().focusHeaderComp())&&i}focusNextFromAdvancedFilter(e,t){var i,r;let n=null!=(r=t?void 0:this.advancedFilterFocusColumn)?r:null==(i=this.columnModel.getAllDisplayedColumns())?void 0:i[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};qO.keyboardModeActive=!1,qO.instanceCount=0,HW([zR("eGridDiv")],qO.prototype,"eGridDiv",2),HW([zR("columnModel")],qO.prototype,"columnModel",2),HW([zR("headerNavigationService")],qO.prototype,"headerNavigationService",2),HW([zR("headerPositionUtils")],qO.prototype,"headerPositionUtils",2),HW([zR("rowRenderer")],qO.prototype,"rowRenderer",2),HW([zR("rowPositionUtils")],qO.prototype,"rowPositionUtils",2),HW([zR("cellPositionUtils")],qO.prototype,"cellPositionUtils",2),HW([zR("navigationService")],qO.prototype,"navigationService",2),HW([zR("ctrlsService")],qO.prototype,"ctrlsService",2),HW([zR("filterManager")],qO.prototype,"filterManager",2),HW([zD("rangeService")],qO.prototype,"rangeService",2),HW([zD("advancedFilterService")],qO.prototype,"advancedFilterService",2),HW([zE],qO.prototype,"init",1),qO=HW([zM("focusService")],qO);var qG=class extends Wl{setMouseOver(e){this.selectedColumns=e;let t={type:Wc.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}clearMouseOver(){this.selectedColumns=null;let e={type:Wc.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};qG=HW([zM("columnHoverService")],qG);var qV=class extends Wl{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return void e();let t=e=>{for(;e.length;){let t=e.pop();t&&t()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>t(this.executeNextFuncs),0),window.setTimeout(()=>{e(),t(this.executeLaterFuncs)},200)})}};HW([zR("ctrlsService")],qV.prototype,"ctrlsService",2),HW([zE],qV.prototype,"postConstruct",1),qV=HW([zM("columnAnimationService")],qV);var qB=class extends Wl{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center,this.addManagedListener(this.eventService,Wc.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){let t=()=>{let t=Math.floor(e/this.gos.getRowHeightAsNumber());this.paginationProxy.setPageSize(t,"autoCalculated")};this.isBodyRendered?zm(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};HW([zR("ctrlsService")],qB.prototype,"ctrlsService",2),HW([zR("paginationProxy")],qB.prototype,"paginationProxy",2),HW([zE],qB.prototype,"postConstruct",1),qB=HW([zM("paginationAutoPageSizeService")],qB);var qH=class extends Wl{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}};HW([zE],qH.prototype,"init",1),qH=HW([zM("valueCache")],qH);var qz=class extends Wl{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Wc.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;let i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){let r=new Y1(this.gos.get("aggregateOnlyChangedColumns"),this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(e=>{i.push(e)})}this.rowRenderer.refreshCells({rowNodes:i})}};HW([zR("rowModel")],qz.prototype,"rowModel",2),HW([zR("rowRenderer")],qz.prototype,"rowRenderer",2),HW([zE],qz.prototype,"init",1),qz=HW([zM("changeDetectionService")],qz);var qW=class extends Wl{adaptFunction(e,t){let i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class{refresh(e){return!1}getGui(){return this.eGui}init(t){let i=e(t),r=typeof i;if("string"===r||"number"===r||"boolean"===r){this.eGui=U3("<span>"+i+"</span>");return}if(null==i){this.eGui=U3("<span></span>");return}this.eGui=i}}}doesImplementIComponent(e){return!!e&&e.prototype&&"getGui"in e.prototype}};HW([zR("componentMetadataProvider")],qW.prototype,"componentMetadataProvider",2),qW=HW([zM("agComponentUtils")],qW);var qU=class extends Wl{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}};HW([zR("agComponentUtils")],qU.prototype,"agComponentUtils",2),HW([zE],qU.prototype,"postConstruct",1),qU=HW([zM("componentMetadataProvider")],qU);var qj={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},q$={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},qK=class extends Wl{constructor(){super(...arguments),this.calculatedSizes={},this.calculatedTheme=null}postConstruct(){var e;let t=null!=(e=this.getTheme().el)?e:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.calculatedTheme=null,this.calculatedTheme=this.getTheme(),this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){let e={type:Wc.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){let{themeFamily:t,el:i}=this.getTheme();if(!t||0!==t.indexOf("ag-theme"))return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={});let r=this.calculatedSizes[t][e];return null!=r?r:(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,i),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,i){let r=qj["ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom")][e],n=this.gos.getDocument();if(i||(i=this.eGridDiv),!q$[e])return r;let o=q$[e],s=n.createElement("div"),a=Array.from(i.classList);s.classList.add(t,...a),s.style.position="absolute";let l=o.reduce((e,t)=>{let i=n.createElement("div");return i.style.position="static",i.classList.add(t),e.appendChild(i),i},s),u=0;if(n.body){n.body.appendChild(s);let t=-1!==e.toLowerCase().indexOf("height")?"height":"width";u=parseInt(window.getComputedStyle(l)[t],10),n.body.removeChild(s)}return u||r}isThemeDark(){let{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){if(this.calculatedTheme)return this.calculatedTheme;let e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,t=this.eGridDiv,i=null,r=[];for(;t;){if(i=e.exec(t.className)){let i=t.className.match(e);i&&(r=i);break}t=t.parentElement||void 0}if(!i)return{allThemes:r};let n=i[0];return this.calculatedTheme={theme:n,el:t,themeFamily:n.replace(/-dark$/,""),allThemes:r},this.calculatedTheme}getFromTheme(e,t){var i;return null!=(i=this.getSassVariable(t))?i:e}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){let e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;let i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):""!=e?parseFloat(e):-1}getMinColWidth(){let e=this.getFromTheme(null,"headerCellMinWidth");return HK(e)?Math.max(e,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};HW([zR("eGridDiv")],qK.prototype,"eGridDiv",2),HW([zE],qK.prototype,"postConstruct",1),qK=HW([zM("environment")],qK);var qY=class extends Wl{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,Wc.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Uv(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;let e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:Wc.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:Wc.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)}};HW([zR("ctrlsService")],qY.prototype,"ctrlsService",2),HW([HU(0,zI("loggerFactory"))],qY.prototype,"agWire",1),HW([zE],qY.prototype,"postConstruct",1),qY=HW([zM("rowContainerHeightService")],qY);var qq=class extends Wl{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){let t=!!this.gos.get("rowSelection"),i=this.gos.get("isRowSelectable");if(!t||!i)return;let r=this.gos.get("groupSelectsChildren"),n="clientSide"===this.rowModel.getType()&&r,o=[],s=t=>{if(e&&!t.group)return;if(n&&t.group){let e=t.childrenAfterGroup.some(e=>!0===e.selectable);t.setRowSelectable(e,!0);return}let r=!i||i(t);t.setRowSelectable(r,!0),!r&&t.isSelected()&&o.push(t)};n?new Y1(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(s,!0,!0):this.rowModel.forEachNode(s),o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),n&&this.selectionService instanceof qR&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};HW([zR("rowModel")],qq.prototype,"rowModel",2),HW([zR("selectionService")],qq.prototype,"selectionService",2),HW([zE],qq.prototype,"init",1),qq=HW([zM("selectableService")],qq);var qX=class extends jH{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate());let{btFirst:t,btPrevious:i,btNext:r,btLast:n,pageSizeComp:o}=this;this.activateTabIndex([t,i,r,n]),t.insertAdjacentElement("afterbegin",jy(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",jy(e?"next":"previous",this.gos)),r.insertAdjacentElement("afterbegin",jy(e?"previous":"next",this.gos)),n.insertAdjacentElement("afterbegin",jy(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){let e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,Wc.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:i}=e;this.addManagedListener(t,"click",i),this.addManagedListener(t,"keydown",e=>{(e.key===jw.ENTER||e.key===jw.SPACE)&&(e.preventDefault(),i())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){let e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage();this.lbCurrent.textContent=this.formatNumber(e?t+1:0)}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});let i=this.localeService.getLocaleTextFunc();return UA(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){let e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),r=e("of","of"),n=e("firstPage","First Page"),o=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${l}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${r}</span>
                    <span id="ag-${l}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${r}</span>
                        <span id="ag-${l}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){let e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let r=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===i-1||r,this.lastButtonDisabled=!t||r||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){WJ(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){let e,t,i=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?e=t=0:(t=(e=r*i+1)+r-1,n&&t>o&&(t=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(e),this.rowNodeBlockLoader.isLoading()){let e=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=e("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(t)}isZeroPagesToDisplay(){let e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t}setTotalLabels(){let e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(1===i){let e=this.paginationProxy.getRow(0);if(e&&e.group&&!(e.groupData||e.aggData))return void this.setTotalLabelsToZero()}if(e)this.lbTotal.textContent=this.formatNumber(t),this.lbRecordCount.textContent=this.formatNumber(i);else{let e=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=e,this.lbRecordCount.innerHTML=e}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};HW([zR("paginationProxy")],qX.prototype,"paginationProxy",2),HW([zR("rowNodeBlockLoader")],qX.prototype,"rowNodeBlockLoader",2),HW([jz("btFirst")],qX.prototype,"btFirst",2),HW([jz("btPrevious")],qX.prototype,"btPrevious",2),HW([jz("btNext")],qX.prototype,"btNext",2),HW([jz("btLast")],qX.prototype,"btLast",2),HW([jz("lbRecordCount")],qX.prototype,"lbRecordCount",2),HW([jz("lbFirstRowOnPage")],qX.prototype,"lbFirstRowOnPage",2),HW([jz("lbLastRowOnPage")],qX.prototype,"lbLastRowOnPage",2),HW([jz("lbCurrent")],qX.prototype,"lbCurrent",2),HW([jz("lbTotal")],qX.prototype,"lbTotal",2),HW([jz("pageSizeComp")],qX.prototype,"pageSizeComp",2),HW([zE],qX.prototype,"postConstruct",1);var qZ=class e extends jH{constructor(){super(e.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(e,t){let i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new KP(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i){this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(e=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(e.getGui()),this.activeOverlay=e,this.updateListenerDestroyFunc=i,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var e;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),null==(e=this.updateListenerDestroyFunc)||e.call(this),U0(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};qZ.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`,HW([zR("overlayService")],qZ.prototype,"overlayService",2),HW([jz("eOverlayWrapper")],qZ.prototype,"eOverlayWrapper",2),HW([zE],qZ.prototype,"postConstruct",1);var qQ=class extends Wl{getFirstRow(){let e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}getLastRow(){let e,t=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),r=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):r&&(t="top",e=r-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||(!e||!!t)&&(!!e||!t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(HK(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}};HW([zR("rowModel")],qQ.prototype,"rowModel",2),HW([zR("pinnedRowModel")],qQ.prototype,"pinnedRowModel",2),HW([zR("paginationProxy")],qQ.prototype,"paginationProxy",2),qQ=HW([zM("rowPositionUtils")],qQ);var qJ=class extends Wl{createId(e){let{rowIndex:t,rowPinned:i,column:r}=e;return this.createIdFromValues({rowIndex:t,column:r,rowPinned:i})}createIdFromValues(e){let{rowIndex:t,rowPinned:i,column:r}=e;return`${t}.${null==i?"null":i}.${r.getId()}`}equals(e,t){let i=e.column===t.column,r=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return i&&r&&n}};qJ=HW([zM("cellPositionUtils")],qJ);var q0=class{constructor(e){this.cellValueChanges=e}},q1=class extends q0{constructor(e,t,i,r){super(e),this.initialRange=t,this.finalRange=i,this.ranges=r}},q2=class e{constructor(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};q2.DEFAULT_STACK_SIZE=10;var q5=class extends Wl{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),r=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||r||this.isPasting||this.isRangeInAction))return;let{rowPinned:n,rowIndex:o,column:s,oldValue:a,value:l}=e,u={rowPinned:n,rowIndex:o,columnId:s.getColId(),newValue:l,oldValue:a};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gos.get("undoRedoCellEditing"))return;let e=this.gos.get("undoRedoCellEditingLimit");e<=0||(this.undoStack=new q2(e),this.redoStack=new q2(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,Wc.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Wc.EVENT_MODEL_UPDATED,e=>{e.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Wc.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){let t={type:Wc.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);let i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),r={type:Wc.EVENT_UNDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(r)}redo(e){let t={type:Wc.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);let i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),r={type:Wc.EVENT_REDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(r)}undoRedo(e,t,i,r,n){if(!e)return!1;let o=e.pop();return!!o&&!!o.cellValueChanges&&(this.processAction(o,e=>e[r],n),o instanceof q1?this.processRange(this.rangeService,o.ranges||[o[i]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,i){e.cellValueChanges.forEach(e=>{let{rowIndex:r,rowPinned:n,columnId:o}=e,s=this.rowPositionUtils.getRowNode({rowIndex:r,rowPinned:n});s.displayed&&s.setDataValue(o,t(e),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((r,n)=>{if(!r)return;let o=r.startRow,s=r.endRow;n===t.length-1&&(i={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(i));let a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:r.startColumn,columns:r.columns};e.addCellRange(a)})}processCell(e){let t=e[0],{rowIndex:i,rowPinned:r}=t,n=this.rowPositionUtils.getRowNode({rowIndex:i,rowPinned:r}),o={rowPinned:t.rowPinned,rowIndex:n.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){let{rowIndex:i,columnId:r,rowPinned:n}=e,o=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getGridColumn(r);if(!s)return;o.ensureIndexVisible(i),o.ensureColumnVisible(s);let a={rowIndex:i,column:s,rowPinned:n};this.focusService.setFocusedCell(Hk(HH({},a),HF({forceBrowserFocus:!0}))),null==t||t.setRangeToCell(a)}addRowEditingListeners(){this.addManagedListener(this.eventService,Wc.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,Wc.EVENT_ROW_EDITING_STOPPED,()=>{let e=new q0(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,Wc.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,Wc.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let e=new q0(this.cellValueChanges);this.pushActionsToUndoStack(e)}})}addPasteListeners(){this.addManagedListener(this.eventService,Wc.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,Wc.EVENT_PASTE_END,()=>{let e=new q0(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,Wc.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,Wc.EVENT_FILL_END,e=>{let t=new q1(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,Wc.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,Wc.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;e=this.rangeService&&this.gos.get("enableRangeSelection")?new q1(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new q0(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};HW([zR("focusService")],q5.prototype,"focusService",2),HW([zR("ctrlsService")],q5.prototype,"ctrlsService",2),HW([zR("cellPositionUtils")],q5.prototype,"cellPositionUtils",2),HW([zR("rowPositionUtils")],q5.prototype,"rowPositionUtils",2),HW([zR("columnModel")],q5.prototype,"columnModel",2),HW([zD("rangeService")],q5.prototype,"rangeService",2),HW([zE],q5.prototype,"init",1),q5=HW([zM("undoRedoService")],q5);var q3=class extends Wl{findHeader(e,t){let i,r;if(e.column instanceof Wh?i=this.columnModel.getDisplayedGroupAtDirection(e.column,t):(r=`getDisplayedCol${t}`,i=this.columnModel[r](e.column)),!i)return;let{headerRowIndex:n}=e;if("filter"!==this.getHeaderRowType(n)){let e=[i];for(;i.getParent();)e.push(i=i.getParent());i=e[e.length-1-n]}let{column:o,headerRowIndex:s}=this.getHeaderIndexToFocus(i,n);return{column:o,headerRowIndex:s}}getHeaderIndexToFocus(e,t){let i;if(e instanceof Wh&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){let r=i=e.getLeafColumns()[0];for(;r!==e;)t++,r=r.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some(e=>e.isSpanHeaderHeight())}getColumnVisibleParent(e,t){let i=this.getHeaderRowType(t),r="filter"===i?e:e.getParent(),n=t-1,o=n;if("column"===i&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;r&&r.isPadding();)r=r.getParent(),n--;o=n,n<0&&(r=e,n=t,o=void 0)}return{column:r,headerRowIndex:n,headerRowIndexWithoutSpan:o}}getColumnVisibleChild(e,t,i="After"){let r=this.getHeaderRowType(t),n=e,o=t+1,s=o;if("group"===r){let t=e.getDisplayedLeafColumns(),r="After"===i?t[0]:zW(t),s=[],a=r;for(;a.getParent()!==e;)a=a.getParent(),s.push(a);if(n=r,r.isSpanHeaderHeight())for(let e=s.length-1;e>=0;e--){let t=s[e];if(!t.isPadding()){n=t;break}o++}else(n=zW(s))||(n=r)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:s}}getHeaderRowType(e){let t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){let i=this.columnModel.getAllDisplayedColumns(),r=i["start"===t?0:i.length-1];if(!r)return;let n=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()).getRowType(e);if("group"==n){let t=this.columnModel.getColumnGroupAtLevel(r,e);return{headerRowIndex:e,column:t}}return{headerRowIndex:null==n?-1:e,column:r}}};HW([zR("columnModel")],q3.prototype,"columnModel",2),HW([zR("ctrlsService")],q3.prototype,"ctrlsService",2),q3=HW([zM("headerPositionUtils")],q3);var q4=class{buildColumnDefs(e,t,i){let r=[],n={};return e.forEach(e=>{let o=this.createDefFromColumn(e,t,i),s=!0,a=o,l=e.getOriginalParent(),u=null;for(;l;){let e=null;if(l.isPadding()){l=l.getOriginalParent();continue}let t=n[l.getGroupId()];if(t){t.children.push(a),s=!1;break}if((e=this.createDefFromGroup(l))&&(e.children=[a],n[e.groupId]=e,a=e,l=l.getOriginalParent()),null!=l&&u===l){s=!1;break}u=l}s&&r.push(a)}),r}createDefFromGroup(e){let t=H9(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){let r=H9(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?i.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=!e.isVisible()||void 0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,r}};q4=HW([zM("columnDefFactory")],q4);var q6=class{getInitialRowClasses(e){let t=[];return HK(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),z5(t,this.processClassesFromGridOptions(e.rowNode)),z5(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){let t=[],i=e=>{"string"==typeof e?t.push(e):Array.isArray(e)&&e.forEach(e=>t.push(e))},r=this.gos.get("rowClass");if(r){if("function"==typeof r)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(r)}let n=this.gos.getCallback("getRowClass");return n&&i(n({data:e.data,node:e,rowIndex:e.rowIndex})),t}preProcessRowClassRules(e){let t=[];return this.processRowClassRules(e,e=>{t.push(e)},e=>{}),t}processRowClassRules(e,t,i){let r=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),r,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};HW([zR("stylingService")],q6.prototype,"stylingService",2),HW([zR("gridOptionsService")],q6.prototype,"gos",2),q6=HW([zM("rowCssClassCalculator")],q6);var q8=class extends Wl{init(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup())}doFullSort(e,t){let i=e.map((e,t)=>({currentPos:t,rowNode:e}));return i.sort(this.compareRowNodes.bind(this,t)),i.map(e=>e.rowNode)}compareRowNodes(e,t,i){let r=t.rowNode,n=i.rowNode;for(let t=0,i=e.length;t<i;t++){let i,o=e[t],s="desc"===o.sort,a=this.getValue(r,o.column),l=this.getValue(n,o.column),u=this.getComparator(o,r);if(!isNaN(i=u?u(a,l,r,n,s):jP.defaultComparator(a,l,this.isAccentedSort))&&0!==i)return"asc"===o.sort?i:-1*i}return t.currentPos-i.currentPos}getComparator(e,t){let i=e.column,r=i.getColDef().comparator;if(null!=r)return r;if(!i.getColDef().showRowGroup)return;let n=!t.group&&i.getColDef().field;if(!n)return;let o=this.columnModel.getPrimaryColumn(n);if(o)return o.getColDef().comparator}getValue(e,t){var i,r;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){let r=null==(i=e.allLeafChildren)?void 0:i[0];return r?this.valueService.getValue(t,r,!1,!1):void 0}let n=this.columnModel.getGroupDisplayColumnForGroup(t.getId());if(!n)return;return null==(r=e.groupData)?void 0:r[n.getId()]}if(!e.group||!t.getColDef().showRowGroup)return this.valueService.getValue(t,e,!1,!1)}};HW([zR("valueService")],q8.prototype,"valueService",2),HW([zR("columnModel")],q8.prototype,"columnModel",2),HW([zE],q8.prototype,"init",1),q8=HW([zM("rowNodeSorter")],q8);var q9=class extends Wl{constructor(){super(...arguments),this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){let e=this.params;this.ready=null!=e.gridCtrl&&null!=e.gridBodyCtrl&&null!=e.center&&null!=e.left&&null!=e.right&&null!=e.bottomCenter&&null!=e.bottomLeft&&null!=e.bottomRight&&null!=e.topCenter&&null!=e.topLeft&&null!=e.topRight&&null!=e.stickyTopCenter&&null!=e.stickyTopLeft&&null!=e.stickyTopRight&&null!=e.stickyBottomCenter&&null!=e.stickyBottomLeft&&null!=e.stickyBottomRight&&null!=e.centerHeader&&null!=e.leftHeader&&null!=e.rightHeader&&null!=e.fakeHScrollComp&&null!=e.fakeVScrollComp&&null!=e.gridHeaderCtrl,this.ready&&(this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0)}whenReady(e){this.ready?e(this.params):this.readyCallbacks.push(e)}register(e,t){this.params[e]=t,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.params.leftHeader=e;break;case"right":this.params.rightHeader=e;break;default:this.params.centerHeader=e}this.checkReady()}get(e){return this.params[e]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.params.leftHeader,this.params.rightHeader,this.params.centerHeader]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.params.leftHeader;case"right":return this.params.rightHeader;default:return this.params.centerHeader}}};q9.NAME="ctrlsService",q9=HW([zM(q9.NAME)],q9);var q7=class extends Wl{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){let t=this.registry[e];if(null!=t)return new t}};q7=HW([zM("ctrlsFactory")],q7);var Xe=class extends jH{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,Wc.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Up()||Ug())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=US(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui();["mouseenter","mousedown","touchstart"].forEach(t=>this.addManagedListener(e,t,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),["mouseleave","touchend"].forEach(t=>this.addManagedListener(e,t,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,Wc.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,Wc.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){let t=this.getViewport();zy(()=>U5(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};HW([jz("eViewport")],Xe.prototype,"eViewport",2),HW([jz("eContainer")],Xe.prototype,"eContainer",2),HW([zR("scrollVisibleService")],Xe.prototype,"scrollVisibleService",2),HW([zR("ctrlsService")],Xe.prototype,"ctrlsService",2),HW([zR("animationFrameService")],Xe.prototype,"animationFrameService",2);var Xt=class e extends Xe{constructor(){super(e.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new K3(e=>this.eContainer.style.width=`${e}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,r=this.gos.getScrollbarWidth();i&&(t+=r),ji(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let n=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(n+=r),ji(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=r)}setScrollVisible(){let e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),r=e&&this.gos.getScrollbarWidth()||0,n=i?0:0===r&&t?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),jn(this.getGui(),n),jn(this.eViewport,n),jn(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return UQ(this.getViewport(),this.enableRtl)}setScrollPosition(e){U5(this.getViewport())||this.attemptSettingScrollPosition(e),UJ(this.getViewport(),e,this.enableRtl)}};Xt.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,HW([jz("eLeftSpacer")],Xt.prototype,"eLeftSpacer",2),HW([jz("eRightSpacer")],Xt.prototype,"eRightSpacer",2),HW([zR("columnModel")],Xt.prototype,"columnModel",2),HW([zR("pinnedRowModel")],Xt.prototype,"pinnedRowModel",2),HW([zE],Xt.prototype,"postConstruct",1);var Xi=class extends Wl{postConstruct(){let e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let e=this.gos.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:Wc.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:Wc.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};HW([zR("columnModel")],Xi.prototype,"columnModel",2),HW([zE],Xi.prototype,"postConstruct",1),Xi=HW([zM("pinnedWidthService")],Xi);var Xr=class extends Wl{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(e);this.events.push(e);let i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(e=>this.eventService.dispatchEvent(e)),this.events=[]};t?i():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}};HW([zR("animationFrameService")],Xr.prototype,"animationFrameService",2),HW([zR("rowModel")],Xr.prototype,"rowModel",2),HW([zE],Xr.prototype,"postConstruct",1),Xr=HW([zM("rowNodeEventThrottle")],Xr);var Xn=(e,t)=>{var i;return(null!=(i=t.rowModelType)?i:"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},Xo={objectName:"colDef",allProperties:["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","cellDataType","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellAriaRole","cellEditorPopupPosition","headerGroupComponent","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellEditor","cellEditorParams","filterParams","pivotValueColumn","headerComponent","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","tooltipComponentParams","refData","columnsMenuParams","columnChooserParams","children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex","suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","suppressStickyLabel","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","showDisabledCheckboxes","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly","suppressMenu","suppressHeaderMenuButton","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle","wrapHeaderText","autoHeaderHeight","dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","valueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","cellRendererSelector","cellEditorSelector","suppressSpanHeaderHeight","useValueFormatterForExport","useValueParserForImport","mainMenuItems","contextMenuItems","suppressFloatingFilterButton","suppressHeaderFilterButton","suppressHeaderContextMenu","loadingCellRenderer","loadingCellRendererParams","loadingCellRendererSelector"],docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},validations:{enableRowGroup:Xn,rowGroup:Xn,rowGroupIndex:Xn,enablePivot:Xn,enableValue:Xn,pivot:Xn,pivotIndex:Xn,aggFunc:Xn,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var t;let i=["columnsMenuTab","generalMenuTab"];return(null==(t=e.menuTabs)?void 0:t.some(e=>i.includes(e)))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Xo}},Xs={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1},Xa={objectName:"gridOptions",allProperties:[...Wk.ALL_PROPERTIES,...WN.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{var t;let i=null!=(t=e.rowModelType)?t:"clientSide";switch(i){case"clientSide":let r=`treeData requires 'getDataPath' in the ${i} row model.`;return e.getDataPath?null:r;case"serverSide":let n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:n}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{var t;switch(null!=(t=e.rowModelType)?t:"clientSide"){case"clientSide":break;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>Xo,defaultColDef:()=>Xo,defaultColGroupDef:()=>Xo,autoGroupColumnDef:()=>Xo}},Xl=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new zL,this.globalEventHandlerFactory=e=>(t,i)=>{if(this.destroyed)return;let r=Wp.has(t);if(r&&!e||!r&&e)return;let n=WN.getCallbackForEvent(t),o=this.gridOptions[n];"function"==typeof o&&this.frameworkOverrides.wrapOutgoing(()=>{o(i)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new qD(this.api);let e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(e){var t;return null!=(t=this.gridOptions[e])?t:Xs[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return HK(this.gridOptions[e])}mergeGridCommonParams(e){return e?t=>(t.api=this.api,t.columnApi=this.columnApi,t.context=this.context,e(t)):e}static toBoolean(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)}static toNumber(e){if("number"==typeof e)return e;if("string"==typeof e){let t=parseInt(e);if(isNaN(t))return;return t}}static toConstrainedNum(e,t){return i=>{let r=Xl.toNumber(i);if(null!=r&&!(r<e)&&!(r>t))return r}}static getCoercedValue(e,t){let i=Xl.PROPERTY_COERCIONS.get(e);return i?i(t):t}static getCoercedGridOptions(e){let t={};return Object.entries(e).forEach(([e,i])=>{let r=Xl.getCoercedValue(e,i);t[e]=r}),t}updateGridOptions({options:e,force:t,source:i="api"}){let r={id:Xl.changeSetId++,properties:[]},n=[];Object.entries(e).forEach(([e,o])=>{"api"===i&&WL[e]&&za(`${e} is an initial property and cannot be updated.`);let s=Xl.getCoercedValue(e,o),a=t||"object"==typeof s&&"api"===i,l=this.gridOptions[e];(a||l!==s)&&(this.gridOptions[e]=s,n.push({type:e,currentValue:s,previousValue:l,changeSet:r,source:i}))}),this.validationService.processGridOptions(this.gridOptions),r.properties=n.map(e=>e.type),n.forEach(e=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${e.type} from `,e.previousValue," to  ",e.currentValue),this.propertyEventService.dispatchEvent(e)})}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getScrollbarWidth(){if(null==this.scrollbarWidth){let e="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Uw();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:Wc.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&HY(this.gridOptions.rowModelType)}isDomLayout(e){var t;return(null!=(t=this.gridOptions.domLayout)?t:"normal")===e}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(e,t=!1,i){if(null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:i,estimated:!0};let r={node:e,data:e.data},n=this.getCallback("getRowHeight")(r);if(this.isNumeric(n))return 0===n&&za("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,n),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||HY(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();let e=this.environment.refreshRowHeightVariable();return -1!==e?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){let i=e[this.getDomDataKey()];return i?i[t]:void 0}setDomData(e,t,i){let r=this.getDomDataKey(),n=e[r];HY(n)&&(n={},e[r]=n),n[t]=i}getDocument(){let e=null;return(this.gridOptions.getDocument&&HK(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&HK(e))?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}getAsyncTransactionWaitMillis(){return HK(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){let e=this.gridOptions.autoGroupColumnDef;return!(null==e?void 0:e.comparator)&&!this.get("treeData")}getGroupAggFiltering(){let e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.getCallback("groupAggFiltering"):!0===e?()=>!0:void 0}getGrandTotalRow(){let e=this.gridOptions.grandTotalRow;return e||(this.gridOptions.groupIncludeTotalFooter?"bottom":void 0)}getGroupTotalRowCallback(){let e=this.get("groupTotalRow");if("function"==typeof e)return this.getCallback("groupTotalRow");if(e)return()=>e;let t=this.get("groupIncludeFooter");if("function"==typeof t){let e=this.getCallback("groupIncludeFooter");return t=>e(t)?"bottom":void 0}return()=>t?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return!e&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(e){return e.api=this.api,e.columnApi=this.columnApi,e.context=this.context,e}};Xl.PROPERTY_COERCIONS=new Map([...Wk.BOOLEAN_PROPERTIES.map(e=>[e,Xl.toBoolean]),...Wk.NUMBER_PROPERTIES.map(e=>[e,Xl.toNumber]),["groupAggFiltering",e=>"function"==typeof e?e:Xl.toBoolean(e)],["pageSize",Xl.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",Xl.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",Xl.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",Xl.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",Xl.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",Xl.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",Xl.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",Xl.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",Xl.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",Xl.toConstrainedNum(0,Number.MAX_VALUE)]]),Xl.changeSetId=0,HW([zR("gridOptions")],Xl.prototype,"gridOptions",2),HW([zR("eventService")],Xl.prototype,"eventService",2),HW([zR("environment")],Xl.prototype,"environment",2),HW([zR("frameworkOverrides")],Xl.prototype,"frameworkOverrides",2),HW([zR("eGridDiv")],Xl.prototype,"eGridDiv",2),HW([zR("validationService")],Xl.prototype,"validationService",2),HW([zR("gridApi")],Xl.prototype,"api",2),HW([zE],Xl.prototype,"init",1),HW([zT],Xl.prototype,"destroy",1),Xl=HW([zM("gridOptionsService")],Xl);var Xu=class extends Wl{getLocaleTextFunc(){let e=this.gos.getCallback("getLocaleText");if(e)return(t,i,r)=>e({key:t,defaultValue:i,variableValues:r});let t=this.gos.get("localeText");return(e,i,r)=>{let n=t&&t[e];if(n&&r&&r.length){let e=0;for(;!(e>=r.length)&&-1!==n.indexOf("${variable}");)n=n.replace("${variable}",r[e++])}return null!=n?n:i}}};Xu=HW([zM("localeService")],Xu);var Xd=class e extends Xe{constructor(){super(e.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new K2(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedListener(this.eventService,Wc.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){let e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.gos.getScrollbarWidth()||0,r=0===i&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ji(this.getGui(),r),ji(this.eViewport,r),ji(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){let{ctrlsService:e}=this,t=e.getGridBodyCtrl().getBodyViewportElement(),i=this.getScrollPosition(),r=t.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,t){t||U5(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};Xd.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,HW([zE],Xd.prototype,"postConstruct",1);var Xh={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Xc=["january","february","march","april","may","june","july","august","september","october","november","december"],Xp=class extends Wl{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(WA(e.source))})}processDataTypeDefinitions(){var e;let t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([e,t])=>{this.dataTypeDefinitions[e]=Hk(HH({},t),HF({groupSafeValueFormatter:this.createGroupSafeValueFormatter(t)}))});let i=null!=(e=this.gos.get("dataTypeDefinitions"))?e:{};this.dataTypeMatchers={},Object.entries(i).forEach(([e,r])=>{let n=this.processDataTypeDefinition(r,i,[e],t);n&&(this.dataTypeDefinitions[e]=n,r.dataTypeMatcher&&(this.dataTypeMatchers[e]=r.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(e=>{let i=this.dataTypeMatchers[e];i&&delete this.dataTypeMatchers[e],this.dataTypeMatchers[e]=null!=i?i:t[e].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){let i=HH(HH({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,r){let n,o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let i=r[o],s=t[o];if(i&&s&&(i=s),!this.validateDataTypeDefinition(e,i,o))return;n=this.mergeDataTypeDefinitions(i,e)}else{if(i.includes(o))return void za('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');let s=t[o];if(!this.validateDataTypeDefinition(e,s,o))return;let a=this.processDataTypeDefinition(s,t,[...i,o],r);if(!a)return;n=this.mergeDataTypeDefinitions(a,e)}return Hk(HH({},n),HF({groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)}))}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||(za('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(za(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,r;if(null==(i=t.node)?void 0:i.group){let i=t.column.getAggFunc();if(i){if("first"===i||"last"===i)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==i){if("number"==typeof t.value)return e.valueFormatter(t);if("object"==typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(Hk(HH({},t),HF({value:t.value.toNumber()})));if("value"in t.value)return e.valueFormatter(Hk(HH({},t),HF({value:t.value.value})))}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if("string"!=typeof t.value||(null==(r=e.dataTypeMatcher)?void 0:r.call(e,t.value)))return e.valueFormatter(t);if(!this.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,i){let{cellDataType:r}=t,{field:n}=t;if(void 0===r&&(r=e.cellDataType),(null==r||!0===r)&&(r=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(n,i)),!r){e.cellDataType=!1;return}let o=this.dataTypeDefinitions[r];return o?(e.cellDataType=r,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,o,i),o.columnTypes):void za(`Missing data type definition - "${r}"`)}updateColDefAndGetColumnType(e,t,i){var r,n;let o=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,i),s=null!=(n=null!=(r=t.type)?r:o)?n:e.type;return e.type=s,s?this.convertColumnTypes(s):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let i=e=>{t.add(e.key)};e.addEventListener(zO.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(zO.EVENT_STATE_UPDATED,i))}canInferCellDataType(e,t){var i;if("clientSide"!==this.rowModel.getType())return!1;let r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,r))return!1;let n=null===t.type?e.type:t.type;if(n){let e=null!=(i=this.gos.get("columnTypes"))?i:{};if(this.convertColumnTypes(n).some(t=>{let i=e[t.trim()];return i&&this.doColDefPropsPreventInference(i,r)}))return!1}return!this.doColDefPropsPreventInference(e,r)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,r])=>this.doesColDefPropPreventInference(e,t,i,r))}doesColDefPropPreventInference(e,t,i,r){if(!t[i])return!1;let n=e[i];return null===n?(t[i]=!1,!1):void 0===r?!!n:n===r}inferCellDataType(e,t){var i;let r;if(!e)return;let n=this.getInitialData();if(n){let t=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");r=zt(n,e,t)}else this.initWaitForRowData(t);if(null==r)return;let[o]=null!=(i=Object.entries(this.dataTypeMatchers).find(([e,t])=>t(r)))?i:["object"];return o}getInitialData(){let e=this.gos.get("rowData");if(null==e?void 0:e.length)return e[0];{if(this.initialData)return this.initialData;let e=this.rowModel.getRootNode().allLeafChildren;if(null==e?void 0:e.length)return e[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();let i=this.addManagedListener(this.eventService,Wc.EVENT_ROW_DATA_UPDATE_STARTED,e=>{let{firstRowData:r}=e;if(!r)return;null==i||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations();let n={type:Wc.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(n)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;let i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[];let r={},n={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([e,o])=>{let s=this.columnModel.getGridColumn(e);if(!s)return;let a=s.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(s,"cellDataTypeInferred"))return;let l=s.getColDef();if(t&&l.type&&l.type!==a.type){let t=this.getUpdatedColumnState(s,o);t.rowGroup&&null==t.rowGroupIndex&&(r[e]=t),t.pivot&&null==t.pivotIndex&&(n[e]=t),i.push(t)}}),t&&i.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(r,n)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){let i=this.columnModel.getColumnStateFromColDef(e);return t.forEach(e=>{delete i[e],"rowGroup"===e?delete i.rowGroupIndex:"pivot"===e&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){let t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(e=>"string"!=typeof e)?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:"string"==typeof e?t=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(e){var t;return e&&null!=(t=this.getDataTypeDefinition(e))?t:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return null==(t=this.getDataTypeDefinition(e))?void 0:t.baseDataType}checkType(e,t){var i;if(null==t)return!0;let r=null==(i=this.getDataTypeDefinition(e))?void 0:i.dataTypeMatcher;return!r||r(t)}validateColDef(e){"object"===e.cellDataType&&(e.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||za('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&za('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(e,t,i){let r=(e,i,r)=>{let n=e.getColDef().valueFormatter;return n===t.groupSafeValueFormatter&&(n=t.valueFormatter),this.valueService.formatValue(e,i,r,n)},n=zS.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),o=this.localeService.getLocaleTextFunc(),s=t=>{let{filterParams:i}=e;e.filterParams="object"==typeof i?HH(HH({},i),t):t};switch(t.baseDataType){case"number":e.cellEditor="agNumberCellEditor",n&&s({comparator:(e,t)=>{let i=null==e?0:parseInt(e),r=null==t?0:parseInt(t);return i===r?0:i>r?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=e=>!!e.colDef.editable&&e.event.key===jw.SPACE,s(n?{valueFormatter:e=>HK(e.value)?o(String(e.value),e.value?"True":"False"):o("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>!1===t,numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=e=>r(e.column,e.node,e.value),n&&s({valueFormatter:e=>{let t=r(e.column,e.node,e.value);return HK(t)?t:o("blanks","(Blanks)")},treeList:!0,treeListFormatter:(e,t)=>{if(1===t&&null!=e){let t=Xc[Number(e)-1];return o(t,Xh[t])}return null!=e?e:o("blanks","(Blanks)")}});break;case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=e=>r(e.column,e.node,e.value);let i=t.dateParser;s(n?{valueFormatter:e=>{let t=r(e.column,e.node,e.value);return HK(t)?t:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:e=>{let t=i(null!=e?e:void 0);return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},treeListFormatter:(e,t)=>{if(1===t&&null!=e){let t=Xc[Number(e)-1];return o(t,Xh[t])}return null!=e?e:o("blanks","(Blanks)")}}:{comparator:(e,t)=>{let r=i(t);return null==t||r<e?-1:+(r>e)}});break}case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(e,t)=>{let n=this.columnModel.getPrimaryColumn(i),o=null==n?void 0:n.getColDef();if(!n||!o)return 0;let s=null==e?"":r(n,null,e),a=null==t?"":r(n,null,t);return s===a?0:s>a?1:-1},e.keyCreator=e=>r(e.column,e.node,e.value),n?s({valueFormatter:e=>{let t=r(e.column,e.node,e.value);return HK(t)?t:o("blanks","(Blanks)")}}):e.filterValueGetter=e=>r(e.column,e.node,this.valueService.getValue(e.column,e.node))}}getDefaultDataTypes(){let e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:e=>{var t,i;return(null==(i=null==(t=e.newValue)?void 0:t.trim)?void 0:i.call(t))===""?null:Number(e.newValue)},valueFormatter:t=>null==t.value?"":"number"!=typeof t.value||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:e=>"number"==typeof e},text:{baseDataType:"text",valueParser:e=>""===e.newValue?null:HX(e.newValue),dataTypeMatcher:e=>"string"==typeof e},boolean:{baseDataType:"boolean",valueParser:e=>{var t,i;return null==e.newValue?e.newValue:(null==(i=null==(t=e.newValue)?void 0:t.trim)?void 0:i.call(t))===""?null:"true"===String(e.newValue).toLowerCase()},valueFormatter:e=>null==e.value?"":String(e.value),dataTypeMatcher:e=>"boolean"==typeof e},date:{baseDataType:"date",valueParser:e=>UN(null==e.newValue?null:String(e.newValue)),valueFormatter:t=>{var i;return null==t.value?"":!(t.value instanceof Date)||isNaN(t.value.getTime())?e("invalidDate","Invalid Date"):null!=(i=UP(t.value,!1))?i:""},dataTypeMatcher:e=>e instanceof Date},dateString:{baseDataType:"dateString",dateParser:e=>{var t;return null!=(t=UN(e))?t:void 0},dateFormatter:e=>{var t;return null!=(t=UP(null!=e?e:null,!1))?t:void 0},valueParser:e=>String(e.newValue).match("^\\d{4}-\\d{2}-\\d{2}$")?e.newValue:null,valueFormatter:e=>String(e.value).match("^\\d{4}-\\d{2}-\\d{2}$")?e.value:"",dataTypeMatcher:e=>"string"==typeof e&&!!e.match("^\\d{4}-\\d{2}-\\d{2}$")},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:e=>{var t;return null!=(t=HX(e.value))?t:""}}}}};HW([zR("rowModel")],Xp.prototype,"rowModel",2),HW([zR("columnModel")],Xp.prototype,"columnModel",2),HW([zR("valueService")],Xp.prototype,"valueService",2),HW([zE],Xp.prototype,"init",1),Xp=HW([zM("dataTypeService")],Xp);var Xg=class extends Wl{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(null!=e?e:[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();let e=zS.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new qL("AG Grid",()=>this.gos.get("debug")).log(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){let e={type:Wc.EVENT_GRID_READY};this.eventService.dispatchEvent(e)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,WA(e.source))}}};HW([zR("ctrlsService")],Xg.prototype,"ctrlsService",2),HW([zR("columnModel")],Xg.prototype,"columnModel",2),HW([zR("rowModel")],Xg.prototype,"rowModel",2),HW([zE],Xg.prototype,"postConstruct",1),Xg=HW([zM("syncService")],Xg);var Xf=class extends Wl{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,Wc.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,(!this.gos.get("columnDefs")||this.gos.isRowModelType("clientSide")&&!this.gos.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gos.get("suppressLoadingOverlay"))return;let e=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(e,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gos.get("suppressNoRowsOverlay"))return;let e=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(e,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(e,t,i){let r=e.newAgStackInstance(),n=this.addManagedPropertyListener(i,({currentValue:e})=>{r.then(t=>{t.refresh&&t.refresh(this.gos.addGridCommonParams(HH({},null!=e?e:{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(r,t,n)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){let e=this.paginationProxy.isEmpty(),t=this.gos.get("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()}};HW([zR("userComponentFactory")],Xf.prototype,"userComponentFactory",2),HW([zR("paginationProxy")],Xf.prototype,"paginationProxy",2),HW([zR("columnModel")],Xf.prototype,"columnModel",2),HW([zE],Xf.prototype,"postConstruct",1),Xf=HW([zM("overlayService")],Xf);var Xm=class extends Wl{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=zm(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=zm(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=zm(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var e;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!=(e=this.gos.get("initialState"))?e:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));let t=this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,({source:e})=>{"gridInitializing"===e&&(null==t||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),i=this.addManagedListener(this.eventService,Wc.EVENT_ROW_COUNT_READY,()=>{null==i||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),r=this.addManagedListener(this.eventService,Wc.EVENT_FIRST_DATA_RENDERED,()=>{null==r||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,Wc.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,Wc.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var e;let t=null!=(e=this.gos.get("initialState"))?e:{};this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,Wc.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var e;let{filter:t,rowGroupExpansion:i,rowSelection:r,pagination:n}=null!=(e=this.gos.get("initialState"))?e:{},o=this.gos.get("advancedFilterModel");(t||o)&&this.setFilterState(t,o),i&&this.setRowGroupExpansionState(i),r&&this.setRowSelectionState(r),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,Wc.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,Wc.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,Wc.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,Wc.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,Wc.EVENT_PAGINATION_CHANGED,e=>{(e.newPage||e.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var e;let{scroll:t,rangeSelection:i,focusedCell:r,columnOrder:n}=null!=(e=this.gos.get("initialState"))?e:{};r&&this.setFocusedCellState(r),i&&this.setRangeSelectionState(i),t&&this.setScrollState(t),this.setColumnPivotState(!!(null==n?void 0:n.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,Wc.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,Wc.EVENT_RANGE_SELECTION_CHANGED,e=>{e.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,Wc.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){let e=this.columnModel.isPivotMode(),t=[],i=[],r=[],n=[],o=[],s=[],a=[],l=[],u=[],d=this.columnModel.getColumnState();for(let e=0;e<d.length;e++){let{colId:h,sort:c,sortIndex:p,rowGroup:g,rowGroupIndex:f,aggFunc:m,pivot:v,pivotIndex:y,pinned:C,hide:w,width:b,flex:S}=d[e];u.push(h),c&&(t[null!=p?p:0]={colId:h,sort:c}),g&&(i[null!=f?f:0]=h),"string"==typeof m&&r.push({colId:h,aggFunc:m}),v&&(n[null!=y?y:0]=h),C&&("right"===C?s:o).push(h),w&&a.push(h),(S||b)&&l.push({colId:h,flex:null!=S?S:void 0,width:b})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:n.length||e?{pivotMode:e,pivotColIds:n}:void 0,columnPinning:o.length||s.length?{leftColIds:o,rightColIds:s}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}setColumnState(e){let{sort:t,rowGroup:i,aggregation:r,pivot:n,columnPinning:o,columnVisibility:s,columnSizing:a,columnOrder:l}=e,u={},d=e=>{let t=u[e];return t||(t={colId:e},u[e]=t),t};t&&t.sortModel.forEach(({colId:e,sort:t},i)=>{let r=d(e);r.sort=t,r.sortIndex=i}),i&&i.groupColIds.forEach((e,t)=>{let i=d(e);i.rowGroup=!0,i.rowGroupIndex=t}),r&&r.aggregationModel.forEach(({colId:e,aggFunc:t})=>{d(e).aggFunc=t}),n&&(n.pivotColIds.forEach((e,t)=>{let i=d(e);i.pivot=!0,i.pivotIndex=t}),this.gos.updateGridOptions({options:{pivotMode:n.pivotMode},source:"gridInitializing"})),o&&(o.leftColIds.forEach(e=>{d(e).pinned="left"}),o.rightColIds.forEach(e=>{d(e).pinned="right"})),s&&s.hiddenColIds.forEach(e=>{d(e).hide=!0}),a&&a.columnSizingModel.forEach(({colId:e,flex:t,width:i})=>{let r=d(e);r.flex=null!=t?t:null,r.width=i});let h=null==l?void 0:l.orderedColIds,c=!!(null==h?void 0:h.length),p=c?h.map(e=>d(e)):Object.values(u);p.length&&(this.columnStates=p,this.columnModel.applyColumnState({state:p,applyOrder:c,defaultState:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null}},"gridInitializing"))}setColumnPivotState(e){let t=this.columnStates;this.columnStates=void 0;let i=this.columnGroupStates;if(this.columnGroupStates=void 0,this.columnModel.isSecondaryColumnsPresent()){if(t){let i=[];for(let e of t)this.columnModel.getSecondaryColumn(e.colId)&&i.push(e);this.columnModel.applyColumnState({state:i,applyOrder:e},"gridInitializing")}i&&this.columnModel.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){let e=this.columnModel.getColumnGroupState(),t=[];return e.forEach(({groupId:e,open:i})=>{i&&t.push(e)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var t;if(!e.hasOwnProperty("columnGroup"))return;let i=new Set(null==(t=e.columnGroup)?void 0:t.openColumnGroupIds),r=this.columnModel.getColumnGroupState().map(({groupId:e})=>{let t=i.has(e);return t&&i.delete(e),{groupId:e,open:t}});i.forEach(e=>{r.push({groupId:e,open:!0})}),r.length&&(this.columnGroupStates=r),this.columnModel.setColumnGroupState(r,"gridInitializing")}getFilterState(){var e;let t=this.filterManager.getFilterModel();t&&0===Object.keys(t).length&&(t=void 0);let i=null!=(e=this.filterManager.getAdvancedFilterModel())?e:void 0;return t||i?{filterModel:t,advancedFilterModel:i}:void 0}setFilterState(e,t){let{filterModel:i,advancedFilterModel:r}=null!=e?e:{advancedFilterModel:t};i&&this.filterManager.setFilterModel(i,"columnFilter"),r&&this.filterManager.setAdvancedFilterModel(r)}getRangeSelectionState(){var e;let t=null==(e=this.rangeService)?void 0:e.getCellRanges().map(e=>{let{id:t,type:i,startRow:r,endRow:n,columns:o,startColumn:s}=e;return{id:t,type:i,startRow:r,endRow:n,colIds:o.map(e=>e.getColId()),startColId:s.getColId()}});return(null==t?void 0:t.length)?{cellRanges:t}:void 0}setRangeSelectionState(e){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;let t=[];e.cellRanges.forEach(e=>{let i=[];if(e.colIds.forEach(e=>{let t=this.columnModel.getGridColumn(e);t&&i.push(t)}),!i.length)return;let r=this.columnModel.getGridColumn(e.startColId);if(!r){let e=this.columnModel.getAllDisplayedColumns(),t=new Set(i);r=e.find(e=>t.has(e))}t.push(Hk(HH({},e),HF({columns:i,startColumn:r})))}),this.rangeService.setCellRanges(t)}getScrollState(){var e,t,i;if(!this.isClientSideRowModel)return;let r=null==(e=this.ctrlsService.getGridBodyCtrl())?void 0:e.getScrollFeature(),{left:n}=null!=(t=null==r?void 0:r.getHScrollPosition())?t:{left:0},{top:o}=null!=(i=null==r?void 0:r.getVScrollPosition())?i:{top:0};return o||n?{top:o,left:n}:void 0}setScrollState(e){var t;if(!this.isClientSideRowModel)return;let{top:i,left:r}=e;null==(t=this.ctrlsService.getGridBodyCtrl())||t.getScrollFeature().setScrollPosition(i,r)}getSideBarState(){var e,t;return null==(t=null==(e=this.sideBarService)?void 0:e.getSideBarComp())?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.focusService.getFocusedCell();if(e){let{column:t,rowIndex:i,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{colId:t,rowIndex:i,rowPinned:r}=e;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(t),rowIndex:i,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){let e=this.paginationProxy.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(e||t)return{page:e,pageSize:t}}setPaginationState(e){e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),"number"==typeof e.page&&this.paginationProxy.setPage(e.page)}getRowSelectionState(){var e;let t=this.selectionService.getSelectionState();return t&&(Array.isArray(t)||!1!==t.selectAll&&!1!==t.selectAllChildren||(null==(e=null==t?void 0:t.toggledNodes)?void 0:e.length))?t:void 0}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){let e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){let t=this.getColumnState(),i=!1;Object.entries(t).forEach(([e,t])=>{H0(t,this.cachedState[e])||(i=!0)}),this.cachedState=HH(HH({},this.cachedState),t),i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let i=this.cachedState[e];this.setCachedStateValue(e,t),H0(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=Hk(HH({},this.cachedState),HF({[e]:t}))}refreshStaleState(){this.staleStateKeys.forEach(e=>{"rowSelection"===e&&this.setCachedStateValue(e,this.getRowSelectionState())}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(e=>this.queuedUpdateSources.add(e)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();let t={type:Wc.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(t)}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};HW([zR("filterManager")],Xm.prototype,"filterManager",2),HW([zR("ctrlsService")],Xm.prototype,"ctrlsService",2),HW([zR("focusService")],Xm.prototype,"focusService",2),HW([zR("columnModel")],Xm.prototype,"columnModel",2),HW([zR("paginationProxy")],Xm.prototype,"paginationProxy",2),HW([zR("rowModel")],Xm.prototype,"rowModel",2),HW([zR("selectionService")],Xm.prototype,"selectionService",2),HW([zR("expansionService")],Xm.prototype,"expansionService",2),HW([zR("columnAnimationService")],Xm.prototype,"columnAnimationService",2),HW([zD("sideBarService")],Xm.prototype,"sideBarService",2),HW([zD("rangeService")],Xm.prototype,"rangeService",2),HW([zE],Xm.prototype,"postConstruct",1),Xm=HW([zM("stateService")],Xm);var Xv=class extends Wl{init(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,Xa)}processColumnDefs(e){this.processOptions(e,Xo)}processOptions(e,t){let{validations:i,deprecations:r,allProperties:n,propertyExceptions:o,objectName:s,docsUrl:a}=t;n&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...null!=o?o:[],...Object.keys(r)],n,s,a);let l=new Set;Object.keys(e).forEach(t=>{var n;let o,s=r[t];if(s)if("renamed"in s){let{renamed:i,version:r}=s;l.add(`As of v${r}, ${String(t)} is deprecated. Please use ${String(i)} instead.`),e[i]=e[t]}else{let{message:e,version:i}=s;l.add(`As of v${i}, ${String(t)} is deprecated. ${null!=e?e:""}`)}let a=e[t];if(null==a||!1===a)return;let u=i[t];if(!u)return;if("function"==typeof u){let i=u(e,this.gridOptions);if(!i)return;if("objectName"in i){let r=e[t];return Array.isArray(r)?void r.forEach(e=>{this.processOptions(e,i)}):void this.processOptions(e[t],i)}o=i}else o=u;let{module:d,dependencies:h,supportedRowModels:c}=o;if(c){let e=null!=(n=this.gridOptions.rowModelType)?n:"clientSide";if(!c.includes(e))return void l.add(`${String(t)} is not supported with the '${e}' row model.`)}if(d){let e=Array.isArray(d)?d:[d],i=!0;if(e.forEach(e=>{zS.__assertRegistered(e,String(t),this.context.getGridId())||(i=!1,l.add(`${String(t)} is only available when ${e} is loaded.`))}),!i)return}if(h){let i=this.checkForWarning(t,h,e);if(i)return void l.add(i)}}),l.size>0&&l.forEach(e=>{za(e)})}checkForWarning(e,t,i){if("function"==typeof t)return t(i,this.gridOptions);let r=Object.entries(t).find(([e,t])=>{let r=i[e];return!t.includes(r)});if(!r)return null;let[n,o]=r;return o.length>1?`'${String(e)}' requires '${n}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${n}' to be ${o[0]}.`}checkProperties(e,t,i,r,n){let o=jp(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...i],i);if(H6(o,(e,t)=>{za(`invalid ${r} property '${e}' did you mean any of these: ${t.slice(0,8).join(", ")}`)}),Object.keys(o).length>0&&n){let e=this.getFrameworkOverrides().getDocLink(n);za(`to see all the valid ${r} properties please check: ${e}`)}}};HW([zR("gridOptions")],Xv.prototype,"gridOptions",2),HW([zE],Xv.prototype,"init",1),Xv=HW([zM("validationService")],Xv);var Xy=class extends Wl{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new zk(this.getFrameworkOverrides())}addEventListener(e,t){let i=this.frameworkEventWrappingService.wrap(t),r=this.gos.useAsyncEvents()&&!Wp.has(e),n=r?this.asyncEventListeners:this.syncEventListeners;n.has(e)||n.set(e,new Set),n.get(e).add(i),this.eventService.addEventListener(e,i,r)}removeEventListener(e,t){var i;let r=this.frameworkEventWrappingService.unwrap(t),n=this.asyncEventListeners.get(e),o=!!(null==n?void 0:n.delete(r));o||null==(i=this.syncEventListeners.get(e))||i.delete(r),this.eventService.removeEventListener(e,r,o)}addGlobalListener(e){let t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){let i=(e,i)=>{Wp.has(e)&&t(e,i)},r=(e,i)=>{Wp.has(e)||t(e,i)};this.globalEventListenerPairs.set(e,{syncListener:i,asyncListener:r}),this.eventService.addGlobalListener(i,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){let t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){let{syncListener:i,asyncListener:r}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(i,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((e,i)=>{e.forEach(e=>this.eventService.removeEventListener(i,e,t)),e.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(e=>this.eventService.removeGlobalListener(e,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}};HW([zE],Xy.prototype,"postConstruct",1),Xy=HW([zM("apiEventService")],Xy);var XC=class extends jH{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,Wc.EVENT_PAGINATION_CHANGED,e=>this.handlePaginationChanged(e))}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(null==e?void 0:e.newPageSize))return;let t=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),!e||(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){U0(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get("paginationPageSizeSelector")}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.paginationProxy.getPageSize(),i=!t||!e.includes(t);i&&(e.unshift(""),za(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);let r=this.localeService.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),o=e.map(e=>({value:String(e),text:String(e)})),s=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new j4).addOptions(o).setValue(String(i?"":t)).setAriaLabel(s).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=i}getPageSizeSelectorValues(){let e=this.gos.get("paginationPageSizeSelector");return Array.isArray(e)&&this.validateValues(e)?[...e].sort((e,t)=>e-t):[20,50,100]}validateValues(e){if(!e.length)return za(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let t=0;t<e.length;t++){let i=e[t],r="number"==typeof i,n=i>0;if(!r)return za(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!n)return za(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};HW([zR("paginationProxy")],XC.prototype,"paginationProxy",2),HW([zE],XC.prototype,"init",1);var Xw=class extends Wl{constructor(){super(),this.descriptionContainer=null,this.announceValue=zm(this.announceValue.bind(this),200)}postConstruct(){let e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),Wq(t,"polite"),WZ(t,"additions text"),WX(t,!0),this.eGridDiv.appendChild(t)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50))}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(U0(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}};HW([zR("eGridDiv")],Xw.prototype,"eGridDiv",2),HW([zE],Xw.prototype,"postConstruct",1),Xw=HW([zM("ariaAnnouncementService")],Xw);var Xb=class{};Xb.gridOptions=void 0;var XS=1,Xx=class{create(e,t,i,r,n){var o;let s={};Xb.gridOptions?(ze(s,Xb.gridOptions,!0,!0),s=HH(HH({},s),t)):s=t;let a=Xl.getCoercedGridOptions(s),l=!!a.debug,u=null!=(o=a.gridId)?o:String(XS++),d=this.getRegisteredModules(n,u),h=this.createBeansList(a.rowModelType,d,u),c=this.createProvidedBeans(e,a,n);if(!h)return void zl("Failed to create grid.");let p={providedBeanInstances:c,beanClasses:h,debug:l,gridId:u},g=new qL("Context",()=>p.debug),f=new zx(p,g),m=f.getBean("beans");return this.registerModuleUserComponents(m,d),this.registerStackComponents(m,d),this.registerControllers(m,d),i(f),m.syncService.start(),r&&r(f),f.getBean("gridApi")}registerControllers(e,t){t.forEach(t=>{t.controllers&&t.controllers.forEach(t=>e.ctrlsFactory.register(t))})}registerStackComponents(e,t){let i=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(e,t){let i=e?e.modules:null,r=zS.__getRegisteredModules(t),n=[],o={},s=(e,t,i)=>{o[t.moduleName]||(o[t.moduleName]=!0,n.push(t),zS.__register(t,e,i)),t.dependantModules&&t.dependantModules.forEach(t=>s(e,t,i))};return i&&i.forEach(e=>s(!0,e,t)),r&&r.forEach(e=>s(!zS.__isPackageBased(),e,void 0)),n}registerModuleUserComponents(e,t){this.extractModuleEntity(t,e=>e.userComponents?e.userComponents:[]).forEach(t=>{e.userComponentRegistry.registerDefaultComponent(t.componentName,t.componentClass)})}createProvidedBeans(e,t,i){let r=i?i.frameworkOverrides:null;HY(r)&&(r=new qE);let n={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:r};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n}createAgStackComponentsList(e){let t=[{componentName:"AgCheckbox",componentClass:j8},{componentName:"AgRadioButton",componentClass:j9},{componentName:"AgToggleButton",componentClass:Y8},{componentName:"AgInputTextField",componentClass:$u},{componentName:"AgInputTextArea",componentClass:Y9},{componentName:"AgInputNumberField",componentClass:$d},{componentName:"AgInputDateField",componentClass:Y7},{componentName:"AgInputRange",componentClass:qe},{componentName:"AgRichSelect",componentClass:qn},{componentName:"AgSelect",componentClass:j4},{componentName:"AgSlider",componentClass:qo},{componentName:"AgGridBody",componentClass:Yi},{componentName:"AgHeaderRoot",componentClass:YO},{componentName:"AgSortIndicator",componentClass:$S},{componentName:"AgPagination",componentClass:qX},{componentName:"AgPageSizeSelector",componentClass:XC},{componentName:"AgOverlayWrapper",componentClass:qZ},{componentName:"AgGroupComponent",componentClass:qs},{componentName:"AgRowContainer",componentClass:Yu},{componentName:"AgFakeHorizontalScroll",componentClass:Xt},{componentName:"AgFakeVerticalScroll",componentClass:Xd},{componentName:"AgAutocomplete",componentClass:qb}],i=this.extractModuleEntity(e,e=>e.agStackComponents?e.agStackComponents:[]);return t.concat(i)}createBeansList(e="clientSide",t,i){let r=t.filter(t=>!t.rowModel||t.rowModel===e),n={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!n[e])return void zl("Could not find row model for rowModelType = "+e);if(!zS.__assertRegistered(n[e],`rowModelType = '${e}'`,i))return;let o=[KW,qQ,qJ,q3,qB,KE,$4,qW,qU,YU,Km,qY,YG,Xu,Xv,YJ,Kb,WP,zL,Xl,qy,qR,KM,WD,YN,Y4,YZ,qI,Wu,qM,Yo,qH,qA,qP,Yq,YV,$G,qD,qO,Yn,qK,qT,Y6,Yr,qF,qG,qV,qq,Wm,qz,Yj,q5,WF,q4,q6,Y3,q8,q9,Xi,Xr,q7,Xp,KT,Xg,Xf,Xm,YK,Xy,Xw,YY];o.push(...this.extractModuleEntity(r,e=>e.beans?e.beans:[]));let s=[];return o.forEach(e=>{0>s.indexOf(e)&&s.push(e)}),s}extractModuleEntity(e,t){return[].concat(...e.map(t))}},X_=class{wrap(e,t,i=[],r){let n=this.createWrapper(e,r);return t.forEach(e=>{this.createMethod(n,e,!0)}),i.forEach(e=>{this.createMethod(n,e,!1)}),n}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}},XE=class{};XE.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},XE.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],XE.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var XT=((B=XT||{}).InsideBase="insideBase",B.InsideEnd="insideEnd",B.Center="center",B.OutsideEnd="outsideEnd",B),XM=e.g;XM.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,XM.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,XM.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,XM.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,XM.Node="undefined"==typeof Node?{}:Node,XM.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var XR=class e{constructor(t,i,r,n,o,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gos=i,this.eventService=r,this.columnModel=n,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return jP.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(t){if("string"==typeof t)return void console.warn("AG Grid: rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);let i=this.rootNode,r=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map(t=>this.createNode(t,this.rootNode,e.TOP_LEVEL)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=i.childrenAfterFilter,r.childrenAfterGroup=i.childrenAfterGroup,r.childrenAfterAggFilter=i.childrenAfterAggFilter,r.childrenAfterSort=i.childrenAfterSort,r.childrenMapped=i.childrenMapped,r.allLeafChildren=i.allLeafChildren)}updateRowData(e,t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);let i={remove:[],update:[],add:[]},r=[];return this.executeRemove(e,i,r),this.executeUpdate(e,i,r),this.executeAdd(e,i),this.updateSelection(r,"rowDataChanged"),t&&jP.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),i}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){let t={type:Wc.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:(null==e?void 0:e.length)?e[0]:null};this.eventService.dispatchEvent(t)}updateSelection(e,t){let i=e.length>0;if(i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i){let e={type:Wc.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(e)}}executeAdd(t,i){var r;let{add:n,addIndex:o}=t;if(jP.missingOrEmpty(n))return;let s=n.map(t=>this.createNode(t,this.rootNode,e.TOP_LEVEL));if("number"==typeof o&&o>=0){let{allLeafChildren:e}=this.rootNode,t=e.length,i=o;if(this.gos.get("treeData")&&o>0&&t>0){for(let n=0;n<t;n++)if((null==(r=e[n])?void 0:r.rowIndex)==o-1){i=n+1;break}}let n=e.slice(0,i),a=e.slice(i,e.length);this.rootNode.allLeafChildren=[...n,...s,...a]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...s];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=s}executeRemove(e,t,i){let{remove:r}=e;if(jP.missingOrEmpty(r))return;let n={};r.forEach(e=>{let r=this.lookupRowNode(e);r&&(r.isSelected()&&i.push(r),r.clearRowTopAndRowIndex(),n[r.id]=!0,delete this.allNodesMap[r.id],t.remove.push(r))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(e=>!n[e.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,i,r){let{update:n}=t;jP.missingOrEmpty(n)||n.forEach(t=>{let n=this.lookupRowNode(t);n&&(n.updateData(t),!n.selectable&&n.isSelected()&&r.push(n),this.setMasterForRow(n,t,e.TOP_LEVEL,!1),i.update.push(n))})}lookupRowNode(e){let t,i=this.gos.getCallback("getRowId");if(i){let r=i({data:e,level:0});if(!(t=this.allNodesMap[r]))return console.error(`AG Grid: could not find row id=${r}, data item was not found for this id`),null}else if(!(t=this.rootNode.allLeafChildren.find(t=>t.data===e)))return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return t||null}createNode(e,t,i){let r=new $L(this.beans);r.group=!1,this.setMasterForRow(r,e,i,!0);let n=this.gos.get("suppressParentsInRowNodes");return t&&!n&&(r.parent=t),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn(`AG Grid: duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,t,i,r){if(this.gos.get("treeData"))e.setMaster(!1),r&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){let i=this.gos.get("isRowMaster");i?e.setMaster(i(t)):e.setMaster(!0)}else e.setMaster(!1);if(r){let t=this.columnModel.getRowGroupColumns(),r=t?t.length:0;e.expanded=!!e.master&&this.isExpanded(i+r)}}}isExpanded(e){let t=this.gos.get("groupDefaultExpanded");return -1===t||e<t}};XR.TOP_LEVEL=0,XR.ROOT_NODE_ID="ROOT_NODE_ID";var XD=class extends Wl{constructor(){super(...arguments),this.onRowHeightChanged_debounced=jP.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){let e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,Wc.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,Wc.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new $L(this.beans),this.nodeManager=new XR(this.rootNode,this.gos,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){let e=new Set(["treeData","masterDetail"]),t=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),r=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),n=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),o=new Set(["postSortRows","groupDisplayType","accentedSort"]),s=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...r,...r,...n,...o,...s,...a];this.addManagedPropertyListeners(l,l=>{var u;let d=null==(u=l.changeSet)?void 0:u.properties;if(!d)return;let h=e=>d.some(t=>e.has(t));h(e)?this.setRowData(this.rootNode.allLeafChildren.map(e=>e.data)):h(t)?this.refreshModel({step:"group"}):h(i)?this.refreshModel({step:"filter"}):h(r)?this.refreshModel({step:"pivot"}):h(n)?this.refreshModel({step:"aggregate"}):h(o)?this.refreshModel({step:"sort"}):h(s)?this.refreshModel({step:"filter_aggregates"}):h(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){let e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,r){let n,o=!1;do{n=!1;let s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,i),u=Math.min(a,r);for(let e=l;e<=u;e++){let t=this.getRow(e);if(t.rowHeightEstimated){let e=this.gos.getRowHeightForNode(t);t.setRowHeight(e.height),n=!0,o=!0}}n&&this.setRowTopAndRowIndex()}while(n)return o}setRowTopAndRowIndex(){let e=this.environment.getDefaultRowHeight(),t=0,i=new Set,r=this.gos.isDomLayout("normal");for(let n=0;n<this.rowsToDisplay.length;n++){let o=this.rowsToDisplay[n];if(null!=o.id&&i.add(o.id),null==o.rowHeight){let t=this.gos.getRowHeightForNode(o,r,e);o.setRowHeight(t.height,t.estimated)}o.setRowTop(t),o.setRowIndex(n),t+=o.rowHeight}return i}clearRowTopAndRowIndex(e,t){let i=e.isActive(),r=e=>{e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},n=e=>{if(r(e),r(e.detailNode),r(e.sibling),e.hasChildren()&&e.childrenAfterGroup){let t=-1==e.level;(!i||t||e.expanded)&&e.childrenAfterGroup.forEach(n)}};n(this.rootNode)}ensureRowsAtPixel(e,t,i=0){let r=this.getRowIndexAtPixel(t),n=this.getRow(r),o=!this.gos.get("suppressAnimationFrame");return n!==e[0]&&(e.forEach(e=>{jP.removeFromArray(this.rootNode.allLeafChildren,e)}),e.forEach((e,t)=>{jP.insertIntoArray(this.rootNode.allLeafChildren,e,Math.max(r+i,0)+t)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:o}),!0)}highlightRowAtPixel(e,t){let i=null!=t?this.getRowIndexAtPixel(t):null,r=null!=i?this.getRow(i):null;if(!r||!e||r===e||null==t){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}let n=this.getHighlightPosition(t,r);this.lastHighlightedRow&&this.lastHighlightedRow!==r&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),r.setHighlighted(n),this.lastHighlightedRow=r}getHighlightPosition(e,t){if(!t){let i=this.getRowIndexAtPixel(e);if(!(t=this.getRow(i||0)))return 1}let{rowTop:i,rowHeight:r}=t;return e-i<r/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;let e=this.rootNode.childrenAfterAggFilter;return e?e.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let t=this.rootNode.childrenAfterSort[e];if(this.gos.get("groupHideOpenParents"))for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex}getRowBounds(e){if(jP.missing(this.rowsToDisplay))return null;let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){let e=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let t=this.gos.isAnimateRows(),i=0===e.columns.length||e.columns.some(e=>e.isPrimary());this.refreshModel({step:i?"filter":"filter_aggregates",keepRenderedRows:!0,animate:t})}onSortChanged(){let e=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){let t=jP.missingOrEmpty(e),i=new Y1(!1,this.rootNode);return(t||this.gos.get("treeData"))&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;let t=e.rowNodeTransactions.filter(e=>null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0);return null==t||0==t.length}buildRefreshModelParams(e){let t="group",i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};return(jP.exists(e)&&(t=i[e]),jP.missing(t))?void console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`):{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let t="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;let i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}let r=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,r),this.isRefreshingModel=!1;let n={type:Wc.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(n)}isEmpty(){let e=jP.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return jP.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return jP.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!t,r=!1,n=[],o=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(s=>{if(!r){if(i&&(s===t||s===e)&&(r=!0,s.group&&o))return void n.push(...s.allLeafChildren);if(!i){if(s!==t&&s!==e)return;i=!0}if(!s.group||!o)return void n.push(s)}}),n}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return -1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(jP.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,n=-1;for(;;){let o=Math.floor((t+i)/2),s=this.rowsToDisplay[o];if(this.isRowInPixel(s,e)||(s.rowTop<e?t=o+1:s.rowTop>e&&(i=o-1),r===t&&n===i))return o;r=t,n=i}}isRowInPixel(e,t){let i=e.rowTop,r=e.rowTop+e.rowHeight;return i<=t&&r>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){let{nodes:t,callback:i,recursionType:r,includeFooterNodes:n}=e,{index:o}=e,s=e=>{var r;let s=null==(r=t[0])?void 0:r.parent;if(!s)return;let a=n&&this.gos.getGrandTotalRow(),l=this.gos.getGroupTotalRowCallback(),u=n&&l({node:s});if(s===this.rootNode){a===e&&(s.createFooter(),i(s.sibling,o++));return}u===e&&(s.createFooter(),i(s.sibling,o++))};s("top");for(let e=0;e<t.length;e++){let s=t[e];if(i(s,o++),s.hasChildren()&&!s.footer){let e=null;switch(r){case 0:e=s.childrenAfterGroup;break;case 1:e=s.childrenAfterAggFilter;break;case 2:e=s.childrenAfterSort;break;case 3:e=s.leafGroup?null:s.childrenAfterSort}e&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...e],callback:i,recursionType:r,index:o,includeFooterNodes:n}))}}return s("bottom"),o}doAggregate(e){var t;null==(t=this.aggregationStage)||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){let t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),r=n=>{n&&n.forEach(n=>{let o=()=>{n.expanded=e,r(n.childrenAfterGroup)};if(t){jP.exists(n.childrenAfterGroup)&&o();return}if(i){n.leafGroup||o();return}n.group&&o()})};this.rootNode&&r(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});let n={type:Wc.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"};this.eventService.dispatchEvent(n)}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,r){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:r}),this.gos.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)){let e={type:Wc.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(e)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:Wc.EVENT_ROW_COUNT_READY}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;null==(t=this.pivotStage)||t.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if("string"==typeof e&&0==e.indexOf($L.ID_PREFIX_ROW_GROUP)){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){let e={type:Wc.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];let e=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},e)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();let e=[],t=[],i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(r=>{let n=this.nodeManager.updateRowData(r.rowDataTransaction,void 0);t.push(n),r.callback&&e.push(r.callback.bind(null,n)),"number"==typeof r.rowDataTransaction.addIndex&&(i=!0)}),this.commonUpdateRowData(t,void 0,i),e.length>0&&window.setTimeout(()=>{e.forEach(e=>e())},0),t.length>0){let e={type:Wc.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t};this.eventService.dispatchEvent(e)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();let i=this.nodeManager.updateRowData(e,t),r="number"==typeof e.addIndex;return this.commonUpdateRowData([i],t,r),i}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;let e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let t=0;t<this.rootNode.allLeafChildren.length;t++)e[this.rootNode.allLeafChildren[t].id]=t;return e}commonUpdateRowData(e,t,i){if(!this.hasStarted)return;let r=!this.gos.get("suppressAnimationFrame");i&&(t=this.createRowNodeOrder());let n={type:Wc.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:r})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){let e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};HW([zR("columnModel")],XD.prototype,"columnModel",2),HW([zR("selectionService")],XD.prototype,"selectionService",2),HW([zR("valueCache")],XD.prototype,"valueCache",2),HW([zR("beans")],XD.prototype,"beans",2),HW([zR("filterStage")],XD.prototype,"filterStage",2),HW([zR("sortStage")],XD.prototype,"sortStage",2),HW([zR("flattenStage")],XD.prototype,"flattenStage",2),HW([zD("groupStage")],XD.prototype,"groupStage",2),HW([zD("aggregationStage")],XD.prototype,"aggregationStage",2),HW([zD("pivotStage")],XD.prototype,"pivotStage",2),HW([zD("filterAggregatesStage")],XD.prototype,"filterAggregatesStage",2),HW([zE],XD.prototype,"init",1),XD=HW([zM("rowModel")],XD);var XA=class extends Wl{execute(e){let{changedPath:t}=e;this.filterService.filter(t)}};HW([zR("filterService")],XA.prototype,"filterService",2),XA=HW([zM("filterStage")],XA);var XI=class extends Wl{execute(e){let t=this.sortController.getSortOptions(),i=jP.exists(t)&&t.length>0,r=i&&jP.exists(e.rowNodeTransactions)&&this.gos.get("deltaSort"),n=t.some(e=>this.gos.isColumnsSortingCoupledToGroup()?e.column.isPrimary()&&e.column.isRowGroupActive():!!e.column.getColDef().showRowGroup);this.sortService.sort(t,i,r,e.rowNodeTransactions,e.changedPath,n)}};HW([zR("sortService")],XI.prototype,"sortService",2),HW([zR("sortController")],XI.prototype,"sortController",2),XI=HW([zM("sortStage")],XI);var XP=class extends Wl{execute(e){let t=e.rowNode,i=[],r=this.beans.columnModel.isPivotMode(),n=r&&t.leafGroup,o=n?[t]:t.childrenAfterSort,s=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(s,o,i,r,0);let a=i.length>0;if(!n&&a&&s.grandTotalRow){t.createFooter();let e="top"===s.grandTotalRow;this.addRowNodeToRowsToDisplay(s,t.sibling,i,0,e)}return i}getFlattenDetails(){let e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(e,t,i,r,n){if(!jP.missingOrEmpty(t))for(let o=0;o<t.length;o++){let s=t[o],a=s.hasChildren(),l=r&&!a,u=e.groupRemoveSingleChildren&&a&&1===s.childrenAfterGroup.length,d=e.groupRemoveLowestSingleChildren&&a&&s.leafGroup&&1===s.childrenAfterGroup.length,h=r&&s.leafGroup,c=e.hideOpenParents&&s.expanded&&!s.master&&!h;if(l||c||u||d||this.addRowNodeToRowsToDisplay(e,s,i,n),!r||!s.leafGroup){if(a){let t=u||d;if(s.expanded||t){let o=e.groupTotalRow({node:s});o||s.destroyFooter();let a=t?n:n+1;"top"===o&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,i,a)),this.recursivelyAddToRowsToDisplay(e,s.childrenAfterSort,i,r,a),"bottom"===o&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,i,a))}}else if(s.master&&s.expanded){let t=this.createDetailNode(s);this.addRowNodeToRowsToDisplay(e,t,i,n)}}}}addRowNodeToRowsToDisplay(e,t,i,r,n){n?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:r)}createDetailNode(e){if(jP.exists(e.detailNode))return e.detailNode;let t=new $L(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,jP.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};HW([zR("beans")],XP.prototype,"beans",2),XP=HW([zM("flattenStage")],XP);var XL=class extends Wl{sort(e,t,i,r,n,o){let s=this.gos.get("groupMaintainOrder"),a=this.columnModel.getAllGridColumns().some(e=>e.isRowGroupActive()),l={};i&&r&&(l=this.calculateDirtyNodes(r));let u=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows"),h=r=>{var h;this.pullDownGroupDataForHideOpenParents(r.childrenAfterAggFilter,!0);let c=u&&r.leafGroup;if(s&&a&&!r.leafGroup&&!o){let e=null==(h=this.columnModel.getRowGroupColumns())?void 0:h[r.level+1],t=(null==e?void 0:e.getSort())===null,i=r.childrenAfterAggFilter.slice(0);if(r.childrenAfterSort&&!t){let e={};r.childrenAfterSort.forEach((t,i)=>{e[t.id]=i}),i.sort((t,i)=>{var r,n;return(null!=(r=e[t.id])?r:0)-(null!=(n=e[i.id])?n:0)})}r.childrenAfterSort=i}else!t||c?r.childrenAfterSort=r.childrenAfterAggFilter.slice(0):i?r.childrenAfterSort=this.doDeltaSort(r,l,n,e):r.childrenAfterSort=this.rowNodeSorter.doFullSort(r.childrenAfterAggFilter,e);r.sibling&&(r.sibling.childrenAfterSort=r.childrenAfterSort),this.updateChildIndexes(r),d&&d({nodes:r.childrenAfterSort})};n&&n.forEachChangedNodeDepthFirst(h),this.updateGroupDataForHideOpenParents(n)}calculateDirtyNodes(e){let t={},i=e=>{e&&e.forEach(e=>t[e.id]=!0)};return e&&e.forEach(e=>{i(e.add),i(e.update),i(e.remove)}),t}doDeltaSort(e,t,i,r){let n=e.childrenAfterAggFilter,o=e.childrenAfterSort;if(!o)return this.rowNodeSorter.doFullSort(n,r);let s={},a=[];n.forEach(e=>{t[e.id]||!i.canSkip(e)?a.push(e):s[e.id]=!0});let l=o.filter(e=>s[e.id]),u=(e,t)=>({currentPos:t,rowNode:e}),d=a.map(u).sort((e,t)=>this.rowNodeSorter.compareRowNodes(r,e,t));return this.mergeSortedArrays(r,d,l.map(u)).map(({rowNode:e})=>e)}mergeSortedArrays(e,t,i){let r=[],n=0,o=0;for(;n<t.length&&o<i.length;)0>this.rowNodeSorter.compareRowNodes(e,t[n],i[o])?r.push(t[n++]):r.push(i[o++]);for(;n<t.length;)r.push(t[n++]);for(;o<i.length;)r.push(i[o++]);return r}updateChildIndexes(e){if(jP.missing(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let i=0;i<t.length;i++){let r=t[i],n=0===i,o=i===e.childrenAfterSort.length-1;r.setFirstChild(n),r.setLastChild(o),r.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return jP.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;let t=e=>{this.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach(e=>{e.hasChildren()&&t(e)})};e&&e.executeFromRootNode(e=>t(e))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||jP.missing(e)||e.forEach(e=>{this.columnModel.getGroupDisplayColumns().forEach(i=>{let r=i.getColDef().showRowGroup;if("string"!=typeof r)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");let n=this.columnModel.getPrimaryColumn(r);if(n!==e.rowGroupColumn)if(t)e.setGroupValue(i.getId(),void 0);else{let t=e.getFirstChildOfFirstChild(n);t&&e.setGroupValue(i.getId(),t.key)}})})}};HW([zR("columnModel")],XL.prototype,"columnModel",2),HW([zR("rowNodeSorter")],XL.prototype,"rowNodeSorter",2),XL=HW([zM("sortService")],XL);var Xk=class extends Wl{filter(e){let t=this.filterManager.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){let i=(t,i)=>{t.hasChildren()&&e&&!i?t.childrenAfterFilter=t.childrenAfterGroup.filter(e=>{let t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,i=e.data&&this.filterManager.doesRowPassFilter({rowNode:e});return t||i}):t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){let e=(t,r)=>{if(t.childrenAfterGroup)for(let n=0;n<t.childrenAfterGroup.length;n++){let o=t.childrenAfterGroup[n],s=r||this.filterManager.doesRowPassFilter({rowNode:o});o.childrenAfterGroup?e(t.childrenAfterGroup[n],s):i(o,s)}i(t,r)};t.executeFromRootNode(t=>e(t,!1))}else t.forEachChangedNodeDepthFirst(e=>i(e,!1),!0)}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}};HW([zR("filterManager")],Xk.prototype,"filterManager",2),Xk=HW([zM("filterService")],Xk);var XN=class extends Wl{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){let e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}setRowData(e){let t=this.createTransactionForRowData(e);if(!t)return;let[i,r]=t;this.clientSideRowModel.updateRowData(i,r)}createTransactionForRowData(e){if(jP.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");let t=this.gos.getCallback("getRowId");if(null==t)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");let i={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),n=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return jP.exists(e)&&e.forEach((e,o)=>{let s=t({data:e,level:0}),a=r[s];n&&(n[s]=o),a?(a.data!==e&&i.update.push(e),r[s]=void 0):i.add.push(e)}),jP.iterateObject(r,(e,t)=>{t&&i.remove.push(t.data)}),[i,n]}onRowDataUpdated(){let e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}};HW([zR("rowModel")],XN.prototype,"rowModel",2),HW([zR("rowRenderer")],XN.prototype,"rowRenderer",2),HW([zR("selectionService")],XN.prototype,"selectionService",2),HW([zE],XN.prototype,"postConstruct",1);var XF={version:"31.3.4",moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[XD,XA,XI,XP,XL,Xk,XN=HW([zM("immutableService")],XN)]},XO=Object.defineProperty,XG=Object.getOwnPropertyDescriptor,XV=(e,t,i,r)=>{for(var n,o=r>1?void 0:r?XG(t,i):t,s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r?n(t,i,o):n(o))||o);return r&&o&&XO(t,i,o),o},XB=class extends Y5{constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){jP.exists(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();jP.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((r,n)=>{this.startRow+n<i&&e(r,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());let i=e-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){let t=this.startRow+e,i=new $L(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((t,i)=>{let r=e.rowData?e.rowData[i]:void 0;!t.id&&t.alreadyRendered&&r&&(this.rowNodes[i]=new $L(this.beans),this.rowNodes[i].setRowIndex(t.rowIndex),this.rowNodes[i].setRowTop(t.rowTop),this.rowNodes[i].setRowHeight(t.rowHeight),t.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[i],r,this.startRow+i)});let t=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroyRowNodes(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()})}};XV([zR("beans")],XB.prototype,"beans",2),XV([zE],XB.prototype,"postConstruct",1),XV([zT],XB.prototype,"destroyRowNodes",1);var XH=class e extends Wl{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}setBeans(e){this.logger=e.create("InfiniteCache")}getRow(e,t=!1){let i=Math.floor(e/this.params.blockSize),r=this.blocks[i];if(!r){if(t)return;r=this.createBlock(i)}return r.getRow(e)}createBlock(e){let t=this.createBean(new XB(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(e=>e.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad())}destroyAllBlocks(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(t){let i=this.getBlocksInOrder().filter(e=>e!=t);i.sort((e,t)=>t.getLastAccessed()-e.getLastAccessed());let r=this.params.maxBlocksInCache>0,n=r?this.params.maxBlocksInCache-1:null,o=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((e,t)=>{if(e.getState()===XB.STATE_WAITING_TO_LOAD&&t>=o||r&&t>=n){if(!(this.isBlockCurrentlyDisplayed(e)||this.isBlockFocused(e)))this.removeBlockFromCache(e)}})}isBlockFocused(e){let t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||null!=t.rowPinned)return!1;let i=e.getStartRow(),r=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){let t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"==typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let t=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<t&&(this.rowCount=t)}}setRowCount(e,t){this.rowCount=e,jP.exists(t)&&(this.lastRowIndexKnown=t),!this.lastRowIndexKnown&&this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t=new jL;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){return jP.getAllValuesInObject(this.blocks).sort((e,t)=>e.getId()-t.getId())}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();let e={type:Wc.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(e=>this.destroyBlock(e))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let i=[],r=-1,n=!1,o=new jL;jP.missing(e)&&(n=!0);let s=!1;return this.getBlocksInOrder().forEach(a=>{if(!s){if(n&&r+1!==a.getId()){s=!0;return}r=a.getId(),a.forEachNode(r=>{let o=r===e||r===t;(n||o)&&i.push(r),o&&(n=!n)},o,this.rowCount)}}),s||n?[]:i}};XH.MAX_EMPTY_BLOCKS_TO_KEEP=2,XV([zR("rowRenderer")],XH.prototype,"rowRenderer",2),XV([zR("focusService")],XH.prototype,"focusService",2),XV([(r=zI("loggerFactory"),(e,t)=>r(e,t,0))],XH.prototype,"setBeans",1),XV([zT],XH.prototype,"destroyAllBlocks",1);var Xz=class extends Wl{getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(e,t,i,r){return!1}init(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&jP.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,Wc.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,Wc.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()}isSortModelDifferent(){return!jP.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){this.datasource&&(null==this.gos.getCallback("getRowId")&&this.selectionService.reset("rowDataChanged"),this.resetCache())}createModelUpdatedEvent(){return{type:Wc.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new jL},this.infiniteCache=this.createBean(new XH(this.cacheParams)),this.eventService.dispatchEventOnce({type:Wc.EVENT_ROW_COUNT_READY});let e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)});let e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){let e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){let t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};XV([zR("filterManager")],Xz.prototype,"filterManager",2),XV([zR("sortController")],Xz.prototype,"sortController",2),XV([zR("selectionService")],Xz.prototype,"selectionService",2),XV([zR("rowRenderer")],Xz.prototype,"rowRenderer",2),XV([zR("rowNodeBlockLoader")],Xz.prototype,"rowNodeBlockLoader",2),XV([zE],Xz.prototype,"init",1),XV([zT],Xz.prototype,"destroyDatasource",1);var XW={version:"31.3.4",moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[Xz=XV([zM("rowModel")],Xz)]},XU=Object.defineProperty,Xj=Object.defineProperties,X$=Object.getOwnPropertyDescriptor,XK=Object.getOwnPropertyDescriptors,XY=Object.getOwnPropertySymbols,Xq=Object.prototype.hasOwnProperty,XX=Object.prototype.propertyIsEnumerable,XZ=(e,t,i)=>t in e?XU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,XQ=(e,t)=>{for(var i in t||(t={}))Xq.call(t,i)&&XZ(e,i,t[i]);if(XY)for(var i of XY(t))XX.call(t,i)&&XZ(e,i,t[i]);return e},XJ=(e,t,i,r)=>{for(var n,o=r>1?void 0:r?X$(t,i):t,s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r?n(t,i,o):n(o))||o);return r&&o&&XU(t,i,o),o},X0=(e,t,i)=>new Promise((r,n)=>{var o=e=>{try{a(i.next(e))}catch(e){n(e)}},s=e=>{try{a(i.throw(e))}catch(e){n(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,s);a((i=i.apply(e,t)).next())}),X1=class{setBeans(e){this.beans=e}getFileName(e){let t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},X2=class{constructor(e){this.groupColumns=[];const{columnModel:t,valueService:i,gos:r,processCellCallback:n,processHeaderCallback:o,processGroupHeaderCallback:s,processRowGroupCallback:a}=e;this.columnModel=t,this.valueService=i,this.gos=r,this.processCellCallback=n,this.processHeaderCallback=o,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}prepare(e){this.groupColumns=e.filter(e=>!!e.getColDef().showRowGroup)}extractHeaderValue(e){let t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""}extractRowCellValue(e,t,i,r,n){let o=(!this.gos.get("groupHideOpenParents")||n.footer)&&this.shouldRenderGroupSummaryCell(n,e,t)?this.createValueForGroupNode(e,n):this.valueService.getValue(e,n);return this.processCell({accumulatedRowIndex:i,rowNode:n,column:e,value:o,processCellCallback:this.processCellCallback,type:r})}shouldRenderGroupSummaryCell(e,t,i){var r;if(!(e&&e.group))return!1;if(-1!==this.groupColumns.indexOf(t)){if((null==(r=e.groupData)?void 0:r[t.getId()])!=null||this.gos.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&-1===e.level){let e=t.getColDef();return null==e||!0===e.showRowGroup||e.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}let n=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&n}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));let i=this.gos.get("treeData"),r=this.gos.get("suppressGroupMaintainValueType"),n=t=>{var n,o;if(i||r)return t.key;let s=null==(n=t.groupData)?void 0:n[e.getId()];return s&&t.rowGroupColumn&&!1!==t.rowGroupColumn.getColDef().useValueFormatterForExport&&null!=(o=this.valueService.formatValue(t.rowGroupColumn,t,s))?o:s},o=t.footer,s=[n(t)];if(!this.gos.isGroupMultiAutoColumn())for(;t.parent;)s.push(n(t=t.parent));let a=s.reverse().join(" -> ");return o?`Total ${a}`:a}processCell(e){var t;let{accumulatedRowIndex:i,rowNode:r,column:n,value:o,processCellCallback:s,type:a}=e;return s?{value:null!=(t=s(this.gos.addGridCommonParams({accumulatedRowIndex:i,column:n,node:r,value:o,type:a,parseValue:e=>this.valueService.parseValue(n,r,e,this.valueService.getValue(n,r)),formatValue:e=>{var t;return null!=(t=this.valueService.formatValue(n,r,e))?t:e}})))?t:""}:!1!==n.getColDef().useValueFormatterForExport?{value:null!=o?o:"",valueFormatted:this.valueService.formatValue(n,r,o)}:{value:null!=o?o:""}}},X5=class{static download(e,t){let i=document.defaultView||window;if(!i)return void console.warn("AG Grid: There is no `window` associated with the current `document`");let r=document.createElement("a"),n=i.URL.createObjectURL(t);r.setAttribute("href",n),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(r),i.setTimeout(()=>{i.URL.revokeObjectURL(n)},0)}},X3=class extends X2{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(e=>{this.beginNewLine(),e.forEach((e,t)=>{0!==t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e.data.value||""),e.mergeAcross&&this.appendEmptyCells(e.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,r){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){var r;0!=t&&(this.result+=this.columnSeparator);let n=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(null!=(r=n.valueFormatted)?r:n.value)}putInQuotes(e){let t;return this.suppressQuotes?e:null==e?'""':("string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"')}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}},X4=class extends X1{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){return Object.assign({},this.gos.get("defaultCsvExportParams"),e)}export(e){if(this.isExportSuppressed())return void console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");let t=this.getMergedParams(e),i=new Blob(["\uFEFF",this.getData(t)],{type:"text/plain"}),r="function"==typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;X5.download(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{columnModel:t,valueService:i,gos:r}=this,{processCellCallback:n,processHeaderCallback:o,processGroupHeaderCallback:s,processRowGroupCallback:a,suppressQuotes:l,columnSeparator:u}=e;return new X3({columnModel:t,valueService:i,gos:r,processCellCallback:n||void 0,processHeaderCallback:o||void 0,processGroupHeaderCallback:s||void 0,processRowGroupCallback:a||void 0,suppressQuotes:l||!1,columnSeparator:u||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};XJ([zR("columnModel")],X4.prototype,"columnModel",2),XJ([zR("valueService")],X4.prototype,"valueService",2),XJ([zR("gridSerializer")],X4.prototype,"gridSerializer",2),XJ([zR("gridOptionsService")],X4.prototype,"gos",2),XJ([zE],X4.prototype,"postConstruct",1),X4=XJ([zM("csvCreator")],X4);var X6=((H=X6||{})[H.HEADER_GROUPING=0]="HEADER_GROUPING",H[H.HEADER=1]="HEADER",H[H.BODY=2]="BODY",H),X8=class extends Wl{serialize(e,t={}){let{allColumns:i,columnKeys:r,skipRowGroups:n}=t,o=this.getColumnsToExport(i,n,r);return jP.compose(this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t))(e).parse()}processRow(e,t,i,r){let n=t.shouldRowBeSkipped||(()=>!1),o=this.gos.get("groupRemoveSingleChildren"),s=this.gos.get("groupRemoveLowestSingleChildren"),a=null!=t.rowPositions||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!a,u=this.columnModel.isPivotMode()?r.leafGroup:!r.group,d=!!r.footer;t.skipRowGroups;let h=s&&r.leafGroup,c=1===r.allChildrenCount&&(o||h);if(!u&&!d&&(t.skipRowGroups||c||l)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&"top"===r.rowPinned||t.skipPinnedBottom&&"bottom"===r.rowPinned||-1===r.level&&!u&&!d||n(this.gos.addGridCommonParams({node:r})))return;let p=e.onNewBodyRow(r);if(i.forEach((e,t)=>{p.onColumn(e,t,r)}),t.getCustomContentBelowRow){let i=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:r}));i&&e.addCustomContent(i)}}appendContent(e){return t=>{let i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{let i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){let r=new Wg,n=this.displayedGroupCreator.createDisplayedGroups(t,r,null);this.recursivelyAddHeaderGroups(n,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){let e=i.onNewHeaderRow();t.forEach((t,i)=>{e.onColumn(t,i,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{let r=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(e=>"top"===e.rowPinned).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>this.pinnedRowModel.getPinnedTopRow(e.rowIndex)).forEach(r):this.pinnedRowModel.forEachPinnedTopRow(r),i}}processRows(e,t){return i=>{let r=this.rowModel,n=r.getType(),o="clientSide"===n,s="serverSide"===n,a=!o&&e.onlySelected,l=this.processRow.bind(this,i,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(e=>null==e.rowPinned).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>r.getRow(e.rowIndex)).forEach(l);else if(this.columnModel.isPivotMode())o?r.forEachPivotNode(l,!0):s?r.forEachNodeAfterFilterAndSort(l,!0):r.forEachNode(l);else if(e.onlySelectedAllPages||a){let e=this.selectionService.getSelectedNodes();this.replicateSortedOrder(e),e.forEach(l)}else"all"===u?r.forEachNode(l):o||s?r.forEachNodeAfterFilterAndSort(l,!0):r.forEachNode(l);return i}}replicateSortedOrder(e){let t=this.sortController.getSortOptions(),i=(e,r)=>{var n,o,s,a;return null!=e.rowIndex&&null!=r.rowIndex?e.rowIndex-r.rowIndex:e.level===r.level?(null==(n=e.parent)?void 0:n.id)===(null==(o=r.parent)?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:e,currentPos:null!=(s=e.rowIndex)?s:-1},{rowNode:r,currentPos:null!=(a=r.rowIndex)?a:-1}):i(e.parent,r.parent):e.level>r.level?i(e.parent,r):i(e,r.parent)};e.sort(i)}processPinnedBottomRows(e,t){return i=>{let r=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(e=>"bottom"===e.rowPinned).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>this.pinnedRowModel.getPinnedBottomRow(e.rowIndex)).forEach(r):this.pinnedRowModel.forEachPinnedBottomRow(r),i}}getColumnsToExport(e=!1,t=!1,i){let r=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);let n=this.gos.get("treeData"),o=[];return o=e&&!r?this.columnModel.getAllGridColumns():this.columnModel.getAllDisplayedColumns(),t&&!n&&(o=o.filter(e=>e.getColId()!==Wf)),o}recursivelyAddHeaderGroups(e,t,i){let r=[];e.forEach(e=>{e.getChildren&&e.getChildren().forEach(e=>r.push(e))}),e.length>0&&e[0]instanceof Wh&&this.doAddHeaderHeader(t,e,i),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,i)}doAddHeaderHeader(e,t,i){let r=e.onNewHeaderGroupingRow(),n=0;t.forEach(e=>{let t;t=i?i(this.gos.addGridCommonParams({columnGroup:e})):this.columnModel.getDisplayNameForColumnGroup(e,"header");let o=e.getLeafColumns().reduce((e,t,i,r)=>{let n=jP.last(e);return"open"===t.getColumnGroupShow()?n&&null==n[1]||(n=[i],e.push(n)):n&&null==n[1]&&(n[1]=i-1),i===r.length-1&&n&&null==n[1]&&(n[1]=i),e},[]);r.onColumn(e,t||"",n++,e.getLeafColumns().length-1,o)})}};XJ([zR("displayedGroupCreator")],X8.prototype,"displayedGroupCreator",2),XJ([zR("columnModel")],X8.prototype,"columnModel",2),XJ([zR("rowModel")],X8.prototype,"rowModel",2),XJ([zR("pinnedRowModel")],X8.prototype,"pinnedRowModel",2),XJ([zR("selectionService")],X8.prototype,"selectionService",2),XJ([zR("rowNodeSorter")],X8.prototype,"rowNodeSorter",2),XJ([zR("sortController")],X8.prototype,"sortController",2);var X9={version:"31.3.4",moduleName:"@ag-grid-community/csv-export",beans:[X4,X8=XJ([zM("gridSerializer")],X8)]};function X7(e,t){let i="";for(let r=0;r<t;r++)i+=String.fromCharCode(255&e),e>>>=8;return i}var Ze=e=>{if(!e.length)return 0;let t=-1,i=0;for(let r=0;r<e.length;r++)i=Zi[(t^e[r])&255],t=t>>>8^i;return -1^t},Zt=e=>e.length?"string"==typeof e?Ze(new TextEncoder().encode(e)):Ze(e):0,Zi=new Uint32Array([0,0x77073096,0xee0e612c,0x990951ba,0x76dc419,0x706af48f,0xe963a535,0x9e6495a3,0xedb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x9b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x1db7106,0x98d220bc,0xefd5102a,0x71b18589,0x6b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0xf00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x86d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x3b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x4db2615,0x73dc1683,0xe3630b12,0x94643b84,0xd6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0xa00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x26d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x5005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0xcb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0xbdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,936918e3,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d]),{utf8_encode:Zr}=jP,Zn=(e,t)=>X0(void 0,null,function*(){let i,r,{content:n}=e,{size:o,content:s}=n?Za(n):{size:0,content:Uint8Array.from([])},a=!1;if("file"===e.type&&s&&o>0){let e=yield X0(void 0,null,function*(){let e=new Blob([s]),{size:t,content:i}=yield X0(void 0,null,function*(){let t=0,i=[],r=new WritableStream({write:e=>{i.push(e),t+=e.length}}),n=new ReadableStream({start:t=>{let i=new FileReader;i.onload=e=>{var i;(null==(i=e.target)?void 0:i.result)&&t.enqueue(e.target.result),t.close()},i.readAsArrayBuffer(e)}}),o=new window.CompressionStream("deflate-raw");return yield n.pipeThrough(o).pipeTo(r),{size:t,content:new Blob(i)}});return{size:t,content:new Uint8Array((yield i.arrayBuffer()))}});i=e.content,r=e.size,a=!0}return Xj(XQ({},Zs(e,a,t,o,s,r)),XK({content:i||s,isCompressed:a}))}),Zo=(e,t)=>{let{content:i}=e,{content:r}=i?Za(i):{content:Uint8Array.from([])};return Xj(XQ({},Zs(e,!1,t,r.length,r,void 0)),XK({content:r,isCompressed:!1}))},Zs=(e,t,i,r,n,o)=>{let{content:s,path:a,created:l}=e,u=(l.getHours()<<6|l.getMinutes())<<5|l.getSeconds()/2,d=(l.getFullYear()-1980<<4|l.getMonth()+1)<<5|l.getDate(),h=Zt(n),c=void 0!==o?o:r,p=Zr(a),g=p!==a,f="";if(g){let e=X7(1,1)+X7(Zt(p),4)+p;f="up"+X7(e.length,2)+e}let m="\x14\0"+(g?"\0\b":"\0\0")+X7(8*!!t,2)+X7(u,2)+X7(d,2)+X7(c?h:0,4)+X7(null!=o?o:r,4)+X7(r,4)+X7(p.length,2)+X7(f.length,2),v="PK\x03\x04"+m+p+f,y="PK\x01\x02\x14\0"+m+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+X7(i,4)+p+f;return{localFileHeader:Uint8Array.from(v,e=>e.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(y,e=>e.charCodeAt(0))}},Za=e=>{let t;return{size:(t="string"==typeof e?(e=>{let t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t})(atob(e.split(";base64,")[1])):e).length,content:t}},Zl=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t,i=!1){this.files.push({path:e,created:new Date,content:i?t:new TextEncoder().encode(t),isBase64:i,type:"file"})}static getZipFile(e="application/zip"){return X0(this,null,function*(){let t=yield this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})})}static getUncompressedZipFile(e="application/zip"){let t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){var t,i,r;let n,o=new Uint8Array(0),s=new Uint8Array(0),a=0,l=0;for(let t of e){let{localFileHeader:e,centralDirectoryHeader:i,content:r}=t,n=new Uint8Array(o.length+e.length);n.set(o),n.set(e,o.length);let u=new Uint8Array((o=n).length+r.length);u.set(o),u.set(r,o.length),o=u;let d=new Uint8Array(s.length+i.length);d.set(s),d.set(i,s.length),s=d,a+=e.length+r.length,l+=i.length}let u=(t=e.length,i=l,r=a,n="PK\x05\x06\0\0\0\0"+X7(t,2)+X7(t,2)+X7(i,4)+X7(r,4)+"\0\0",Uint8Array.from(n,e=>e.charCodeAt(0))),d=new Uint8Array(o.length+s.length+u.length);return d.set(o),d.set(s,o.length),d.set(u,o.length+s.length),d}static buildCompressedFileStream(){return X0(this,null,function*(){let e=[...this.folders,...this.files],t=[],i=0;for(let r of e){let e=yield Zn(r,i),{localFileHeader:n,content:o}=e;t.push(e),i+=n.length+o.length}return this.packageFiles(t)})}static buildFileStream(){let e=[...this.folders,...this.files],t=[],i=0;for(let r of e){let e=Zo(r,i),{localFileHeader:n,content:o}=e;t.push(e),i+=n.length+o.length}return this.packageFiles(t)}};Zl.folders=[],Zl.files=[],zS.__registerModules([XF,XW,X9],!1,void 0);var Zu=e.i(68428),Zd=Object.defineProperty,Zh=Object.defineProperties,Zc=Object.getOwnPropertyDescriptors,Zp=Object.getOwnPropertySymbols,Zg=Object.prototype.hasOwnProperty,Zf=Object.prototype.propertyIsEnumerable,Zm=(e,t,i)=>t in e?Zd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Zv=(e,t)=>{for(var i in t||(t={}))Zg.call(t,i)&&Zm(e,i,t[i]);if(Zp)for(var i of Zp(t))Zf.call(t,i)&&Zm(e,i,t[i]);return e},Zy=(0,HP.createContext)({setMethods:()=>{}}),ZC=(0,HP.memo)(e=>{let{initialProps:t,addUpdateCallback:i,CustomComponentClass:r,setMethods:n}=e,[o,s]=(0,HP.useState)(t);return(0,HP.useEffect)(()=>{i(e=>s(e))},[]),HP.default.createElement(Zy.Provider,{value:{setMethods:n}},HP.default.createElement(r,Zv({},o)))}),Zw=0;function Zb(){return`agPortalKey_${++Zw}`}var ZS=class{constructor(e,t,i,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Zb(),this.portalKey=Zb(),this.instanceCreated=this.isStatelessComponent()?jN.resolve(!1):new jN(e=>{this.resolveInstanceCreated=e})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){let t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(jP.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(jP.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){let t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){let i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i)return void setTimeout(()=>this.callMethod(e,t));let r=i[e];return r?r.apply(i,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new jN(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{var t;this.componentInstance=e,this.addParentContainerStyleAndClasses(),null==(t=this.resolveInstanceCreated)||t.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,Zh(Zv({},e),Zc({key:this.key}))),this.portal=(0,eY.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,HP.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,t=>{e(t)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;let t=console.error;try{console.error=()=>{};let t=(0,Zu.renderToStaticMarkup)((0,HP.createElement)(this.reactComponent,e));return""===t}catch(e){}finally{console.error=t}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){let i=this[`${e}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){return!this.suppressFallbackMethods&&!!this[`${e}Component`]}};function Zx(e,t,i){e.forEach(e=>{let r=t[e];r&&(i[e]=r)})}var Z_=class extends ZS{constructor(){super(...arguments),this.awaitUpdateCallback=new jN(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=ZC}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new jN(e=>{setTimeout(()=>{e()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Zx(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return Zh(Zv({},this.sourceParams),Zc({key:this.key,ref:this.ref}))}refreshProps(){return this.updateCallback?this.updateCallback():new jN(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},ZE=class extends Z_{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){let e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},ZT=class extends Z_{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){let e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function ZM(e,t){e.parentFilterInstance(i=>{(i.setModel(t)||jN.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var ZR=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return Zh(Zv({},this.floatingFilterParams),Zc({model:this.model,onModelChange:this.onModelChange}))}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Zx(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ZM(this.floatingFilterParams,e)}},ZD=class extends Z_{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ZM(this.sourceParams,e)}getProps(){let e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},ZA=class extends Z_{refresh(e){this.sourceParams=e,this.refreshProps()}},ZI=class extends Z_{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){let t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){let e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},ZP=class extends Z_{refresh(e){this.sourceParams=e,this.refreshProps()}},ZL=class extends Z_{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Zk=class extends Z_{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){let e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},ZN=class e{constructor(t,i,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=i||"div",this.refresher=t,this.maxComponentCreationTimeMs=r||e.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,i=Date.now()){if(this.destroyed)return void t(null);if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):(console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),void console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`"));window.setTimeout(()=>{this.waitForInstance(e,t,i)})}}};ZN.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var ZF=HP.default.createContext({}),ZO=(...e)=>e.filter(e=>null!=e&&""!==e).join(" "),ZG=class e{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(t,i){if(!!this.classesMap[t]==i)return this;let r=new e;return r.classesMap=Zv({},this.classesMap),r.classesMap[t]=i,r}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}},ZV=e=>"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),ZB=null!=eY.default.createRoot&&null!=eY.default.flushSync,ZH=!1,Zz=(e,t)=>{ZB&&e&&!ZH?eY.default.flushSync(t):t()};function ZW(e,t,i){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(i||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;let r=[],n=[],o=new Map,s=new Map;for(let e=0;e<t.length;e++){let i=t[e];s.set(i.getInstanceId(),i)}for(let t=0;t<e.length;t++){let i=e[t];o.set(i.getInstanceId(),i),s.has(i.getInstanceId())&&r.push(i)}for(let e=0;e<t.length;e++){let i=t[e],r=i.getInstanceId();o.has(r)||n.push(i)}return r.length===e.length&&0===n.length?e:0===r.length&&n.length===t.length?t:0===r.length?n:0===n.length?r:[...r,...n]}var ZU=(e,t,i,r)=>{let n,o;if(!e||e.componentFromFramework||t.isDestroyed())return;let s=e.newAgStackInstance();if(!s)return;let a=!1;return s.then(e=>{a?t.destroyBean(e):(o=(n=e).getGui(),i.appendChild(o),Zj(r,n))}),()=>{a=!0,n&&(o&&o.parentElement&&o.parentElement.removeChild(o),t.destroyBean(n),r&&Zj(r,void 0))}},Zj=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},Z$=(0,HP.forwardRef)((e,t)=>{var i;let r=(0,HP.useContext)(ZF).context,n=(0,HP.useRef)(null),o=(0,HP.useRef)(null),s=(0,HP.useRef)(null),a=(0,HP.useRef)(null),l=(0,HP.useRef)(null),u=(0,HP.useRef)(),[d,h]=(0,HP.useState)(),[c,p]=(0,HP.useState)(),[g,f]=(0,HP.useState)(),[m,v]=(0,HP.useState)(()=>new ZG),[y,C]=(0,HP.useState)(()=>new ZG("ag-hidden")),[w,b]=(0,HP.useState)(()=>new ZG("ag-hidden")),[S,x]=(0,HP.useState)(()=>new ZG("ag-invisible"));(0,HP.useImperativeHandle)(t,()=>({refresh:()=>!1})),(0,HP.useLayoutEffect)(()=>ZU(d,r,o.current),[d]);let _=(0,HP.useCallback)(t=>{if(n.current=t,!n.current){r.destroyBean(u.current),u.current=null;return}u.current=r.createBean(new $W),u.current.init({setInnerRenderer:(e,t)=>{h(e),f(t)},setChildCount:e=>p(e),addOrRemoveCssClass:(e,t)=>v(i=>i.setClass(e,t)),setContractedDisplayed:e=>b(t=>t.setClass("ag-hidden",!e)),setExpandedDisplayed:e=>C(t=>t.setClass("ag-hidden",!e)),setCheckboxVisible:e=>x(t=>t.setClass("ag-invisible",!e))},n.current,s.current,a.current,l.current,Z$,e)},[]),E=(0,HP.useMemo)(()=>`ag-cell-wrapper ${m.toString()}`,[m]),T=(0,HP.useMemo)(()=>`ag-group-expanded ${y.toString()}`,[y]),M=(0,HP.useMemo)(()=>`ag-group-contracted ${w.toString()}`,[w]),R=(0,HP.useMemo)(()=>`ag-group-checkbox ${S.toString()}`,[S]),D=d&&d.componentFromFramework,A=D?d.componentClass:void 0,I=null==d&&null!=g,P=jP.escapeString(g,!0);return HP.default.createElement("span",Zv({className:E,ref:_},e.colDef?{}:{role:null==(i=u.current)?void 0:i.getCellAriaRole()}),HP.default.createElement("span",{className:T,ref:a}),HP.default.createElement("span",{className:M,ref:l}),HP.default.createElement("span",{className:R,ref:s}),HP.default.createElement("span",{className:"ag-group-value",ref:o},I&&HP.default.createElement(HP.default.Fragment,null,P),D&&HP.default.createElement(A,Zv({},d.params))),HP.default.createElement("span",{className:"ag-group-child-count"},c))}),ZK=(0,HP.memo)(e=>{let{ctrl:t}=e,i=t.isAlive(),{context:r}=(0,HP.useContext)(ZF),n=i?t.getColId():void 0,[o,s]=(0,HP.useState)(),a=(0,HP.useRef)(null),l=(0,HP.useRef)(null),u=(0,HP.useRef)(null),d=(0,HP.useRef)(),h=(0,HP.useRef)();i&&!h.current&&(h.current=new jF(()=>a.current));let c=(0,HP.useCallback)(e=>{var r;if(a.current=e,!a.current||!i)return;t.setComp({setWidth:e=>{a.current&&(a.current.style.width=e)},addOrRemoveCssClass:(e,t)=>h.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{a.current&&(e?jP.setAriaSort(a.current,e):jP.removeAriaSort(a.current))},setUserCompDetails:e=>s(e),getUserCompInstance:()=>d.current||void 0},a.current,l.current,u.current);let n=t.getSelectAllGui();null==(r=l.current)||r.insertAdjacentElement("afterend",n)},[]);(0,HP.useLayoutEffect)(()=>ZU(o,r,u.current,d),[o]),(0,HP.useEffect)(()=>{t.setDragSource(a.current)},[o]);let p=(0,HP.useMemo)(()=>!!((null==o?void 0:o.componentFromFramework)&&ZV(o.componentClass)),[o]),g=o&&o.componentFromFramework,f=o&&o.componentClass;return HP.default.createElement("div",{ref:c,className:"ag-header-cell","col-id":n,role:"columnheader"},HP.default.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),HP.default.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},g&&p&&HP.default.createElement(f,Zv({},o.params)),g&&!p&&HP.default.createElement(f,Zh(Zv({},o.params),Zc({ref:d})))))}),ZY=(0,HP.memo)(e=>{let{context:t}=(0,HP.useContext)(ZF),{ctrl:i}=e,[r,n]=(0,HP.useState)(()=>new ZG),[o,s]=(0,HP.useState)(()=>new ZG),[a,l]=(0,HP.useState)("false"),[u,d]=(0,HP.useState)(),[h,c]=(0,HP.useState)(),p=(0,HP.useMemo)(()=>i.getColId(),[]),g=(0,HP.useRef)(null),f=(0,HP.useRef)(null),m=(0,HP.useRef)(),v=(0,HP.useCallback)(e=>{g.current=e,g.current&&i.setComp({setWidth:e=>{g.current&&(g.current.style.width=e)},addOrRemoveCssClass:(e,t)=>n(i=>i.setClass(e,t)),setUserCompDetails:e=>c(e),setResizableDisplayed:e=>{s(t=>t.setClass("ag-hidden",!e)),l(e?"false":"true")},setAriaExpanded:e=>d(e),getUserCompInstance:()=>m.current||void 0},g.current,f.current)},[]);(0,HP.useLayoutEffect)(()=>ZU(h,t,g.current),[h]),(0,HP.useEffect)(()=>{g.current&&i.setDragSource(g.current)},[h]);let y=(0,HP.useMemo)(()=>!!((null==h?void 0:h.componentFromFramework)&&ZV(h.componentClass)),[h]),C=(0,HP.useMemo)(()=>"ag-header-group-cell "+r.toString(),[r]),w=(0,HP.useMemo)(()=>"ag-header-cell-resize "+o.toString(),[o]),b=h&&h.componentFromFramework,S=h&&h.componentClass;return HP.default.createElement("div",{ref:v,className:C,"col-id":p,role:"columnheader","aria-expanded":u},b&&y&&HP.default.createElement(S,Zv({},h.params)),b&&!y&&HP.default.createElement(S,Zh(Zv({},h.params),Zc({ref:m}))),HP.default.createElement("div",{ref:f,"aria-hidden":a,className:w}))});function Zq(){jP.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var ZX=(0,HP.memo)(e=>{let{context:t,gos:i}=(0,HP.useContext)(ZF),[r,n]=(0,HP.useState)(()=>new ZG("ag-header-cell","ag-floating-filter")),[o,s]=(0,HP.useState)(()=>new ZG),[a,l]=(0,HP.useState)(()=>new ZG("ag-floating-filter-button","ag-hidden")),[u,d]=(0,HP.useState)("false"),[h,c]=(0,HP.useState)(),[p,g]=(0,HP.useState)(1),f=(0,HP.useRef)(null),m=(0,HP.useRef)(null),v=(0,HP.useRef)(null),y=(0,HP.useRef)(null),C=(0,HP.useRef)(),w=(0,HP.useRef)(),b=e=>{null!=e&&C.current&&C.current(e)},{ctrl:S}=e,x=(0,HP.useCallback)(e=>{f.current=e,f.current&&(w.current=new jN(e=>{C.current=e}),S.setComp({addOrRemoveCssClass:(e,t)=>n(i=>i.setClass(e,t)),addOrRemoveBodyCssClass:(e,t)=>s(i=>i.setClass(e,t)),setButtonWrapperDisplayed:e=>{l(t=>t.setClass("ag-hidden",!e)),d(e?"false":"true")},setWidth:e=>{f.current&&(f.current.style.width=e)},setCompDetails:e=>c(e),getFloatingFilterComp:()=>w.current?w.current:null,setMenuIcon:e=>{var t;return null==(t=y.current)?void 0:t.appendChild(e)}},f.current,y.current,m.current))},[]);(0,HP.useLayoutEffect)(()=>ZU(h,t,m.current,b),[h]);let _=(0,HP.useMemo)(()=>r.toString(),[r]),E=(0,HP.useMemo)(()=>o.toString(),[o]),T=(0,HP.useMemo)(()=>a.toString(),[a]),M=(0,HP.useMemo)(()=>!!(h&&h.componentFromFramework&&ZV(h.componentClass)),[h]),R=(0,HP.useMemo)(()=>i.get("reactiveCustomComponents"),[]),D=(0,HP.useMemo)(()=>{if(h)if(R){let e=new ZR(h.params,()=>g(e=>e+1));return b(e),e}else h.componentFromFramework&&Zq()},[h]),A=null==D?void 0:D.getProps(),I=h&&h.componentFromFramework,P=h&&h.componentClass;return HP.default.createElement("div",{ref:x,className:_,role:"gridcell"},HP.default.createElement("div",{ref:m,className:E,role:"presentation"},I&&!R&&HP.default.createElement(P,Zh(Zv({},h.params),Zc({ref:M?()=>{}:b}))),I&&R&&HP.default.createElement(Zy.Provider,{value:{setMethods:e=>D.setMethods(e)}},HP.default.createElement(P,Zv({},A)))),HP.default.createElement("div",{ref:v,"aria-hidden":u,className:T,role:"presentation"},HP.default.createElement("button",{ref:y,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}),ZZ=(0,HP.memo)(e=>{let{ctrl:t}=e,{topOffset:i,rowHeight:r}=(0,HP.useMemo)(()=>t.getTopAndHeight(),[]),n=t.getAriaRowIndex(),o=t.getHeaderRowClass(),[s,a]=(0,HP.useState)(()=>r+"px"),[l,u]=(0,HP.useState)(()=>i+"px"),d=(0,HP.useRef)(null),h=(0,HP.useRef)(null),[c,p]=(0,HP.useState)(()=>t.getHeaderCtrls()),g=(0,HP.useRef)(null),f=(0,HP.useCallback)(e=>{g.current=e,e&&t.setComp({setHeight:e=>a(e),setTop:e=>u(e),setHeaderCtrls:(e,t,i)=>{h.current=d.current,d.current=e;let r=ZW(h.current,e,t);r!==h.current&&Zz(i,()=>p(r))},setWidth:e=>{g.current&&(g.current.style.width=e)}},!1)},[]),m=(0,HP.useMemo)(()=>({height:s,top:l}),[s,l]),v=(0,HP.useCallback)(e=>{switch(t.getType()){case Ym.COLUMN_GROUP:return HP.default.createElement(ZY,{ctrl:e,key:e.getInstanceId()});case Ym.FLOATING_FILTER:return HP.default.createElement(ZX,{ctrl:e,key:e.getInstanceId()});default:return HP.default.createElement(ZK,{ctrl:e,key:e.getInstanceId()})}},[]);return HP.default.createElement("div",{ref:f,className:o,role:"row",style:m,"aria-rowindex":n},c.map(v))}),ZQ=(0,HP.memo)(e=>{let[t,i]=(0,HP.useState)(!0),[r,n]=(0,HP.useState)([]),{context:o}=(0,HP.useContext)(ZF),s=(0,HP.useRef)(null),a=(0,HP.useRef)(null),l=(0,HP.useRef)(null),u="left"===e.pinned,d="right"===e.pinned,h=(0,HP.useCallback)(t=>{if(s.current=t,!s.current){o.destroyBean(l.current),l.current=null;return}l.current=o.createBean(new YP(e.pinned)),l.current.setComp({setDisplayed:i,setCtrls:e=>n(e),setCenterWidth:e=>{a.current&&(a.current.style.width=e)},setViewportScrollLeft:e=>{s.current&&(s.current.scrollLeft=e)},setPinnedContainerWidth:e=>{s.current&&(s.current.style.width=e,s.current.style.minWidth=e,s.current.style.maxWidth=e)}},s.current)},[]),c=t?"":"ag-hidden",p=()=>r.map(e=>HP.default.createElement(ZZ,{ctrl:e,key:e.getInstanceId()}));return HP.default.createElement(HP.default.Fragment,null,u&&HP.default.createElement("div",{ref:h,className:"ag-pinned-left-header "+c,"aria-hidden":!t,role:"rowgroup"},p()),d&&HP.default.createElement("div",{ref:h,className:"ag-pinned-right-header "+c,"aria-hidden":!t,role:"rowgroup"},p()),!u&&!d&&HP.default.createElement("div",{ref:h,className:"ag-header-viewport "+c,role:"presentation"},HP.default.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},p())))}),ZJ=(0,HP.memo)(()=>{let[e,t]=(0,HP.useState)(()=>new ZG),[i,r]=(0,HP.useState)(),{context:n}=(0,HP.useContext)(ZF),o=(0,HP.useRef)(null),s=(0,HP.useRef)(null),a=(0,HP.useCallback)(e=>{if(o.current=e,!e){n.destroyBean(s.current),s.current=null;return}s.current=n.createBean(new YF),s.current.setComp({addOrRemoveCssClass:(e,i)=>t(t=>t.setClass(e,i)),setHeightAndMinHeight:e=>r(e)},o.current,o.current)},[]),l=(0,HP.useMemo)(()=>"ag-header "+e.toString(),[e]),u=(0,HP.useMemo)(()=>({height:i,minHeight:i}),[i]);return HP.default.createElement("div",{ref:a,className:l,style:u,role:"presentation"},HP.default.createElement(ZQ,{pinned:"left"}),HP.default.createElement(ZQ,{pinned:null}),HP.default.createElement(ZQ,{pinned:"right"}))}),Z0=(e,t)=>{(0,HP.useEffect)(()=>{let i=t.current;if(i){let t=i.parentElement;if(t){let r=document.createComment(e);return t.insertBefore(r,i),()=>{t.removeChild(r)}}}},[e])},Z1=(0,HP.memo)(e=>{let[t,i]=(0,HP.useState)(),{context:r,popupService:n,localeService:o,gos:s}=(0,HP.useContext)(ZF);return(e=>{let t=(0,HP.useRef)(e),i=(0,HP.useRef)(),r=(0,HP.useRef)(!1),n=(0,HP.useRef)(!1),[,o]=(0,HP.useState)(0);r.current&&(n.current=!0),(0,HP.useEffect)(()=>(r.current||(i.current=t.current(),r.current=!0),o(e=>e+1),()=>{n.current&&i.current&&i.current()}),[])})(()=>{let{editDetails:t,cellCtrl:a,eParentCell:l}=e,{compDetails:u}=t,d=s.get("stopEditingWhenCellsLoseFocus"),h=r.createBean(new Ys(u.params)),c=h.getGui();if(e.jsChildComp){let t=e.jsChildComp.getGui();t&&c.appendChild(t)}let p={column:a.getColumn(),rowNode:a.getRowNode(),type:"popupCellEditor",eventSource:l,ePopup:c,position:t.popupPosition,keepWithinBounds:!0},g=n.positionPopupByComponent.bind(n,p),f=o.getLocaleTextFunc(),m=n.addPopup({modal:d,eChild:c,closeOnEsc:!0,closedCallback:()=>{a.onPopupEditorClosed()},anchorToElement:l,positionCallback:g,ariaLabel:f("ariaLabelCellEditor","Cell Editor")}),v=m?m.hideFunc:void 0;return i(h),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{null!=v&&v(),r.destroyBean(h)}}),HP.default.createElement(HP.default.Fragment,null,t&&e.wrappedContent&&(0,eY.createPortal)(e.wrappedContent,t.getGui()))}),Z2=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new jN(e=>{this.resolveInstanceCreated=e}),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return Zh(Zv({},this.cellEditorParams),Zc({initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}))}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Zx(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,null==(t=this.resolveInstanceCreated)||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Z5=(e,t,i)=>{let r=e.compProxy;return HP.default.createElement(HP.default.Fragment,null,!r&&HP.default.createElement(t,Zh(Zv({},e.compDetails.params),Zc({ref:i}))),r&&((e,t,i)=>{let{compProxy:r}=e;i(r);let n=r.getProps(),o=ZV(t);return HP.default.createElement(Zy.Provider,{value:{setMethods:e=>r.setMethods(e)}},o&&HP.default.createElement(t,Zv({},n)),!o&&HP.default.createElement(t,Zh(Zv({},n),Zc({ref:e=>r.setRef(e)}))))})(e,t,i))},Z3=(0,HP.memo)(e=>{let{context:t}=(0,HP.useContext)(ZF),{cellCtrl:i,printLayout:r,editingRow:n}=e,o=i.getTabIndex(),s=i.getColumnIdSanitised(),a=i.getInstanceId(),[l,u]=(0,HP.useState)(()=>i.isCellRenderer()?void 0:{compDetails:void 0,value:i.getValueToDisplay(),force:!1}),[d,h]=(0,HP.useState)(),[c,p]=(0,HP.useState)(1),[g,f]=(0,HP.useState)(),[m,v]=(0,HP.useState)(!1),[y,C]=(0,HP.useState)(!1),[w,b]=(0,HP.useState)(!1),[S,x]=(0,HP.useState)(),_=(0,HP.useMemo)(()=>i.isForceWrapper(),[i]),E=(0,HP.useMemo)(()=>i.getCellAriaRole(),[i]),T=(0,HP.useRef)(null),M=(0,HP.useRef)(null),R=(0,HP.useRef)(),D=(0,HP.useRef)(),A=(0,HP.useRef)(),I=(0,HP.useRef)([]),P=(0,HP.useRef)(),[L,k]=(0,HP.useState)(0),N=(0,HP.useCallback)(e=>{P.current=e,k(e=>e+1)},[]),F=null!=l&&(m||w||y),O=_||F,G=(0,HP.useCallback)((e,t)=>{if(D.current=t,t){let r=i.getColumn();if(!e&&t.isPopup&&t.isPopup()){let e=`AG Grid: Found an issue in column ${r.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;jP.doOnce(()=>console.warn(e),"jsEditorComp-isPopup-"+i.getColumn().getColId())}if(e&&t.getPopupPosition&&null!=t.getPopupPosition()){let e=`AG Grid: Found an issue in column ${r.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;jP.doOnce(()=>console.warn(e),"jsEditorComp-getPopupPosition-"+i.getColumn().getColId())}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>{i.stopEditing(!0),i.focusCell(!0)})}},[i]),V=(0,HP.useCallback)(e=>G(!0,e),[G]),B=(0,HP.useCallback)(e=>G(!1,e),[G]),H=(0,HP.useRef)();H.current||(H.current=new jF(()=>T.current)),((e,t,i,r,n,o)=>{let{context:s}=(0,HP.useContext)(ZF),a=(0,HP.useCallback)(()=>{let e=n.current;if(!e)return;let t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),s.destroyBean(e),n.current=void 0},[]);(0,HP.useEffect)(()=>{let r=null!=e,s=e&&e.compDetails&&!e.compDetails.componentFromFramework,l=t&&null==i;if(!(r&&s&&!l))return void a();let u=e.compDetails;if(n.current){let t=n.current,i=null!=t.refresh&&!1==e.force&&t.refresh(u.params);if(!0===i||void 0===i)return;a()}let d=u.newAgStackInstance();if(!d)return;let h=d.resolveNow(null,e=>e);if(!h)return;let c=h.getGui();c&&((t?i:o.current).appendChild(c),n.current=h)},[e,t,r]),(0,HP.useEffect)(()=>a,[])})(l,O,P.current,L,R,T);let z=(0,HP.useRef)();(0,HP.useLayoutEffect)(()=>{let e=z.current;if(z.current=l,null==e||null==e.compDetails||null==l||null==l.compDetails)return;let t=e.compDetails,i=l.compDetails;t.componentClass!=i.componentClass||null==M.current||null==M.current.refresh||!0!=M.current.refresh(i.params)&&p(e=>e+1)},[l]),(0,HP.useLayoutEffect)(()=>{if(!(d&&!d.compDetails.componentFromFramework))return;let e=d.compDetails,i=!0===d.popup,r=(e=>{let t=e.newAgStackInstance();if(t)return t.resolveNow(null,e=>e)})(e);if(!r)return;let n=r.getGui();if(G(i,r),!i){let e=(_?A:T).current;null==e||e.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()}return x(r),()=>{t.destroyBean(r),G(i,void 0),x(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}},[d]);let W=(0,HP.useCallback)(e=>{if(A.current=e,!A.current){I.current.forEach(e=>e()),I.current=[];return}let r=e=>{var i;if(e){let r=e.getGui();null==(i=A.current)||i.insertAdjacentElement("afterbegin",r),I.current.push(()=>{t.destroyBean(e),jP.removeFromParent(r)})}return e};m&&r(i.createSelectionCheckbox()),w&&r(i.createDndSource()),y&&r(i.createRowDragComp())},[i,t,w,y,m]),U=(0,HP.useCallback)(e=>{if(T.current=e,!T.current||!i)return;let t=A.current||void 0;i.setComp({addOrRemoveCssClass:(e,t)=>H.current.addOrRemoveCssClass(e,t),setUserStyles:e=>f(e),getFocusableElement:()=>T.current,setIncludeSelection:e=>v(e),setIncludeRowDrag:e=>C(e),setIncludeDndSource:e=>b(e),getCellEditor:()=>D.current||null,getCellRenderer:()=>M.current?M.current:R.current,getParentOfValue:()=>P.current?P.current:A.current?A.current:T.current,setRenderDetails:(e,t,i)=>{u(r=>(null==r?void 0:r.compDetails)!==e||(null==r?void 0:r.value)!==t||(null==r?void 0:r.force)!==i?{value:t,compDetails:e,force:i}:r)},setEditDetails:(e,t,i,r)=>{if(e){let n;r?n=new Z2(e.params,()=>p(e=>e+1)):e.componentFromFramework&&Zq(),h({compDetails:e,popup:t,popupPosition:i,compProxy:n}),t||u(void 0)}else h(e=>{(null==e?void 0:e.compProxy)&&(D.current=void 0)})}},T.current,t,r,n)},[]),j=(0,HP.useMemo)(()=>!!(l&&l.compDetails&&l.compDetails.componentFromFramework&&ZV(l.compDetails.componentClass)),[l]);(0,HP.useLayoutEffect)(()=>{var e;T.current&&(H.current.addOrRemoveCssClass("ag-cell-value",!O),H.current.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),H.current.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),H.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),null==(e=i.getRowCtrl())||e.setInlineEditingCss(!!d),i.shouldRestoreFocus()&&!i.isEditing()&&T.current.focus({preventScroll:!0}))});let $=()=>{var e;let t,r,n,o,s;return HP.default.createElement(HP.default.Fragment,null,null!=l&&((e,t,i,r,n,o,s)=>{let{compDetails:a,value:l}=e,u=!a,d=a&&a.componentFromFramework,h=a&&a.componentClass,c=(null==l?void 0:l.toString)?l.toString():l,p=()=>HP.default.createElement(HP.default.Fragment,null,u&&HP.default.createElement(HP.default.Fragment,null,c),d&&!o&&HP.default.createElement(h,Zh(Zv({},a.params),Zc({key:t,ref:r}))),d&&o&&HP.default.createElement(h,Zh(Zv({},a.params),Zc({key:t}))));return HP.default.createElement(HP.default.Fragment,null,n?HP.default.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:s},p()):p())})(l,c,a,M,O,j,N),null!=d&&(e=T.current,r=(t=d.compDetails).componentClass,n=t.componentFromFramework&&!d.popup,o=t.componentFromFramework&&d.popup,s=!t.componentFromFramework&&d.popup,HP.default.createElement(HP.default.Fragment,null,n&&Z5(d,r,B),o&&HP.default.createElement(Z1,{editDetails:d,cellCtrl:i,eParentCell:e,wrappedContent:Z5(d,r,V)}),s&&S&&HP.default.createElement(Z1,{editDetails:d,cellCtrl:i,eParentCell:e,jsChildComp:S}))))};return HP.default.createElement("div",{ref:U,style:g,tabIndex:o,role:E,"col-id":s},O?HP.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:W},$()):$())}),Z4=(0,HP.memo)(e=>{let t,{context:i,gos:r}=(0,HP.useContext)(ZF),{rowCtrl:n,containerType:o}=e,s=n.getTabIndex(),a=(0,HP.useRef)(n.getDomOrder()),l=n.isFullWidth(),u=n.getRowNode().displayed,[d,h]=(0,HP.useState)(()=>u?n.getRowIndex():null),[c,p]=(0,HP.useState)(()=>n.getRowId()),[g,f]=(0,HP.useState)(()=>n.getBusinessKey()),[m,v]=(0,HP.useState)(()=>n.getRowStyles()),y=(0,HP.useRef)(null),C=(0,HP.useRef)(null),[w,b]=(0,HP.useState)(()=>null),[S,x]=(0,HP.useState)(),[_,E]=(0,HP.useState)(()=>u?n.getInitialRowTop(o):void 0),[T,M]=(0,HP.useState)(()=>u?n.getInitialTransform(o):void 0),R=(0,HP.useRef)(null),D=(0,HP.useRef)(),A=(0,HP.useRef)(!1),[I,P]=(0,HP.useState)(0);(0,HP.useEffect)(()=>{var e;if(A.current||!S||I>10)return;let t=null==(e=R.current)?void 0:e.firstChild;t?(n.setupDetailRowAutoHeight(t),A.current=!0):P(e=>e+1)},[S,I]);let L=(0,HP.useRef)();L.current||(L.current=new jF(()=>R.current));let k=(0,HP.useCallback)(e=>{(R.current=e,R.current)?n.isAlive()&&n.setComp({setTop:E,setTransform:M,addOrRemoveCssClass:(e,t)=>L.current.addOrRemoveCssClass(e,t),setDomOrder:e=>a.current=e,setRowIndex:h,setRowId:p,setRowBusinessKey:f,setUserStyles:v,setCellCtrls:(e,t)=>{C.current=y.current,y.current=e;let i=ZW(C.current,e,a.current);i!==C.current&&Zz(t,()=>b(i))},showFullWidth:e=>x(e),getFullWidthCellRenderer:()=>D.current,refreshFullWidth:e=>V.current?(x(t=>Zh(Zv({},t),Zc({params:e()}))),!0):!!D.current&&!!D.current.refresh&&D.current.refresh(e())},R.current,o):n.unsetComp(o)},[]);(0,HP.useLayoutEffect)(()=>ZU(S,i,R.current,D),[S]);let N=(0,HP.useMemo)(()=>{let e={top:_,transform:T};return Object.assign(e,m),e},[_,T,m]),F=l&&S&&S.componentFromFramework,O=!l&&null!=w,G=(0,HP.useMemo)(()=>!!((null==S?void 0:S.componentFromFramework)&&ZV(S.componentClass)),[S]),V=(0,HP.useRef)(!1);return(0,HP.useEffect)(()=>{V.current=G&&!!S&&!!r.get("reactiveCustomComponents")},[G,S]),HP.default.createElement("div",{ref:k,role:"row",style:N,"row-index":d,"row-id":c,"row-business-key":g,tabIndex:s},O&&(null==w?void 0:w.map(e=>HP.default.createElement(Z3,{cellCtrl:e,editingRow:n.isEditing(),printLayout:n.isPrintLayout(),key:e.getInstanceId()}))),F&&(t=S.componentClass,HP.default.createElement(HP.default.Fragment,null,G&&HP.default.createElement(t,Zv({},S.params)),!G&&HP.default.createElement(t,Zh(Zv({},S.params),Zc({ref:D}))))))}),Z6=(0,HP.memo)(e=>{let{context:t}=(0,HP.useContext)(ZF),{name:i}=e,r=(0,HP.useMemo)(()=>K8(i),[i]),n=(0,HP.useRef)(null),o=(0,HP.useRef)(null),s=(0,HP.useRef)([]),a=(0,HP.useRef)([]),[l,u]=(0,HP.useState)(()=>[]),d=(0,HP.useRef)(!1),h=(0,HP.useRef)(),c=(0,HP.useMemo)(()=>Ye.getRowContainerCssClasses(i),[i]),p=(0,HP.useMemo)(()=>ZO(c.viewport),[c]),g=(0,HP.useMemo)(()=>ZO(c.container),[c]),f=i===K4.CENTER||i===K4.TOP_CENTER||i===K4.BOTTOM_CENTER||i===K4.STICKY_TOP_CENTER||i===K4.STICKY_BOTTOM_CENTER;Z0(" AG Row Container "+i+" ",f?n:o);let m=(0,HP.useCallback)(()=>f?null!=n.current&&null!=o.current:null!=o.current,[]),v=(0,HP.useCallback)(()=>f?null==n.current&&null==o.current:null==o.current,[]),y=(0,HP.useCallback)(()=>{if(v()&&(t.destroyBean(h.current),h.current=null),m()){let e=e=>{let t=ZW(a.current,s.current,d.current);t!==a.current&&(a.current=t,Zz(e,()=>u(t)))};h.current=t.createBean(new Ye(i)),h.current.setComp({setViewportHeight:e=>{n.current&&(n.current.style.height=e)},setRowCtrls:({rowCtrls:t,useFlushSync:i})=>{let r=!!i&&s.current.length>0&&t.length>0;s.current=t,e(r)},setDomOrder:t=>{d.current!=t&&(d.current=t,e(!1))},setContainerWidth:e=>{o.current&&(o.current.style.width=e)}},o.current,n.current)}},[m,v]),C=(0,HP.useCallback)(e=>{o.current=e,y()},[y]),w=(0,HP.useCallback)(e=>{n.current=e,y()},[y]),b=()=>HP.default.createElement("div",{className:g,ref:C,role:"rowgroup"},l.map(e=>HP.default.createElement(Z4,{rowCtrl:e,containerType:r,key:e.getInstanceId()})));return HP.default.createElement(HP.default.Fragment,null,f?HP.default.createElement("div",{className:p,ref:w,role:"presentation"},b()):b())}),Z8=(0,HP.memo)(()=>{let{context:e,agStackComponentsRegistry:t,resizeObserverService:i}=(0,HP.useContext)(ZF),[r,n]=(0,HP.useState)(""),[o,s]=(0,HP.useState)(0),[a,l]=(0,HP.useState)(0),[u,d]=(0,HP.useState)("0px"),[h,c]=(0,HP.useState)("0px"),[p,g]=(0,HP.useState)("100%"),[f,m]=(0,HP.useState)("0px"),[v,y]=(0,HP.useState)("0px"),[C,w]=(0,HP.useState)("100%"),[b,S]=(0,HP.useState)(""),[x,_]=(0,HP.useState)(""),[E,T]=(0,HP.useState)(null),[M,R]=(0,HP.useState)(""),[D,A]=(0,HP.useState)(null),[I,P]=(0,HP.useState)("ag-layout-normal"),L=(0,HP.useRef)();L.current||(L.current=new jF(()=>k.current));let k=(0,HP.useRef)(null),N=(0,HP.useRef)(null),F=(0,HP.useRef)(null),O=(0,HP.useRef)(null),G=(0,HP.useRef)(null),V=(0,HP.useRef)(null),B=(0,HP.useRef)(null),H=(0,HP.useRef)([]),z=(0,HP.useRef)([]);Z0(" AG Grid Body ",k),Z0(" AG Pinned Top ",N),Z0(" AG Sticky Top ",F),Z0(" AG Middle ",V),Z0(" AG Pinned Bottom ",B);let W=(0,HP.useCallback)(r=>{if(k.current=r,!k.current){e.destroyBeans(H.current),z.current.forEach(e=>e()),H.current=[],z.current=[];return}if(!e)return;let o=i=>{let r=t.getComponentClass(i),n=e.createBean(new r);return H.current.push(n),n},a=(e,t)=>{e.appendChild(t),z.current.push(()=>e.removeChild(t))};a(k.current,document.createComment(" AG Fake Horizontal Scroll ")),a(k.current,o("AG-FAKE-HORIZONTAL-SCROLL").getGui()),a(k.current,document.createComment(" AG Overlay Wrapper ")),a(k.current,o("AG-OVERLAY-WRAPPER").getGui()),G.current&&(a(G.current,document.createComment(" AG Fake Vertical Scroll ")),a(G.current,o("AG-FAKE-VERTICAL-SCROLL").getGui()));let u=e.createBean(new KF);H.current.push(u),u.setComp({setRowAnimationCssOnBodyViewport:n,setColumnCount:e=>{k.current&&jP.setAriaColCount(k.current,e)},setRowCount:e=>{k.current&&jP.setAriaRowCount(k.current,e)},setTopHeight:s,setBottomHeight:l,setStickyTopHeight:d,setStickyTopTop:c,setStickyTopWidth:g,setTopDisplay:S,setBottomDisplay:_,setColumnMovingCss:(e,t)=>L.current.addOrRemoveCssClass(e,t),updateLayoutClasses:P,setAlwaysVerticalScrollClass:T,setPinnedTopBottomOverflowY:R,setCellSelectableCss:(e,t)=>A(t?e:null),setBodyViewportWidth:e=>{V.current&&(V.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(V.current){let t=i.observeResize(V.current,e);z.current.push(()=>t())}},setStickyBottomHeight:m,setStickyBottomBottom:y,setStickyBottomWidth:w},k.current,V.current,N.current,B.current,F.current,O.current)},[]),U=(0,HP.useMemo)(()=>ZO("ag-root","ag-unselectable",I),[I]),j=(0,HP.useMemo)(()=>ZO("ag-body-viewport",r,I,E,D),[r,I,E,D]),$=(0,HP.useMemo)(()=>ZO("ag-body",I),[I]),K=(0,HP.useMemo)(()=>ZO("ag-floating-top",D),[D]),Y=(0,HP.useMemo)(()=>ZO("ag-sticky-top",D),[D]),q=(0,HP.useMemo)(()=>ZO("ag-sticky-bottom",D),[D]),X=(0,HP.useMemo)(()=>ZO("ag-floating-bottom",D),[D]),Z=(0,HP.useMemo)(()=>({height:o,minHeight:o,display:b,overflowY:M}),[o,b,M]),Q=(0,HP.useMemo)(()=>({height:u,top:h,width:p}),[u,h,p]),J=(0,HP.useMemo)(()=>({height:f,bottom:v,width:C}),[f,v,C]),ee=(0,HP.useMemo)(()=>({height:a,minHeight:a,display:x,overflowY:M}),[a,x,M]),et=e=>HP.default.createElement(Z6,{name:e,key:`${e}-container`}),ei=({section:e,children:t,className:i,style:r})=>HP.default.createElement("div",{ref:e,className:i,role:"presentation",style:r},t.map(et));return HP.default.createElement("div",{ref:W,className:U,role:"treegrid"},HP.default.createElement(ZJ,null),ei({section:N,className:K,style:Z,children:[K4.TOP_LEFT,K4.TOP_CENTER,K4.TOP_RIGHT,K4.TOP_FULL_WIDTH]}),HP.default.createElement("div",{className:$,ref:G,role:"presentation"},ei({section:V,className:j,children:[K4.LEFT,K4.CENTER,K4.RIGHT,K4.FULL_WIDTH]})),ei({section:F,className:Y,style:Q,children:[K4.STICKY_TOP_LEFT,K4.STICKY_TOP_CENTER,K4.STICKY_TOP_RIGHT,K4.STICKY_TOP_FULL_WIDTH]}),ei({section:O,className:q,style:J,children:[K4.STICKY_BOTTOM_LEFT,K4.STICKY_BOTTOM_CENTER,K4.STICKY_BOTTOM_RIGHT,K4.STICKY_BOTTOM_FULL_WIDTH]}),ei({section:B,className:X,style:ee,children:[K4.BOTTOM_LEFT,K4.BOTTOM_CENTER,K4.BOTTOM_RIGHT,K4.BOTTOM_FULL_WIDTH]}))}),Z9=(0,HP.forwardRef)((e,t)=>{let{children:i,eFocusableElement:r,onTabKeyDown:n,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:s}=e,{context:a}=(0,HP.useContext)(ZF),l=(0,HP.useRef)(null),u=(0,HP.useRef)(null),d=(0,HP.useRef)(),h=e=>{let t=null==e?void 0:parseInt(e,10).toString();[l,u].forEach(e=>{var i,r;void 0===t?null==(i=e.current)||i.removeAttribute("tabindex"):null==(r=e.current)||r.setAttribute("tabindex",t)})};(0,HP.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(e){var t;null==(t=d.current)||t.forceFocusOutOfContainer(e)}}));let c=(0,HP.useCallback)(()=>{if(!l.current&&!u.current){a.destroyBean(d.current),d.current=null;return}l.current&&u.current&&(d.current=a.createBean(new YH({comp:{setTabIndex:h},eTopGuard:l.current,eBottomGuard:u.current,eFocusableElement:r,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:e=>o.focusInnerElement(e)})))},[]),p=(0,HP.useCallback)(e=>{l.current=e,c()},[c]),g=(0,HP.useCallback)(e=>{u.current=e,c()},[c]),f=e=>{let t="top"===e?YB.TAB_GUARD_TOP:YB.TAB_GUARD_BOTTOM;return HP.default.createElement("div",{className:`${YB.TAB_GUARD} ${t}`,role:"presentation",ref:"top"===e?p:g})};return HP.default.createElement(HP.default.Fragment,null,f("top"),i,f("bottom"))}),Z7=(0,HP.memo)(Z9),Qe=(0,HP.memo)(({context:e})=>{let[t,i]=(0,HP.useState)(""),[r,n]=(0,HP.useState)(""),[o,s]=(0,HP.useState)(""),[a,l]=(0,HP.useState)(null),[u,d]=(0,HP.useState)(null),[h,c]=(0,HP.useState)(!1),[p,g]=(0,HP.useState)(),f=(0,HP.useRef)(null),m=(0,HP.useRef)(null),v=(0,HP.useRef)(),[y,C]=(0,HP.useState)(null),w=(0,HP.useRef)(()=>void 0),b=(0,HP.useCallback)(()=>void 0,[]),S=(0,HP.useMemo)(()=>e.isDestroyed()?null:e.getBean("beans"),[e]);Z0(" AG Grid ",m);let x=(0,HP.useCallback)(t=>{if(m.current=t,!m.current){e.destroyBean(f.current),f.current=null;return}if(e.isDestroyed())return;f.current=e.createBean(new qk);let r=f.current;w.current=r.focusInnerElement.bind(r),r.setComp({destroyGridUi:()=>{},setRtlClass:i,forceFocusOutOfContainer:e=>{var t;null==(t=v.current)||t.forceFocusOutOfContainer(e)},updateLayoutClasses:s,getFocusableContainers:()=>{var e,t;let i=[],r=null==(e=m.current)?void 0:e.querySelector(".ag-root"),n=null==(t=m.current)?void 0:t.querySelector(".ag-side-bar:not(.ag-hidden)");return r&&i.push(r),n&&i.push(n),i},setCursor:l,setUserSelect:d},m.current,m.current),c(!0)},[]);(0,HP.useEffect)(()=>{if(!p||!S||!f.current||!y||!m.current)return;let t=f.current,i=[],{agStackComponentsRegistry:r}=S,n=r.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),o=r.getComponentClass("AG-SIDE-BAR"),s=r.getComponentClass("AG-STATUS-BAR"),a=r.getComponentClass("AG-WATERMARK"),l=r.getComponentClass("AG-PAGINATION"),u=[],d=m.current;if(t.showDropZones()&&n){let t=e.createBean(new n),r=t.getGui();d.insertAdjacentElement("afterbegin",r),u.push(r),i.push(t)}if(t.showSideBar()&&o){let t=e.createBean(new o),r=t.getGui(),n=y.querySelector(".ag-tab-guard-bottom");n&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),i.push(t)}if(t.showStatusBar()&&s){let t=e.createBean(new s),r=t.getGui();d.insertAdjacentElement("beforeend",r),u.push(r),i.push(t)}if(l){let t=e.createBean(new l),r=t.getGui();d.insertAdjacentElement("beforeend",r),u.push(r),i.push(t)}if(t.showWatermark()&&a){let t=e.createBean(new a),r=t.getGui();d.insertAdjacentElement("beforeend",r),u.push(r),i.push(t)}return()=>{e.destroyBeans(i),u.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}},[p,y,S]);let _=(0,HP.useMemo)(()=>ZO("ag-root-wrapper",t,r,o),[t,r,o]),E=(0,HP.useMemo)(()=>ZO("ag-root-wrapper-body","ag-focus-managed",o),[o]),T=(0,HP.useMemo)(()=>({userSelect:null!=u?u:"",WebkitUserSelect:null!=u?u:"",cursor:null!=a?a:""}),[u,a]),M=(0,HP.useCallback)(e=>{v.current=e,g(null!==e)},[]);return HP.default.createElement("div",{ref:x,className:_,style:T,role:"presentation"},HP.default.createElement("div",{className:E,ref:C,role:"presentation"},h&&y&&S&&HP.default.createElement(ZF.Provider,{value:S},HP.default.createElement(Z7,{ref:M,eFocusableElement:y,onTabKeyDown:b,gridCtrl:f.current,forceFocusOutWhenTabGuardsAreEmpty:!0},HP.default.createElement(Z8,null)))))}),Qt=e=>{var t,i;let r=(0,HP.useRef)(),n=(0,HP.useRef)(null),o=(0,HP.useRef)(null),s=(0,HP.useRef)([]),a=(0,HP.useRef)([]),l=(0,HP.useRef)(e),u=(0,HP.useRef)(!1),[d,h]=(0,HP.useState)(void 0),[,c]=(0,HP.useState)(0),p=(0,HP.useCallback)(t=>{if(n.current=t,!n.current){s.current.forEach(e=>e()),s.current.length=0;return}let i=e.modules||[];o.current||(o.current=new ZN(()=>c(e=>e+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{var e;null==(e=o.current)||e.destroy(),o.current=null}));let l=WN.combineAttributesAndGridOptions(e.gridOptions,e),d={providedBeanInstances:{frameworkComponentWrapper:new Qi(o.current,!!l.reactiveCustomComponents)},modules:i,frameworkOverrides:new Qn};r.current=new Xx().create(n.current,l,t=>{h(t),s.current.push(()=>{t.destroy()}),t.getBean(q9.NAME).whenReady(()=>{if(t.isDestroyed())return;let i=r.current;i&&e.setGridApi&&e.setGridApi(i,new qD(i))})},e=>{e.getBean(q9.NAME).whenReady(()=>{a.current.forEach(e=>e()),a.current.length=0,u.current=!0})},d)},[]),g=(0,HP.useMemo)(()=>Zv({height:"100%"},e.containerStyle||{}),[e.containerStyle]),f=(0,HP.useCallback)(e=>{u.current?e():a.current.push(e)},[]);return(0,HP.useEffect)(()=>{var t,i;let n,o=(t=l.current,n={},Object.keys(i=e).forEach(e=>{let r=i[e];t[e]!==r&&(n[e]=r)}),n);l.current=e,f(()=>{r.current&&WN.processOnChange(o,r.current)})},[e]),HP.default.createElement("div",{style:g,className:e.className,ref:p},d&&!d.isDestroyed()?HP.default.createElement(Qe,{context:d}):null,null!=(i=null==(t=o.current)?void 0:t.getPortals())?i:null)},Qi=class extends X_{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){let i=(e=>{switch(e){case"filter":return ZT;case"floatingFilterComponent":return ZD;case"dateComponent":return ZE;case"loadingOverlayComponent":return ZA;case"noRowsOverlayComponent":return ZP;case"statusPanel":return ZL;case"toolPanel":return Zk;case"menuItem":return ZI}})(t.propertyName);if(i)return new i(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":Zq()}let i=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new ZS(e,this.parent,t,i)}},Qr=(0,HP.forwardRef)((e,t)=>{let{ctrlsFactory:i,context:r,gos:n,resizeObserverService:o,clientSideRowModel:s,serverSideRowModel:a}=(0,HP.useContext)(ZF),[l,u]=(0,HP.useState)(()=>new ZG),[d,h]=(0,HP.useState)(()=>new ZG),[c,p]=(0,HP.useState)(),[g,f]=(0,HP.useState)(),m=(0,HP.useRef)(),v=(0,HP.useRef)(null),y=(0,HP.useRef)(),C=(0,HP.useMemo)(()=>zS.__getGridRegisteredModules(e.api.getGridId()),[e]),w=(0,HP.useMemo)(()=>l.toString()+" ag-details-row",[l]),b=(0,HP.useMemo)(()=>d.toString()+" ag-details-grid",[d]);t&&(0,HP.useImperativeHandle)(t,()=>({refresh(){var e,t;return null!=(t=null==(e=m.current)?void 0:e.refresh())&&t}})),e.template&&jP.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");let S=(0,HP.useCallback)(t=>{if(v.current=t,!v.current){r.destroyBean(m.current),y.current&&y.current();return}let l=i.getInstance("detailCellRenderer");if(l&&(r.createBean(l),l.init({addOrRemoveCssClass:(e,t)=>u(i=>i.setClass(e,t)),addOrRemoveDetailGridCssClass:(e,t)=>h(i=>i.setClass(e,t)),setDetailGrid:e=>p(e),setRowData:e=>f(e),getGui:()=>v.current},e),m.current=l,n.get("detailRowAutoHeight"))){let t=()=>{if(null==v.current)return;let t=v.current.clientHeight;null!=t&&t>0&&setTimeout(()=>{e.node.setRowHeight(t),s?s.onRowHeightChanged():a&&a.onRowHeightChanged()},0)};y.current=o.observeResize(v.current,t),t()}},[]),x=(0,HP.useCallback)((e,t)=>{var i;null==(i=m.current)||i.registerDetailWithMaster(e,t)},[]);return HP.default.createElement("div",{className:w,ref:S},c&&HP.default.createElement(Qt,Zh(Zv({className:b},c),Zc({modules:C,rowData:g,setGridApi:x}))))}),Qn=class extends qE{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:Z$,agGroupRowRenderer:Z$,agDetailCellRenderer:Qr},this.wrapIncoming=(e,t)=>{if("ensureVisible"===t)return ZH||setTimeout(()=>ZH=!1,0),ZH=!0,e();return e()},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;let t=e.prototype;return!(t&&"getGui"in t)}},Qo=class extends HP.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return HP.default.createElement(Qt,Zh(Zv({},this.props),Zc({setGridApi:this.setGridApi})))}},Qs=((z=Qs||{}).IdentityCheck="IdentityCheck",z.DeepValueCheck="DeepValueCheck",z.NoCheck="NoCheck",z),Qa=e.i(71944);let Ql=()=>{let{setTicker:e}=(0,sr.useAppContext)(),t=(0,eV.useMemo)(()=>(0,Qa.default)(a_.default).map(e=>{let t={...e};return delete t[""],t}),[]),i=(0,eV.useMemo)(()=>{if(!t||0===t.length)return[];let e=Object.keys(t[0]);if(e.length>1){let t=e[0];e[0]=e[1],e[1]=t}return e.map(e=>{let t={field:e,resizable:!0,sortable:!0,filter:!0,floatingFilter:!0};switch(e){case"Date":t.minWidth=120,t.flex=1;break;case"Direction":case"CUSIP":case"Shares":case"% Of ETF":case"Ticker":default:t.minWidth=100,t.flex=1;break;case"FUND":t.minWidth=90,t.flex=1;break;case"Name":t.width=300,t.flex=2}return t})},[t]),[r,n]=(0,eV.useState)(!1);return(eV.default.useEffect(()=>{n(!0)},[]),r)?(0,eG.jsx)(oN,{container:!0,justifyContent:"center",alignItems:"center",style:{height:"600px",width:"100%"},children:(0,eG.jsx)("div",{className:"ag-theme-alpine-dark",style:{height:"100%",width:"100%",borderRadius:"12px",overflow:"hidden"},children:(0,eG.jsx)(Qo,{rowData:t,columnDefs:i,pagination:!0,paginationPageSize:20,onRowClicked:t=>{t.data&&t.data.Ticker&&e(t.data.Ticker)}})})}):null};function Qu(){let{ticker:e,errorMessage:t,setErrorMessage:i,mostActiveDaysRange:r,setMostActiveDaysRange:n}=(0,sr.useAppContext)(),[o,s]=(0,eV.useState)(["most-active-stock-panel"]),a=(0,eV.useRef)(null),l=(0,eV.useRef)(null);(0,eV.useEffect)(()=>{e&&(o.includes("stock-details-panel")||s(e=>[...e,"stock-details-panel"]),setTimeout(()=>{l.current&&l.current.scrollIntoView({behavior:"smooth",block:"start"})},300))},[e]);let u=e=>(t,i)=>{s(t=>i?[...t,e]:t.filter(t=>t!==e))},d=a_.default?.[0]?.Date||"Unknown";return(0,eG.jsxs)("div",{className:"layout-wrapper",children:[(0,eG.jsx)("div",{className:"header-wrapper",children:(0,eG.jsx)(sx,{})}),(0,eG.jsx)("div",{className:"notification-bar-wrapper",children:t&&(0,eG.jsx)(o1,{variant:"filled",severity:"error",onClose:()=>i(""),sx:{background:"var(--error)"},children:t})}),(0,eG.jsxs)("main",{className:"accordion-wrapper",children:[(0,eG.jsxs)(tN,{expanded:o.includes("most-active-stock-panel"),onChange:u("most-active-stock-panel"),disableGutters:!0,children:[(0,eG.jsx)(ih,{expandIcon:(0,eG.jsx)(si.default,{}),"aria-controls":"most-active-stock-panel-content",id:"most-active-stock-panel-header",children:(0,eG.jsxs)(oN,{container:!0,alignItems:"center",children:[(0,eG.jsx)(oN,{item:!0,xs:12,md:4,children:(0,eG.jsx)(ib,{className:"accordion-heading",children:"Market Activity"})}),(0,eG.jsx)(oN,{item:!0,xs:12,md:8,className:"second-heading-wrapper",children:(0,eG.jsxs)(st,{className:"accordion-second-heading",component:"span",children:["Top Movers in",(0,eG.jsx)(iW,{className:"days-dropdown",size:"small",children:(0,eG.jsxs)(oc,{value:r,onClick:e=>e.stopPropagation(),onChange:e=>{n(Number(e.target.value))},MenuProps:{disableScrollLock:!0,PaperProps:{sx:{background:"var(--surface)",border:"1px solid var(--surface-border)",color:"var(--text-main)","& .MuiMenuItem-root:hover":{backgroundColor:"rgba(255, 255, 255, 0.05)"}}}},children:[(0,eG.jsx)(ik,{value:1,children:"1 Day"}),(0,eG.jsx)(ik,{value:7,children:"1 Week"}),(0,eG.jsx)(ik,{value:14,children:"2 Weeks"}),(0,eG.jsx)(ik,{value:30,children:"1 Month"}),(0,eG.jsx)(ik,{value:90,children:"3 Months"}),(0,eG.jsx)(ik,{value:1e4,children:"All Time"})]})})]})})]})}),(0,eG.jsx)(tV,{children:(0,eG.jsx)("div",{className:"most-active-stocks-tabs-wrapper",children:(0,eG.jsx)(aR,{})})})]}),(0,eG.jsxs)(tN,{ref:l,expanded:o.includes("stock-details-panel"),onChange:u("stock-details-panel"),disableGutters:!0,children:[(0,eG.jsx)(ih,{expandIcon:(0,eG.jsx)(si.default,{}),"aria-controls":"stock-details-panel-content",id:"stock-details-panel-header",children:(0,eG.jsxs)(ib,{className:"accordion-heading",children:["Insight: ",e||"Select a Ticker"]})}),(0,eG.jsx)(tV,{children:(0,eG.jsx)("div",{className:"stock-details-wrapper",children:(0,eG.jsx)(HI,{})})})]}),(0,eG.jsxs)(tN,{expanded:o.includes("data-grid-panel"),onChange:u("data-grid-panel"),disableGutters:!0,children:[(0,eG.jsx)(ih,{expandIcon:(0,eG.jsx)(si.default,{}),"aria-controls":"data-grid-panel-content",id:"data-grid-panel-header",children:(0,eG.jsxs)(oN,{container:!0,alignItems:"center",children:[(0,eG.jsx)(oN,{item:!0,xs:12,md:4,children:(0,eG.jsx)(ib,{className:"accordion-heading",children:"Raw Data"})}),(0,eG.jsx)(oN,{item:!0,xs:12,md:8,className:"second-heading-wrapper",children:(0,eG.jsx)(ib,{className:"accordion-second-heading",children:"All ARK Transactions"})})]})}),(0,eG.jsx)(tV,{children:(0,eG.jsx)(st,{sx:{background:"rgba(15, 23, 42, 0.2)",borderRadius:"12px",p:{xs:0,md:2}},children:(0,eG.jsx)(Ql,{})})})]})]}),(0,eG.jsx)("footer",{className:"sticky-footer",children:(0,eG.jsxs)(oN,{container:!0,alignItems:"center",children:[(0,eG.jsx)(oN,{item:!0,xs:12,md:4,children:(0,eG.jsxs)("p",{className:"disclaimer",children:["Disclaimer: For educational purposes only.",(0,eG.jsx)("br",{}),"Not financial advice."]})}),(0,eG.jsx)(oN,{item:!0,xs:12,md:4,className:"donation-section",children:(0,eG.jsx)("div",{className:"donation",onClick:()=>{a.current&&a.current.click()},children:(0,eG.jsxs)("form",{action:"https://www.paypal.com/donate",method:"post",target:"_top",children:[(0,eG.jsx)("input",{type:"hidden",name:"cmd",value:"_donations"}),(0,eG.jsx)("input",{type:"hidden",name:"business",value:"xzhu@wpi.edu"}),(0,eG.jsx)("input",{type:"hidden",name:"currency_code",value:"USD"}),(0,eG.jsx)(o_,{size:"small",variant:"contained",className:"emoji-submit-button",type:"submit",ref:a,children:"Support Project â˜•"})]})})}),(0,eG.jsx)(oN,{item:!0,xs:12,md:4,className:"additonal-info-section",children:(0,eG.jsxs)("div",{className:"info-container",children:[(0,eG.jsx)("p",{className:"info-version",children:(0,eG.jsx)("a",{href:"https://github.com/KarlZhu-SE/ark-funds-monitor",target:"_blank",rel:"noopener noreferrer",children:"Source Code"})}),(0,eG.jsxs)("p",{className:"info-update-date",children:["Data: ",d]})]})})]})})]})}e.s(["default",()=>Qu],52683)}]);